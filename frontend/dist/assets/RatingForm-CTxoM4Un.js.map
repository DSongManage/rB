{"version":3,"file":"RatingForm-CTxoM4Un.js","sources":["../../src/components/social/StarRating.tsx","../../src/components/social/RatingForm.tsx"],"sourcesContent":["/**\n * StarRating Component\n *\n * Modern star rating display and input component with dark theme.\n */\n\nimport React, { useState } from 'react';\nimport { Star } from 'lucide-react';\n\ninterface StarRatingProps {\n  rating: number;\n  maxRating?: number;\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  readonly?: boolean;\n  onChange?: (rating: number) => void;\n  showValue?: boolean;\n  className?: string;\n}\n\nexport function StarRating({\n  rating,\n  maxRating = 5,\n  size = 'md',\n  readonly = false,\n  onChange,\n  showValue = false,\n  className = '',\n}: StarRatingProps) {\n  const [hoverRating, setHoverRating] = useState(0);\n\n  const sizeConfig = {\n    sm: { star: 14, gap: 2 },\n    md: { star: 20, gap: 4 },\n    lg: { star: 24, gap: 4 },\n    xl: { star: 32, gap: 6 },\n  };\n\n  const config = sizeConfig[size];\n  const displayRating = hoverRating || rating;\n\n  const handleClick = (value: number) => {\n    if (!readonly && onChange) {\n      onChange(value);\n    }\n  };\n\n  const handleMouseEnter = (value: number) => {\n    if (!readonly) {\n      setHoverRating(value);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (!readonly) {\n      setHoverRating(0);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: 'inline-flex',\n        alignItems: 'center',\n        gap: config.gap,\n      }}\n      className={className}\n    >\n      {Array.from({ length: maxRating }, (_, i) => i + 1).map(value => {\n        const isFilled = value <= displayRating;\n        const isPartial = value > displayRating && value - 1 < displayRating;\n\n        return (\n          <button\n            key={value}\n            type=\"button\"\n            onClick={() => handleClick(value)}\n            onMouseEnter={() => handleMouseEnter(value)}\n            onMouseLeave={handleMouseLeave}\n            disabled={readonly}\n            style={{\n              background: 'none',\n              border: 'none',\n              padding: 0,\n              cursor: readonly ? 'default' : 'pointer',\n              transition: 'transform 0.15s ease',\n              transform: !readonly && hoverRating === value ? 'scale(1.2)' : 'scale(1)',\n            }}\n            aria-label={`${value} star${value !== 1 ? 's' : ''}`}\n          >\n            <Star\n              size={config.star}\n              fill={isFilled ? '#fbbf24' : 'transparent'}\n              color={isFilled || isPartial ? '#fbbf24' : '#475569'}\n              strokeWidth={1.5}\n            />\n          </button>\n        );\n      })}\n      {showValue && rating > 0 && (\n        <span style={{\n          marginLeft: 8,\n          fontWeight: 600,\n          color: '#fbbf24',\n          fontSize: size === 'sm' ? 12 : size === 'md' ? 14 : size === 'lg' ? 16 : 20,\n        }}>\n          {rating.toFixed(1)}\n        </span>\n      )}\n    </div>\n  );\n}\n\nexport default StarRating;\n","/**\n * RatingForm Component\n *\n * Modern form for submitting content ratings with dark theme.\n */\n\nimport React, { useState } from 'react';\nimport { Send } from 'lucide-react';\nimport StarRating from './StarRating';\n\ninterface RatingFormProps {\n  onSubmit: (rating: number, reviewText?: string) => Promise<void>;\n  initialRating?: number;\n  initialReviewText?: string;\n  isSubmitting?: boolean;\n  showReviewText?: boolean;\n  submitLabel?: string;\n  className?: string;\n}\n\nexport function RatingForm({\n  onSubmit,\n  initialRating = 0,\n  initialReviewText = '',\n  isSubmitting = false,\n  showReviewText = true,\n  submitLabel = 'Submit Rating',\n  className = '',\n}: RatingFormProps) {\n  const [rating, setRating] = useState(initialRating);\n  const [reviewText, setReviewText] = useState(initialReviewText);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (rating === 0) {\n      setError('Please select a rating');\n      return;\n    }\n\n    try {\n      await onSubmit(rating, reviewText.trim() || undefined);\n      setRating(0);\n      setReviewText('');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to submit rating');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={className}>\n      <div style={{ marginBottom: 20 }}>\n        <label style={{\n          display: 'block',\n          fontSize: 13,\n          fontWeight: 500,\n          color: '#94a3b8',\n          marginBottom: 12,\n        }}>\n          Your Rating\n        </label>\n        <StarRating\n          rating={rating}\n          onChange={setRating}\n          size=\"xl\"\n          readonly={isSubmitting}\n        />\n      </div>\n\n      {showReviewText && (\n        <div style={{ marginBottom: 16 }}>\n          <label style={{\n            display: 'block',\n            fontSize: 13,\n            fontWeight: 500,\n            color: '#94a3b8',\n            marginBottom: 8,\n          }}>\n            Review (optional)\n          </label>\n          <textarea\n            value={reviewText}\n            onChange={e => setReviewText(e.target.value)}\n            placeholder=\"Share your thoughts...\"\n            rows={3}\n            maxLength={2000}\n            disabled={isSubmitting}\n            style={{\n              width: '100%',\n              padding: '12px 14px',\n              background: '#0f172a',\n              border: '1px solid #334155',\n              borderRadius: 10,\n              color: '#f1f5f9',\n              fontSize: 14,\n              resize: 'none',\n              outline: 'none',\n              transition: 'border-color 0.2s',\n            }}\n            onFocus={(e) => e.target.style.borderColor = '#8b5cf6'}\n            onBlur={(e) => e.target.style.borderColor = '#334155'}\n          />\n          <p style={{\n            fontSize: 11,\n            color: '#64748b',\n            marginTop: 6,\n            textAlign: 'right',\n          }}>\n            {reviewText.length}/2000\n          </p>\n        </div>\n      )}\n\n      {error && (\n        <p style={{\n          fontSize: 13,\n          color: '#ef4444',\n          marginBottom: 12,\n          padding: '8px 12px',\n          background: 'rgba(239, 68, 68, 0.1)',\n          borderRadius: 6,\n        }}>\n          {error}\n        </p>\n      )}\n\n      <button\n        type=\"submit\"\n        disabled={isSubmitting || rating === 0}\n        style={{\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: 8,\n          padding: '12px 20px',\n          background: rating === 0 ? '#334155' : 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\n          border: 'none',\n          borderRadius: 10,\n          color: rating === 0 ? '#64748b' : '#fff',\n          fontSize: 14,\n          fontWeight: 600,\n          cursor: isSubmitting || rating === 0 ? 'not-allowed' : 'pointer',\n          opacity: isSubmitting ? 0.7 : 1,\n          transition: 'all 0.2s ease',\n        }}\n      >\n        <Send size={16} />\n        {isSubmitting ? 'Submitting...' : submitLabel}\n      </button>\n    </form>\n  );\n}\n\nexport default RatingForm;\n"],"names":["StarRating","rating","maxRating","size","readonly","onChange","showValue","className","hoverRating","setHoverRating","useState","config","sm","star","gap","md","lg","xl","displayRating","handleMouseLeave","jsxs","style","display","alignItems","children","Array","from","length","_","i","map","value","isFilled","isPartial","jsx","type","onClick","handleClick","onMouseEnter","handleMouseEnter","onMouseLeave","disabled","background","border","padding","cursor","transition","transform","Star","fill","color","strokeWidth","marginLeft","fontWeight","fontSize","toFixed","RatingForm","onSubmit","initialRating","initialReviewText","isSubmitting","showReviewText","submitLabel","setRating","reviewText","setReviewText","error","setError","async","e","preventDefault","trim","err","Error","message","marginBottom","target","placeholder","rows","maxLength","width","borderRadius","resize","outline","onFocus","borderColor","onBlur","marginTop","textAlign","justifyContent","opacity","Send"],"mappings":"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"}