import{j as e}from"./web3auth-BGmWjNJV.js";import{a as t,r as n}from"./router-CzH47hF_.js";import{c as o,g as i,B as a,N as r,I as s}from"./index-BPbIkh4O.js";import{A as d}from"./arrow-left-BaXiqX2Q.js";import"./vendor-Cfs_Iq82.js";
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l=o("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);function c(){const o=t(),[c,f]=n.useState("unread"),[p,g]=n.useState(!1),[x,u]=n.useState(null),{notifications:h,unreadCount:b,isLoading:y,markAsRead:m,markAllAsRead:j,deleteNotification:k,refresh:v}=i();n.useEffect(()=>{v()},[v]);const z=h.filter(e=>"unread"===c?!e.read:"read"!==c||e.read),w=async e=>{e.read||await m(e.id),u(e),g(!0)};return e.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"24px 16px"},children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("button",{onClick:()=>o(-1),style:{display:"flex",alignItems:"center",gap:8,background:"transparent",border:"none",color:"#94a3b8",fontSize:14,cursor:"pointer",padding:"8px 0",marginBottom:16},children:[e.jsx(d,{size:18}),"Back"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx(a,{size:28,color:"#f59e0b"}),e.jsx("h1",{style:{fontSize:24,fontWeight:700,color:"#e5e7eb",margin:0},children:"Notifications"}),b>0&&e.jsxs("span",{style:{background:"#ef4444",color:"#fff",fontSize:12,fontWeight:700,padding:"4px 10px",borderRadius:12},children:[b," unread"]})]}),e.jsxs("button",{onClick:async()=>{await j()},disabled:0===b,style:{display:"flex",alignItems:"center",gap:8,background:b>0?"#f59e0b":"transparent",border:b>0?"none":"1px solid #374151",color:b>0?"#000":"#64748b",fontSize:13,fontWeight:600,padding:"8px 16px",borderRadius:8,cursor:b>0?"pointer":"not-allowed",transition:"all 0.2s",opacity:b>0?1:.6},onMouseEnter:e=>{b>0&&(e.currentTarget.style.background="#fbbf24")},onMouseLeave:e=>{b>0&&(e.currentTarget.style.background="#f59e0b")},children:[e.jsx(l,{size:16}),"Mark All Read"]})]})]}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:20,borderBottom:"1px solid #1f2937",paddingBottom:12},children:["unread","read","all"].map(t=>e.jsxs("button",{onClick:()=>f(t),style:{background:c===t?"#1f2937":"transparent",border:"none",color:c===t?"#f59e0b":"#94a3b8",fontSize:13,fontWeight:600,padding:"8px 16px",borderRadius:6,cursor:"pointer",textTransform:"capitalize",transition:"all 0.2s"},children:[t,"unread"===t&&b>0&&e.jsxs("span",{style:{marginLeft:6},children:["(",b,")"]})]},t))}),e.jsx("div",{style:{background:"#0f172a",borderRadius:12,border:"1px solid #1f2937",overflow:"hidden"},children:y&&0===h.length?e.jsx("div",{style:{padding:60,textAlign:"center",color:"#94a3b8"},children:"Loading notifications..."}):0===z.length?e.jsxs("div",{style:{padding:60,textAlign:"center",color:"#94a3b8"},children:[e.jsx(a,{size:40,style:{marginBottom:16,opacity:.5}}),e.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:8},children:"all"===c?"No notifications yet":"unread"===c?"No unread notifications":"No read notifications"}),e.jsx("div",{style:{fontSize:13,color:"#64748b"},children:"all"===c?"We'll notify you when there's activity on your collaborations":"Check back later for updates"})]}):e.jsx("div",{children:z.map(t=>e.jsx(r,{notification:t,onClick:()=>(async e=>{e.read||await m(e.id),e.action_url?o(e.action_url):e.project_id&&o(`/collaborations/${e.project_id}`)})(t),onDelete:e=>(async(e,t)=>{e.stopPropagation(),await k(t)})(e,t.id),onViewInvite:w},t.id))})}),h.length>0&&e.jsxs("div",{style:{marginTop:16,padding:12,textAlign:"center",fontSize:12,color:"#64748b"},children:["Showing ",z.length," of ",h.length," notifications"]}),x&&x.project_id&&e.jsx(s,{open:p,onClose:()=>{g(!1),u(null),v()},projectId:x.project_id,notificationMessage:x.message})]})}export{c as default};
//# sourceMappingURL=NotificationsPage-CPutmDqX.js.map
