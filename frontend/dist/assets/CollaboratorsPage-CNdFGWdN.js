import{j as e}from"./web3auth-BGmWjNJV.js";import{r as t,a as r}from"./router-CzH47hF_.js";import{A as a,B as o,U as i}from"./index-DBqAYr5s.js";import{A as n,I as s}from"./InviteModal-kdScV3ip.js";import{M as l,B as d}from"./map-pin-Bk9iE4Fj.js";import{E as c}from"./eye-BtS1Q1Xo.js";import{S as g}from"./star-c1a-chhp.js";import"./vendor-Cfs_Iq82.js";import"./check-DkTOqrwC.js";import"./plus-CC439Lx3.js";import"./palette-pikMRNUL.js";import"./video-BOVVYyfb.js";import"./file-text-D_YOdkqk.js";import"./pen-ukyaHPpQ.js";const p=[{value:"Available",label:"Available",description:"Ready to start new collaborations",category:"green"},{value:"Open to Offers",label:"Open to Offers",description:"Will consider interesting projects",category:"green"},{value:"Selective",label:"Selective",description:"Only taking specific types of work",category:"yellow"},{value:"Booked",label:"Booked",description:"Currently busy, booking future work",category:"yellow"},{value:"Unavailable",label:"Unavailable",description:"Not accepting collaborations",category:"red"},{value:"On Hiatus",label:"On Hiatus",description:"Taking a break",category:"red"}],f={green:{bg:"#10b981",text:"#fff",dot:"#10b981"},yellow:{bg:"#f59e0b",text:"#000",dot:"#f59e0b"},red:{bg:"#ef4444",text:"#fff",dot:"#ef4444"}};function u({initialStatus:r,onSaved:o}){const[i,n]=t.useState(r||"Available"),[s,l]=t.useState(""),d=p.find(e=>e.value===i)||p[0];return e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const t=await fetch(`${a}/api/auth/csrf/`,{credentials:"include"}).then(e=>e.json()).then(e=>(null==e?void 0:e.csrfToken)||"");(await fetch(`${a}/api/profile/status/`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRFToken":t,"X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify({status:i})})).ok?(l("Saved"),o&&o()):l("Failed")},style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:f[d.category].dot}}),e.jsx("select",{value:i,onChange:e=>n(e.target.value),style:{padding:"8px 12px",background:"#1e293b",border:"1px solid #334155",borderRadius:8,color:"#f1f5f9",fontSize:14,cursor:"pointer",minWidth:160},children:p.map(t=>e.jsxs("option",{value:t.value,children:[t.label," - ",t.description]},t.value))})]}),e.jsx("button",{type:"submit",style:{padding:"8px 16px",background:"#f59e0b",border:"none",borderRadius:8,color:"#111",fontWeight:600,cursor:"pointer",fontSize:14},children:"Save"}),s&&e.jsx("span",{style:{fontSize:12,color:"Saved"===s?"#10b981":"#ef4444"},children:s})]})}function x(){const p=r(),[f,x]=t.useState(""),[b,h]=t.useState(""),[y,m]=t.useState(""),[v,j]=t.useState(""),[S,k]=t.useState([]),[z,w]=t.useState(!1),[T,W]=t.useState(!1),[C,B]=t.useState(null),R=t.useMemo(()=>{const e=new URLSearchParams;return f&&e.set("q",f),b&&e.set("role",b),y&&e.set("genre",y),v&&e.set("location",v),e.toString()},[f,b,y,v]),A=t.useRef(null);t.useEffect(()=>(A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{w(!0);fetch(`${a}/api/users/search/?${R}`,{credentials:"include"}).then(e=>e.ok?e.json():[]).then(e=>{k(Array.isArray(e)?e:[])}).finally(()=>w(!1))},300),()=>{A.current&&clearTimeout(A.current)}),[R]);const I=e=>{const t=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #30cfd0 0%, #330867 100%)","linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)","linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"];return t[e.charCodeAt(0)%t.length]};return e.jsxs("div",{className:"page",style:{maxWidth:1200,margin:"0 auto",padding:"0 20px"},children:[e.jsxs("div",{style:{background:"#0f172a",border:"1px solid #1f2937",borderRadius:12,padding:20,marginBottom:24,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontWeight:700,marginBottom:12,fontSize:16,color:"#f1f5f9"},children:"My availability status"}),e.jsx(u,{onSaved:()=>{}})]}),e.jsxs("div",{style:{background:"#0f172a",border:"1px solid #1f2937",borderRadius:12,padding:20,marginBottom:24,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[e.jsx("h2",{style:{margin:0,marginBottom:16,color:"#f1f5f9",fontSize:24,fontWeight:700},children:"Find Collaborators"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[e.jsx("input",{value:f,onChange:e=>x(e.target.value),placeholder:"Search by name or @handle",style:{padding:"10px 14px"}}),e.jsx("input",{value:b,onChange:e=>h(e.target.value),placeholder:"Role (e.g., author, artist)",style:{padding:"10px 14px"}}),e.jsx("input",{value:y,onChange:e=>m(e.target.value),placeholder:"Genre (e.g., fantasy)",style:{padding:"10px 14px"}}),e.jsx("input",{value:v,onChange:e=>j(e.target.value),placeholder:"Location (city, state)",style:{padding:"10px 14px"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:24,marginBottom:32},children:[z&&e.jsx("div",{style:{color:"#94a3b8",fontSize:14},children:"Searchingâ€¦"}),!z&&0===S.length&&e.jsx("div",{style:{color:"#94a3b8",fontSize:14},children:"No collaborators found. Try broadening your filters."}),!z&&S.map(t=>{const r={green:{bg:"#10b981",text:"#fff"},yellow:{bg:"#f59e0b",text:"#000"},red:{bg:"#ef4444",text:"#fff"}},a=r[t.status_category]||r.green;return e.jsxs("div",{onClick:()=>p(`/profile/${t.username}`),style:{background:"#1e293b",borderRadius:16,overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06)",transition:"all 0.3s ease",cursor:"pointer",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 12px 24px rgba(0,0,0,0.2), 0 8px 12px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06)"},children:[e.jsx("div",{style:{height:140,background:t.banner_url?`url(${t.banner_url}) center/cover`:I(t.username),position:"relative"},children:t.status&&e.jsx("div",{style:{position:"absolute",top:12,right:12,background:a.bg,color:a.text,fontSize:11,fontWeight:600,padding:"5px 12px",borderRadius:12,letterSpacing:.3,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:t.status})}),e.jsxs("div",{style:{padding:"0 20px 20px",position:"relative"},children:[e.jsx("div",{style:{width:96,height:96,borderRadius:"50%",background:t.avatar_url?`url(${t.avatar_url}) center/cover`:"#374151",border:"4px solid #1e293b",marginTop:-48,marginBottom:12,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,fontWeight:700,color:"#f59e0b",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:!t.avatar_url&&(t.username||"?").slice(0,1).toUpperCase()}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{color:"#f1f5f9",fontWeight:700,fontSize:18,marginBottom:2},children:["@",t.username]}),t.display_name&&e.jsx("div",{style:{fontSize:14,color:"#cbd5e1",fontWeight:500},children:t.display_name})]}),t.location&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,color:"#94a3b8",marginBottom:16},children:[e.jsx(l,{size:14}),e.jsx("span",{children:t.location})]}),(t.roles.length>0||t.genres.length>0)&&e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:16},children:[t.roles.slice(0,3).map((t,r)=>e.jsxs("span",{style:{background:"rgba(245,158,11,0.15)",color:"#fbbf24",fontSize:11,fontWeight:600,padding:"4px 10px",borderRadius:6,border:"1px solid rgba(245,158,11,0.3)",display:"flex",alignItems:"center",gap:4},children:[e.jsx(d,{size:10}),t]},`role-${r}`)),t.genres.slice(0,2).map((t,r)=>e.jsx("span",{style:{background:"rgba(59,130,246,0.15)",color:"#60a5fa",fontSize:11,fontWeight:600,padding:"4px 10px",borderRadius:6,border:"1px solid rgba(59,130,246,0.3)"},children:t},`genre-${r}`))]}),t.bio&&e.jsxs("div",{style:{position:"relative",marginBottom:16,maxHeight:60,overflow:"hidden"},children:[e.jsx("p",{style:{fontSize:13,color:"#94a3b8",margin:0,lineHeight:1.5},children:t.bio}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:30,background:"linear-gradient(transparent, #1e293b)",pointerEvents:"none"}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,padding:"16px 0",borderTop:"1px solid #334155",borderBottom:"1px solid #334155",marginBottom:16},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(o,{size:14,style:{color:"#60a5fa"}}),t.content_count||0]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Works"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(i,{size:14,style:{color:"#a78bfa"}}),t.follower_count||0]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Followers"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(c,{size:14,style:{color:"#34d399"}}),t.total_views||0]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Views"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(g,{size:14,style:{color:"#fbbf24"}}),null!=t.average_rating?t.average_rating.toFixed(1):"-"]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Rating"})]})]}),t.tier&&"Basic"!==t.tier&&e.jsxs("div",{style:{fontSize:12,color:"#c084fc",fontWeight:600,textAlign:"center",padding:"6px 12px",background:"rgba(168,85,247,0.1)",borderRadius:8,border:"1px solid rgba(168,85,247,0.3)",marginBottom:16,display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[e.jsx(n,{size:14}),t.tier," Tier"]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),B(t),W(!0)},style:{width:"100%",background:"transparent",color:"#f59e0b",border:"2px solid #f59e0b",padding:"10px 16px",borderRadius:8,fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="#f59e0b",e.currentTarget.style.color="#111"},onMouseOut:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#f59e0b"},children:"Invite to Collaborate"})]})]},t.id)})]}),C&&e.jsx(s,{open:T,onClose:()=>{W(!1),B(null)},recipient:C})]})}export{x as default};
//# sourceMappingURL=CollaboratorsPage-CNdFGWdN.js.map
