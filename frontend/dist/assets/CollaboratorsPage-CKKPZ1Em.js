import{j as e}from"./web3auth-BCRZXB2Y.js";import{a as t,r}from"./router-zDWjfnwa.js";import{u as n,A as i,B as o,U as a,i as s,j as l}from"./index-B7bg4oPH.js";import{A as d,I as c}from"./InviteModal-DZMQfAEp.js";import{M as p}from"./map-pin-wwcQas9o.js";import{B as g}from"./briefcase-BfPxhhWn.js";import{E as f}from"./eye-hyu_5CfR.js";import{S as x}from"./star-C7wsQld9.js";import"./vendor-Cfs_Iq82.js";import"./check-3i0kf1ps.js";import"./plus-DXUwqrGe.js";import"./palette-BH4-ddpc.js";import"./volume-2-CcBAWfTg.js";import"./type-jfUL4spe.js";import"./video-CQzz2ujQ.js";import"./file-text-0uj4MKWr.js";import"./pen-Dcm1sqIi.js";function u(){const u=t(),{isMobile:h,isPhone:b}=n(),[m,y]=r.useState(""),[j,v]=r.useState(""),[S,z]=r.useState(""),[C,k]=r.useState(""),[w,W]=r.useState(""),[T,B]=r.useState([]),[_,I]=r.useState(!1),[R,A]=r.useState(!1),[M,$]=r.useState(null),[E,L]=r.useState(1),[P,U]=r.useState(1),[N,F]=r.useState(0),[O,G]=r.useState(!1),[H,Y]=r.useState(!1),q=r.useMemo(()=>{const e=new URLSearchParams;return m&&e.set("q",m),j&&e.set("role",j),S&&e.set("genre",S),C&&e.set("location",C),w&&e.set("status",w),e.toString()},[m,j,S,C,w]);r.useEffect(()=>{L(1)},[q]);const K=r.useRef(null);r.useEffect(()=>(K.current&&clearTimeout(K.current),K.current=setTimeout(()=>{I(!0);const e=new URLSearchParams(q);e.set("page",String(E)),e.set("page_size","24");const t=`${i}/api/users/search/?${e.toString()}`;fetch(t,{credentials:"include"}).then(e=>e.ok?e.json():{results:[]}).then(e=>{B(Array.isArray(e.results)?e.results:[]),U(e.total_pages||1),F(e.total_count||0),G(e.has_next||!1),Y(e.has_prev||!1)}).finally(()=>I(!1))},300),()=>{K.current&&clearTimeout(K.current)}),[q,E]);const V=e=>{const t=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #30cfd0 0%, #330867 100%)","linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)","linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"];return t[e.charCodeAt(0)%t.length]};return e.jsxs("div",{style:{width:"100%",padding:h?"0 8px":0},children:[e.jsxs("div",{style:{background:"#0f172a",border:"1px solid #1f2937",borderRadius:h?8:12,padding:h?12:20,marginBottom:h?16:24,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[e.jsx("h2",{style:{margin:0,marginBottom:h?12:16,color:"#f1f5f9",fontSize:h?20:24,fontWeight:700},children:"Find Collaborators"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:b?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[e.jsx("input",{value:m,onChange:e=>y(e.target.value),placeholder:"Search by name or @handle",style:{padding:"10px 14px"}}),e.jsx("input",{value:j,onChange:e=>v(e.target.value),placeholder:"Role (e.g., author, artist)",style:{padding:"10px 14px"}}),e.jsx("input",{value:S,onChange:e=>z(e.target.value),placeholder:"Genre (e.g., fantasy)",style:{padding:"10px 14px"}}),e.jsx("input",{value:C,onChange:e=>k(e.target.value),placeholder:"Location (city, state)",style:{padding:"10px 14px"}}),e.jsxs("select",{value:w,onChange:e=>W(e.target.value),style:{padding:"10px 14px",cursor:"pointer"},children:[e.jsx("option",{value:"",children:"All Availability"}),e.jsx("option",{value:"green",children:"Available - Open to collaborate"}),e.jsx("option",{value:"yellow",children:"Selective - May consider offers"}),e.jsx("option",{value:"red",children:"Unavailable - Not taking projects"})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:b?"1fr":"repeat(auto-fill, minmax(320px, 1fr))",gap:h?16:24,marginBottom:h?20:32},children:[_&&e.jsx("div",{style:{color:"#94a3b8",fontSize:14},children:"Searchingâ€¦"}),!_&&0===T.length&&e.jsx("div",{style:{color:"#94a3b8",fontSize:14},children:"No collaborators found. Try broadening your filters."}),!_&&T.map(t=>{const r={green:{bg:"#10b981",text:"#fff"},yellow:{bg:"#f59e0b",text:"#000"},red:{bg:"#ef4444",text:"#fff"}},n=r[t.status_category]||r.green;return e.jsxs("div",{onClick:()=>u(`/profile/${t.username}`),style:{background:"#1e293b",borderRadius:16,overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06)",transition:"all 0.3s ease",cursor:"pointer",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 12px 24px rgba(0,0,0,0.2), 0 8px 12px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06)"},children:[e.jsx("div",{style:{height:140,background:t.banner_url?`url(${t.banner_url}) center/cover`:V(t.username),position:"relative"},children:t.status&&e.jsx("div",{style:{position:"absolute",top:12,right:12,background:n.bg,color:n.text,fontSize:11,fontWeight:600,padding:"5px 12px",borderRadius:12,letterSpacing:.3,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:t.status})}),e.jsxs("div",{style:{padding:"0 20px 20px",position:"relative"},children:[e.jsx("div",{style:{width:96,height:96,borderRadius:"50%",background:t.avatar_url?`url(${t.avatar_url}) center/cover`:"#374151",border:"4px solid #1e293b",marginTop:-48,marginBottom:12,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,fontWeight:700,color:"#f59e0b",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:!t.avatar_url&&(t.username||"?").slice(0,1).toUpperCase()}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{color:"#f1f5f9",fontWeight:700,fontSize:18,marginBottom:2},children:["@",t.username]}),t.display_name&&e.jsx("div",{style:{fontSize:14,color:"#cbd5e1",fontWeight:500},children:t.display_name})]}),t.location&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,color:"#94a3b8",marginBottom:16},children:[e.jsx(p,{size:14}),e.jsx("span",{children:t.location})]}),(t.roles.length>0||t.genres.length>0)&&e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:16},children:[t.roles.slice(0,3).map((t,r)=>e.jsxs("span",{style:{background:"rgba(245,158,11,0.15)",color:"#fbbf24",fontSize:11,fontWeight:600,padding:"4px 10px",borderRadius:6,border:"1px solid rgba(245,158,11,0.3)",display:"flex",alignItems:"center",gap:4},children:[e.jsx(g,{size:10}),t]},`role-${r}`)),t.genres.slice(0,2).map((t,r)=>e.jsx("span",{style:{background:"rgba(59,130,246,0.15)",color:"#60a5fa",fontSize:11,fontWeight:600,padding:"4px 10px",borderRadius:6,border:"1px solid rgba(59,130,246,0.3)"},children:t},`genre-${r}`))]}),t.bio&&e.jsxs("div",{style:{position:"relative",marginBottom:16,maxHeight:60,overflow:"hidden"},children:[e.jsx("p",{style:{fontSize:13,color:"#94a3b8",margin:0,lineHeight:1.5},children:t.bio}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:30,background:"linear-gradient(transparent, #1e293b)",pointerEvents:"none"}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,padding:"16px 0",borderTop:"1px solid #334155",borderBottom:"1px solid #334155",marginBottom:16},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(o,{size:14,style:{color:"#60a5fa"}}),t.content_count||0]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Works"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(a,{size:14,style:{color:"#a78bfa"}}),t.follower_count||0]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Followers"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(f,{size:14,style:{color:"#34d399"}}),t.total_views||0]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Views"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700,color:"#f1f5f9",marginBottom:2,display:"flex",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx(x,{size:14,style:{color:"#fbbf24"}}),null!=t.average_rating?t.average_rating.toFixed(1):"-"]}),e.jsx("div",{style:{fontSize:9,color:"#64748b",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:"Rating"})]})]}),t.tier&&"Basic"!==t.tier&&e.jsxs("div",{style:{fontSize:12,color:"#c084fc",fontWeight:600,textAlign:"center",padding:"6px 12px",background:"rgba(168,85,247,0.1)",borderRadius:8,border:"1px solid rgba(168,85,247,0.3)",marginBottom:16,display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[e.jsx(d,{size:14}),t.tier," Tier"]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),$(t),A(!0)},style:{width:"100%",background:"transparent",color:"#f59e0b",border:"2px solid #f59e0b",padding:"10px 16px",borderRadius:8,fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="#f59e0b",e.currentTarget.style.color="#111"},onMouseOut:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#f59e0b"},children:"Invite to Collaborate"})]})]},t.id)})]}),P>1&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:16,padding:"24px 0",marginBottom:24},children:[e.jsxs("button",{onClick:()=>L(e=>Math.max(1,e-1)),disabled:!H,style:{display:"flex",alignItems:"center",gap:6,background:H?"#1e293b":"#0f172a",color:H?"#f1f5f9":"#475569",border:"1px solid #334155",padding:"10px 20px",borderRadius:8,fontWeight:600,fontSize:14,cursor:H?"pointer":"not-allowed",transition:"all 0.2s ease"},children:[e.jsx(s,{size:18}),"Previous"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,color:"#94a3b8",fontSize:14},children:[e.jsx("span",{children:"Page"}),e.jsx("span",{style:{background:"#f59e0b",color:"#000",fontWeight:700,padding:"4px 12px",borderRadius:6,minWidth:32,textAlign:"center"},children:E}),e.jsxs("span",{children:["of ",P]}),e.jsxs("span",{style:{marginLeft:8,color:"#64748b"},children:["(",N," collaborators)"]})]}),e.jsxs("button",{onClick:()=>L(e=>Math.min(P,e+1)),disabled:!O,style:{display:"flex",alignItems:"center",gap:6,background:O?"#1e293b":"#0f172a",color:O?"#f1f5f9":"#475569",border:"1px solid #334155",padding:"10px 20px",borderRadius:8,fontWeight:600,fontSize:14,cursor:O?"pointer":"not-allowed",transition:"all 0.2s ease"},children:["Next",e.jsx(l,{size:18})]})]}),M&&e.jsx(c,{open:R,onClose:()=>{A(!1),$(null)},recipient:M})]})}export{u as default};
