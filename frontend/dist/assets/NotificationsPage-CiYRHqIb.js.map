{"version":3,"file":"NotificationsPage-CiYRHqIb.js","sources":["../../node_modules/lucide-react/dist/esm/icons/check-check.js","../../src/pages/NotificationsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 7 17l-5-5\", key: \"116fxf\" }],\n  [\"path\", { d: \"m22 10-7.5 7.5L13 16\", key: \"ke71qq\" }]\n];\nconst CheckCheck = createLucideIcon(\"check-check\", __iconNode);\n\nexport { __iconNode, CheckCheck as default };\n//# sourceMappingURL=check-check.js.map\n","/**\n * NotificationsPage\n * Full page view for all notifications\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Bell, CheckCheck, Trash2, ArrowLeft } from 'lucide-react';\nimport { useNotifications } from '../hooks/useNotifications';\nimport { Notification } from '../services/notificationService';\nimport NotificationItem from '../components/notifications/NotificationItem';\nimport { InviteResponseModal } from '../components/collaboration/InviteResponseModal';\n\ntype FilterType = 'all' | 'unread' | 'read';\n\nexport default function NotificationsPage() {\n  const navigate = useNavigate();\n  const [filter, setFilter] = useState<FilterType>('unread');\n  const [inviteModalOpen, setInviteModalOpen] = useState(false);\n  const [selectedInvite, setSelectedInvite] = useState<Notification | null>(null);\n\n  const {\n    notifications,\n    unreadCount,\n    isLoading,\n    markAsRead,\n    markAllAsRead,\n    deleteNotification,\n    refresh,\n  } = useNotifications();\n\n  // Refresh on mount\n  useEffect(() => {\n    refresh();\n  }, [refresh]);\n\n  // Filter notifications\n  const filteredNotifications = notifications.filter((notification) => {\n    if (filter === 'unread') return !notification.read;\n    if (filter === 'read') return notification.read;\n    return true;\n  });\n\n  // Handle notification click\n  const handleNotificationClick = async (notification: Notification) => {\n    if (!notification.read) {\n      await markAsRead(notification.id);\n    }\n\n    if (notification.action_url) {\n      navigate(notification.action_url);\n    } else if (notification.project_id) {\n      navigate(`/collaborations/${notification.project_id}`);\n    }\n  };\n\n  // Handle view invite\n  const handleViewInvite = async (notification: Notification) => {\n    if (!notification.read) {\n      await markAsRead(notification.id);\n    }\n    setSelectedInvite(notification);\n    setInviteModalOpen(true);\n  };\n\n  // Close invite modal\n  const handleCloseInviteModal = () => {\n    setInviteModalOpen(false);\n    setSelectedInvite(null);\n    refresh();\n  };\n\n  // Handle delete\n  const handleDelete = async (e: React.MouseEvent, notificationId: number) => {\n    e.stopPropagation();\n    await deleteNotification(notificationId);\n  };\n\n  // Handle mark all as read\n  const handleMarkAllRead = async () => {\n    await markAllAsRead();\n  };\n\n  return (\n    <div style={{ maxWidth: 800, margin: '0 auto', padding: '24px 16px' }}>\n      {/* Header */}\n      <div style={{ marginBottom: 24 }}>\n        <button\n          onClick={() => navigate(-1)}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n            background: 'transparent',\n            border: 'none',\n            color: '#94a3b8',\n            fontSize: 14,\n            cursor: 'pointer',\n            padding: '8px 0',\n            marginBottom: 16,\n          }}\n        >\n          <ArrowLeft size={18} />\n          Back\n        </button>\n\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\n            <Bell size={28} color=\"#f59e0b\" />\n            <h1 style={{ fontSize: 24, fontWeight: 700, color: '#e5e7eb', margin: 0 }}>\n              Notifications\n            </h1>\n            {unreadCount > 0 && (\n              <span\n                style={{\n                  background: '#ef4444',\n                  color: '#fff',\n                  fontSize: 12,\n                  fontWeight: 700,\n                  padding: '4px 10px',\n                  borderRadius: 12,\n                }}\n              >\n                {unreadCount} unread\n              </span>\n            )}\n          </div>\n\n          <button\n            onClick={handleMarkAllRead}\n            disabled={unreadCount === 0}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8,\n              background: unreadCount > 0 ? '#f59e0b' : 'transparent',\n              border: unreadCount > 0 ? 'none' : '1px solid #374151',\n              color: unreadCount > 0 ? '#000' : '#64748b',\n              fontSize: 13,\n              fontWeight: 600,\n              padding: '8px 16px',\n              borderRadius: 8,\n              cursor: unreadCount > 0 ? 'pointer' : 'not-allowed',\n              transition: 'all 0.2s',\n              opacity: unreadCount > 0 ? 1 : 0.6,\n            }}\n            onMouseEnter={(e) => {\n              if (unreadCount > 0) {\n                e.currentTarget.style.background = '#fbbf24';\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (unreadCount > 0) {\n                e.currentTarget.style.background = '#f59e0b';\n              }\n            }}\n          >\n            <CheckCheck size={16} />\n            Mark All Read\n          </button>\n        </div>\n      </div>\n\n      {/* Filter Tabs */}\n      <div\n        style={{\n          display: 'flex',\n          gap: 8,\n          marginBottom: 20,\n          borderBottom: '1px solid #1f2937',\n          paddingBottom: 12,\n        }}\n      >\n        {(['unread', 'read', 'all'] as FilterType[]).map((filterType) => (\n          <button\n            key={filterType}\n            onClick={() => setFilter(filterType)}\n            style={{\n              background: filter === filterType ? '#1f2937' : 'transparent',\n              border: 'none',\n              color: filter === filterType ? '#f59e0b' : '#94a3b8',\n              fontSize: 13,\n              fontWeight: 600,\n              padding: '8px 16px',\n              borderRadius: 6,\n              cursor: 'pointer',\n              textTransform: 'capitalize',\n              transition: 'all 0.2s',\n            }}\n          >\n            {filterType}\n            {filterType === 'unread' && unreadCount > 0 && (\n              <span style={{ marginLeft: 6 }}>({unreadCount})</span>\n            )}\n          </button>\n        ))}\n      </div>\n\n      {/* Notifications List */}\n      <div\n        style={{\n          background: '#0f172a',\n          borderRadius: 12,\n          border: '1px solid #1f2937',\n          overflow: 'hidden',\n        }}\n      >\n        {isLoading && notifications.length === 0 ? (\n          <div\n            style={{\n              padding: 60,\n              textAlign: 'center',\n              color: '#94a3b8',\n            }}\n          >\n            Loading notifications...\n          </div>\n        ) : filteredNotifications.length === 0 ? (\n          <div\n            style={{\n              padding: 60,\n              textAlign: 'center',\n              color: '#94a3b8',\n            }}\n          >\n            <Bell size={40} style={{ marginBottom: 16, opacity: 0.5 }} />\n            <div style={{ fontSize: 16, fontWeight: 600, marginBottom: 8 }}>\n              {filter === 'all'\n                ? 'No notifications yet'\n                : filter === 'unread'\n                ? 'No unread notifications'\n                : 'No read notifications'}\n            </div>\n            <div style={{ fontSize: 13, color: '#64748b' }}>\n              {filter === 'all'\n                ? \"We'll notify you when there's activity on your collaborations\"\n                : 'Check back later for updates'}\n            </div>\n          </div>\n        ) : (\n          <div>\n            {filteredNotifications.map((notification) => (\n              <NotificationItem\n                key={notification.id}\n                notification={notification}\n                onClick={() => handleNotificationClick(notification)}\n                onDelete={(e) => handleDelete(e, notification.id)}\n                onViewInvite={handleViewInvite}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Stats */}\n      {notifications.length > 0 && (\n        <div\n          style={{\n            marginTop: 16,\n            padding: 12,\n            textAlign: 'center',\n            fontSize: 12,\n            color: '#64748b',\n          }}\n        >\n          Showing {filteredNotifications.length} of {notifications.length} notifications\n        </div>\n      )}\n\n      {/* Invite Response Modal */}\n      {selectedInvite && selectedInvite.project_id && (\n        <InviteResponseModal\n          open={inviteModalOpen}\n          onClose={handleCloseInviteModal}\n          projectId={selectedInvite.project_id}\n          notificationMessage={selectedInvite.message}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":["CheckCheck","createLucideIcon","d","key","NotificationsPage","navigate","useNavigate","filter","setFilter","useState","inviteModalOpen","setInviteModalOpen","selectedInvite","setSelectedInvite","notifications","unreadCount","isLoading","markAsRead","markAllAsRead","deleteNotification","refresh","useNotifications","useEffect","filteredNotifications","notification","read","handleViewInvite","async","id","jsxs","style","maxWidth","margin","padding","children","marginBottom","onClick","display","alignItems","gap","background","border","color","fontSize","cursor","jsx","ArrowLeft","size","justifyContent","Bell","fontWeight","borderRadius","disabled","transition","opacity","onMouseEnter","e","currentTarget","onMouseLeave","borderBottom","paddingBottom","map","filterType","textTransform","marginLeft","overflow","length","textAlign","NotificationItem","action_url","project_id","handleNotificationClick","onDelete","notificationId","stopPropagation","handleDelete","onViewInvite","marginTop","InviteResponseModal","open","onClose","projectId","notificationMessage","message"],"mappings":"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","x_google_ignoreList":[0]}