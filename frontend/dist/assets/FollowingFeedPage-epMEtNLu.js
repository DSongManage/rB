import{j as e}from"./web3auth-BkZxjmxM.js";import{a as t,r as o,L as r}from"./router-cVcvJ1e3.js";import{o as a}from"./socialApi-BnIHOsdv.js";import{U as s,H as n,i,k as l,F as d,l as c}from"./index-Clb-55uW.js";import{E as f}from"./eye-Btrj3ogq.js";import{B as g}from"./book-j97AfPW8.js";import"./vendor-Cfs_Iq82.js";const x={book:e.jsx(g,{size:32,color:"#94a3b8"}),music:e.jsx(c,{size:32,color:"#94a3b8"}),video:e.jsx(d,{size:32,color:"#94a3b8"}),art:e.jsx(l,{size:32,color:"#94a3b8"})};function h(e){const t=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)"];return t[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%t.length]}function p(e){const t=new Date(e),o=new Date,r=Math.floor((o.getTime()-t.getTime())/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:r<604800?`${Math.floor(r/86400)}d ago`:t.toLocaleDateString()}function m(){const l=t(),[d,c]=o.useState([]),[g,m]=o.useState(!0),[u,y]=o.useState(null),[j,b]=o.useState(!1),[v,w]=o.useState(1),[S,k]=o.useState(!1);o.useEffect(()=>{(async()=>{try{m(!0);const e=await a(1);c(e.results),b(null!==e.next),w(1)}catch(e){y(e instanceof Error?e.message:"Failed to load feed")}finally{m(!1)}})()},[]);return g?e.jsx("div",{style:{minHeight:"100vh",background:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8"},children:"Loading feed..."}):u?e.jsx("div",{style:{minHeight:"100vh",background:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center",color:"#ef4444"},children:u}):e.jsx("div",{style:{minHeight:"100vh",background:"#0f172a",padding:"24px 16px"},children:e.jsxs("div",{style:{maxWidth:800,margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:32},children:[e.jsx("h1",{style:{color:"#f8fafc",fontSize:28,fontWeight:700,marginBottom:8},children:"Following Feed"}),e.jsx("p",{style:{color:"#94a3b8",fontSize:15},children:"Latest drops from creators you follow"})]}),0===d.length&&e.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",background:"#1e293b",borderRadius:16},children:[e.jsx(s,{size:48,color:"#64748b",style:{marginBottom:16}}),e.jsx("h2",{style:{color:"#f8fafc",fontSize:20,fontWeight:600,marginBottom:8},children:"No content yet"}),e.jsx("p",{style:{color:"#94a3b8",marginBottom:24},children:"Follow some creators to see their latest drops here"}),e.jsx("button",{onClick:()=>l("/search"),style:{background:"#f59e0b",color:"#111",border:"none",padding:"12px 24px",borderRadius:8,fontWeight:600,cursor:"pointer"},children:"Discover Creators"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:d.map(t=>e.jsxs(r,{to:`/content/${t.id}`,style:{display:"flex",background:"#1e293b",borderRadius:12,overflow:"hidden",textDecoration:"none",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[e.jsx("div",{style:{width:160,minHeight:120,background:t.cover_image?`url(${t.cover_image}) center/cover`:h(t.title),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:!t.cover_image&&x[t.content_type]}),e.jsxs("div",{style:{flex:1,padding:16,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[t.creator.avatar?e.jsx("img",{src:t.creator.avatar,alt:t.creator.display_name,style:{width:24,height:24,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:24,height:24,borderRadius:"50%",background:"#334155"}}),e.jsx("span",{style:{color:"#94a3b8",fontSize:13},children:t.creator.display_name}),e.jsxs("span",{style:{color:"#64748b",fontSize:12},children:["@",t.creator.username]})]}),e.jsx("h3",{style:{color:"#f8fafc",fontSize:16,fontWeight:600,marginBottom:8,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,fontSize:13,color:"#64748b"},children:[e.jsx("span",{style:{background:"rgba(59,130,246,0.15)",color:"#60a5fa",padding:"2px 8px",borderRadius:4,fontSize:11},children:t.content_type}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(f,{size:14})," ",t.view_count]}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(n,{size:14})," ",t.like_count]}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(i,{size:14})," ",p(t.created_at)]})]}),e.jsxs("div",{style:{marginTop:12,color:"#10b981",fontSize:15,fontWeight:600},children:["$",parseFloat(t.price_usd).toFixed(2)]})]})]},t.id))}),j&&e.jsx("div",{style:{textAlign:"center",marginTop:32},children:e.jsx("button",{onClick:async()=>{if(!S&&j)try{k(!0);const e=v+1,t=await a(e);c(e=>[...e,...t.results]),b(null!==t.next),w(e)}catch(e){}finally{k(!1)}},disabled:S,style:{background:"#334155",color:"#f8fafc",border:"none",padding:"12px 32px",borderRadius:8,fontWeight:600,cursor:S?"not-allowed":"pointer",opacity:S?.7:1},children:S?"Loading...":"Load More"})})]})})}export{m as default};
