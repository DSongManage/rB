{"version":3,"file":"CollaborationDashboard-BnFZd_RF.js","sources":["../../src/components/collaboration/PendingInviteCard.tsx","../../src/pages/CollaborationDashboard.tsx"],"sourcesContent":["/**\n * PendingInviteCard Component\n *\n * Displays a summary card for pending collaboration invites\n * with quick Accept/Decline actions.\n */\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  collaborationApi,\n  CollaborativeProject,\n  CollaboratorRole,\n} from '../../services/collaborationApi';\n\ninterface PendingInviteCardProps {\n  project: CollaborativeProject;\n  myInvite: CollaboratorRole;\n  onAction: () => void; // Called after accept/decline to refresh\n  onViewDetails: (projectId: number) => void; // Open full modal\n}\n\nexport function PendingInviteCard({\n  project,\n  myInvite,\n  onAction,\n  onViewDetails,\n}: PendingInviteCardProps) {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState<'accept' | 'decline' | null>(null);\n  const [error, setError] = useState('');\n\n  // Get project creator info\n  const creator = project.collaborators.find(\n    (c) => c.user === project.created_by\n  );\n\n  const contentTypeIcons: Record<string, string> = {\n    book: 'üìñ',\n    music: 'üéµ',\n    video: 'üé¨',\n    art: 'üé®',\n  };\n\n  const handleAccept = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setLoading('accept');\n    setError('');\n    try {\n      await collaborationApi.acceptInvitation(project.id);\n      onAction();\n      navigate(`/collaborations/${project.id}`);\n    } catch (err: any) {\n      setError(err.message || 'Failed to accept');\n      setLoading(null);\n    }\n  };\n\n  const handleDecline = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setLoading('decline');\n    setError('');\n    try {\n      await collaborationApi.declineInvitation(project.id);\n      onAction();\n    } catch (err: any) {\n      setError(err.message || 'Failed to decline');\n      setLoading(null);\n    }\n  };\n\n  return (\n    <div\n      onClick={() => onViewDetails(project.id)}\n      style={{\n        background: 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)',\n        border: '1px solid #f59e0b40',\n        borderRadius: 12,\n        padding: 16,\n        cursor: 'pointer',\n        transition: 'all 0.2s',\n        position: 'relative',\n        overflow: 'hidden',\n      }}\n      onMouseEnter={(e) => {\n        e.currentTarget.style.borderColor = '#f59e0b80';\n        e.currentTarget.style.transform = 'translateY(-2px)';\n      }}\n      onMouseLeave={(e) => {\n        e.currentTarget.style.borderColor = '#f59e0b40';\n        e.currentTarget.style.transform = 'translateY(0)';\n      }}\n    >\n      {/* Pending Badge */}\n      <div\n        style={{\n          position: 'absolute',\n          top: 12,\n          right: 12,\n          background: '#f59e0b',\n          color: '#000',\n          padding: '4px 10px',\n          borderRadius: 20,\n          fontSize: 11,\n          fontWeight: 700,\n          textTransform: 'uppercase',\n        }}\n      >\n        Pending\n      </div>\n\n      {/* Project Info */}\n      <div style={{ display: 'flex', alignItems: 'flex-start', gap: 12, marginBottom: 12 }}>\n        <div\n          style={{\n            fontSize: 28,\n            width: 48,\n            height: 48,\n            background: '#f59e0b20',\n            borderRadius: 10,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          {contentTypeIcons[project.content_type] || 'üìÑ'}\n        </div>\n        <div style={{ flex: 1, minWidth: 0 }}>\n          <h3\n            style={{\n              margin: 0,\n              color: '#f8fafc',\n              fontSize: 16,\n              fontWeight: 600,\n              whiteSpace: 'nowrap',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              maxWidth: 200,\n            }}\n          >\n            {project.title}\n          </h3>\n          <div style={{ color: '#94a3b8', fontSize: 13, marginTop: 2 }}>\n            from <span style={{ color: '#f59e0b' }}>@{creator?.username}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Role & Split */}\n      <div\n        style={{\n          display: 'flex',\n          gap: 16,\n          marginBottom: 12,\n          padding: '10px 12px',\n          background: '#0f172a',\n          borderRadius: 8,\n        }}\n      >\n        <div style={{ flex: 1 }}>\n          <div style={{ color: '#64748b', fontSize: 11, textTransform: 'uppercase', marginBottom: 2 }}>\n            Your Role\n          </div>\n          <div style={{ color: '#e2e8f0', fontSize: 14, fontWeight: 500 }}>\n            {myInvite.role}\n          </div>\n        </div>\n        <div\n          style={{\n            width: 1,\n            background: '#334155',\n          }}\n        />\n        <div style={{ flex: 1 }}>\n          <div style={{ color: '#64748b', fontSize: 11, textTransform: 'uppercase', marginBottom: 2 }}>\n            Revenue\n          </div>\n          <div style={{ color: '#10b981', fontSize: 14, fontWeight: 600 }}>\n            {myInvite.revenue_percentage}%\n          </div>\n        </div>\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div\n          style={{\n            background: '#ef444420',\n            color: '#fca5a5',\n            padding: 8,\n            borderRadius: 6,\n            fontSize: 12,\n            marginBottom: 12,\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      {/* Quick Actions */}\n      <div style={{ display: 'flex', gap: 8 }}>\n        <button\n          onClick={handleDecline}\n          disabled={!!loading}\n          style={{\n            flex: 1,\n            padding: '10px 16px',\n            borderRadius: 8,\n            border: '1px solid #64748b',\n            background: 'transparent',\n            color: '#94a3b8',\n            fontSize: 13,\n            fontWeight: 600,\n            cursor: loading ? 'not-allowed' : 'pointer',\n            opacity: loading ? 0.6 : 1,\n            transition: 'all 0.2s',\n          }}\n          onMouseEnter={(e) => {\n            if (!loading) {\n              e.currentTarget.style.borderColor = '#ef4444';\n              e.currentTarget.style.color = '#ef4444';\n            }\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.borderColor = '#64748b';\n            e.currentTarget.style.color = '#94a3b8';\n          }}\n        >\n          {loading === 'decline' ? 'Declining...' : 'Decline'}\n        </button>\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            onViewDetails(project.id);\n          }}\n          style={{\n            flex: 1,\n            padding: '10px 16px',\n            borderRadius: 8,\n            border: '1px solid #3b82f6',\n            background: 'transparent',\n            color: '#3b82f6',\n            fontSize: 13,\n            fontWeight: 600,\n            cursor: 'pointer',\n            transition: 'all 0.2s',\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.background = '#3b82f620';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.background = 'transparent';\n          }}\n        >\n          View Details\n        </button>\n        <button\n          onClick={handleAccept}\n          disabled={!!loading}\n          style={{\n            flex: 1.5,\n            padding: '10px 16px',\n            borderRadius: 8,\n            border: 'none',\n            background: '#10b981',\n            color: '#fff',\n            fontSize: 13,\n            fontWeight: 700,\n            cursor: loading ? 'not-allowed' : 'pointer',\n            opacity: loading ? 0.6 : 1,\n            transition: 'all 0.2s',\n          }}\n          onMouseEnter={(e) => {\n            if (!loading) {\n              e.currentTarget.style.background = '#059669';\n            }\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.background = '#10b981';\n          }}\n        >\n          {loading === 'accept' ? 'Accepting...' : 'Accept'}\n        </button>\n      </div>\n\n      {/* Time ago */}\n      <div style={{ textAlign: 'center', marginTop: 10, color: '#64748b', fontSize: 11 }}>\n        Invited {formatTimeAgo(myInvite.invited_at)}\n      </div>\n    </div>\n  );\n}\n\n// Helper function to format time ago\nfunction formatTimeAgo(dateString: string): string {\n  const date = new Date(dateString);\n  const now = new Date();\n  const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n\n  if (seconds < 60) return 'just now';\n  if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\n  if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\n  if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;\n  return date.toLocaleDateString();\n}\n\nexport default PendingInviteCard;\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  collaborationApi,\n  CollaborativeProjectListItem,\n  CollaborativeProject,\n  CollaboratorRole,\n} from '../services/collaborationApi';\nimport { PendingInviteCard } from '../components/collaboration/PendingInviteCard';\nimport { InviteResponseModal } from '../components/collaboration/InviteResponseModal';\nimport { useAuth } from '../hooks/useAuth';\n\ntype FilterType = 'all' | 'book' | 'music' | 'video' | 'art';\ntype SortType = 'recent' | 'oldest' | 'title';\n\ninterface PendingInvite {\n  project: CollaborativeProject;\n  invite: CollaboratorRole;\n}\n\nexport default function CollaborationDashboard() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [projects, setProjects] = useState<CollaborativeProjectListItem[]>([]);\n  const [pendingInvites, setPendingInvites] = useState<PendingInvite[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [loadingInvites, setLoadingInvites] = useState(true);\n  const [error, setError] = useState<string>('');\n  const [filter, setFilter] = useState<FilterType>('all');\n  const [sort, setSort] = useState<SortType>('recent');\n  const [showNewProjectModal, setShowNewProjectModal] = useState(false);\n\n  // Modal state for viewing invite details\n  const [selectedInviteProjectId, setSelectedInviteProjectId] = useState<number | null>(null);\n\n  // Load projects and invites on mount\n  useEffect(() => {\n    loadProjects();\n    loadPendingInvites();\n  }, []);\n\n  const loadProjects = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const data = await collaborationApi.getCollaborativeProjects();\n      setProjects(data);\n    } catch (err: any) {\n      setError(err.message || 'Failed to load projects');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load pending invites using dedicated API endpoint\n  const loadPendingInvites = async () => {\n    setLoadingInvites(true);\n    try {\n      // Use the efficient API that returns only pending invites for current user\n      const invites = await collaborationApi.getPendingInvites();\n      setPendingInvites(invites);\n    } catch (err: any) {\n      console.error('Failed to load pending invites:', err);\n      setPendingInvites([]);\n    } finally {\n      setLoadingInvites(false);\n    }\n  };\n\n  // Filter and sort projects\n  const filteredAndSortedProjects = useMemo(() => {\n    let filtered = projects;\n\n    // Apply filter\n    if (filter !== 'all') {\n      filtered = filtered.filter(p => p.content_type === filter);\n    }\n\n    // Apply sort\n    const sorted = [...filtered].sort((a, b) => {\n      switch (sort) {\n        case 'recent':\n          return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();\n        case 'oldest':\n          return new Date(a.created_at).getTime() - new Date(b.created_at).getTime();\n        case 'title':\n          return a.title.localeCompare(b.title);\n        default:\n          return 0;\n      }\n    });\n\n    return sorted;\n  }, [projects, filter, sort]);\n\n  // Group projects by status\n  const activeProjects = filteredAndSortedProjects.filter(\n    p => p.status === 'active' || p.status === 'draft'\n  );\n  const readyToMintProjects = filteredAndSortedProjects.filter(\n    p => p.status === 'ready_for_mint'\n  );\n  const completedProjects = filteredAndSortedProjects.filter(\n    p => p.status === 'minted' || p.status === 'cancelled'\n  );\n\n  return (\n    <div className=\"page\" style={{ maxWidth: 1200, margin: '0 auto', padding: '24px 32px' }}>\n      {/* Header */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: 32,\n      }}>\n        <div>\n          <h1 style={{\n            margin: 0,\n            fontSize: 32,\n            fontWeight: 800,\n            color: 'var(--text)',\n            marginBottom: 8,\n          }}>\n            My Collaborative Projects\n          </h1>\n          <p style={{\n            margin: 0,\n            fontSize: 14,\n            color: '#94a3b8',\n          }}>\n            Manage your collaborative creations with other artists\n          </p>\n        </div>\n      </div>\n\n      {/* Toolbar: New Project, Filter, Sort */}\n      <div style={{\n        display: 'flex',\n        gap: 12,\n        marginBottom: 24,\n        flexWrap: 'wrap',\n      }}>\n        <button\n          onClick={() => setShowNewProjectModal(true)}\n          style={{\n            background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n            border: 'none',\n            borderRadius: 8,\n            padding: '10px 20px',\n            color: '#fff',\n            fontWeight: 700,\n            cursor: 'pointer',\n            fontSize: 14,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n          }}\n        >\n          <span style={{ fontSize: 18 }}>+</span>\n          New Collaboration\n        </button>\n\n        {/* Filter */}\n        <select\n          value={filter}\n          onChange={(e) => setFilter(e.target.value as FilterType)}\n          style={{\n            background: 'var(--panel)',\n            border: '1px solid var(--panel-border)',\n            borderRadius: 8,\n            padding: '10px 16px',\n            color: 'var(--text)',\n            fontSize: 14,\n            cursor: 'pointer',\n            outline: 'none',\n          }}\n        >\n          <option value=\"all\">All Types</option>\n          <option value=\"book\">üìñ Books</option>\n          <option value=\"music\">üéµ Music</option>\n          <option value=\"video\">üé¨ Video</option>\n          <option value=\"art\">üé® Art</option>\n        </select>\n\n        {/* Sort */}\n        <select\n          value={sort}\n          onChange={(e) => setSort(e.target.value as SortType)}\n          style={{\n            background: 'var(--panel)',\n            border: '1px solid var(--panel-border)',\n            borderRadius: 8,\n            padding: '10px 16px',\n            color: 'var(--text)',\n            fontSize: 14,\n            cursor: 'pointer',\n            outline: 'none',\n          }}\n        >\n          <option value=\"recent\">Most Recent</option>\n          <option value=\"oldest\">Oldest First</option>\n          <option value=\"title\">Title (A-Z)</option>\n        </select>\n\n        <button\n          onClick={loadProjects}\n          style={{\n            background: 'transparent',\n            border: '1px solid var(--panel-border)',\n            borderRadius: 8,\n            padding: '10px 16px',\n            color: 'var(--text)',\n            cursor: 'pointer',\n            fontSize: 14,\n            marginLeft: 'auto',\n          }}\n        >\n          üîÑ Refresh\n        </button>\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div style={{\n          background: 'rgba(239, 68, 68, 0.1)',\n          border: '1px solid #ef4444',\n          borderRadius: 8,\n          padding: 16,\n          color: '#ef4444',\n          fontSize: 14,\n          marginBottom: 24,\n        }}>\n          {error}\n          <button\n            onClick={() => setError('')}\n            style={{\n              background: 'transparent',\n              border: 'none',\n              color: '#ef4444',\n              cursor: 'pointer',\n              float: 'right',\n              fontWeight: 700,\n              fontSize: 18,\n            }}\n          >\n            √ó\n          </button>\n        </div>\n      )}\n\n      {/* Loading State */}\n      {loading && (\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 16,\n        }}>\n          {[1, 2, 3].map(i => (\n            <div\n              key={i}\n              style={{\n                background: 'var(--panel)',\n                border: '1px solid var(--panel-border)',\n                borderRadius: 12,\n                padding: 20,\n                height: 140,\n                animation: 'pulse 2s ease-in-out infinite',\n              }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Projects Display */}\n      {!loading && (\n        <>\n          {/* Empty State */}\n          {projects.length === 0 && (\n            <div style={{\n              background: 'var(--panel)',\n              border: '2px dashed var(--panel-border)',\n              borderRadius: 12,\n              padding: 48,\n              textAlign: 'center',\n            }}>\n              <div style={{ fontSize: 48, marginBottom: 16 }}>ü§ù</div>\n              <h3 style={{\n                margin: 0,\n                fontSize: 20,\n                fontWeight: 700,\n                color: 'var(--text)',\n                marginBottom: 8,\n              }}>\n                No Collaborative Projects Yet\n              </h3>\n              <p style={{\n                margin: 0,\n                fontSize: 14,\n                color: '#94a3b8',\n                marginBottom: 24,\n                maxWidth: 500,\n                marginLeft: 'auto',\n                marginRight: 'auto',\n              }}>\n                Start your first collaboration! Work with other creators to build amazing content together.\n              </p>\n              <button\n                onClick={() => setShowNewProjectModal(true)}\n                style={{\n                  background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n                  border: 'none',\n                  borderRadius: 8,\n                  padding: '12px 24px',\n                  color: '#fff',\n                  fontWeight: 700,\n                  cursor: 'pointer',\n                  fontSize: 14,\n                }}\n              >\n                Create Your First Collaboration\n              </button>\n            </div>\n          )}\n\n          {/* Pending Invites Section */}\n          {pendingInvites.length > 0 && (\n            <div style={{ marginBottom: 32 }}>\n              <h2 style={{\n                fontSize: 18,\n                fontWeight: 700,\n                color: 'var(--text)',\n                marginBottom: 16,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n              }}>\n                <span style={{\n                  background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n                  padding: '4px 12px',\n                  borderRadius: 6,\n                  fontSize: 12,\n                  color: '#fff',\n                  animation: 'pulse 2s ease-in-out infinite',\n                }}>\n                  {pendingInvites.length}\n                </span>\n                Pending Invites\n              </h2>\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(340px, 1fr))',\n                gap: 16,\n              }}>\n                {pendingInvites.map(({ project, invite }) => (\n                  <PendingInviteCard\n                    key={project.id}\n                    project={project}\n                    myInvite={invite}\n                    onAction={() => {\n                      loadProjects();\n                      loadPendingInvites();\n                    }}\n                    onViewDetails={(id) => setSelectedInviteProjectId(id)}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Loading indicator for pending invites */}\n          {loadingInvites && pendingInvites.length === 0 && (\n            <div style={{\n              background: '#f59e0b10',\n              border: '1px dashed #f59e0b40',\n              borderRadius: 12,\n              padding: 16,\n              marginBottom: 24,\n              display: 'flex',\n              alignItems: 'center',\n              gap: 12,\n            }}>\n              <div\n                style={{\n                  width: 20,\n                  height: 20,\n                  border: '2px solid #f59e0b40',\n                  borderTopColor: '#f59e0b',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite',\n                }}\n              />\n              <span style={{ color: '#f59e0b', fontSize: 14 }}>\n                Checking for pending invites...\n              </span>\n            </div>\n          )}\n\n          {/* Ready to Mint Projects */}\n          {readyToMintProjects.length > 0 && (\n            <div style={{ marginBottom: 32 }}>\n              <h2 style={{\n                fontSize: 18,\n                fontWeight: 700,\n                color: 'var(--text)',\n                marginBottom: 16,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n              }}>\n                <span style={{\n                  background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                  padding: '4px 12px',\n                  borderRadius: 6,\n                  fontSize: 12,\n                  color: '#fff',\n                }}>\n                  {readyToMintProjects.length}\n                </span>\n                Ready to Mint\n              </h2>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\n                {readyToMintProjects.map(project => (\n                  <ProjectCard\n                    key={project.id}\n                    project={project}\n                    onRefresh={loadProjects}\n                    currentUserId={user?.id}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Active Projects */}\n          {activeProjects.length > 0 && (\n            <div style={{ marginBottom: 32 }}>\n              <h2 style={{\n                fontSize: 18,\n                fontWeight: 700,\n                color: 'var(--text)',\n                marginBottom: 16,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n              }}>\n                <span style={{\n                  background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                  padding: '4px 12px',\n                  borderRadius: 6,\n                  fontSize: 12,\n                  color: '#fff',\n                }}>\n                  {activeProjects.length}\n                </span>\n                Active Projects\n              </h2>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\n                {activeProjects.map(project => (\n                  <ProjectCard\n                    key={project.id}\n                    project={project}\n                    onRefresh={loadProjects}\n                    currentUserId={user?.id}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Completed Projects */}\n          {completedProjects.length > 0 && (\n            <div style={{ marginBottom: 32 }}>\n              <h2 style={{\n                fontSize: 18,\n                fontWeight: 700,\n                color: 'var(--text)',\n                marginBottom: 16,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n              }}>\n                <span style={{\n                  background: '#64748b',\n                  padding: '4px 12px',\n                  borderRadius: 6,\n                  fontSize: 12,\n                  color: '#fff',\n                }}>\n                  {completedProjects.length}\n                </span>\n                Completed Projects\n              </h2>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\n                {completedProjects.slice(0, 3).map(project => (\n                  <ProjectCard\n                    key={project.id}\n                    project={project}\n                    onRefresh={loadProjects}\n                    currentUserId={user?.id}\n                  />\n                ))}\n              </div>\n              {completedProjects.length > 3 && (\n                <button\n                  style={{\n                    background: 'transparent',\n                    border: '1px solid var(--panel-border)',\n                    borderRadius: 8,\n                    padding: '10px 16px',\n                    color: 'var(--text)',\n                    cursor: 'pointer',\n                    fontSize: 13,\n                    width: '100%',\n                    marginTop: 12,\n                  }}\n                >\n                  Show All {completedProjects.length} Completed Projects ‚Üí\n                </button>\n              )}\n            </div>\n          )}\n        </>\n      )}\n\n      {/* New Project Modal */}\n      {showNewProjectModal && (\n        <NewProjectModal\n          onClose={() => setShowNewProjectModal(false)}\n          onCreated={(project) => {\n            setShowNewProjectModal(false);\n            loadProjects();\n            navigate(`/collaborations/${project.id}`);\n          }}\n        />\n      )}\n\n      {/* Invite Response Modal */}\n      {selectedInviteProjectId && (\n        <InviteResponseModal\n          open={true}\n          onClose={() => {\n            setSelectedInviteProjectId(null);\n            loadProjects();\n            loadPendingInvites();\n          }}\n          projectId={selectedInviteProjectId}\n        />\n      )}\n    </div>\n  );\n}\n\n// Project Card Component\ninterface ProjectCardProps {\n  project: CollaborativeProjectListItem;\n  onRefresh: () => void;\n  currentUserId?: number;\n}\n\nfunction ProjectCard({ project, onRefresh, currentUserId }: ProjectCardProps) {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n  // Check if current user is the project owner\n  const isOwner = currentUserId && project.created_by === currentUserId;\n\n  const getContentTypeIcon = (type: string) => {\n    switch (type) {\n      case 'book': return 'üìñ';\n      case 'music': return 'üéµ';\n      case 'video': return 'üé¨';\n      case 'art': return 'üé®';\n      default: return 'üìÑ';\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'draft':\n        return { text: 'Draft', color: '#64748b' };\n      case 'active':\n        return { text: 'Active', color: '#3b82f6' };\n      case 'ready_for_mint':\n        return { text: '‚úÖ Ready to Mint', color: '#10b981' };\n      case 'minted':\n        return { text: 'Minted', color: '#8b5cf6' };\n      case 'cancelled':\n        return { text: 'Cancelled', color: '#ef4444' };\n      default:\n        return { text: status, color: '#64748b' };\n    }\n  };\n\n  const statusBadge = getStatusBadge(project.status);\n\n  const handleEdit = () => {\n    navigate(`/collaborations/${project.id}`);\n  };\n\n  const handleViewDetails = () => {\n    navigate(`/collaborations/${project.id}/details`);\n  };\n\n  const handleMint = () => {\n    // TODO: Implement minting flow\n    alert('Minting flow coming soon!');\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await collaborationApi.deleteCollaborativeProject(project.id);\n      onRefresh();\n    } catch (err: any) {\n      alert(err.message || 'Failed to delete project');\n    } finally {\n      setLoading(false);\n      setShowDeleteConfirm(false);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        background: 'var(--panel)',\n        border: '1px solid var(--panel-border)',\n        borderRadius: 12,\n        padding: 20,\n        cursor: 'pointer',\n        transition: 'all 0.2s ease',\n      }}\n      onMouseEnter={(e) => {\n        e.currentTarget.style.borderColor = '#f59e0b';\n        e.currentTarget.style.transform = 'translateY(-2px)';\n        e.currentTarget.style.boxShadow = '0 4px 12px rgba(245, 158, 11, 0.1)';\n      }}\n      onMouseLeave={(e) => {\n        e.currentTarget.style.borderColor = 'var(--panel-border)';\n        e.currentTarget.style.transform = 'translateY(0)';\n        e.currentTarget.style.boxShadow = 'none';\n      }}\n      onClick={handleEdit}\n    >\n      {/* Header */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        marginBottom: 12,\n      }}>\n        <div style={{ flex: 1 }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n            marginBottom: 8,\n          }}>\n            <span style={{ fontSize: 24 }}>{getContentTypeIcon(project.content_type)}</span>\n            <h3 style={{\n              margin: 0,\n              fontSize: 18,\n              fontWeight: 700,\n              color: 'var(--text)',\n            }}>\n              {project.title}\n            </h3>\n          </div>\n\n          <div style={{\n            fontSize: 13,\n            color: '#94a3b8',\n            marginBottom: 8,\n          }}>\n            With {project.total_collaborators} collaborator{project.total_collaborators !== 1 ? 's' : ''}\n            {' ‚Ä¢ '}\n            Created by @{project.created_by_username}\n          </div>\n        </div>\n\n        {/* Status Badge */}\n        <div style={{\n          background: statusBadge.color,\n          color: '#fff',\n          padding: '6px 12px',\n          borderRadius: 6,\n          fontSize: 12,\n          fontWeight: 600,\n          whiteSpace: 'nowrap',\n        }}>\n          {statusBadge.text}\n        </div>\n      </div>\n\n      {/* Footer: Timestamp + Actions */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: 16,\n        paddingTop: 16,\n        borderTop: '1px solid var(--panel-border)',\n      }}>\n        <div style={{\n          fontSize: 12,\n          color: '#64748b',\n        }}>\n          Created {formatTimeAgo(new Date(project.created_at))}\n        </div>\n\n        {/* Action Buttons */}\n        <div\n          style={{ display: 'flex', gap: 8 }}\n          onClick={(e) => e.stopPropagation()}\n        >\n          {project.status === 'ready_for_mint' && (\n            <button\n              onClick={handleMint}\n              disabled={loading}\n              style={{\n                background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n                border: 'none',\n                borderRadius: 6,\n                padding: '8px 16px',\n                color: '#fff',\n                fontWeight: 600,\n                cursor: loading ? 'wait' : 'pointer',\n                fontSize: 12,\n              }}\n            >\n              üöÄ Mint NFT\n            </button>\n          )}\n\n          {(project.status === 'draft' || project.status === 'active') && (\n            <button\n              onClick={handleEdit}\n              style={{\n                background: '#3b82f6',\n                border: 'none',\n                borderRadius: 6,\n                padding: '8px 16px',\n                color: '#fff',\n                fontWeight: 600,\n                cursor: 'pointer',\n                fontSize: 12,\n              }}\n            >\n              Continue Editing\n            </button>\n          )}\n\n          <button\n            onClick={handleViewDetails}\n            style={{\n              background: 'transparent',\n              border: '1px solid var(--panel-border)',\n              borderRadius: 6,\n              padding: '8px 16px',\n              color: 'var(--text)',\n              fontWeight: 600,\n              cursor: 'pointer',\n              fontSize: 12,\n            }}\n          >\n            View Details\n          </button>\n\n          {/* Delete/Cancel button for project owners */}\n          {isOwner && (project.status === 'draft' || project.status === 'active') && (\n            <button\n              onClick={() => setShowDeleteConfirm(true)}\n              disabled={loading}\n              style={{\n                background: 'transparent',\n                border: '1px solid #ef4444',\n                borderRadius: 6,\n                padding: '8px 16px',\n                color: '#ef4444',\n                fontWeight: 600,\n                cursor: loading ? 'wait' : 'pointer',\n                fontSize: 12,\n              }}\n            >\n              Cancel\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      {showDeleteConfirm && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'rgba(0, 0, 0, 0.7)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000,\n          }}\n          onClick={() => setShowDeleteConfirm(false)}\n        >\n          <div\n            style={{\n              background: 'var(--panel)',\n              borderRadius: 12,\n              padding: 24,\n              maxWidth: 400,\n              width: '90%',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <h3 style={{\n              margin: 0,\n              marginBottom: 16,\n              fontSize: 18,\n              fontWeight: 700,\n              color: 'var(--text)',\n            }}>\n              Cancel Collaboration?\n            </h3>\n            <p style={{\n              margin: 0,\n              marginBottom: 24,\n              fontSize: 14,\n              color: '#94a3b8',\n              lineHeight: 1.5,\n            }}>\n              Are you sure you want to cancel \"{project.title}\"? This will remove the project and cancel any pending invitations. This action cannot be undone.\n            </p>\n            <div style={{ display: 'flex', gap: 12, justifyContent: 'flex-end' }}>\n              <button\n                onClick={() => setShowDeleteConfirm(false)}\n                disabled={loading}\n                style={{\n                  background: 'transparent',\n                  border: '1px solid var(--panel-border)',\n                  borderRadius: 6,\n                  padding: '10px 20px',\n                  color: 'var(--text)',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  fontSize: 13,\n                }}\n              >\n                Keep Project\n              </button>\n              <button\n                onClick={handleDelete}\n                disabled={loading}\n                style={{\n                  background: '#ef4444',\n                  border: 'none',\n                  borderRadius: 6,\n                  padding: '10px 20px',\n                  color: '#fff',\n                  fontWeight: 600,\n                  cursor: loading ? 'wait' : 'pointer',\n                  fontSize: 13,\n                }}\n              >\n                {loading ? 'Canceling...' : 'Yes, Cancel Project'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// New Project Modal Component\ninterface NewProjectModalProps {\n  onClose: () => void;\n  onCreated: (project: CollaborativeProject) => void;\n}\n\nfunction NewProjectModal({ onClose, onCreated }: NewProjectModalProps) {\n  const [title, setTitle] = useState('');\n  const [contentType, setContentType] = useState<'book' | 'music' | 'video' | 'art'>('book');\n  const [description, setDescription] = useState('');\n  const [creating, setCreating] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleCreate = async () => {\n    if (!title.trim()) {\n      setError('Please enter a project title');\n      return;\n    }\n\n    setCreating(true);\n    setError('');\n\n    try {\n      const project = await collaborationApi.createCollaborativeProject({\n        title: title.trim(),\n        content_type: contentType,\n        description: description.trim(),\n      });\n      onCreated(project);\n    } catch (err: any) {\n      setError(err.message || 'Failed to create project');\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'rgba(0, 0, 0, 0.7)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000,\n      }}\n      onClick={onClose}\n    >\n      <div\n        style={{\n          background: 'var(--panel)',\n          borderRadius: 16,\n          padding: 32,\n          maxWidth: 500,\n          width: '90%',\n          maxHeight: '90vh',\n          overflow: 'auto',\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <h2 style={{\n          margin: 0,\n          marginBottom: 24,\n          fontSize: 24,\n          fontWeight: 700,\n          color: 'var(--text)',\n        }}>\n          Create New Collaboration\n        </h2>\n\n        {/* Error */}\n        {error && (\n          <div style={{\n            background: 'rgba(239, 68, 68, 0.1)',\n            border: '1px solid #ef4444',\n            borderRadius: 8,\n            padding: 12,\n            color: '#ef4444',\n            fontSize: 13,\n            marginBottom: 16,\n          }}>\n            {error}\n          </div>\n        )}\n\n        {/* Title */}\n        <div style={{ marginBottom: 20 }}>\n          <label style={{\n            display: 'block',\n            fontSize: 13,\n            fontWeight: 600,\n            color: 'var(--text)',\n            marginBottom: 8,\n          }}>\n            Project Title *\n          </label>\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            placeholder=\"Enter project title...\"\n            style={{\n              width: '100%',\n              background: 'var(--bg)',\n              border: '1px solid var(--panel-border)',\n              borderRadius: 8,\n              padding: '12px 16px',\n              color: 'var(--text)',\n              fontSize: 14,\n              outline: 'none',\n            }}\n          />\n        </div>\n\n        {/* Content Type */}\n        <div style={{ marginBottom: 20 }}>\n          <label style={{\n            display: 'block',\n            fontSize: 13,\n            fontWeight: 600,\n            color: 'var(--text)',\n            marginBottom: 8,\n          }}>\n            Content Type *\n          </label>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 8 }}>\n            {(['book', 'music', 'video', 'art'] as const).map(type => (\n              <button\n                key={type}\n                onClick={() => setContentType(type)}\n                style={{\n                  background: contentType === type ? '#3b82f6' : 'var(--bg)',\n                  border: contentType === type ? '2px solid #3b82f6' : '1px solid var(--panel-border)',\n                  borderRadius: 8,\n                  padding: '12px 16px',\n                  color: contentType === type ? '#fff' : 'var(--text)',\n                  cursor: 'pointer',\n                  fontSize: 14,\n                  fontWeight: 600,\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8,\n                }}\n              >\n                <span style={{ fontSize: 20 }}>\n                  {type === 'book' && 'üìñ'}\n                  {type === 'music' && 'üéµ'}\n                  {type === 'video' && 'üé¨'}\n                  {type === 'art' && 'üé®'}\n                </span>\n                {type.charAt(0).toUpperCase() + type.slice(1)}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Description */}\n        <div style={{ marginBottom: 24 }}>\n          <label style={{\n            display: 'block',\n            fontSize: 13,\n            fontWeight: 600,\n            color: 'var(--text)',\n            marginBottom: 8,\n          }}>\n            Description (optional)\n          </label>\n          <textarea\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            placeholder=\"Describe your collaboration...\"\n            rows={4}\n            style={{\n              width: '100%',\n              background: 'var(--bg)',\n              border: '1px solid var(--panel-border)',\n              borderRadius: 8,\n              padding: '12px 16px',\n              color: 'var(--text)',\n              fontSize: 14,\n              outline: 'none',\n              resize: 'vertical',\n              fontFamily: 'inherit',\n            }}\n          />\n        </div>\n\n        {/* Actions */}\n        <div style={{ display: 'flex', gap: 12 }}>\n          <button\n            onClick={handleCreate}\n            disabled={creating}\n            style={{\n              flex: 1,\n              background: creating ? '#6b7280' : 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n              border: 'none',\n              borderRadius: 8,\n              padding: '12px 24px',\n              color: '#fff',\n              fontWeight: 700,\n              cursor: creating ? 'wait' : 'pointer',\n              fontSize: 14,\n            }}\n          >\n            {creating ? 'Creating...' : 'Create Project'}\n          </button>\n          <button\n            onClick={onClose}\n            disabled={creating}\n            style={{\n              background: 'transparent',\n              border: '1px solid var(--panel-border)',\n              borderRadius: 8,\n              padding: '12px 24px',\n              color: 'var(--text)',\n              fontWeight: 600,\n              cursor: creating ? 'not-allowed' : 'pointer',\n              fontSize: 14,\n            }}\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Utility function\nfunction formatTimeAgo(date: Date): string {\n  const seconds = Math.floor((new Date().getTime() - date.getTime()) / 1000);\n  if (seconds < 60) return 'just now';\n  const minutes = Math.floor(seconds / 60);\n  if (minutes < 60) return `${minutes}m ago`;\n  const hours = Math.floor(minutes / 60);\n  if (hours < 24) return `${hours}h ago`;\n  const days = Math.floor(hours / 24);\n  if (days < 30) return `${days}d ago`;\n  const months = Math.floor(days / 30);\n  if (months < 12) return `${months}mo ago`;\n  return `${Math.floor(months / 12)}y ago`;\n}\n"],"names":["PendingInviteCard","project","myInvite","onAction","onViewDetails","navigate","useNavigate","loading","setLoading","useState","error","setError","creator","collaborators","find","c","user","created_by","jsxs","onClick","id","style","background","border","borderRadius","padding","cursor","transition","position","overflow","onMouseEnter","e","currentTarget","borderColor","transform","onMouseLeave","children","jsx","top","right","color","fontSize","fontWeight","textTransform","display","alignItems","gap","marginBottom","width","height","justifyContent","book","music","video","art","content_type","flex","minWidth","margin","whiteSpace","textOverflow","maxWidth","title","marginTop","username","role","revenue_percentage","async","stopPropagation","collaborationApi","declineInvitation","err","message","disabled","opacity","acceptInvitation","textAlign","formatTimeAgo","invited_at","dateString","date","Date","now","seconds","Math","floor","getTime","toLocaleDateString","CollaborationDashboard","useAuth","projects","setProjects","pendingInvites","setPendingInvites","loadingInvites","setLoadingInvites","filter","setFilter","sort","setSort","showNewProjectModal","setShowNewProjectModal","selectedInviteProjectId","setSelectedInviteProjectId","useEffect","loadProjects","loadPendingInvites","data","getCollaborativeProjects","invites","getPendingInvites","filteredAndSortedProjects","useMemo","filtered","p","a","b","created_at","localeCompare","activeProjects","status","readyToMintProjects","completedProjects","className","flexWrap","value","onChange","target","outline","marginLeft","float","flexDirection","map","i","animation","Fragment","length","marginRight","gridTemplateColumns","invite","borderTopColor","ProjectCard","onRefresh","currentUserId","slice","NewProjectModal","onClose","onCreated","InviteResponseModal","open","projectId","showDeleteConfirm","setShowDeleteConfirm","isOwner","statusBadge","text","getStatusBadge","handleEdit","boxShadow","type","getContentTypeIcon","total_collaborators","created_by_username","paddingTop","borderTop","alert","left","bottom","zIndex","lineHeight","deleteCollaborativeProject","setTitle","contentType","setContentType","description","setDescription","creating","setCreating","maxHeight","placeholder","charAt","toUpperCase","rows","resize","fontFamily","trim","createCollaborativeProject","minutes","hours","days","months"],"mappings":"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"}