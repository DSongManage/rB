import{j as e}from"./web3auth-C90gi1IA.js";import{r as t,L as i}from"./router-zDWjfnwa.js";import{S as o}from"./star-BGo1XIyo.js";import{E as n}from"./eye-DbdfQB2I.js";import{T as s}from"./thumbs-up-DML-kVDW.js";function r({owned:t,compact:i=!1}){return t?i?e.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:24,height:24,background:"rgba(16, 185, 129, 0.2)",border:"1px solid #10b981",borderRadius:"50%",fontSize:12},title:"You own this",children:"✓"}):e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:4,background:"rgba(16, 185, 129, 0.15)",border:"1px solid #10b981",borderRadius:6,padding:"4px 8px",fontSize:11,fontWeight:700,color:"#10b981",textTransform:"uppercase",letterSpacing:"0.5px"},children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"2,6 5,9 10,3"})}),"Owned"]}):null}const l=t.memo(function({rating:t,count:i=0,size:n=12,showCount:s=!0}){if(null==t||0===i)return e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:2,color:"#64748b",fontSize:n},children:[e.jsx(o,{size:n}),e.jsx("span",{children:"--"})]});const r=Number(t),l=Math.floor(r),a=r%1>=.25,d=5-l-(a?1:0);return e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:3},children:[e.jsx("span",{style:{fontWeight:600,color:"#fbbf24",fontSize:n},children:r.toFixed(1)}),e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:1},children:[Array.from({length:l}).map((t,i)=>e.jsx(o,{size:n,fill:"#fbbf24",color:"#fbbf24",strokeWidth:0},`full-${i}`)),a&&e.jsxs("span",{style:{position:"relative",display:"inline-flex"},children:[e.jsx(o,{size:n,color:"#475569",strokeWidth:1.5}),e.jsx("span",{style:{position:"absolute",left:0,top:0,width:"50%",overflow:"hidden"},children:e.jsx(o,{size:n,fill:"#fbbf24",color:"#fbbf24",strokeWidth:0})})]}),Array.from({length:d}).map((t,i)=>e.jsx(o,{size:n,color:"#475569",strokeWidth:1.5},`empty-${i}`))]}),s&&i>0&&e.jsxs("span",{style:{color:"#64748b",fontSize:n-1},children:["(",(c=i,c>=1e6?`${(c/1e6).toFixed(1)}M`:c>=1e3?`${(c/1e3).toFixed(1)}K`:`${c}`),")"]})]});var c});function a(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:`${e}`}const d=t.memo(function({id:t,title:o,author:d="Creator",likeCount:c=0,viewCount:p=0,averageRating:x,ratingCount:f=0,timeText:h="2 days ago",thumbnailUrl:g,teaser_link:b,price:m,editions:u,owned:y=!1,collaborators:j,isCollaborative:v=!1,chapterCount:k,linkTo:w}){const C="string"==typeof m?parseFloat(m):m,z="string"==typeof u?parseInt(u):u,$=z&&z>0?`${z} edition${z>1?"s":""} available`:"Sold out",F=C&&C>0?`$${C.toFixed(2)}`:"Free",S=a(p),W=p>=100,N=p>=1e3,E=w||`/content/${t}`;!(null!=x&&f>0)||(Number(x).toFixed(1),a(f));const I=a(c),R=(null==d?void 0:d.startsWith("Creator #"))?null:d;return e.jsxs("div",{className:"yt-card",children:[e.jsxs(i,{to:E,className:"yt-thumb","aria-label":o,children:[e.jsx("img",{src:g,alt:o,onError:e=>{e.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="960" height="540"%3E%3Crect fill="%23111827" width="960" height="540"/%3E%3Ctext fill="%2394a3b8" font-family="sans-serif" font-size="24" x="50%25" y="50%25" text-anchor="middle" dominant-baseline="middle"%3EPreview%3C/text%3E%3C/svg%3E'}}),y&&e.jsx("div",{style:{position:"absolute",top:8,left:8},children:e.jsx(r,{owned:y})}),k&&k>1&&e.jsxs("div",{style:{position:"absolute",bottom:8,left:8,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(4px)",padding:"3px 8px",borderRadius:4,fontSize:11,fontWeight:600,color:"#60a5fa"},children:[k," chapters"]}),void 0!==C&&!isNaN(C)&&e.jsx("div",{style:{position:"absolute",top:8,right:8,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(4px)",padding:"4px 8px",borderRadius:4,fontSize:12,fontWeight:700,color:C>0?"#10b981":"#94a3b8"},children:F})]}),e.jsxs("div",{className:"yt-info",children:[e.jsxs("div",{className:"yt-title",title:o,style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:o}),p>0&&e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:3,fontSize:11,fontWeight:N?700:W?600:500,color:N?"#f59e0b":W?"#10b981":"#94a3b8",background:N?"rgba(245, 158, 11, 0.15)":W?"rgba(16, 185, 129, 0.1)":"transparent",padding:W?"2px 6px":"0",borderRadius:4,flexShrink:0},children:[e.jsx(n,{size:12}),S]})]}),e.jsxs("div",{className:"yt-meta",children:[v&&j&&j.length>0?1===j.length?e.jsxs(e.Fragment,{children:["By"," ",e.jsxs(i,{to:`/profile/${j[0]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[0]]})]}):2===j.length?e.jsxs(e.Fragment,{children:["By"," ",e.jsxs(i,{to:`/profile/${j[0]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[0]]})," & ",e.jsxs(i,{to:`/profile/${j[1]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[1]]})]}):e.jsxs(e.Fragment,{children:["By"," ",e.jsxs(i,{to:`/profile/${j[0]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[0]]}),` & ${j.length-1} others`]}):R?e.jsx(i,{to:`/profile/${R}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:d}):d," • ",e.jsx(l,{rating:x,count:f,size:11})," • ",e.jsx(s,{size:12,style:{display:"inline",verticalAlign:"middle",marginRight:2}}),I," • ",h]}),void 0!==z&&!isNaN(z)&&e.jsx("div",{style:{fontSize:11,color:z>0?"#10b981":"#ef4444",fontWeight:600,marginTop:4},children:$})]})]})});export{l as S,d as V};
//# sourceMappingURL=VideoCard-C1fCau1p.js.map
