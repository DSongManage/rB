import{j as e}from"./web3auth-BHLxKbts.js";import{r as t}from"./router-zDWjfnwa.js";import{S as a}from"./star-Cv6SO8_m.js";import{S as o}from"./send-BfcjnoRo.js";function r({rating:o,maxRating:r=5,size:n="md",readonly:s=!1,onChange:i,showValue:l=!1,className:d=""}){const[g,c]=t.useState(0),m={sm:{star:14,gap:2},md:{star:20,gap:4},lg:{star:24,gap:4},xl:{star:32,gap:6}}[n],b=g||o,u=()=>{s||c(0)};return e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:m.gap},className:d,children:[Array.from({length:r},(e,t)=>t+1).map(t=>{const o=t<=b,r=t>b&&t-1<b;return e.jsx("button",{type:"button",onClick:()=>(e=>{!s&&i&&i(e)})(t),onMouseEnter:()=>(e=>{s||c(e)})(t),onMouseLeave:u,disabled:s,style:{background:"none",border:"none",padding:0,cursor:s?"default":"pointer",transition:"transform 0.15s ease",transform:s||g!==t?"scale(1)":"scale(1.2)"},"aria-label":`${t} star${1!==t?"s":""}`,children:e.jsx(a,{size:m.star,fill:o?"#fbbf24":"transparent",color:o||r?"#fbbf24":"#475569",strokeWidth:1.5})},t)}),l&&o>0&&e.jsx("span",{style:{marginLeft:8,fontWeight:600,color:"#fbbf24",fontSize:"sm"===n?12:"md"===n?14:"lg"===n?16:20},children:o.toFixed(1)})]})}function n({onSubmit:a,initialRating:n=0,initialReviewText:s="",isSubmitting:i=!1,showReviewText:l=!0,submitLabel:d="Submit Rating",className:g=""}){const[c,m]=t.useState(n),[b,u]=t.useState(s),[f,p]=t.useState(null);return e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),p(null),0!==c)try{await a(c,b.trim()||void 0),m(0),u("")}catch(t){p(t instanceof Error?t.message:"Failed to submit rating")}else p("Please select a rating")},className:g,children:[e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:"#94a3b8",marginBottom:12},children:"Your Rating"}),e.jsx(r,{rating:c,onChange:m,size:"xl",readonly:i})]}),l&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:"#94a3b8",marginBottom:8},children:"Review (optional)"}),e.jsx("textarea",{value:b,onChange:e=>u(e.target.value),placeholder:"Share your thoughts...",rows:3,maxLength:2e3,disabled:i,style:{width:"100%",padding:"12px 14px",background:"#0f172a",border:"1px solid #334155",borderRadius:10,color:"#f1f5f9",fontSize:14,resize:"none",outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#8b5cf6",onBlur:e=>e.target.style.borderColor="#334155"}),e.jsxs("p",{style:{fontSize:11,color:"#64748b",marginTop:6,textAlign:"right"},children:[b.length,"/2000"]})]}),f&&e.jsx("p",{style:{fontSize:13,color:"#ef4444",marginBottom:12,padding:"8px 12px",background:"rgba(239, 68, 68, 0.1)",borderRadius:6},children:f}),e.jsxs("button",{type:"submit",disabled:i||0===c,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:"12px 20px",background:0===c?"#334155":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",border:"none",borderRadius:10,color:0===c?"#64748b":"#fff",fontSize:14,fontWeight:600,cursor:i||0===c?"not-allowed":"pointer",opacity:i?.7:1,transition:"all 0.2s ease"},children:[e.jsx(o,{size:16}),i?"Submitting...":d]})]})}export{n as R,r as S};
//# sourceMappingURL=RatingForm-B7j8sPH8.js.map
