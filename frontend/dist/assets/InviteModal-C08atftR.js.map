{"version":3,"file":"InviteModal-C08atftR.js","sources":["../../node_modules/lucide-react/dist/esm/icons/award.js","../../node_modules/lucide-react/dist/esm/icons/brush.js","../../node_modules/lucide-react/dist/esm/icons/circle-play.js","../../node_modules/lucide-react/dist/esm/icons/layout-grid.js","../../node_modules/lucide-react/dist/esm/icons/mic.js","../../node_modules/lucide-react/dist/esm/icons/mic-vocal.js","../../node_modules/lucide-react/dist/esm/icons/paint-bucket.js","../../node_modules/lucide-react/dist/esm/icons/pen-tool.js","../../node_modules/lucide-react/dist/esm/icons/scissors.js","../../node_modules/lucide-react/dist/esm/icons/sliders-vertical.js","../../node_modules/lucide-react/dist/esm/icons/volume-2.js","../../src/components/InviteModal.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526\",\n      key: \"1yiouv\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"6\", key: \"1vp47v\" }]\n];\nconst Award = createLucideIcon(\"award\", __iconNode);\n\nexport { __iconNode, Award as default };\n//# sourceMappingURL=award.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m11 10 3 3\", key: \"fzmg1i\" }],\n  [\n    \"path\",\n    { d: \"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z\", key: \"p4q2r7\" }\n  ],\n  [\"path\", { d: \"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031\", key: \"wy6l02\" }]\n];\nconst Brush = createLucideIcon(\"brush\", __iconNode);\n\nexport { __iconNode, Brush as default };\n//# sourceMappingURL=brush.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z\",\n      key: \"kmsa83\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst CirclePlay = createLucideIcon(\"circle-play\", __iconNode);\n\nexport { __iconNode, CirclePlay as default };\n//# sourceMappingURL=circle-play.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"7\", height: \"7\", x: \"3\", y: \"3\", rx: \"1\", key: \"1g98yp\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"14\", y: \"3\", rx: \"1\", key: \"6d4xhi\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"14\", y: \"14\", rx: \"1\", key: \"nxv5o0\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"3\", y: \"14\", rx: \"1\", key: \"1bb6yr\" }]\n];\nconst LayoutGrid = createLucideIcon(\"layout-grid\", __iconNode);\n\nexport { __iconNode, LayoutGrid as default };\n//# sourceMappingURL=layout-grid.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 19v3\", key: \"npa21l\" }],\n  [\"path\", { d: \"M19 10v2a7 7 0 0 1-14 0v-2\", key: \"1vc78b\" }],\n  [\"rect\", { x: \"9\", y: \"2\", width: \"6\", height: \"13\", rx: \"3\", key: \"s6n7sd\" }]\n];\nconst Mic = createLucideIcon(\"mic\", __iconNode);\n\nexport { __iconNode, Mic as default };\n//# sourceMappingURL=mic.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12\",\n      key: \"80a601\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5\",\n      key: \"j0ngtp\"\n    }\n  ],\n  [\"circle\", { cx: \"16\", cy: \"7\", r: \"5\", key: \"d08jfb\" }]\n];\nconst MicVocal = createLucideIcon(\"mic-vocal\", __iconNode);\n\nexport { __iconNode, MicVocal as default };\n//# sourceMappingURL=mic-vocal.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z\", key: \"irua1i\" }\n  ],\n  [\"path\", { d: \"m5 2 5 5\", key: \"1lls2c\" }],\n  [\"path\", { d: \"M2 13h15\", key: \"1hkzvu\" }],\n  [\"path\", { d: \"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z\", key: \"xk76lq\" }]\n];\nconst PaintBucket = createLucideIcon(\"paint-bucket\", __iconNode);\n\nexport { __iconNode, PaintBucket as default };\n//# sourceMappingURL=paint-bucket.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z\",\n      key: \"nt11vn\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18\",\n      key: \"15qc1e\"\n    }\n  ],\n  [\"path\", { d: \"m2.3 2.3 7.286 7.286\", key: \"1wuzzi\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"2\", key: \"xmgehs\" }]\n];\nconst PenTool = createLucideIcon(\"pen-tool\", __iconNode);\n\nexport { __iconNode, PenTool as default };\n//# sourceMappingURL=pen-tool.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"6\", cy: \"6\", r: \"3\", key: \"1lh9wr\" }],\n  [\"path\", { d: \"M8.12 8.12 12 12\", key: \"1alkpv\" }],\n  [\"path\", { d: \"M20 4 8.12 15.88\", key: \"xgtan2\" }],\n  [\"circle\", { cx: \"6\", cy: \"18\", r: \"3\", key: \"fqmcym\" }],\n  [\"path\", { d: \"M14.8 14.8 20 20\", key: \"ptml3r\" }]\n];\nconst Scissors = createLucideIcon(\"scissors\", __iconNode);\n\nexport { __iconNode, Scissors as default };\n//# sourceMappingURL=scissors.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 8h4\", key: \"1sr2af\" }],\n  [\"path\", { d: \"M12 21v-9\", key: \"17s77i\" }],\n  [\"path\", { d: \"M12 8V3\", key: \"13r4qs\" }],\n  [\"path\", { d: \"M17 16h4\", key: \"h1uq16\" }],\n  [\"path\", { d: \"M19 12V3\", key: \"o1uvq1\" }],\n  [\"path\", { d: \"M19 21v-5\", key: \"qua636\" }],\n  [\"path\", { d: \"M3 14h4\", key: \"bcjad9\" }],\n  [\"path\", { d: \"M5 10V3\", key: \"cb8scm\" }],\n  [\"path\", { d: \"M5 21v-7\", key: \"1w1uti\" }]\n];\nconst SlidersVertical = createLucideIcon(\"sliders-vertical\", __iconNode);\n\nexport { __iconNode, SlidersVertical as default };\n//# sourceMappingURL=sliders-vertical.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",\n      key: \"uqj9uw\"\n    }\n  ],\n  [\"path\", { d: \"M16 9a5 5 0 0 1 0 6\", key: \"1q6k2b\" }],\n  [\"path\", { d: \"M19.364 18.364a9 9 0 0 0 0-12.728\", key: \"ijwkga\" }]\n];\nconst Volume2 = createLucideIcon(\"volume-2\", __iconNode);\n\nexport { __iconNode, Volume2 as default };\n//# sourceMappingURL=volume-2.js.map\n","import React, { useState, useEffect } from 'react';\nimport {\n  BookOpen, Palette, Music, Film, Check, Plus, User,\n  Pen, Users, Image, CheckCircle, FileText, Mic, Mic2,\n  Brush, PaintBucket, Eye, Sliders, Volume2, Video,\n  Scissors, PlayCircle, Briefcase, LayoutGrid, Type, PenTool\n} from 'lucide-react';\nimport { API_URL } from '../config';\n\n// Helper to render role icon based on icon string\nconst RoleIcon = ({ icon, size = 20 }: { icon: string; size?: number }) => {\n  const iconProps = { size, strokeWidth: 1.5 };\n  switch (icon) {\n    case 'pen': return <Pen {...iconProps} />;\n    case 'users': return <Users {...iconProps} />;\n    case 'palette': return <Palette {...iconProps} />;\n    case 'image': return <Image {...iconProps} />;\n    case 'check-circle': return <CheckCircle {...iconProps} />;\n    case 'spell-check': return <FileText {...iconProps} />;\n    case 'microphone': return <Mic2 {...iconProps} />;\n    case 'brush': return <Brush {...iconProps} />;\n    case 'paint-brush': return <PaintBucket {...iconProps} />;\n    case 'eye': return <Eye {...iconProps} />;\n    case 'music': return <Music {...iconProps} />;\n    case 'sliders': return <Sliders {...iconProps} />;\n    case 'mic': return <Mic {...iconProps} />;\n    case 'file-text': return <FileText {...iconProps} />;\n    case 'volume-2': return <Volume2 {...iconProps} />;\n    case 'film': return <Film {...iconProps} />;\n    case 'video': return <Video {...iconProps} />;\n    case 'scissors': return <Scissors {...iconProps} />;\n    case 'play-circle': return <PlayCircle {...iconProps} />;\n    case 'briefcase': return <Briefcase {...iconProps} />;\n    case 'type': return <Type {...iconProps} />;\n    case 'pen-tool': return <PenTool {...iconProps} />;\n    default: return <User {...iconProps} />;\n  }\n};\n\n// Types for contract tasks\ninterface ContractTask {\n  id: string;\n  title: string;\n  description: string;\n  deadline: string;\n}\n\n// Types for role definitions\ninterface RoleDefinition {\n  id: number;\n  name: string;\n  category: string;\n  description: string;\n  applicable_to_book: boolean;\n  applicable_to_art: boolean;\n  applicable_to_music: boolean;\n  applicable_to_video: boolean;\n  applicable_to_comic: boolean;\n  default_permissions: {\n    create: string[];\n    edit: { scope: string; types: string[] };\n    review: string[];\n  };\n  ui_components: string[];\n  icon: string;\n  color: string;\n}\n\n// Project type options\ntype ProjectType = 'book' | 'art' | 'music' | 'video' | 'comic';\n\nconst PROJECT_TYPE_OPTIONS: { value: ProjectType; label: string; icon: React.ReactNode; description: string; comingSoon?: boolean }[] = [\n  { value: 'book', label: 'Book', icon: <BookOpen size={28} />, description: 'Written content with chapters' },\n  { value: 'comic', label: 'Comic', icon: <LayoutGrid size={28} />, description: 'Comic books with panels' },\n  { value: 'art', label: 'Art', icon: <Palette size={28} />, description: 'Visual artwork and illustrations' },\n  { value: 'music', label: 'Music', icon: <Music size={28} />, description: 'Audio tracks and albums', comingSoon: true },\n  { value: 'video', label: 'Film', icon: <Film size={28} />, description: 'Video content and films', comingSoon: true },\n];\n\ntype InviteModalProps = {\n  open: boolean;\n  onClose: () => void;\n  recipient: {\n    id: number;\n    username: string;\n    display_name?: string;\n    avatar_url?: string;\n    status?: string;\n    status_category?: 'green'|'yellow'|'red';\n    roles?: string[];\n    genres?: string[];\n  };\n  // Optional: If provided, this is a project-specific invite\n  projectId?: number;\n  projectTitle?: string;\n  projectType?: ProjectType;\n};\n\nconst DEFAULT_PITCH = `Hi! I'd love to collaborate with you on an upcoming project.\n\n**Project Vision:**\n[Describe your project idea here]\n\n**Your Role:**\n[What you'd like them to contribute]\n\nLooking forward to creating something amazing together!`;\n\n// Generate unique ID for tasks\nconst generateId = () => Math.random().toString(36).substr(2, 9);\n\n// Format date for input\nconst getDefaultDeadline = (daysFromNow: number = 14) => {\n  const date = new Date();\n  date.setDate(date.getDate() + daysFromNow);\n  return date.toISOString().slice(0, 16);\n};\n\nexport default function InviteModal({ open, onClose, recipient, projectId, projectTitle, projectType: initialProjectType }: InviteModalProps) {\n  const [message, setMessage] = useState(DEFAULT_PITCH);\n  const [equityPercent, setEquityPercent] = useState(50);\n  const [role, setRole] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [sending, setSending] = useState(false);\n  const [successMsg, setSuccessMsg] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n\n  // Project type - required for new collaborations\n  const [projectType, setProjectType] = useState<ProjectType>(initialProjectType || 'book');\n\n  // Role definitions from API\n  const [roleDefinitions, setRoleDefinitions] = useState<RoleDefinition[]>([]);\n  const [selectedRoleId, setSelectedRoleId] = useState<number | null>(null);\n  const [loadingRoles, setLoadingRoles] = useState(false);\n  const [showCustomRole, setShowCustomRole] = useState(false);\n\n  // Contract tasks\n  const [tasks, setTasks] = useState<ContractTask[]>([]);\n  const [showTaskForm, setShowTaskForm] = useState(false);\n\n  // Permissions - defaults based on project type\n  const [canEditText, setCanEditText] = useState(true);\n  const [canEditImages, setCanEditImages] = useState(true);\n  const [canEditAudio, setCanEditAudio] = useState(false);\n  const [canEditVideo, setCanEditVideo] = useState(false);\n\n  // Fetch role definitions when project type changes\n  useEffect(() => {\n    if (!open) return;\n\n    const fetchRoleDefinitions = async () => {\n      setLoadingRoles(true);\n      try {\n        const res = await fetch(`${API_URL}/api/role-definitions/?project_type=${projectType}`, {\n          credentials: 'include',\n        });\n        if (res.ok) {\n          const data = await res.json();\n          setRoleDefinitions(data);\n        }\n      } catch (err) {\n        console.error('Failed to fetch role definitions:', err);\n      } finally {\n        setLoadingRoles(false);\n      }\n    };\n\n    fetchRoleDefinitions();\n  }, [projectType, open]);\n\n  // Handle role selection - auto-populate permissions from role definition\n  const handleRoleSelect = (roleId: number | null) => {\n    setSelectedRoleId(roleId);\n    setShowCustomRole(false);\n\n    if (roleId) {\n      const roleDef = roleDefinitions.find(r => r.id === roleId);\n      if (roleDef) {\n        setRole(roleDef.name);\n        // Auto-populate permissions from role definition\n        const perms = roleDef.default_permissions;\n        const editTypes = perms.edit?.types || [];\n        setCanEditText(editTypes.includes('text') || perms.create?.includes('text'));\n        setCanEditImages(editTypes.includes('image') || perms.create?.includes('image'));\n        setCanEditAudio(editTypes.includes('audio') || perms.create?.includes('audio'));\n        setCanEditVideo(editTypes.includes('video') || perms.create?.includes('video'));\n      }\n    } else {\n      setRole('');\n    }\n  };\n\n  // Handle custom role selection\n  const handleCustomRole = () => {\n    setSelectedRoleId(null);\n    setShowCustomRole(true);\n    setRole('');\n  };\n\n  // Update permissions when project type changes\n  const handleProjectTypeChange = (newType: ProjectType) => {\n    setProjectType(newType);\n    // Reset role selection when project type changes\n    setSelectedRoleId(null);\n    setShowCustomRole(false);\n    setRole('');\n    // Set smart defaults based on project type\n    switch (newType) {\n      case 'book':\n        setCanEditText(true);\n        setCanEditImages(true);\n        setCanEditAudio(false);\n        setCanEditVideo(false);\n        break;\n      case 'art':\n        setCanEditText(false);\n        setCanEditImages(true);\n        setCanEditAudio(false);\n        setCanEditVideo(false);\n        break;\n      case 'music':\n        setCanEditText(false);\n        setCanEditImages(true); // For album art\n        setCanEditAudio(true);\n        setCanEditVideo(false);\n        break;\n      case 'video':\n        setCanEditText(false);\n        setCanEditImages(true); // For thumbnails\n        setCanEditAudio(true);\n        setCanEditVideo(true);\n        break;\n      case 'comic':\n        setCanEditText(true);   // For speech bubbles\n        setCanEditImages(true); // For panel artwork\n        setCanEditAudio(false);\n        setCanEditVideo(false);\n        break;\n    }\n  };\n\n  if (!open) return null;\n\n  const statusColors = {\n    green: { bg: '#10b981', text: '#fff' },\n    yellow: { bg: '#f59e0b', text: '#000' },\n    red: { bg: '#ef4444', text: '#fff' },\n  };\n  const statusColor = statusColors[recipient.status_category || 'green'];\n\n  async function fetchCsrf() {\n    try {\n      const res = await fetch(`${API_URL}/api/auth/csrf/`, { credentials: 'include' });\n      const data = await res.json();\n      return data?.csrfToken || '';\n    } catch {\n      return '';\n    }\n  }\n\n  const addTask = () => {\n    setTasks([...tasks, {\n      id: generateId(),\n      title: '',\n      description: '',\n      deadline: getDefaultDeadline(),\n    }]);\n    setShowTaskForm(true);\n  };\n\n  const updateTask = (id: string, field: keyof ContractTask, value: string) => {\n    setTasks(tasks.map(t => t.id === id ? { ...t, [field]: value } : t));\n  };\n\n  const removeTask = (id: string) => {\n    setTasks(tasks.filter(t => t.id !== id));\n  };\n\n  const handleSend = async () => {\n    setSuccessMsg('');\n    setErrorMsg('');\n\n    // Validate tasks have required fields\n    for (const task of tasks) {\n      if (!task.title.trim()) {\n        setErrorMsg('All tasks must have a title');\n        return;\n      }\n      if (!task.deadline) {\n        setErrorMsg('All tasks must have a deadline');\n        return;\n      }\n    }\n\n    setSending(true);\n\n    try {\n      const csrf = await fetchCsrf();\n\n      // If we have a projectId, use the new collaborative invite endpoint\n      if (projectId) {\n        const res = await fetch(`${API_URL}/api/collaborative-projects/${projectId}/invite_collaborator/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrf,\n            'X-Requested-With': 'XMLHttpRequest',\n          },\n          credentials: 'include',\n          body: JSON.stringify({\n            user_id: recipient.id,\n            role: role || 'Collaborator',\n            role_definition_id: selectedRoleId || undefined,\n            revenue_percentage: equityPercent,\n            can_edit_text: canEditText,\n            can_edit_images: canEditImages,\n            can_edit_audio: canEditAudio,\n            can_edit_video: canEditVideo,\n            tasks: tasks.map(t => ({\n              title: t.title,\n              description: t.description,\n              deadline: new Date(t.deadline).toISOString(),\n            })),\n          }),\n        });\n\n        if (res.ok) {\n          setSuccessMsg(`Invite sent to @${recipient.username}!`);\n          setTimeout(() => {\n            onClose();\n            resetForm();\n          }, 2000);\n        } else {\n          const error = await res.json();\n          setErrorMsg(error.error || 'Failed to send invite');\n        }\n      } else {\n        // Use the old general invite endpoint (enhanced with tasks support)\n        const res = await fetch(`${API_URL}/api/invite/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrf,\n            'X-Requested-With': 'XMLHttpRequest',\n          },\n          credentials: 'include',\n          body: JSON.stringify({\n            message,\n            equity_percent: equityPercent,\n            collaborators: [recipient.id],\n            attachments: '',\n            role: role || 'Collaborator',\n            project_type: projectType,\n            tasks: tasks.map(t => ({\n              title: t.title,\n              description: t.description,\n              deadline: new Date(t.deadline).toISOString(),\n            })),\n          }),\n        });\n\n        if (res.ok) {\n          setSuccessMsg(`Invite sent to @${recipient.username}!`);\n          setTimeout(() => {\n            onClose();\n            resetForm();\n          }, 2000);\n        } else {\n          const error = await res.text();\n          setErrorMsg(`Failed to send invite: ${error}`);\n        }\n      }\n    } catch (err: any) {\n      setErrorMsg(`Error: ${err.message || 'Unknown error'}`);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const resetForm = () => {\n    setMessage(DEFAULT_PITCH);\n    setEquityPercent(50);\n    setRole('');\n    setSelectedRoleId(null);\n    setShowCustomRole(false);\n    setProjectType(initialProjectType || 'book');\n    setTasks([]);\n    setSuccessMsg('');\n    setErrorMsg('');\n    setCanEditText(true);\n    setCanEditImages(true);\n    setCanEditAudio(false);\n    setCanEditVideo(false);\n  };\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0,0,0,0.85)',\n      display: 'grid',\n      placeItems: 'center',\n      zIndex: 1000,\n      padding: 20,\n    }}>\n      <div style={{\n        background: '#0f172a',\n        border: '1px solid #334155',\n        borderRadius: 16,\n        width: '100%',\n        maxWidth: 1000,\n        maxHeight: '90vh',\n        overflow: 'auto',\n        boxShadow: '0 20px 25px -5px rgba(0,0,0,0.5)',\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: 24,\n          borderBottom: '1px solid #334155',\n          display: 'flex',\n          alignItems: 'center',\n          gap: 16,\n          background: 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)',\n        }}>\n          <div style={{\n            width: 64,\n            height: 64,\n            borderRadius: 12,\n            background: recipient.avatar_url ? `url(${recipient.avatar_url})` : '#1e293b',\n            backgroundSize: 'cover',\n            display: 'grid',\n            placeItems: 'center',\n            color: '#f59e0b',\n            fontWeight: 700,\n            fontSize: 24,\n            border: '2px solid #334155',\n          }}>\n            {!recipient.avatar_url && recipient.username.slice(0, 1).toUpperCase()}\n          </div>\n\n          <div style={{ flex: 1 }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 4 }}>\n              <span style={{ color: '#f8fafc', fontWeight: 600, fontSize: 20 }}>@{recipient.username}</span>\n              {recipient.status && (\n                <div style={{\n                  background: statusColor.bg,\n                  color: statusColor.text,\n                  fontSize: 10,\n                  fontWeight: 600,\n                  padding: '4px 10px',\n                  borderRadius: 4,\n                  letterSpacing: 0.3,\n                }}>\n                  {recipient.status}\n                </div>\n              )}\n            </div>\n            {recipient.display_name && (\n              <div style={{ color: '#cbd5e1', fontSize: 14, marginBottom: 8 }}>{recipient.display_name}</div>\n            )}\n            {projectTitle && (\n              <div style={{ color: '#f59e0b', fontSize: 12, fontWeight: 600 }}>\n                Inviting to: {projectTitle}\n              </div>\n            )}\n            {/* Capabilities badges */}\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6, marginTop: 8 }}>\n              {recipient.roles?.map((r, i) => (\n                <span key={`r-${i}`} style={{\n                  background: 'rgba(245,158,11,0.15)',\n                  color: '#f59e0b',\n                  fontSize: 10,\n                  fontWeight: 600,\n                  padding: '2px 6px',\n                  borderRadius: 3,\n                  border: '1px solid rgba(245,158,11,0.4)',\n                }}>\n                  {r}\n                </span>\n              ))}\n              {recipient.genres?.map((g, i) => (\n                <span key={`g-${i}`} style={{\n                  background: 'rgba(59,130,246,0.15)',\n                  color: '#3b82f6',\n                  fontSize: 10,\n                  fontWeight: 600,\n                  padding: '2px 6px',\n                  borderRadius: 3,\n                  border: '1px solid rgba(59,130,246,0.4)',\n                }}>\n                  {g}\n                </span>\n              ))}\n            </div>\n          </div>\n\n          <button\n            onClick={onClose}\n            style={{\n              background: 'transparent',\n              border: 'none',\n              color: '#94a3b8',\n              fontSize: 24,\n              cursor: 'pointer',\n              padding: 8,\n            }}\n          >\n            ×\n          </button>\n        </div>\n\n        {/* Form */}\n        <div style={{ padding: 24, display: 'grid', gap: 20 }}>\n          {/* Project Type Selector - REQUIRED for new collaborations */}\n          {!projectId && (\n            <div>\n              <label style={{ display: 'block', color: '#cbd5e1', fontSize: 13, fontWeight: 600, marginBottom: 12 }}>\n                Project Type <span style={{ color: '#ef4444' }}>*</span>\n              </label>\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: 12 }}>\n                {PROJECT_TYPE_OPTIONS.map((option) => (\n                  <button\n                    key={option.value}\n                    type=\"button\"\n                    onClick={() => !option.comingSoon && handleProjectTypeChange(option.value)}\n                    disabled={option.comingSoon}\n                    style={{\n                      background: option.comingSoon\n                        ? '#1e293b'\n                        : projectType === option.value\n                          ? 'rgba(245,158,11,0.15)'\n                          : '#1e293b',\n                      border: `2px solid ${option.comingSoon ? '#334155' : projectType === option.value ? '#f59e0b' : '#334155'}`,\n                      borderRadius: 12,\n                      padding: 16,\n                      cursor: option.comingSoon ? 'not-allowed' : 'pointer',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      gap: 8,\n                      transition: 'all 0.2s ease',\n                      opacity: option.comingSoon ? 0.5 : 1,\n                      position: 'relative',\n                    }}\n                  >\n                    {option.comingSoon && (\n                      <span style={{\n                        position: 'absolute',\n                        top: 6,\n                        right: 6,\n                        background: '#f59e0b',\n                        color: '#000',\n                        fontSize: 8,\n                        fontWeight: 700,\n                        padding: '2px 4px',\n                        borderRadius: 3,\n                      }}>\n                        SOON\n                      </span>\n                    )}\n                    <span style={{ color: option.comingSoon ? '#64748b' : projectType === option.value ? '#f59e0b' : '#94a3b8' }}>\n                      {option.icon}\n                    </span>\n                    <span style={{\n                      color: option.comingSoon ? '#64748b' : projectType === option.value ? '#f59e0b' : '#f8fafc',\n                      fontSize: 14,\n                      fontWeight: 600\n                    }}>\n                      {option.label}\n                    </span>\n                    <span style={{\n                      color: '#64748b',\n                      fontSize: 11,\n                      textAlign: 'center',\n                      lineHeight: 1.3\n                    }}>\n                      {option.description}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Role Selection */}\n          <div>\n            <label style={{ display: 'block', color: '#cbd5e1', fontSize: 13, fontWeight: 600, marginBottom: 12 }}>\n              Their Role <span style={{ color: '#ef4444' }}>*</span>\n            </label>\n\n            {loadingRoles ? (\n              <div style={{ color: '#64748b', fontSize: 13, padding: 12 }}>\n                Loading roles...\n              </div>\n            ) : (\n              <>\n                {/* Role cards grid */}\n                <div style={{\n                  display: 'grid',\n                  gridTemplateColumns: 'repeat(auto-fill, minmax(140px, 1fr))',\n                  gap: 10,\n                  marginBottom: 12,\n                }}>\n                  {roleDefinitions.map((roleDef) => (\n                    <button\n                      key={roleDef.id}\n                      type=\"button\"\n                      onClick={() => handleRoleSelect(roleDef.id)}\n                      style={{\n                        background: selectedRoleId === roleDef.id ? 'rgba(245,158,11,0.15)' : '#1e293b',\n                        border: `2px solid ${selectedRoleId === roleDef.id ? '#f59e0b' : '#334155'}`,\n                        borderRadius: 10,\n                        padding: '12px 10px',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        gap: 6,\n                        transition: 'all 0.2s ease',\n                        position: 'relative',\n                      }}\n                    >\n                      {selectedRoleId === roleDef.id && (\n                        <div style={{\n                          position: 'absolute',\n                          top: 6,\n                          right: 6,\n                          background: '#f59e0b',\n                          borderRadius: '50%',\n                          width: 16,\n                          height: 16,\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                        }}>\n                          <Check size={10} color=\"#000\" strokeWidth={3} />\n                        </div>\n                      )}\n                      <div style={{\n                        width: 36,\n                        height: 36,\n                        borderRadius: 8,\n                        background: `${roleDef.color}20`,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: roleDef.color,\n                      }}>\n                        <RoleIcon icon={roleDef.icon} size={20} />\n                      </div>\n                      <span style={{\n                        color: selectedRoleId === roleDef.id ? '#f59e0b' : '#f8fafc',\n                        fontSize: 12,\n                        fontWeight: 600,\n                        textAlign: 'center',\n                      }}>\n                        {roleDef.name}\n                      </span>\n                      <span style={{\n                        color: '#64748b',\n                        fontSize: 9,\n                        textAlign: 'center',\n                        lineHeight: 1.2,\n                        display: '-webkit-box',\n                        WebkitLineClamp: 2,\n                        WebkitBoxOrient: 'vertical',\n                        overflow: 'hidden',\n                      }}>\n                        {roleDef.description.slice(0, 50)}{roleDef.description.length > 50 ? '...' : ''}\n                      </span>\n                    </button>\n                  ))}\n\n                  {/* Custom role option */}\n                  <button\n                    type=\"button\"\n                    onClick={handleCustomRole}\n                    style={{\n                      background: showCustomRole ? 'rgba(245,158,11,0.15)' : '#1e293b',\n                      border: `2px solid ${showCustomRole ? '#f59e0b' : '#334155'}`,\n                      borderRadius: 10,\n                      padding: '12px 10px',\n                      cursor: 'pointer',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      gap: 6,\n                      transition: 'all 0.2s ease',\n                    }}\n                  >\n                    <div style={{\n                      width: 36,\n                      height: 36,\n                      borderRadius: 8,\n                      background: 'rgba(148, 163, 184, 0.2)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      color: '#94a3b8',\n                    }}>\n                      <Plus size={20} strokeWidth={1.5} />\n                    </div>\n                    <span style={{\n                      color: showCustomRole ? '#f59e0b' : '#94a3b8',\n                      fontSize: 12,\n                      fontWeight: 600,\n                    }}>\n                      Custom Role\n                    </span>\n                    <span style={{\n                      color: '#64748b',\n                      fontSize: 9,\n                      textAlign: 'center',\n                    }}>\n                      Define your own\n                    </span>\n                  </button>\n                </div>\n\n                {/* Custom role input (shown when custom role is selected) */}\n                {showCustomRole && (\n                  <input\n                    type=\"text\"\n                    value={role}\n                    onChange={(e) => setRole(e.target.value)}\n                    placeholder=\"Enter custom role name...\"\n                    style={{\n                      width: '100%',\n                      background: '#1e293b',\n                      border: '1px solid #f59e0b',\n                      borderRadius: 8,\n                      padding: 12,\n                      color: '#f8fafc',\n                      fontSize: 14,\n                    }}\n                  />\n                )}\n\n                {/* Selected role info */}\n                {selectedRoleId && !showCustomRole && (\n                  <div style={{\n                    background: 'rgba(245,158,11,0.1)',\n                    border: '1px solid rgba(245,158,11,0.3)',\n                    borderRadius: 8,\n                    padding: 12,\n                  }}>\n                    {(() => {\n                      const selectedRole = roleDefinitions.find(r => r.id === selectedRoleId);\n                      if (!selectedRole) return null;\n                      return (\n                        <>\n                          <div style={{ color: '#f59e0b', fontSize: 13, fontWeight: 600, marginBottom: 4 }}>\n                            {selectedRole.name}\n                          </div>\n                          <div style={{ color: '#94a3b8', fontSize: 12, marginBottom: 8 }}>\n                            {selectedRole.description}\n                          </div>\n                          <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6 }}>\n                            {selectedRole.default_permissions.create?.length > 0 && (\n                              <span style={{\n                                background: 'rgba(16,185,129,0.15)',\n                                color: '#10b981',\n                                fontSize: 10,\n                                padding: '2px 8px',\n                                borderRadius: 4,\n                              }}>\n                                Can create: {selectedRole.default_permissions.create.join(', ')}\n                              </span>\n                            )}\n                            {selectedRole.default_permissions.edit?.types?.length > 0 && (\n                              <span style={{\n                                background: 'rgba(59,130,246,0.15)',\n                                color: '#3b82f6',\n                                fontSize: 10,\n                                padding: '2px 8px',\n                                borderRadius: 4,\n                              }}>\n                                Can edit: {selectedRole.default_permissions.edit.types.join(', ')} ({selectedRole.default_permissions.edit.scope})\n                              </span>\n                            )}\n                            {selectedRole.default_permissions.review?.length > 0 && (\n                              <span style={{\n                                background: 'rgba(168,85,247,0.15)',\n                                color: '#a855f7',\n                                fontSize: 10,\n                                padding: '2px 8px',\n                                borderRadius: 4,\n                              }}>\n                                Can review: {selectedRole.default_permissions.review.join(', ')}\n                              </span>\n                            )}\n                          </div>\n                        </>\n                      );\n                    })()}\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n\n          {/* Project Pitch */}\n          <div>\n            <label style={{ display: 'block', color: '#cbd5e1', fontSize: 13, fontWeight: 600, marginBottom: 8 }}>\n              Project Pitch\n            </label>\n            <textarea\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Describe your project and what you're looking for...\"\n              style={{\n                width: '100%',\n                minHeight: 150,\n                background: '#1e293b',\n                border: '1px solid #334155',\n                borderRadius: 8,\n                padding: 12,\n                color: '#f8fafc',\n                fontSize: 14,\n                fontFamily: 'inherit',\n                resize: 'vertical',\n              }}\n            />\n            <div style={{ fontSize: 11, color: '#64748b', marginTop: 4 }}>\n              {message.length}/1000 characters\n            </div>\n          </div>\n\n          {/* Contract Tasks Section */}\n          <div style={{\n            background: '#1e293b',\n            border: '1px solid #334155',\n            borderRadius: 12,\n            padding: 20,\n          }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>\n              <div>\n                <div style={{ color: '#f8fafc', fontSize: 15, fontWeight: 600 }}>\n                  Contract Tasks\n                </div>\n                <div style={{ color: '#94a3b8', fontSize: 12, marginTop: 2 }}>\n                  Define specific deliverables with deadlines. These become binding after acceptance.\n                </div>\n              </div>\n              <button\n                onClick={addTask}\n                style={{\n                  background: 'rgba(245,158,11,0.15)',\n                  border: '1px solid #f59e0b',\n                  color: '#f59e0b',\n                  padding: '8px 16px',\n                  borderRadius: 8,\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  fontSize: 13,\n                }}\n              >\n                + Add Task\n              </button>\n            </div>\n\n            {tasks.length === 0 ? (\n              <div style={{\n                padding: 24,\n                textAlign: 'center',\n                color: '#64748b',\n                fontSize: 13,\n                border: '1px dashed #334155',\n                borderRadius: 8,\n              }}>\n                No tasks defined yet. Add tasks to create a concrete contract.\n              </div>\n            ) : (\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\n                {tasks.map((task, index) => (\n                  <div key={task.id} style={{\n                    background: '#0f172a',\n                    border: '1px solid #334155',\n                    borderRadius: 8,\n                    padding: 16,\n                  }}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: 12 }}>\n                      <div style={{ flex: 1, display: 'grid', gap: 12 }}>\n                        <div style={{ display: 'flex', gap: 12 }}>\n                          <div style={{ flex: 2 }}>\n                            <label style={{ display: 'block', color: '#94a3b8', fontSize: 11, marginBottom: 4 }}>\n                              Task {index + 1}: Title *\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={task.title}\n                              onChange={(e) => updateTask(task.id, 'title', e.target.value)}\n                              placeholder=\"e.g., Character designs for Chapter 1\"\n                              style={{\n                                width: '100%',\n                                background: '#1e293b',\n                                border: '1px solid #334155',\n                                borderRadius: 6,\n                                padding: 10,\n                                color: '#f8fafc',\n                                fontSize: 13,\n                              }}\n                            />\n                          </div>\n                          <div style={{ flex: 1 }}>\n                            <label style={{ display: 'block', color: '#94a3b8', fontSize: 11, marginBottom: 4 }}>\n                              Deadline *\n                            </label>\n                            <input\n                              type=\"datetime-local\"\n                              value={task.deadline}\n                              onChange={(e) => updateTask(task.id, 'deadline', e.target.value)}\n                              style={{\n                                width: '100%',\n                                background: '#1e293b',\n                                border: '1px solid #334155',\n                                borderRadius: 6,\n                                padding: 10,\n                                color: '#f8fafc',\n                                fontSize: 13,\n                              }}\n                            />\n                          </div>\n                        </div>\n                        <div>\n                          <label style={{ display: 'block', color: '#94a3b8', fontSize: 11, marginBottom: 4 }}>\n                            Description (optional)\n                          </label>\n                          <textarea\n                            value={task.description}\n                            onChange={(e) => updateTask(task.id, 'description', e.target.value)}\n                            placeholder=\"Detailed requirements, expectations, or notes...\"\n                            rows={2}\n                            style={{\n                              width: '100%',\n                              background: '#1e293b',\n                              border: '1px solid #334155',\n                              borderRadius: 6,\n                              padding: 10,\n                              color: '#f8fafc',\n                              fontSize: 13,\n                              fontFamily: 'inherit',\n                              resize: 'vertical',\n                            }}\n                          />\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => removeTask(task.id)}\n                        style={{\n                          background: 'transparent',\n                          border: 'none',\n                          color: '#ef4444',\n                          fontSize: 18,\n                          cursor: 'pointer',\n                          padding: 4,\n                        }}\n                      >\n                        ×\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {tasks.length > 0 && (\n              <div style={{\n                marginTop: 16,\n                padding: 12,\n                background: 'rgba(245,158,11,0.1)',\n                borderRadius: 8,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n              }}>\n                <span style={{ fontSize: 16 }}>⚠️</span>\n                <span style={{ color: '#f59e0b', fontSize: 12 }}>\n                  Tasks become immutable after the collaborator accepts. Changes require mutual agreement.\n                </span>\n              </div>\n            )}\n          </div>\n\n          {/* Permissions */}\n          {projectId && (\n            <div>\n              <label style={{ display: 'block', color: '#cbd5e1', fontSize: 13, fontWeight: 600, marginBottom: 12 }}>\n                Editing Permissions\n              </label>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: 12 }}>\n                {[\n                  { key: 'text', label: 'Text', value: canEditText, setter: setCanEditText },\n                  { key: 'images', label: 'Images', value: canEditImages, setter: setCanEditImages },\n                  { key: 'audio', label: 'Audio', value: canEditAudio, setter: setCanEditAudio },\n                  { key: 'video', label: 'Video', value: canEditVideo, setter: setCanEditVideo },\n                ].map(perm => (\n                  <label key={perm.key} style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 8,\n                    padding: '8px 16px',\n                    background: perm.value ? 'rgba(16,185,129,0.15)' : '#1e293b',\n                    border: `1px solid ${perm.value ? '#10b981' : '#334155'}`,\n                    borderRadius: 8,\n                    cursor: 'pointer',\n                  }}>\n                    <input\n                      type=\"checkbox\"\n                      checked={perm.value}\n                      onChange={(e) => perm.setter(e.target.checked)}\n                      style={{ accentColor: '#10b981' }}\n                    />\n                    <span style={{ color: perm.value ? '#10b981' : '#94a3b8', fontSize: 13 }}>\n                      {perm.label}\n                    </span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Equity Slider */}\n          <div>\n            <label style={{ display: 'block', color: '#cbd5e1', fontSize: 13, fontWeight: 600, marginBottom: 8 }}>\n              Revenue Split for @{recipient.username}: {equityPercent}%\n            </label>\n            <input\n              type=\"range\"\n              min={0}\n              max={100}\n              step={5}\n              value={equityPercent}\n              onChange={(e) => setEquityPercent(parseInt(e.target.value))}\n              style={{ width: '100%' }}\n            />\n            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: 11, color: '#64748b', marginTop: 4 }}>\n              <span>You keep: {100 - equityPercent}%</span>\n              <span>They get: {equityPercent}%</span>\n            </div>\n          </div>\n\n          {/* Preview Pane */}\n          <div style={{\n            background: '#1e293b',\n            border: '1px solid #334155',\n            borderRadius: 8,\n            padding: 16,\n          }}>\n            <div style={{ color: '#94a3b8', fontSize: 12, fontWeight: 600, marginBottom: 12, textTransform: 'uppercase', letterSpacing: 0.5 }}>\n              Preview\n            </div>\n            <div style={{ color: '#cbd5e1', fontSize: 13, whiteSpace: 'pre-wrap', lineHeight: 1.6 }}>\n              {message || '(Your pitch will appear here)'}\n            </div>\n\n            {/* Tasks Preview */}\n            {tasks.length > 0 && (\n              <div style={{ marginTop: 16, paddingTop: 16, borderTop: '1px solid #334155' }}>\n                <div style={{ fontSize: 12, color: '#f59e0b', fontWeight: 600, marginBottom: 8 }}>\n                  Contract Tasks ({tasks.length})\n                </div>\n                {tasks.map((task, i) => (\n                  <div key={task.id} style={{\n                    padding: 10,\n                    background: '#0f172a',\n                    borderRadius: 6,\n                    marginBottom: 8,\n                    borderLeft: '3px solid #f59e0b',\n                  }}>\n                    <div style={{ color: '#f8fafc', fontSize: 13, fontWeight: 600 }}>{task.title || '(Untitled)'}</div>\n                    {task.description && (\n                      <div style={{ color: '#94a3b8', fontSize: 12, marginTop: 4 }}>{task.description}</div>\n                    )}\n                    <div style={{ color: '#f59e0b', fontSize: 11, marginTop: 6 }}>\n                      Due: {task.deadline ? new Date(task.deadline).toLocaleDateString() : '(No deadline)'}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            <div style={{ marginTop: 16, paddingTop: 16, borderTop: '1px solid #334155' }}>\n              <div style={{ fontSize: 12, color: '#94a3b8' }}>Revenue Split</div>\n              <div style={{ display: 'flex', gap: 12, marginTop: 8 }}>\n                <div style={{\n                  flex: 100 - equityPercent,\n                  background: '#334155',\n                  height: 32,\n                  borderRadius: 6,\n                  display: 'grid',\n                  placeItems: 'center',\n                  color: '#cbd5e1',\n                  fontSize: 12,\n                  fontWeight: 600,\n                }}>\n                  You: {100 - equityPercent}%\n                </div>\n                <div style={{\n                  flex: equityPercent,\n                  background: '#f59e0b',\n                  height: 32,\n                  borderRadius: 6,\n                  display: 'grid',\n                  placeItems: 'center',\n                  color: '#000',\n                  fontSize: 12,\n                  fontWeight: 600,\n                }}>\n                  @{recipient.username}: {equityPercent}%\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Success/Error Messages */}\n          {successMsg && (\n            <div style={{\n              background: 'rgba(16,185,129,0.1)',\n              border: '1px solid #10b981',\n              color: '#10b981',\n              padding: 12,\n              borderRadius: 8,\n              fontSize: 13,\n            }}>\n              {successMsg}\n            </div>\n          )}\n          {errorMsg && (\n            <div style={{\n              background: 'rgba(239,68,68,0.1)',\n              border: '1px solid #ef4444',\n              color: '#ef4444',\n              padding: 12,\n              borderRadius: 8,\n              fontSize: 13,\n            }}>\n              {errorMsg}\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div style={{ display: 'flex', gap: 12, justifyContent: 'flex-end' }}>\n            <button\n              onClick={onClose}\n              style={{\n                background: 'transparent',\n                border: '1px solid #334155',\n                color: '#cbd5e1',\n                padding: '10px 20px',\n                borderRadius: 8,\n                fontWeight: 600,\n                cursor: 'pointer',\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSend}\n              disabled={sending || !message.trim() || message.length > 1000}\n              style={{\n                background: sending ? '#64748b' : '#f59e0b',\n                color: '#000',\n                border: 'none',\n                padding: '10px 24px',\n                borderRadius: 8,\n                fontWeight: 700,\n                cursor: sending ? 'not-allowed' : 'pointer',\n                opacity: (!message.trim() || message.length > 1000) ? 0.5 : 1,\n              }}\n            >\n              {sending ? 'Sending...' : 'Send Invite'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Award","createLucideIcon","d","key","cx","cy","r","Brush","CirclePlay","LayoutGrid","width","height","x","y","rx","Mic","MicVocal","PaintBucket","PenTool","Scissors","SlidersVertical","Volume2","RoleIcon","icon","size","iconProps","strokeWidth","Pen","Users","Palette","Image","CheckCircle","FileText","Mic2","Eye","Music","Sliders","Film","Video","PlayCircle","Briefcase","Type","User","PROJECT_TYPE_OPTIONS","value","label","jsx","BookOpen","description","comingSoon","DEFAULT_PITCH","getDefaultDeadline","daysFromNow","date","Date","setDate","getDate","toISOString","slice","InviteModal","open","onClose","recipient","projectId","projectTitle","projectType","initialProjectType","message","setMessage","useState","equityPercent","setEquityPercent","role","setRole","uploading","setUploading","sending","setSending","successMsg","setSuccessMsg","errorMsg","setErrorMsg","setProjectType","roleDefinitions","setRoleDefinitions","selectedRoleId","setSelectedRoleId","loadingRoles","setLoadingRoles","showCustomRole","setShowCustomRole","tasks","setTasks","showTaskForm","setShowTaskForm","canEditText","setCanEditText","canEditImages","setCanEditImages","canEditAudio","setCanEditAudio","canEditVideo","setCanEditVideo","useEffect","async","res","fetch","API_URL","credentials","ok","data","json","err","fetchRoleDefinitions","statusColor","green","bg","text","yellow","red","status_category","updateTask","id","field","map","t","resetForm","style","position","top","left","right","bottom","background","display","placeItems","zIndex","padding","children","jsxs","border","borderRadius","maxWidth","maxHeight","overflow","boxShadow","borderBottom","alignItems","gap","avatar_url","backgroundSize","color","fontWeight","fontSize","username","toUpperCase","flex","marginBottom","status","letterSpacing","display_name","flexWrap","marginTop","_a","roles","i","_b","genres","g","onClick","cursor","gridTemplateColumns","option","type","newType","handleProjectTypeChange","disabled","flexDirection","transition","opacity","textAlign","lineHeight","Fragment","roleDef","roleId","find","name","perms","default_permissions","editTypes","edit","types","includes","create","_c","_d","_e","handleRoleSelect","justifyContent","Check","WebkitLineClamp","WebkitBoxOrient","length","Plus","onChange","e","target","placeholder","selectedRole","join","scope","review","minHeight","fontFamily","resize","Math","random","toString","substr","title","deadline","task","index","rows","removeTask","filter","setter","perm","checked","accentColor","min","max","step","parseInt","textTransform","whiteSpace","paddingTop","borderTop","borderLeft","toLocaleDateString","trim","csrf","csrfToken","fetchCsrf","method","headers","body","JSON","stringify","user_id","role_definition_id","revenue_percentage","can_edit_text","can_edit_images","can_edit_audio","can_edit_video","setTimeout","error","equity_percent","collaborators","attachments","project_type"],"mappings":";;;;;;GASA,MAUMA,EAAQC,EAAiB,QAVZ,CACjB,CACE,OACA,CACEC,EAAG,yHACHC,IAAK,WAGT,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKH,IAAK,aCAzCI,EAAQN,EAAiB,QARZ,CACjB,CAAC,OAAQ,CAAEC,EAAG,aAAcC,IAAK,WACjC,CACE,OACA,CAAED,EAAG,0EAA2EC,IAAK,WAEvF,CAAC,OAAQ,CAAED,EAAG,gEAAiEC,IAAK,aCIhFK,EAAaP,EAAiB,cAVjB,CACjB,CACE,OACA,CACEC,EAAG,+FACHC,IAAK,WAGT,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,KAAMH,IAAK,aCF3CM,EAAaR,EAAiB,cANjB,CACjB,CAAC,OAAQ,CAAES,MAAO,IAAKC,OAAQ,IAAKC,EAAG,IAAKC,EAAG,IAAKC,GAAI,IAAKX,IAAK,WAClE,CAAC,OAAQ,CAAEO,MAAO,IAAKC,OAAQ,IAAKC,EAAG,KAAMC,EAAG,IAAKC,GAAI,IAAKX,IAAK,WACnE,CAAC,OAAQ,CAAEO,MAAO,IAAKC,OAAQ,IAAKC,EAAG,KAAMC,EAAG,KAAMC,GAAI,IAAKX,IAAK,WACpE,CAAC,OAAQ,CAAEO,MAAO,IAAKC,OAAQ,IAAKC,EAAG,IAAKC,EAAG,KAAMC,GAAI,IAAKX,IAAK,aCC/DY,EAAMd,EAAiB,MALV,CACjB,CAAC,OAAQ,CAAEC,EAAG,WAAYC,IAAK,WAC/B,CAAC,OAAQ,CAAED,EAAG,6BAA8BC,IAAK,WACjD,CAAC,OAAQ,CAAES,EAAG,IAAKC,EAAG,IAAKH,MAAO,IAAKC,OAAQ,KAAMG,GAAI,IAAKX,IAAK,aCc/Da,EAAWf,EAAiB,YAjBf,CACjB,CACE,OACA,CACEC,EAAG,gFACHC,IAAK,WAGT,CACE,OACA,CACED,EAAG,iGACHC,IAAK,WAGT,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKH,IAAK,aCNzCc,EAAchB,EAAiB,eATlB,CACjB,CACE,OACA,CAAEC,EAAG,oEAAqEC,IAAK,WAEjF,CAAC,OAAQ,CAAED,EAAG,WAAYC,IAAK,WAC/B,CAAC,OAAQ,CAAED,EAAG,WAAYC,IAAK,WAC/B,CAAC,OAAQ,CAAED,EAAG,2DAA4DC,IAAK,aCW3Ee,EAAUjB,EAAiB,WAlBd,CACjB,CACE,OACA,CACEC,EAAG,+HACHC,IAAK,WAGT,CACE,OACA,CACED,EAAG,gHACHC,IAAK,WAGT,CAAC,OAAQ,CAAED,EAAG,uBAAwBC,IAAK,WAC3C,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKH,IAAK,aCT1CgB,EAAWlB,EAAiB,WAPf,CACjB,CAAC,SAAU,CAAEG,GAAI,IAAKC,GAAI,IAAKC,EAAG,IAAKH,IAAK,WAC5C,CAAC,OAAQ,CAAED,EAAG,mBAAoBC,IAAK,WACvC,CAAC,OAAQ,CAAED,EAAG,mBAAoBC,IAAK,WACvC,CAAC,SAAU,CAAEC,GAAI,IAAKC,GAAI,KAAMC,EAAG,IAAKH,IAAK,WAC7C,CAAC,OAAQ,CAAED,EAAG,mBAAoBC,IAAK,aCMnCiB,EAAkBnB,EAAiB,mBAXtB,CACjB,CAAC,OAAQ,CAAEC,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAED,EAAG,YAAaC,IAAK,WAChC,CAAC,OAAQ,CAAED,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAED,EAAG,WAAYC,IAAK,WAC/B,CAAC,OAAQ,CAAED,EAAG,WAAYC,IAAK,WAC/B,CAAC,OAAQ,CAAED,EAAG,YAAaC,IAAK,WAChC,CAAC,OAAQ,CAAED,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAED,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAED,EAAG,WAAYC,IAAK,aCE3BkB,EAAUpB,EAAiB,WAXd,CACjB,CACE,OACA,CACEC,EAAG,2KACHC,IAAK,WAGT,CAAC,OAAQ,CAAED,EAAG,sBAAuBC,IAAK,WAC1C,CAAC,OAAQ,CAAED,EAAG,oCAAqCC,IAAK,aCRpDmB,EAAW,EAAGC,OAAMC,OAAO,OAC/B,MAAMC,EAAY,CAAED,OAAME,YAAa,KACvC,OAAQH,GACN,IAAK,MAAO,aAAQI,EAAA,IAAQF,IAC5B,IAAK,QAAS,aAAQG,EAAA,IAAUH,IAChC,IAAK,UAAW,aAAQI,EAAA,IAAYJ,IACpC,IAAK,QAAS,aAAQK,EAAA,IAAUL,IAChC,IAAK,eAAgB,aAAQM,EAAA,IAAgBN,IAC7C,IAAK,cAQL,IAAK,YAAa,aAAQO,EAAA,IAAaP,IAPvC,IAAK,aAAc,aAAQQ,EAAA,IAASR,IACpC,IAAK,QAAS,aAAQlB,EAAA,IAAUkB,IAChC,IAAK,cAAe,aAAQR,EAAA,IAAgBQ,IAC5C,IAAK,MAAO,aAAQS,EAAA,IAAQT,IAC5B,IAAK,QAAS,aAAQU,EAAA,IAAUV,IAChC,IAAK,UAAW,aAAQW,EAAA,IAAYX,IACpC,IAAK,MAAO,aAAQV,EAAA,IAAQU,IAE5B,IAAK,WAAY,aAAQJ,EAAA,IAAYI,IACrC,IAAK,OAAQ,aAAQY,EAAA,IAASZ,IAC9B,IAAK,QAAS,aAAQa,EAAA,IAAUb,IAChC,IAAK,WAAY,aAAQN,EAAA,IAAaM,IACtC,IAAK,cAAe,aAAQc,EAAA,IAAed,IAC3C,IAAK,YAAa,aAAQe,EAAA,IAAcf,IACxC,IAAK,OAAQ,aAAQgB,EAAA,IAAShB,IAC9B,IAAK,WAAY,aAAQP,EAAA,IAAYO,IACrC,QAAS,aAAQiB,EAAA,IAASjB,MAoCxBkB,EAAkI,CACtI,CAAEC,MAAO,OAAQC,MAAO,OAAQtB,KAAMuB,EAAAA,IAACC,EAAA,CAASvB,KAAM,KAAQwB,YAAa,iCAC3E,CAAEJ,MAAO,QAASC,MAAO,QAAStB,KAAMuB,EAAAA,IAACrC,EAAA,CAAWe,KAAM,KAAQwB,YAAa,2BAC/E,CAAEJ,MAAO,MAAOC,MAAO,MAAOtB,KAAMuB,EAAAA,IAACjB,EAAA,CAAQL,KAAM,KAAQwB,YAAa,oCACxE,CAAEJ,MAAO,QAASC,MAAO,QAAStB,KAAMuB,EAAAA,IAACX,EAAA,CAAMX,KAAM,KAAQwB,YAAa,0BAA2BC,YAAY,GACjH,CAAEL,MAAO,QAASC,MAAO,OAAQtB,KAAMuB,EAAAA,IAACT,EAAA,CAAKb,KAAM,KAAQwB,YAAa,0BAA2BC,YAAY,IAsB3GC,EAAgB,4OAchBC,EAAqB,CAACC,EAAsB,MAChD,MAAMC,MAAWC,KAEjB,OADAD,EAAKE,QAAQF,EAAKG,UAAYJ,GACvBC,EAAKI,cAAcC,MAAM,EAAG,KAGrC,SAAwBC,GAAYC,KAAEA,EAAAC,QAAMA,EAAAC,UAASA,YAAWC,EAAAC,aAAWA,EAAcC,YAAaC,YACpG,MAAOC,EAASC,GAAcC,EAAAA,SAASnB,IAChCoB,EAAeC,GAAoBF,EAAAA,SAAS,KAC5CG,EAAMC,GAAWJ,EAAAA,SAAS,KAC1BK,EAAWC,GAAgBN,EAAAA,UAAS,IACpCO,EAASC,GAAcR,EAAAA,UAAS,IAChCS,EAAYC,GAAiBV,EAAAA,SAAS,KACtCW,EAAUC,GAAeZ,EAAAA,SAAS,KAGlCJ,EAAaiB,GAAkBb,EAAAA,SAAsBH,GAAsB,SAG3EiB,EAAiBC,GAAsBf,EAAAA,SAA2B,KAClEgB,EAAgBC,GAAqBjB,EAAAA,SAAwB,OAC7DkB,EAAcC,GAAmBnB,EAAAA,UAAS,IAC1CoB,EAAgBC,GAAqBrB,EAAAA,UAAS,IAG9CsB,EAAOC,GAAYvB,EAAAA,SAAyB,KAC5CwB,EAAcC,GAAmBzB,EAAAA,UAAS,IAG1C0B,EAAaC,GAAkB3B,EAAAA,UAAS,IACxC4B,EAAeC,GAAoB7B,EAAAA,UAAS,IAC5C8B,EAAcC,GAAmB/B,EAAAA,UAAS,IAC1CgC,EAAcC,GAAmBjC,EAAAA,UAAS,GAGjDkC,EAAAA,UAAU,KACR,IAAK3C,EAAM,OAEkB4C,WAC3BhB,GAAgB,GAChB,IACE,MAAMiB,QAAYC,MAAM,GAAGC,wCAA8C1C,IAAe,CACtF2C,YAAa,YAEf,GAAIH,EAAII,GAAI,CACV,MAAMC,QAAaL,EAAIM,OACvB3B,EAAmB0B,EACrB,CACF,OAASE,GAET,CAAA,QACExB,GAAgB,EAClB,GAGFyB,IACC,CAAChD,EAAaL,IAyEjB,IAAKA,EAAM,OAAO,KAElB,MAKMsD,EALe,CACnBC,MAAO,CAAEC,GAAI,UAAWC,KAAM,QAC9BC,OAAQ,CAAEF,GAAI,UAAWC,KAAM,QAC/BE,IAAK,CAAEH,GAAI,UAAWC,KAAM,SAEGvD,EAAU0D,iBAAmB,SAY9D,MAUMC,GAAa,CAACC,EAAYC,EAA2B/E,KACzDgD,EAASD,EAAMiC,IAAIC,GAAKA,EAAEH,KAAOA,EAAK,IAAKG,EAAGF,CAACA,GAAQ/E,GAAUiF,KA4G7DC,GAAY,KAChB1D,EAAWlB,GACXqB,EAAiB,IACjBE,EAAQ,IACRa,EAAkB,MAClBI,GAAkB,GAClBR,EAAehB,GAAsB,QACrC0B,EAAS,IACTb,EAAc,IACdE,EAAY,IACZe,GAAe,GACfE,GAAiB,GACjBE,GAAgB,GAChBE,GAAgB,IAGlB,OACExD,EAAAA,IAAC,OAAIiF,MAAO,CACVC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,WAAY,mBACZC,QAAS,OACTC,WAAY,SACZC,OAAQ,IACRC,QAAS,IAETC,SAAAC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CACVM,WAAY,UACZO,OAAQ,oBACRC,aAAc,GACdnI,MAAO,OACPoI,SAAU,IACVC,UAAW,OACXC,SAAU,OACVC,UAAW,oCAGXP,SAAA,CAAAC,OAAC,OAAIZ,MAAO,CACVU,QAAS,GACTS,aAAc,oBACdZ,QAAS,OACTa,WAAY,SACZC,IAAK,GACLf,WAAY,qDAEZK,SAAA,CAAA5F,MAAC,OAAIiF,MAAO,CACVrH,MAAO,GACPC,OAAQ,GACRkI,aAAc,GACdR,WAAYvE,EAAUuF,WAAa,OAAOvF,EAAUuF,cAAgB,UACpEC,eAAgB,QAChBhB,QAAS,OACTC,WAAY,SACZgB,MAAO,UACPC,WAAY,IACZC,SAAU,GACVb,OAAQ,qBAEPF,UAAC5E,EAAUuF,YAAcvF,EAAU4F,SAAShG,MAAM,EAAG,GAAGiG,uBAG1D,MAAA,CAAI5B,MAAO,CAAE6B,KAAM,GAClBlB,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQa,WAAY,SAAUC,IAAK,GAAIS,aAAc,GAC1EnB,SAAA,CAAAC,EAAAA,KAAC,OAAA,CAAKZ,MAAO,CAAEwB,MAAO,UAAWC,WAAY,IAAKC,SAAU,IAAMf,SAAA,CAAA,IAAE5E,EAAU4F,YAC7E5F,EAAUgG,QACThH,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CACVM,WAAYnB,EAAYE,GACxBmC,MAAOrC,EAAYG,KACnBoC,SAAU,GACVD,WAAY,IACZf,QAAS,WACTI,aAAc,EACdkB,cAAe,IAEdrB,WAAUoB,YAIhBhG,EAAUkG,cACTlH,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAII,aAAc,GAAMnB,WAAUsB,eAE7EhG,GACC2E,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAID,WAAY,KAAOd,SAAA,CAAA,gBACjD1E,KAIlB2E,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQ2B,SAAU,OAAQb,IAAK,EAAGc,UAAW,GACjExB,SAAA,CAAA,OAAAyB,EAAArG,EAAUsG,YAAV,EAAAD,EAAiBvC,IAAI,CAACtH,EAAG+J,IACxBvH,EAAAA,IAAC,QAAoBiF,MAAO,CAC1BM,WAAY,wBACZkB,MAAO,UACPE,SAAU,GACVD,WAAY,IACZf,QAAS,UACTI,aAAc,EACdD,OAAQ,kCAEPF,SAAApI,GATQ,KAAK+J,MAYjB,OAAAC,EAAAxG,EAAUyG,aAAV,EAAAD,EAAkB1C,IAAI,CAAC4C,EAAGH,IACzBvH,EAAAA,IAAC,QAAoBiF,MAAO,CAC1BM,WAAY,wBACZkB,MAAO,UACPE,SAAU,GACVD,WAAY,IACZf,QAAS,UACTI,aAAc,EACdD,OAAQ,kCAEPF,SAAA8B,GATQ,KAAKH,YAetBvH,EAAAA,IAAC,SAAA,CACC2H,QAAS5G,EACTkE,MAAO,CACLM,WAAY,cACZO,OAAQ,OACRW,MAAO,UACPE,SAAU,GACViB,OAAQ,UACRjC,QAAS,GAEZC,SAAA,SAMHC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEU,QAAS,GAAIH,QAAS,OAAQc,IAAK,IAE9CV,SAAA,EAAC3E,UACC,MAAA,CACC2E,SAAA,GAAAC,KAAC,QAAA,CAAMZ,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAID,WAAY,IAAKK,aAAc,IAAMnB,SAAA,CAAA,sBACvF,OAAA,CAAKX,MAAO,CAAEwB,MAAO,WAAab,SAAA,WAElD5F,IAAC,MAAA,CAAIiF,MAAO,CAAEO,QAAS,OAAQqC,oBAAqB,iBAAkBvB,IAAK,IACxEV,SAAA/F,EAAqBiF,IAAKgD,GACzBjC,EAAAA,KAAC,SAAA,CAECkC,KAAK,SACLJ,QAAS,KAAOG,EAAO3H,YAvUT,CAAC6H,IAO/B,OANA5F,EAAe4F,GAEfxF,EAAkB,MAClBI,GAAkB,GAClBjB,EAAQ,IAEAqG,GACN,IAAK,OAwBL,IAAK,QACH9E,GAAe,GACfE,GAAiB,GACjBE,GAAgB,GAChBE,GAAgB,GAChB,MAvBF,IAAK,MACHN,GAAe,GACfE,GAAiB,GACjBE,GAAgB,GAChBE,GAAgB,GAChB,MACF,IAAK,QACHN,GAAe,GACfE,GAAiB,GACjBE,GAAgB,GAChBE,GAAgB,GAChB,MACF,IAAK,QACHN,GAAe,GACfE,GAAiB,GACjBE,GAAgB,GAChBE,GAAgB,KAySiCyE,CAAwBH,EAAOhI,OACpEoI,SAAUJ,EAAO3H,WACjB8E,MAAO,CACLM,WAAYuC,EAAO3H,WACf,UACAgB,IAAgB2G,EAAOhI,MACrB,wBACA,UACNgG,OAAQ,cAAagC,EAAO3H,WAAa,UAAYgB,IAAgB2G,EAAOhI,MAAQ,UAAY,WAChGiG,aAAc,GACdJ,QAAS,GACTiC,OAAQE,EAAO3H,WAAa,cAAgB,UAC5CqF,QAAS,OACT2C,cAAe,SACf9B,WAAY,SACZC,IAAK,EACL8B,WAAY,gBACZC,QAASP,EAAO3H,WAAa,GAAM,EACnC+E,SAAU,YAGXU,SAAA,CAAAkC,EAAO3H,YACNH,EAAAA,IAAC,OAAA,CAAKiF,MAAO,CACXC,SAAU,WACVC,IAAK,EACLE,MAAO,EACPE,WAAY,UACZkB,MAAO,OACPE,SAAU,EACVD,WAAY,IACZf,QAAS,UACTI,aAAc,GACbH,SAAA,WAIL5F,IAAC,OAAA,CAAKiF,MAAO,CAAEwB,MAAOqB,EAAO3H,WAAa,UAAYgB,IAAgB2G,EAAOhI,MAAQ,UAAY,WAC9F8F,WAAOnH,OAEVuB,MAAC,QAAKiF,MAAO,CACXwB,MAAOqB,EAAO3H,WAAa,UAAYgB,IAAgB2G,EAAOhI,MAAQ,UAAY,UAClF6G,SAAU,GACVD,WAAY,KAEXd,WAAO7F,QAEVC,MAAC,QAAKiF,MAAO,CACXwB,MAAO,UACPE,SAAU,GACV2B,UAAW,SACXC,WAAY,KAEX3C,WAAO1F,gBAtDL4H,EAAOhI,oBA+DrB,MAAA,CACC8F,SAAA,GAAAC,KAAC,QAAA,CAAMZ,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAID,WAAY,IAAKK,aAAc,IAAMnB,SAAA,CAAA,oBACzF,OAAA,CAAKX,MAAO,CAAEwB,MAAO,WAAab,SAAA,SAG/CnD,IACCzC,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAIhB,QAAS,IAAMC,SAAA,4BAI7D4C,EAAAA,SAAA,CAEE5C,SAAA,CAAAC,OAAC,OAAIZ,MAAO,CACVO,QAAS,OACTqC,oBAAqB,wCACrBvB,IAAK,GACLS,aAAc,IAEbnB,SAAA,CAAAvD,EAAgByC,IAAK2D,GACpB5C,EAAAA,KAAC,SAAA,CAECkC,KAAK,SACLJ,QAAS,IAvbJ,CAACe,kBAIxB,GAHAlG,EAAkBkG,GAClB9F,GAAkB,GAEd8F,EAAQ,CACV,MAAMD,EAAUpG,EAAgBsG,KAAKnL,GAAKA,EAAEoH,KAAO8D,GACnD,GAAID,EAAS,CACX9G,EAAQ8G,EAAQG,MAEhB,MAAMC,EAAQJ,EAAQK,oBAChBC,GAAY,OAAA1B,EAAAwB,EAAMG,WAAN,EAAA3B,EAAY4B,QAAS,GACvC/F,EAAe6F,EAAUG,SAAS,UAAW,OAAA1B,EAAAqB,EAAMM,aAAN,EAAA3B,EAAc0B,SAAS,UACpE9F,EAAiB2F,EAAUG,SAAS,WAAY,OAAAE,IAAMD,aAAN,EAAAC,EAAcF,SAAS,WACvE5F,EAAgByF,EAAUG,SAAS,WAAY,OAAAG,IAAMF,aAAN,EAAAE,EAAcH,SAAS,WACtE1F,EAAgBuF,EAAUG,SAAS,WAAY,OAAAI,IAAMH,aAAN,EAAAG,EAAcJ,SAAS,UACxE,CACF,MACEvH,EAAQ,KAsauB4H,CAAiBd,EAAQ7D,IACxCK,MAAO,CACLM,WAAYhD,IAAmBkG,EAAQ7D,GAAK,wBAA0B,UACtEkB,OAAQ,cAAavD,IAAmBkG,EAAQ7D,GAAK,UAAY,WACjEmB,aAAc,GACdJ,QAAS,YACTiC,OAAQ,UACRpC,QAAS,OACT2C,cAAe,SACf9B,WAAY,SACZC,IAAK,EACL8B,WAAY,gBACZlD,SAAU,YAGXU,SAAA,CAAArD,IAAmBkG,EAAQ7D,MAC1B5E,IAAC,MAAA,CAAIiF,MAAO,CACVC,SAAU,WACVC,IAAK,EACLE,MAAO,EACPE,WAAY,UACZQ,aAAc,MACdnI,MAAO,GACPC,OAAQ,GACR2H,QAAS,OACTa,WAAY,SACZmD,eAAgB,UAEhB5D,eAAC6D,EAAA,CAAM/K,KAAM,GAAI+H,MAAM,OAAO7H,YAAa,MAG/CoB,MAAC,OAAIiF,MAAO,CACVrH,MAAO,GACPC,OAAQ,GACRkI,aAAc,EACdR,WAAY,GAAGkD,EAAQhC,UACvBjB,QAAS,OACTa,WAAY,SACZmD,eAAgB,SAChB/C,MAAOgC,EAAQhC,OAEfb,eAACpH,EAAA,CAASC,KAAMgK,EAAQhK,KAAMC,KAAM,OAEtCsB,MAAC,QAAKiF,MAAO,CACXwB,MAAOlE,IAAmBkG,EAAQ7D,GAAK,UAAY,UACnD+B,SAAU,GACVD,WAAY,IACZ4B,UAAW,UAEV1C,WAAQgD,OAEX/C,OAAC,QAAKZ,MAAO,CACXwB,MAAO,UACPE,SAAU,EACV2B,UAAW,SACXC,WAAY,IACZ/C,QAAS,cACTkE,gBAAiB,EACjBC,gBAAiB,WACjBzD,SAAU,UAETN,SAAA,CAAA6C,EAAQvI,YAAYU,MAAM,EAAG,IAAK6H,EAAQvI,YAAY0J,OAAS,GAAK,MAAQ,QA/D1EnB,EAAQ7D,KAqEjBiB,EAAAA,KAAC,SAAA,CACCkC,KAAK,SACLJ,QAteO,KACvBnF,EAAkB,MAClBI,GAAkB,GAClBjB,EAAQ,KAoeQsD,MAAO,CACLM,WAAY5C,EAAiB,wBAA0B,UACvDmD,OAAQ,cAAanD,EAAiB,UAAY,WAClDoD,aAAc,GACdJ,QAAS,YACTiC,OAAQ,UACRpC,QAAS,OACT2C,cAAe,SACf9B,WAAY,SACZC,IAAK,EACL8B,WAAY,iBAGdxC,SAAA,CAAA5F,MAAC,OAAIiF,MAAO,CACVrH,MAAO,GACPC,OAAQ,GACRkI,aAAc,EACdR,WAAY,2BACZC,QAAS,OACTa,WAAY,SACZmD,eAAgB,SAChB/C,MAAO,WAEPb,SAAA5F,MAAC6J,EAAA,CAAKnL,KAAM,GAAIE,YAAa,QAE/BoB,MAAC,QAAKiF,MAAO,CACXwB,MAAO9D,EAAiB,UAAY,UACpCgE,SAAU,GACVD,WAAY,KACXd,SAAA,gBAGH5F,MAAC,QAAKiF,MAAO,CACXwB,MAAO,UACPE,SAAU,EACV2B,UAAW,UACV1C,SAAA,0BAONjD,GACC3C,EAAAA,IAAC,QAAA,CACC+H,KAAK,OACLjI,MAAO4B,EACPoI,SAAWC,GAAMpI,EAAQoI,EAAEC,OAAOlK,OAClCmK,YAAY,4BACZhF,MAAO,CACLrH,MAAO,OACP2H,WAAY,UACZO,OAAQ,oBACRC,aAAc,EACdJ,QAAS,GACTc,MAAO,UACPE,SAAU,MAMfpE,IAAmBI,KAClB3C,IAAC,OAAIiF,MAAO,CACVM,WAAY,uBACZO,OAAQ,iCACRC,aAAc,EACdJ,QAAS,IAEPC,2BACA,MAAMsE,EAAe7H,EAAgBsG,KAAKnL,GAAKA,EAAEoH,KAAOrC,GACxD,OAAK2H,EAEHrE,EAAAA,KAAA2C,WAAA,CACE5C,SAAA,GAAA5F,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAID,WAAY,IAAKK,aAAc,GAC1EnB,WAAagD,SAEhB5I,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAII,aAAc,GACzDnB,SAAAsE,EAAahK,cAEhB2F,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQ2B,SAAU,OAAQb,IAAK,GACnDV,SAAA,EAAA,OAAAyB,EAAA6C,EAAapB,oBAAoBK,aAAjC,EAAA9B,EAAyCuC,QAAS,GACjD/D,OAAC,QAAKZ,MAAO,CACXM,WAAY,wBACZkB,MAAO,UACPE,SAAU,GACVhB,QAAS,UACTI,aAAc,GACbH,SAAA,CAAA,eACYsE,EAAapB,oBAAoBK,OAAOgB,KAAK,UAG7D,OAAAf,EAAA,OAAA5B,EAAA0C,EAAapB,oBAAoBE,WAAjC,EAAAxB,EAAuCyB,YAAvC,EAAAG,EAA8CQ,QAAS,GACtD/D,EAAAA,KAAC,QAAKZ,MAAO,CACXM,WAAY,wBACZkB,MAAO,UACPE,SAAU,GACVhB,QAAS,UACTI,aAAc,GACbH,SAAA,CAAA,aACUsE,EAAapB,oBAAoBE,KAAKC,MAAMkB,KAAK,MAAM,KAAGD,EAAapB,oBAAoBE,KAAKoB,MAAM,QAGpH,OAAAf,EAAAa,EAAapB,oBAAoBuB,aAAjC,EAAAhB,EAAyCO,QAAS,GACjD/D,OAAC,QAAKZ,MAAO,CACXM,WAAY,wBACZkB,MAAO,UACPE,SAAU,GACVhB,QAAS,UACTI,aAAc,GACbH,SAAA,CAAA,eACYsE,EAAapB,oBAAoBuB,OAAOF,KAAK,eAxC1C,IA8C5B,oBAQT,MAAA,CACCvE,SAAA,GAAA5F,IAAC,QAAA,CAAMiF,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAID,WAAY,IAAKK,aAAc,GAAKnB,SAAA,kBAGtG5F,EAAAA,IAAC,WAAA,CACCF,MAAOuB,EACPyI,SAAWC,GAAMzI,EAAWyI,EAAEC,OAAOlK,OACrCmK,YAAY,uDACZhF,MAAO,CACLrH,MAAO,OACP0M,UAAW,IACX/E,WAAY,UACZO,OAAQ,oBACRC,aAAc,EACdJ,QAAS,GACTc,MAAO,UACPE,SAAU,GACV4D,WAAY,UACZC,OAAQ,cAGZ3E,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAE0B,SAAU,GAAIF,MAAO,UAAWW,UAAW,GACtDxB,SAAA,CAAAvE,EAAQuI,OAAO,yBAKpB/D,OAAC,OAAIZ,MAAO,CACVM,WAAY,UACZO,OAAQ,oBACRC,aAAc,GACdJ,QAAS,IAETC,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQgE,eAAgB,gBAAiBnD,WAAY,SAAUU,aAAc,IAClGnB,SAAA,CAAAC,OAAC,MAAA,CACCD,SAAA,CAAA5F,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAID,WAAY,KAAOd,SAAA,mBAGjE5F,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAIS,UAAW,GAAKxB,SAAA,2FAIhE5F,EAAAA,IAAC,SAAA,CACC2H,QA5kBE,KACd7E,EAAS,IAAID,EAAO,CAClB+B,GAzJmB6F,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GA0JxDC,MAAO,GACP3K,YAAa,GACb4K,SAAUzK,OAEZ2C,GAAgB,IAskBJiC,MAAO,CACLM,WAAY,wBACZO,OAAQ,oBACRW,MAAO,UACPd,QAAS,WACTI,aAAc,EACdW,WAAY,IACZkB,OAAQ,UACRjB,SAAU,IAEbf,SAAA,kBAKe,IAAjB/C,EAAM+G,SACL5J,IAAC,OAAIiF,MAAO,CACVU,QAAS,GACT2C,UAAW,SACX7B,MAAO,UACPE,SAAU,GACVb,OAAQ,qBACRC,aAAc,GACbH,4EAIH5F,MAAC,OAAIiF,MAAO,CAAEO,QAAS,OAAQ2C,cAAe,SAAU7B,IAAK,IAC1DV,SAAA/C,EAAMiC,IAAI,CAACiG,EAAMC,IAChBhL,EAAAA,IAAC,MAAA,CAAkBiF,MAAO,CACxBM,WAAY,UACZO,OAAQ,oBACRC,aAAc,EACdJ,QAAS,IAETC,SAAAC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQgE,eAAgB,gBAAiBnD,WAAY,aAAcC,IAAK,IAC7FV,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAE6B,KAAM,EAAGtB,QAAS,OAAQc,IAAK,IAC3CV,SAAA,CAAAC,OAAC,OAAIZ,MAAO,CAAEO,QAAS,OAAQc,IAAK,IAClCV,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAE6B,KAAM,GAClBlB,SAAA,CAAAC,EAAAA,KAAC,QAAA,CAAMZ,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAII,aAAc,GAAKnB,SAAA,CAAA,QAC7EoF,EAAQ,EAAE,eAElBhL,EAAAA,IAAC,QAAA,CACC+H,KAAK,OACLjI,MAAOiL,EAAKF,MACZf,SAAWC,GAAMpF,GAAWoG,EAAKnG,GAAI,QAASmF,EAAEC,OAAOlK,OACvDmK,YAAY,wCACZhF,MAAO,CACLrH,MAAO,OACP2H,WAAY,UACZO,OAAQ,oBACRC,aAAc,EACdJ,QAAS,GACTc,MAAO,UACPE,SAAU,gBAIf,MAAA,CAAI1B,MAAO,CAAE6B,KAAM,GAClBlB,SAAA,GAAA5F,IAAC,QAAA,CAAMiF,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAII,aAAc,GAAKnB,SAAA,eAGrF5F,EAAAA,IAAC,QAAA,CACC+H,KAAK,iBACLjI,MAAOiL,EAAKD,SACZhB,SAAWC,GAAMpF,GAAWoG,EAAKnG,GAAI,WAAYmF,EAAEC,OAAOlK,OAC1DmF,MAAO,CACLrH,MAAO,OACP2H,WAAY,UACZO,OAAQ,oBACRC,aAAc,EACdJ,QAAS,GACTc,MAAO,UACPE,SAAU,mBAKjB,MAAA,CACCf,SAAA,GAAA5F,IAAC,QAAA,CAAMiF,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAII,aAAc,GAAKnB,SAAA,2BAGrF5F,EAAAA,IAAC,WAAA,CACCF,MAAOiL,EAAK7K,YACZ4J,SAAWC,GAAMpF,GAAWoG,EAAKnG,GAAI,cAAemF,EAAEC,OAAOlK,OAC7DmK,YAAY,mDACZgB,KAAM,EACNhG,MAAO,CACLrH,MAAO,OACP2H,WAAY,UACZO,OAAQ,oBACRC,aAAc,EACdJ,QAAS,GACTc,MAAO,UACPE,SAAU,GACV4D,WAAY,UACZC,OAAQ,oBAKhBxK,EAAAA,IAAC,SAAA,CACC2H,QAAS,KAAMuD,OArqBjBtG,EAqqB4BmG,EAAKnG,QApqBnD9B,EAASD,EAAMsI,OAAOpG,GAAKA,EAAEH,KAAOA,IADnB,IAACA,GAsqBEK,MAAO,CACLM,WAAY,cACZO,OAAQ,OACRW,MAAO,UACPE,SAAU,GACViB,OAAQ,UACRjC,QAAS,GAEZC,SAAA,UAlFKmF,EAAKnG,OA2FpB/B,EAAM+G,OAAS,KACd/D,KAAC,OAAIZ,MAAO,CACVmC,UAAW,GACXzB,QAAS,GACTJ,WAAY,uBACZQ,aAAc,EACdP,QAAS,OACTa,WAAY,SACZC,IAAK,GAELV,SAAA,CAAA5F,MAAC,QAAKiF,MAAO,CAAE0B,SAAU,IAAMf,SAAA,OAC/B5F,EAAAA,IAAC,QAAKiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,IAAMf,SAAA,mGAQtD3E,UACE,MAAA,CACC2E,SAAA,GAAA5F,IAAC,QAAA,CAAMiF,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAID,WAAY,IAAKK,aAAc,IAAMnB,SAAA,wBAGvG5F,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CAAEO,QAAS,OAAQ2B,SAAU,OAAQb,IAAK,IACnDV,SAAA,CACC,CAAEvI,IAAK,OAAQ0C,MAAO,OAAQD,MAAOmD,EAAamI,OAAQlI,GAC1D,CAAE7F,IAAK,SAAU0C,MAAO,SAAUD,MAAOqD,EAAeiI,OAAQhI,GAChE,CAAE/F,IAAK,QAAS0C,MAAO,QAASD,MAAOuD,EAAc+H,OAAQ9H,GAC7D,CAAEjG,IAAK,QAAS0C,MAAO,QAASD,MAAOyD,EAAc6H,OAAQ5H,IAC7DsB,IAAIuG,KACJxF,KAAC,SAAqBZ,MAAO,CAC3BO,QAAS,OACTa,WAAY,SACZC,IAAK,EACLX,QAAS,WACTJ,WAAY8F,EAAKvL,MAAQ,wBAA0B,UACnDgG,OAAQ,cAAauF,EAAKvL,MAAQ,UAAY,WAC9CiG,aAAc,EACd6B,OAAQ,WAERhC,SAAA,CAAA5F,EAAAA,IAAC,QAAA,CACC+H,KAAK,WACLuD,QAASD,EAAKvL,MACdgK,SAAWC,GAAMsB,EAAKD,OAAOrB,EAAEC,OAAOsB,SACtCrG,MAAO,CAAEsG,YAAa,eAExBvL,IAAC,OAAA,CAAKiF,MAAO,CAAEwB,MAAO4E,EAAKvL,MAAQ,UAAY,UAAW6G,SAAU,IACjEf,WAAK7F,UAjBEsL,EAAKhO,kBA0BxB,MAAA,CACCuI,SAAA,GAAAC,KAAC,QAAA,CAAMZ,MAAO,CAAEO,QAAS,QAASiB,MAAO,UAAWE,SAAU,GAAID,WAAY,IAAKK,aAAc,GAAKnB,SAAA,CAAA,sBAChF5E,EAAU4F,SAAS,KAAGpF,EAAc,OAE1DxB,EAAAA,IAAC,QAAA,CACC+H,KAAK,QACLyD,IAAK,EACLC,IAAK,IACLC,KAAM,EACN5L,MAAO0B,EACPsI,SAAWC,GAAMtI,EAAiBkK,SAAS5B,EAAEC,OAAOlK,QACpDmF,MAAO,CAAErH,MAAO,YAElBiI,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQgE,eAAgB,gBAAiB7C,SAAU,GAAIF,MAAO,UAAWW,UAAW,GACzGxB,SAAA,CAAAC,OAAC,OAAA,CAAKD,SAAA,CAAA,aAAW,IAAMpE,EAAc,cACpC,OAAA,CAAKoE,SAAA,CAAA,aAAWpE,EAAc,aAKnCqE,OAAC,OAAIZ,MAAO,CACVM,WAAY,UACZO,OAAQ,oBACRC,aAAc,EACdJ,QAAS,IAETC,SAAA,CAAA5F,MAAC,OAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAID,WAAY,IAAKK,aAAc,GAAI6E,cAAe,YAAa3E,cAAe,IAAOrB,SAAA,cAGnI5F,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAIkF,WAAY,WAAYtD,WAAY,KAC/E3C,YAAW,kCAIb/C,EAAM+G,OAAS,GACd/D,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEmC,UAAW,GAAI0E,WAAY,GAAIC,UAAW,qBACtDnG,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAE0B,SAAU,GAAIF,MAAO,UAAWC,WAAY,IAAKK,aAAc,GAAKnB,SAAA,CAAA,mBAC/D/C,EAAM+G,OAAO,OAE/B/G,EAAMiC,IAAI,CAACiG,EAAMxD,IAChB1B,OAAC,OAAkBZ,MAAO,CACxBU,QAAS,GACTJ,WAAY,UACZQ,aAAc,EACdgB,aAAc,EACdiF,WAAY,qBAEZpG,SAAA,GAAA5F,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAID,WAAY,KAAQd,SAAAmF,EAAKF,OAAS,eAC/EE,EAAK7K,aACJF,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAIS,UAAW,GAAMxB,WAAK1F,cAEtE2F,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEwB,MAAO,UAAWE,SAAU,GAAIS,UAAW,GAAKxB,SAAA,CAAA,QACtDmF,EAAKD,SAAW,IAAItK,KAAKuK,EAAKD,UAAUmB,qBAAuB,qBAZ/DlB,EAAKnG,QAmBrBiB,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEmC,UAAW,GAAI0E,WAAY,GAAIC,UAAW,qBACtDnG,SAAA,CAAA5F,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CAAE0B,SAAU,GAAIF,MAAO,WAAab,SAAA,kBAChDC,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQc,IAAK,GAAIc,UAAW,GACjDxB,SAAA,CAAAC,OAAC,OAAIZ,MAAO,CACV6B,KAAM,IAAMtF,EACZ+D,WAAY,UACZ1H,OAAQ,GACRkI,aAAc,EACdP,QAAS,OACTC,WAAY,SACZgB,MAAO,UACPE,SAAU,GACVD,WAAY,KACXd,SAAA,CAAA,QACK,IAAMpE,EAAc,OAE5BqE,OAAC,OAAIZ,MAAO,CACV6B,KAAMtF,EACN+D,WAAY,UACZ1H,OAAQ,GACRkI,aAAc,EACdP,QAAS,OACTC,WAAY,SACZgB,MAAO,OACPE,SAAU,GACVD,WAAY,KACXd,SAAA,CAAA,IACC5E,EAAU4F,SAAS,KAAGpF,EAAc,gBAO7CQ,GACChC,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CACVM,WAAY,uBACZO,OAAQ,oBACRW,MAAO,UACPd,QAAS,GACTI,aAAc,EACdY,SAAU,IAETf,SAAA5D,IAGJE,GACClC,EAAAA,IAAC,MAAA,CAAIiF,MAAO,CACVM,WAAY,sBACZO,OAAQ,oBACRW,MAAO,UACPd,QAAS,GACTI,aAAc,EACdY,SAAU,IAETf,SAAA1D,IAKL2D,EAAAA,KAAC,MAAA,CAAIZ,MAAO,CAAEO,QAAS,OAAQc,IAAK,GAAIkD,eAAgB,YACtD5D,SAAA,CAAA5F,EAAAA,IAAC,SAAA,CACC2H,QAAS5G,EACTkE,MAAO,CACLM,WAAY,cACZO,OAAQ,oBACRW,MAAO,UACPd,QAAS,YACTI,aAAc,EACdW,WAAY,IACZkB,OAAQ,WAEXhC,SAAA,WAGD5F,EAAAA,IAAC,SAAA,CACC2H,QAn3BOjE,UACjBzB,EAAc,IACdE,EAAY,IAGZ,IAAA,MAAW4I,KAAQlI,EAAO,CACxB,IAAKkI,EAAKF,MAAMqB,OAEd,YADA/J,EAAY,+BAGd,IAAK4I,EAAKD,SAER,YADA3I,EAAY,iCAGhB,CAEAJ,GAAW,GAEX,IACE,MAAMoK,QA/CVzI,iBACE,IACE,MAAMC,QAAYC,MAAM,GAAGC,mBAA0B,CAAEC,YAAa,YAC9DE,QAAaL,EAAIM,OACvB,aAAOD,WAAMoI,YAAa,EAC5B,CAAA,MACE,MAAO,EACT,CACF,CAuCuBC,GAGnB,GAAIpL,EAAW,CACb,MAAM0C,QAAYC,MAAM,GAAGC,gCAAsC5C,yBAAkC,CACjGqL,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAeJ,EACf,mBAAoB,kBAEtBrI,YAAa,UACb0I,KAAMC,KAAKC,UAAU,CACnBC,QAAS3L,EAAU4D,GACnBlD,KAAMA,GAAQ,eACdkL,mBAAoBrK,QAAkB,EACtCsK,mBAAoBrL,EACpBsL,cAAe7J,EACf8J,gBAAiB5J,EACjB6J,eAAgB3J,EAChB4J,eAAgB1J,EAChBV,MAAOA,EAAMiC,IAAIC,IAAA,CACf8F,MAAO9F,EAAE8F,MACT3K,YAAa6E,EAAE7E,YACf4K,SAAU,IAAItK,KAAKuE,EAAE+F,UAAUnK,qBAKrC,GAAIgD,EAAII,GACN9B,EAAc,mBAAmBjB,EAAU4F,aAC3CsG,WAAW,KACTnM,IACAiE,MACC,SACE,CACL,MAAMmI,QAAcxJ,EAAIM,OACxB9B,EAAYgL,EAAMA,OAAS,wBAC7B,CACF,KAAO,CAEL,MAAMxJ,QAAYC,MAAM,GAAGC,gBAAuB,CAChDyI,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAeJ,EACf,mBAAoB,kBAEtBrI,YAAa,UACb0I,KAAMC,KAAKC,UAAU,CACnBrL,UACA+L,eAAgB5L,EAChB6L,cAAe,CAACrM,EAAU4D,IAC1B0I,YAAa,GACb5L,KAAMA,GAAQ,eACd6L,aAAcpM,EACd0B,MAAOA,EAAMiC,IAAIC,IAAA,CACf8F,MAAO9F,EAAE8F,MACT3K,YAAa6E,EAAE7E,YACf4K,SAAU,IAAItK,KAAKuE,EAAE+F,UAAUnK,qBAKrC,GAAIgD,EAAII,GACN9B,EAAc,mBAAmBjB,EAAU4F,aAC3CsG,WAAW,KACTnM,IACAiE,MACC,SACE,CACL,MAAMmI,QAAcxJ,EAAIY,OACxBpC,EAAY,0BAA0BgL,IACxC,CACF,CACF,OAASjJ,GACP/B,EAAY,UAAU+B,EAAI7C,SAAW,kBACvC,CAAA,QACEU,GAAW,EACb,GAkxBUmG,SAAUpG,IAAYT,EAAQ6K,QAAU7K,EAAQuI,OAAS,IACzD3E,MAAO,CACLM,WAAYzD,EAAU,UAAY,UAClC2E,MAAO,OACPX,OAAQ,OACRH,QAAS,YACTI,aAAc,EACdW,WAAY,IACZkB,OAAQ9F,EAAU,cAAgB,UAClCuG,SAAWhH,EAAQ6K,QAAU7K,EAAQuI,OAAS,IAAQ,GAAM,GAG7DhE,WAAU,aAAe,0BAOxC","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}