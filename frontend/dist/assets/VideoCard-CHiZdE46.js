import{j as e}from"./web3auth-BGmWjNJV.js";import{r as t,L as i}from"./router-CzH47hF_.js";import{E as o}from"./eye-BSi1_pOf.js";import{S as r}from"./star-CskhtjYa.js";import{T as n}from"./thumbs-up-C1kOwnCE.js";function s({owned:t,compact:i=!1}){return t?i?e.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:24,height:24,background:"rgba(16, 185, 129, 0.2)",border:"1px solid #10b981",borderRadius:"50%",fontSize:12},title:"You own this",children:"✓"}):e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:4,background:"rgba(16, 185, 129, 0.15)",border:"1px solid #10b981",borderRadius:6,padding:"4px 8px",fontSize:11,fontWeight:700,color:"#10b981",textTransform:"uppercase",letterSpacing:"0.5px"},children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"2,6 5,9 10,3"})}),"Owned"]}):null}function l(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:`${e}`}const a=t.memo(function({id:t,title:a,author:d="Creator",likeCount:c=0,viewCount:p=0,averageRating:g,ratingCount:x=0,timeText:h="2 days ago",thumbnailUrl:f,teaser_link:b,price:m,editions:u,owned:y=!1,collaborators:j,isCollaborative:v=!1,chapterCount:w,linkTo:k}){const C="string"==typeof m?parseFloat(m):m,$="string"==typeof u?parseInt(u):u,F=$&&$>0?`${$} edition${$>1?"s":""} available`:"Sold out",S=C&&C>0?`$${C.toFixed(2)}`:"Free",z=l(p),N=p>=100,E=p>=1e3,R=k||`/content/${t}`,W=null!=g&&x>0?`${Number(g).toFixed(1)} (${l(x)})`:"--",D=l(c),P=(null==d?void 0:d.startsWith("Creator #"))?null:d;return e.jsxs("div",{className:"yt-card",children:[e.jsxs(i,{to:R,className:"yt-thumb","aria-label":a,children:[e.jsx("img",{src:f,alt:a,onError:e=>{e.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="960" height="540"%3E%3Crect fill="%23111827" width="960" height="540"/%3E%3Ctext fill="%2394a3b8" font-family="sans-serif" font-size="24" x="50%25" y="50%25" text-anchor="middle" dominant-baseline="middle"%3EPreview%3C/text%3E%3C/svg%3E'}}),y&&e.jsx("div",{style:{position:"absolute",top:8,left:8},children:e.jsx(s,{owned:y})}),w&&w>1&&e.jsxs("div",{style:{position:"absolute",bottom:8,left:8,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(4px)",padding:"3px 8px",borderRadius:4,fontSize:11,fontWeight:600,color:"#60a5fa"},children:[w," chapters"]}),void 0!==C&&!isNaN(C)&&e.jsx("div",{style:{position:"absolute",top:8,right:8,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(4px)",padding:"4px 8px",borderRadius:4,fontSize:12,fontWeight:700,color:C>0?"#10b981":"#94a3b8"},children:S})]}),e.jsxs("div",{className:"yt-info",children:[e.jsxs("div",{className:"yt-title",title:a,style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:a}),p>0&&e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:3,fontSize:11,fontWeight:E?700:N?600:500,color:E?"#f59e0b":N?"#10b981":"#94a3b8",background:E?"rgba(245, 158, 11, 0.15)":N?"rgba(16, 185, 129, 0.1)":"transparent",padding:N?"2px 6px":"0",borderRadius:4,flexShrink:0},children:[e.jsx(o,{size:12}),z]})]}),e.jsxs("div",{className:"yt-meta",children:[v&&j&&j.length>0?1===j.length?e.jsxs(e.Fragment,{children:["By"," ",e.jsxs(i,{to:`/profile/${j[0]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[0]]})]}):2===j.length?e.jsxs(e.Fragment,{children:["By"," ",e.jsxs(i,{to:`/profile/${j[0]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[0]]})," & ",e.jsxs(i,{to:`/profile/${j[1]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[1]]})]}):e.jsxs(e.Fragment,{children:["By"," ",e.jsxs(i,{to:`/profile/${j[0]}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:["@",j[0]]}),` & ${j.length-1} others`]}):P?e.jsx(i,{to:`/profile/${P}`,style:{color:"#60a5fa",textDecoration:"none"},onClick:e=>e.stopPropagation(),children:d}):d," • ",e.jsx(r,{size:12,style:{display:"inline",verticalAlign:"middle",marginRight:2}}),W," • ",e.jsx(n,{size:12,style:{display:"inline",verticalAlign:"middle",marginRight:2}}),D," • ",h]}),void 0!==$&&!isNaN($)&&e.jsx("div",{style:{fontSize:11,color:$>0?"#10b981":"#ef4444",fontWeight:600,marginTop:4},children:F})]})]})});export{a as V};
//# sourceMappingURL=VideoCard-CHiZdE46.js.map
