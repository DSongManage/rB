import{j as e}from"./web3auth-BkZxjmxM.js";import{r as t}from"./router-cVcvJ1e3.js";import{c as i,B as o,d as r,A as n,k as s,l as a,F as l,q as d,r as c,e as p,I as g,U as u}from"./index-Clb-55uW.js";import{b}from"./tierApi-B4VkWd90.js";import{P as f}from"./plus-D4JJxlft.js";import{T as x}from"./type-BO9E-Reb.js";import{B as h}from"./briefcase-B18fvUlp.js";import{C as y,S as m,V as j,M as v,a as S,P as k,B as z,b as w}from"./volume-2-4QwTze1q.js";import{V as C}from"./video-Df5j5YbN.js";import{F as R}from"./file-text-Bgv-L30l.js";import{E as W}from"./eye-Btrj3ogq.js";import{P as T}from"./pen-BozBOA3z.js";
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=i("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),B=({icon:t,size:i=20})=>{const o={size:i,strokeWidth:1.5};switch(t){case"pen":return e.jsx(T,{...o});case"users":return e.jsx(u,{...o});case"palette":return e.jsx(s,{...o});case"image":return e.jsx(g,{...o});case"check-circle":return e.jsx(p,{...o});case"spell-check":case"file-text":return e.jsx(R,{...o});case"microphone":return e.jsx(w,{...o});case"brush":return e.jsx(z,{...o});case"paint-brush":return e.jsx(k,{...o});case"eye":return e.jsx(W,{...o});case"music":return e.jsx(a,{...o});case"sliders":return e.jsx(S,{...o});case"mic":return e.jsx(v,{...o});case"volume-2":return e.jsx(j,{...o});case"film":return e.jsx(l,{...o});case"video":return e.jsx(C,{...o});case"scissors":return e.jsx(m,{...o});case"play-circle":return e.jsx(y,{...o});case"briefcase":return e.jsx(h,{...o});case"type":return e.jsx(x,{...o});case"pen-tool":return e.jsx(c,{...o});default:return e.jsx(d,{...o})}},_=[{value:"book",label:"Book",icon:e.jsx(o,{size:28}),description:"Written content with chapters"},{value:"comic",label:"Comic",icon:e.jsx(I,{size:28}),description:"Comic books with panels"},{value:"art",label:"Art",icon:e.jsx(s,{size:28}),description:"Visual artwork and illustrations"},{value:"music",label:"Music",icon:e.jsx(a,{size:28}),description:"Audio tracks and albums",comingSoon:!0},{value:"video",label:"Film",icon:e.jsx(l,{size:28}),description:"Video content and films",comingSoon:!0}],D=e=>e?`Hi! I'd love to collaborate with you on "${e}".\n\n**Project Vision:**\n[Describe your project idea here]\n\n**Your Role:**\n[What you'd like them to contribute]\n\nLooking forward to creating something amazing together!`:"Hi! I'd love to collaborate with you on an upcoming project.\n\n**Project Vision:**\n[Describe your project idea here]\n\n**Your Role:**\n[What you'd like them to contribute]\n\nLooking forward to creating something amazing together!",A=(e=14)=>{const t=new Date;return t.setDate(t.getDate()+e),t.toISOString().slice(0,16)};function P({open:i,onClose:s,recipient:a,projectId:l,projectTitle:d,projectType:c}){var p,g;const[u,x]=t.useState(""),h=d||u||"",[y,m]=t.useState(D(d)),[j,v]=t.useState(50),[S,k]=t.useState(""),[z,w]=t.useState(!1),[C,R]=t.useState(!1),[W,T]=t.useState(""),[I,P]=t.useState(""),[$,F]=t.useState(!1),[H,q]=t.useState(c||"book"),[O,L]=t.useState([]),[V,E]=t.useState(null),[N,U]=t.useState(!1),[X,Y]=t.useState(!1),[M,G]=t.useState(null),[J,K]=t.useState([]),[Q,Z]=t.useState(!1),[ee,te]=t.useState(!0),[ie,oe]=t.useState(!0),[re,ne]=t.useState(!1),[se,ae]=t.useState(!1);t.useEffect(()=>{i&&(null==a?void 0:a.username)&&b(a.username).then(G).catch(()=>{})},[i,null==a?void 0:a.username]),t.useEffect(()=>{if(!i)return;(async()=>{U(!0);try{const e=await fetch(`${n}/api/role-definitions/?project_type=${H}`,{credentials:"include"});if(e.ok){const t=await e.json();L(t)}}catch(e){}finally{U(!1)}})()},[H,i]),t.useEffect(()=>{!l&&u?m(D(u)):l||u||m(D())},[u,l]);if(!i)return null;const le={green:{bg:"#10b981",text:"#fff"},yellow:{bg:"#f59e0b",text:"#000"},red:{bg:"#ef4444",text:"#fff"}}[a.status_category||"green"];const de=(e,t,i)=>{K(J.map(o=>o.id===e?{...o,[t]:i}:o))},ce=async()=>{F(!1),R(!0);try{const e=await async function(){try{const e=await fetch(`${n}/api/auth/csrf/`,{credentials:"include"}),t=await e.json();return(null==t?void 0:t.csrfToken)||""}catch{return""}}();if(l){const t=await fetch(`${n}/api/collaborative-projects/${l}/invite_collaborator/`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e,"X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify({user_id:a.id,role:S||"Collaborator",role_definition_id:V||void 0,revenue_percentage:j,can_edit_text:ee,can_edit_images:ie,can_edit_audio:re,can_edit_video:se,tasks:J.map(e=>({title:e.title,description:e.description,deadline:new Date(e.deadline).toISOString()}))})});if(t.ok)T(`Invite sent to @${a.username}!`),setTimeout(()=>{s(),pe()},2e3);else{const e=await t.json();P(e.error||"Failed to send invite")}}else{const t=await fetch(`${n}/api/invite/`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e,"X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify({message:y,equity_percent:j,collaborators:[a.id],attachments:"",role:S||"Collaborator",project_type:H,tasks:J.map(e=>({title:e.title,description:e.description,deadline:new Date(e.deadline).toISOString()}))})});if(t.ok)T(`Invite sent to @${a.username}!`),setTimeout(()=>{s(),pe()},2e3);else{const e=await t.text();P(`Failed to send invite: ${e}`)}}}catch(e){P(`Error: ${e.message||"Unknown error"}`)}finally{R(!1)}},pe=()=>{x(""),m(D(d)),v(50),k(""),E(null),Y(!1),q(c||"book"),K([]),T(""),P(""),F(!1),te(!0),oe(!0),ne(!1),ae(!1)};return e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"grid",placeItems:"center",zIndex:1e3,padding:20},children:[e.jsxs("div",{className:"invite-modal-scroll",style:{background:"#0f172a",border:"1px solid #334155",borderRadius:16,width:"100%",maxWidth:1e3,maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:24,borderBottom:"1px solid #334155",display:"flex",alignItems:"center",gap:16,background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[e.jsx("div",{style:{width:64,height:64,borderRadius:12,background:a.avatar_url?`url(${a.avatar_url})`:"#1e293b",backgroundSize:"cover",display:"grid",placeItems:"center",color:"#f59e0b",fontWeight:700,fontSize:24,border:"2px solid #334155"},children:!a.avatar_url&&a.username.slice(0,1).toUpperCase()}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:4},children:[e.jsxs("span",{style:{color:"#f8fafc",fontWeight:600,fontSize:20},children:["@",a.username]}),a.status&&e.jsx("div",{style:{background:le.bg,color:le.text,fontSize:10,fontWeight:600,padding:"4px 10px",borderRadius:4,letterSpacing:.3},children:a.status})]}),a.display_name&&e.jsx("div",{style:{color:"#cbd5e1",fontSize:14,marginBottom:8},children:a.display_name}),M&&"standard"!==M.tier&&e.jsxs("div",{style:{fontSize:11,color:"founding"===M.tier?"#f59e0b":"#a78bfa",fontWeight:600,marginBottom:4},children:["founding"===M.tier?"Founding Creator":M.tier.replace("_"," ").toUpperCase()," — ",M.fee_percent," platform fee"]}),d&&e.jsxs("div",{style:{color:"#f59e0b",fontSize:12,fontWeight:600},children:["Inviting to: ",d]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginTop:8},children:[null==(p=a.roles)?void 0:p.map((t,i)=>e.jsx("span",{style:{background:"rgba(245,158,11,0.15)",color:"#f59e0b",fontSize:10,fontWeight:600,padding:"2px 6px",borderRadius:3,border:"1px solid rgba(245,158,11,0.4)"},children:t},`r-${i}`)),null==(g=a.genres)?void 0:g.map((t,i)=>e.jsx("span",{style:{background:"rgba(59,130,246,0.15)",color:"#3b82f6",fontSize:10,fontWeight:600,padding:"2px 6px",borderRadius:3,border:"1px solid rgba(59,130,246,0.4)"},children:t},`g-${i}`))]})]}),e.jsx("button",{onClick:s,style:{background:"transparent",border:"none",color:"#94a3b8",fontSize:24,cursor:"pointer",padding:8},children:"×"})]}),h&&e.jsxs("div",{style:{padding:"16px 24px",background:"linear-gradient(90deg, rgba(245,158,11,0.1) 0%, rgba(245,158,11,0.05) 100%)",borderBottom:"1px solid rgba(245,158,11,0.2)",display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:8,background:"rgba(245,158,11,0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#f59e0b"},children:e.jsx(o,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#94a3b8",fontSize:11,textTransform:"uppercase",letterSpacing:.5},children:"Project"}),e.jsx("div",{style:{color:"#f8fafc",fontSize:16,fontWeight:600},children:h})]})]}),e.jsxs("div",{style:{padding:24,display:"grid",gap:20},children:[!l&&e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",color:"#cbd5e1",fontSize:13,fontWeight:600,marginBottom:8},children:["Project Title ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"text",value:u,onChange:e=>x(e.target.value),placeholder:"Enter a title for your project...",style:{width:"100%",background:"#1e293b",border:"1px solid #334155",borderRadius:8,padding:12,color:"#f8fafc",fontSize:14}}),e.jsx("div",{style:{fontSize:11,color:"#64748b",marginTop:4},children:"Give your project a name that describes what you're creating together"})]}),!l&&e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",color:"#cbd5e1",fontSize:13,fontWeight:600,marginBottom:12},children:["Project Type ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:_.map(t=>e.jsxs("button",{type:"button",onClick:()=>!t.comingSoon&&(e=>{switch(q(e),E(null),Y(!1),k(""),e){case"book":case"comic":te(!0),oe(!0),ne(!1),ae(!1);break;case"art":te(!1),oe(!0),ne(!1),ae(!1);break;case"music":te(!1),oe(!0),ne(!0),ae(!1);break;case"video":te(!1),oe(!0),ne(!0),ae(!0)}})(t.value),disabled:t.comingSoon,style:{background:t.comingSoon?"#1e293b":H===t.value?"rgba(245,158,11,0.15)":"#1e293b",border:"2px solid "+(t.comingSoon?"#334155":H===t.value?"#f59e0b":"#334155"),borderRadius:12,padding:16,cursor:t.comingSoon?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:8,transition:"all 0.2s ease",opacity:t.comingSoon?.5:1,position:"relative"},children:[t.comingSoon&&e.jsx("span",{style:{position:"absolute",top:6,right:6,background:"#f59e0b",color:"#000",fontSize:8,fontWeight:700,padding:"2px 4px",borderRadius:3},children:"SOON"}),e.jsx("span",{style:{color:t.comingSoon?"#64748b":H===t.value?"#f59e0b":"#94a3b8"},children:t.icon}),e.jsx("span",{style:{color:t.comingSoon?"#64748b":H===t.value?"#f59e0b":"#f8fafc",fontSize:14,fontWeight:600},children:t.label}),e.jsx("span",{style:{color:"#64748b",fontSize:11,textAlign:"center",lineHeight:1.3},children:t.description})]},t.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",color:"#cbd5e1",fontSize:13,fontWeight:600,marginBottom:12},children:["Their Role ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),N?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:12},children:"Loading roles..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:10,marginBottom:12},children:[O.map(t=>e.jsxs("button",{type:"button",onClick:()=>(e=>{var t,i,o,r,n;if(E(e),Y(!1),e){const s=O.find(t=>t.id===e);if(s){k(s.name);const e=s.default_permissions,a=(null==(t=e.edit)?void 0:t.types)||[];te(a.includes("text")||(null==(i=e.create)?void 0:i.includes("text"))),oe(a.includes("image")||(null==(o=e.create)?void 0:o.includes("image"))),ne(a.includes("audio")||(null==(r=e.create)?void 0:r.includes("audio"))),ae(a.includes("video")||(null==(n=e.create)?void 0:n.includes("video")))}}else k("")})(t.id),style:{background:V===t.id?"rgba(245,158,11,0.15)":"#1e293b",border:"2px solid "+(V===t.id?"#f59e0b":"#334155"),borderRadius:10,padding:"12px 10px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:6,transition:"all 0.2s ease",position:"relative"},children:[V===t.id&&e.jsx("div",{style:{position:"absolute",top:6,right:6,background:"#f59e0b",borderRadius:"50%",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(r,{size:10,color:"#000",strokeWidth:3})}),e.jsx("div",{style:{width:36,height:36,borderRadius:8,background:`${t.color}20`,display:"flex",alignItems:"center",justifyContent:"center",color:t.color},children:e.jsx(B,{icon:t.icon,size:20})}),e.jsx("span",{style:{color:V===t.id?"#f59e0b":"#f8fafc",fontSize:12,fontWeight:600,textAlign:"center"},children:t.name}),e.jsxs("span",{style:{color:"#64748b",fontSize:9,textAlign:"center",lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:[t.description.slice(0,50),t.description.length>50?"...":""]})]},t.id)),e.jsxs("button",{type:"button",onClick:()=>{E(null),Y(!0),k("")},style:{background:X?"rgba(245,158,11,0.15)":"#1e293b",border:"2px solid "+(X?"#f59e0b":"#334155"),borderRadius:10,padding:"12px 10px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:6,transition:"all 0.2s ease"},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:8,background:"rgba(148, 163, 184, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8"},children:e.jsx(f,{size:20,strokeWidth:1.5})}),e.jsx("span",{style:{color:X?"#f59e0b":"#94a3b8",fontSize:12,fontWeight:600},children:"Custom Role"}),e.jsx("span",{style:{color:"#64748b",fontSize:9,textAlign:"center"},children:"Define your own"})]})]}),X&&e.jsx("input",{type:"text",value:S,onChange:e=>k(e.target.value),placeholder:"Enter custom role name...",style:{width:"100%",background:"#1e293b",border:"1px solid #f59e0b",borderRadius:8,padding:12,color:"#f8fafc",fontSize:14}}),V&&!X&&e.jsx("div",{style:{background:"rgba(245,158,11,0.1)",border:"1px solid rgba(245,158,11,0.3)",borderRadius:8,padding:12},children:(()=>{var t,i,o,r;const n=O.find(e=>e.id===V);return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{color:"#f59e0b",fontSize:13,fontWeight:600,marginBottom:4},children:n.name}),e.jsx("div",{style:{color:"#94a3b8",fontSize:12,marginBottom:8},children:n.description}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[(null==(t=n.default_permissions.create)?void 0:t.length)>0&&e.jsxs("span",{style:{background:"rgba(16,185,129,0.15)",color:"#10b981",fontSize:10,padding:"2px 8px",borderRadius:4},children:["Can create: ",n.default_permissions.create.join(", ")]}),(null==(o=null==(i=n.default_permissions.edit)?void 0:i.types)?void 0:o.length)>0&&e.jsxs("span",{style:{background:"rgba(59,130,246,0.15)",color:"#3b82f6",fontSize:10,padding:"2px 8px",borderRadius:4},children:["Can edit: ",n.default_permissions.edit.types.join(", ")," (",n.default_permissions.edit.scope,")"]}),(null==(r=n.default_permissions.review)?void 0:r.length)>0&&e.jsxs("span",{style:{background:"rgba(168,85,247,0.15)",color:"#a855f7",fontSize:10,padding:"2px 8px",borderRadius:4},children:["Can review: ",n.default_permissions.review.join(", ")]})]})]}):null})()})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",color:"#cbd5e1",fontSize:13,fontWeight:600,marginBottom:8},children:"Project Pitch"}),e.jsx("textarea",{value:y,onChange:e=>m(e.target.value),placeholder:"Describe your project and what you're looking for...",style:{width:"100%",minHeight:150,background:"#1e293b",border:"1px solid #334155",borderRadius:8,padding:12,color:"#f8fafc",fontSize:14,fontFamily:"inherit",resize:"vertical"}}),e.jsxs("div",{style:{fontSize:11,color:"#64748b",marginTop:4},children:[y.length,"/1000 characters"]})]}),e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:12,padding:20},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"#f8fafc",fontSize:15,fontWeight:600},children:"Contract Tasks"}),e.jsx("div",{style:{color:"#94a3b8",fontSize:12,marginTop:2},children:"Define specific deliverables with deadlines. These become binding after acceptance."})]}),e.jsx("button",{onClick:()=>{K([...J,{id:Math.random().toString(36).substr(2,9),title:"",description:"",deadline:A()}]),Z(!0)},style:{background:"rgba(245,158,11,0.15)",border:"1px solid #f59e0b",color:"#f59e0b",padding:"8px 16px",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:13},children:"+ Add Task"})]}),0===J.length?e.jsx("div",{style:{padding:24,textAlign:"center",color:"#64748b",fontSize:13,border:"1px dashed #334155",borderRadius:8},children:"No tasks defined yet. Add tasks to create a concrete contract."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:J.map((t,i)=>e.jsx("div",{style:{background:"#0f172a",border:"1px solid #334155",borderRadius:8,padding:16},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12},children:[e.jsxs("div",{style:{flex:1,display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsxs("div",{style:{flex:2},children:[e.jsxs("label",{style:{display:"block",color:"#94a3b8",fontSize:11,marginBottom:4},children:["Task ",i+1,": Title *"]}),e.jsx("input",{type:"text",value:t.title,onChange:e=>de(t.id,"title",e.target.value),placeholder:"e.g., Character designs for Chapter 1",style:{width:"100%",background:"#1e293b",border:"1px solid #334155",borderRadius:6,padding:10,color:"#f8fafc",fontSize:13}})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{display:"block",color:"#94a3b8",fontSize:11,marginBottom:4},children:"Deadline *"}),e.jsx("input",{type:"datetime-local",value:t.deadline,onChange:e=>de(t.id,"deadline",e.target.value),style:{width:"100%",background:"#1e293b",border:"1px solid #334155",borderRadius:6,padding:10,color:"#f8fafc",fontSize:13}})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",color:"#94a3b8",fontSize:11,marginBottom:4},children:"Description (optional)"}),e.jsx("textarea",{value:t.description,onChange:e=>de(t.id,"description",e.target.value),placeholder:"Detailed requirements, expectations, or notes...",rows:2,style:{width:"100%",background:"#1e293b",border:"1px solid #334155",borderRadius:6,padding:10,color:"#f8fafc",fontSize:13,fontFamily:"inherit",resize:"vertical"}})]})]}),e.jsx("button",{onClick:()=>{return e=t.id,void K(J.filter(t=>t.id!==e));var e},style:{background:"transparent",border:"none",color:"#ef4444",fontSize:18,cursor:"pointer",padding:4},children:"×"})]})},t.id))}),J.length>0&&e.jsxs("div",{style:{marginTop:16,padding:12,background:"rgba(245,158,11,0.1)",borderRadius:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:16},children:"⚠️"}),e.jsx("span",{style:{color:"#f59e0b",fontSize:12},children:"Tasks become immutable after the collaborator accepts. Changes require mutual agreement."})]})]}),l&&e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",color:"#cbd5e1",fontSize:13,fontWeight:600,marginBottom:12},children:"Editing Permissions"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:12},children:[{key:"text",label:"Text",value:ee,setter:te},{key:"images",label:"Images",value:ie,setter:oe},{key:"audio",label:"Audio",value:re,setter:ne},{key:"video",label:"Video",value:se,setter:ae}].map(t=>e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:t.value?"rgba(16,185,129,0.15)":"#1e293b",border:"1px solid "+(t.value?"#10b981":"#334155"),borderRadius:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:t.value,onChange:e=>t.setter(e.target.checked),style:{accentColor:"#10b981"}}),e.jsx("span",{style:{color:t.value?"#10b981":"#94a3b8",fontSize:13},children:t.label})]},t.key))})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",color:"#cbd5e1",fontSize:13,fontWeight:600,marginBottom:8},children:["Revenue Split for @",a.username,": ",j,"%"]}),e.jsx("input",{type:"range",min:0,max:100,step:5,value:j,onChange:e=>v(parseInt(e.target.value)),style:{width:"100%"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:11,color:"#64748b",marginTop:4},children:[e.jsxs("span",{children:["You keep: ",100-j,"%"]}),e.jsxs("span",{children:["They get: ",j,"%"]})]})]}),e.jsxs("div",{style:{background:"#1e293b",border:"1px solid #334155",borderRadius:8,padding:16},children:[e.jsx("div",{style:{color:"#94a3b8",fontSize:12,fontWeight:600,marginBottom:12,textTransform:"uppercase",letterSpacing:.5},children:"Preview"}),h&&e.jsxs("div",{style:{marginBottom:12,paddingBottom:12,borderBottom:"1px solid #334155"},children:[e.jsx("div",{style:{color:"#f59e0b",fontSize:11,fontWeight:600,marginBottom:4,textTransform:"uppercase",letterSpacing:.5},children:"Project"}),e.jsx("div",{style:{color:"#f8fafc",fontSize:15,fontWeight:600},children:h})]}),e.jsx("div",{style:{color:"#cbd5e1",fontSize:13,whiteSpace:"pre-wrap",lineHeight:1.6},children:y||"(Your pitch will appear here)"}),J.length>0&&e.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid #334155"},children:[e.jsxs("div",{style:{fontSize:12,color:"#f59e0b",fontWeight:600,marginBottom:8},children:["Contract Tasks (",J.length,")"]}),J.map((t,i)=>e.jsxs("div",{style:{padding:10,background:"#0f172a",borderRadius:6,marginBottom:8,borderLeft:"3px solid #f59e0b"},children:[e.jsx("div",{style:{color:"#f8fafc",fontSize:13,fontWeight:600},children:t.title||"(Untitled)"}),t.description&&e.jsx("div",{style:{color:"#94a3b8",fontSize:12,marginTop:4},children:t.description}),e.jsxs("div",{style:{color:"#f59e0b",fontSize:11,marginTop:6},children:["Due: ",t.deadline?new Date(t.deadline).toLocaleDateString():"(No deadline)"]})]},t.id))]}),e.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid #334155"},children:[e.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:"Revenue Split"}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[e.jsxs("div",{style:{flex:100-j,background:"#334155",height:32,borderRadius:6,display:"grid",placeItems:"center",color:"#cbd5e1",fontSize:12,fontWeight:600},children:["You: ",100-j,"%"]}),e.jsxs("div",{style:{flex:j,background:"#f59e0b",height:32,borderRadius:6,display:"grid",placeItems:"center",color:"#000",fontSize:12,fontWeight:600},children:["@",a.username,": ",j,"%"]})]})]})]}),W&&e.jsx("div",{style:{background:"rgba(16,185,129,0.1)",border:"1px solid #10b981",color:"#10b981",padding:12,borderRadius:8,fontSize:13},children:W}),I&&e.jsx("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid #ef4444",color:"#ef4444",padding:12,borderRadius:8,fontSize:13},children:I}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[e.jsx("button",{onClick:s,style:{background:"transparent",border:"1px solid #334155",color:"#cbd5e1",padding:"10px 20px",borderRadius:8,fontWeight:600,cursor:"pointer"},children:"Cancel"}),e.jsx("button",{onClick:()=>{T(""),P("");for(const e of J){if(!e.title.trim())return void P("All tasks must have a title");if(!e.deadline)return void P("All tasks must have a deadline")}j>=50?F(!0):ce()},disabled:C||!y.trim()||y.length>1e3,style:{background:C?"#64748b":"#f59e0b",color:"#000",border:"none",padding:"10px 24px",borderRadius:8,fontWeight:700,cursor:C?"not-allowed":"pointer",opacity:!y.trim()||y.length>1e3?.5:1},children:C?"Sending...":"Send Invite"})]})]})]}),$&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1100,padding:20},children:e.jsxs("div",{style:{background:"#0f172a",border:"2px solid #f59e0b",borderRadius:16,padding:32,maxWidth:500,width:"100%",boxShadow:"0 0 40px rgba(245, 158, 11, 0.3)"},children:[e.jsx("div",{style:{width:64,height:64,borderRadius:"50%",background:"rgba(245, 158, 11, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",fontSize:32},children:e.jsx("span",{role:"img","aria-label":"warning",children:"⚠️"})}),e.jsx("h3",{style:{color:"#f59e0b",fontSize:20,fontWeight:700,textAlign:"center",marginBottom:16},children:"Voting Power Warning"}),e.jsxs("div",{style:{color:"#cbd5e1",fontSize:14,lineHeight:1.6,marginBottom:24},children:[e.jsxs("p",{style:{marginBottom:12},children:["By allocating ",e.jsxs("strong",{style:{color:"#f59e0b"},children:[j,"%"]})," revenue share to @",a.username,", you will:"]}),e.jsxs("ul",{style:{margin:0,paddingLeft:20,display:"flex",flexDirection:"column",gap:8},children:[e.jsx("li",{children:j>50?e.jsxs("span",{children:[e.jsx("strong",{style:{color:"#ef4444"},children:"Become the minority owner"})," (",100-j,"% vs ",j,"%)"]}):e.jsxs("span",{children:[e.jsx("strong",{style:{color:"#f59e0b"},children:"Share equal voting control"})," (50% vs 50%)"]})}),e.jsx("li",{children:e.jsx("span",{children:"Require their approval for all project decisions"})}),e.jsx("li",{children:e.jsxs("span",{children:["Need ",j>50?"their agreement":"unanimous agreement"," for revenue changes"]})})]}),e.jsx("div",{style:{marginTop:16,padding:12,background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:8},children:e.jsx("strong",{style:{color:"#ef4444"},children:j>50?"Allocations above 50% give collaborators majority control.":"Allocations of 50% give collaborators veto power on all decisions."})})]}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[e.jsx("button",{onClick:()=>F(!1),style:{background:"transparent",border:"1px solid #334155",color:"#cbd5e1",padding:"12px 24px",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:14},children:"Go Back"}),e.jsx("button",{onClick:ce,style:{background:"#f59e0b",color:"#000",border:"none",padding:"12px 24px",borderRadius:8,fontWeight:700,cursor:"pointer",fontSize:14},children:"I Understand, Send Anyway"})]})]})})]})}export{P as I};
