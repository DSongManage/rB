import{c as t}from"./index-k6dQoM7E.js";import{P as n,a as e,L as o,d as r,V as a,f as c,C as s,S as i,W as u,g as d,h as f,c as l}from"./web3auth-ChsgSaJj.js";
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=t("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),w=t("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),g=new n("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new n("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const p=new n("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new n("So11111111111111111111111111111111111111112"),new n("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const y=t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)});var B,k={};var m=(B||(B=1,Object.defineProperty(k,"__esModule",{value:!0}),k.toBigIntLE=function(t){{const n=e.from(t);n.reverse();const o=n.toString("hex");return 0===o.length?BigInt(0):BigInt(`0x${o}`)}},k.toBigIntBE=function(t){{const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},k.toBufferLE=function(t,n){{const o=t.toString(16),r=e.from(o.padStart(2*n,"0").slice(0,2*n),"hex");return r.reverse(),r}},k.toBufferBE=function(t,n){{const o=t.toString(16);return e.from(o.padStart(2*n,"0").slice(0,2*n),"hex")}}),k);const b=(v=8,t=>{const n=o.blob(v,t),{encode:r,decode:a}=y(n),c=n;return c.decode=(t,n)=>{const o=a(t,n);return m.toBigIntLE(e.from(o))},c.encode=(t,n,e)=>{const o=m.toBufferLE(t,v);return r(o,n,e)},c});var v;const A=t=>{const e=o.blob(32,t),{encode:r,decode:a}=y(e),c=e;return c.decode=(t,e)=>{const o=a(t,e);return new n(o)},c.encode=(t,n,e)=>{const o=t.toBuffer();return r(o,n,e)},c};class E extends Error{constructor(t){super(t)}}class x extends E{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}async function S(t,e,o=!1,r=g,a=p){if(!o&&!n.isOnCurve(e.toBuffer()))throw new x;const[c]=await n.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],a);return c}o.struct([o.u32("mintAuthorityOption"),A("mintAuthority"),b("supply"),o.u8("decimals"),(t=>{const n=o.u8(t),{encode:e,decode:r}=y(n),a=n;return a.decode=(t,n)=>!!r(t,n),a.encode=(t,n,o)=>{const r=Number(t);return e(r,n,o)},a})("isInitialized"),o.u32("freezeAuthorityOption"),A("freezeAuthority")]).span;const N="https://api.devnet.solana.com",C="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",P=6;let L=null,T=null;function z(){return T||(T=new f(N,"confirmed")),T}async function I(){const t=await async function(){if(L)return L;const t={chainNamespace:s.SOLANA,chainId:"0x3",rpcTarget:N,displayName:"Solana Devnet",blockExplorerUrl:"https://solscan.io/?cluster=devnet",ticker:"SOL",tickerName:"Solana"},n=new i({config:{chainConfig:t}});return L=new u({clientId:"BKECVnfm_tGc5XfDSuwBycgrP0N1sPen30bFwzRxdZFvXSDYzSzJ7tCdYYS3xJ0t_6xU-Qy8Slcr5oBCtK3kNKs",chainConfig:t,privateKeyProvider:n,web3AuthNetwork:d.SAPPHIRE_DEVNET,uiConfig:{appName:"RenaissBlock",mode:"dark",loginMethodsOrder:["google","discord"],defaultLanguage:"en"}}),await L.initModal(),L}();if(t.connected&&t.provider)return t.provider;const n=await t.connect();if(!n)throw new Error("Failed to connect to Web3Auth");return n}async function M(){const t=await I(),e=await t.request({method:"getAccounts"});if(!e||0===e.length)throw new Error("No accounts found");return new n(e[0])}async function H(t){const e=await I(),o=z(),a=new r(e),c=await a.requestAccounts();if(!c||0===c.length)throw new Error("No accounts found");const s=new n(c[0]);if(t instanceof l){const{blockhash:n}=await o.getLatestBlockhash();t.recentBlockhash=n,t.feePayer=s}const i=await a.signAndSendTransaction(t),u="string"==typeof i?i:i.signature,{blockhash:d,lastValidBlockHeight:f}=await o.getLatestBlockhash();return await o.confirmTransaction({signature:u,blockhash:d,lastValidBlockHeight:f}),u}async function O(t){const e=await I(),o=new r(e),c=await o.requestAccounts();if(!c||0===c.length)throw new Error("No accounts found");const s=new n(c[0]),i=Uint8Array.from(atob(t),t=>t.charCodeAt(0)),u=a.deserialize(i),d=await o.signTransaction(u),f=d.message.staticAccountKeys;let l=-1;for(let n=0;n<f.length;n++)if(f[n].equals(s)){l=n;break}if(-1===l)throw new Error("User public key not found in transaction signers");const h=d.serialize();return{signedTransaction:btoa(String.fromCharCode(...h)),userSignatureIndex:l}}async function V(t){const e=z(),o=new n(t);return await e.getBalance(o)/c}async function q(t){var e;const o=z(),r=new n(t),a=new n(C);try{const t=await S(a,r,!1,g),n=await o.getTokenAccountBalance(t);return parseFloat(n.value.uiAmountString||"0")}catch(c){if(null==(e=c.message)?void 0:e.includes("could not find account"))return 0;throw c}}function D(t){return`https://solscan.io/tx/${t}?cluster=devnet`}function X(t){return`https://solscan.io/account/${t}?cluster=devnet`}function J(t){try{return new n(t),!0}catch{return!1}}export{p as A,h as C,w as R,g as T,C as U,S as a,M as b,q as c,H as d,D as e,P as f,z as g,V as h,J as i,X as j,O as s,b as u};
