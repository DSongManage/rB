{"version":3,"file":"DashboardPage-CiU7BFi1.js","sources":["../../src/pages/DashboardPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { API_URL } from '../config';\n\nexport default function DashboardPage() {\n  const [data, setData] = useState<{content_count:number; sales:number; tier?:string; fee?:number}>({content_count:0, sales:0});\n\n  useEffect(()=>{\n    const abortController = new AbortController();\n\n    fetch(`${API_URL}/api/dashboard/`, {\n      credentials: 'include',\n      signal: abortController.signal,\n    })\n      .then(r=>r.json())\n      .then(setData)\n      .catch((err)=>{\n        if (err.name !== 'AbortError') {\n          setData({content_count:0, sales:0});\n        }\n      });\n\n    return () => abortController.abort();\n  },[]);\n  return (\n    <div className=\"page\">\n      <h2>Dashboard</h2>\n      <div>Contents: {data.content_count}</div>\n      <div>Sales: ${data.sales}</div>\n      <div>Tier: {data.tier ?? 'N/A'} (Fee: {data.fee ?? 'N/A'}%)</div>\n    </div>\n  );\n}\n"],"names":["DashboardPage","data","setData","useState","content_count","sales","useEffect","abortController","AbortController","fetch","API_URL","credentials","signal","then","r","json","catch","err","name","abort","jsxs","className","children","jsx","tier","fee"],"mappings":"yJAGA,SAAwBA,IACtB,MAAOC,EAAMC,GAAWC,EAAAA,SAA0E,CAACC,cAAc,EAAGC,MAAM,IAmB1H,OAjBAC,EAAAA,UAAU,KACR,MAAMC,EAAkB,IAAIC,gBAc5B,OAZAC,MAAM,GAAGC,mBAA0B,CACjCC,YAAa,UACbC,OAAQL,EAAgBK,SAEvBC,KAAKC,GAAGA,EAAEC,QACVF,KAAKX,GACLc,MAAOC,IACW,eAAbA,EAAIC,MACNhB,EAAQ,CAACE,cAAc,EAAGC,MAAM,MAI/B,IAAME,EAAgBY,SAC7B,MAEAC,KAAC,MAAA,CAAIC,UAAU,OACbC,SAAA,GAAAC,IAAC,MAAGD,SAAA,qBACH,MAAA,CAAIA,SAAA,CAAA,aAAWrB,EAAKG,wBACpB,MAAA,CAAIkB,SAAA,CAAA,WAASrB,EAAKI,gBAClB,MAAA,CAAIiB,SAAA,CAAA,SAAOrB,EAAKuB,MAAQ,MAAM,UAAQvB,EAAKwB,KAAO,MAAM,UAG/D"}