{"version":3,"file":"CollaborativeComicEditor-VBS_JCVD.js","sources":["../../node_modules/lucide-react/dist/esm/icons/mouse-pointer.js","../../node_modules/lucide-react/dist/esm/icons/panels-top-left.js","../../node_modules/lucide-react/dist/esm/icons/pencil.js","../../node_modules/lucide-react/dist/esm/icons/rocket.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/spline.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../node_modules/prop-types/factoryWithThrowingShims.js","../../node_modules/prop-types/index.js","../../node_modules/lodash/eq.js","../../node_modules/lodash/_assocIndexOf.js","../../node_modules/lodash/_ListCache.js","../../node_modules/lodash/_listCacheClear.js","../../node_modules/lodash/_listCacheDelete.js","../../node_modules/lodash/_listCacheGet.js","../../node_modules/lodash/_listCacheHas.js","../../node_modules/lodash/_listCacheSet.js","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/isObject.js","../../node_modules/lodash/isFunction.js","../../node_modules/lodash/_isMasked.js","../../node_modules/lodash/_coreJsData.js","../../node_modules/lodash/_toSource.js","../../node_modules/lodash/_getNative.js","../../node_modules/lodash/_baseIsNative.js","../../node_modules/lodash/_getValue.js","../../node_modules/lodash/_Map.js","../../node_modules/lodash/_nativeCreate.js","../../node_modules/lodash/_Hash.js","../../node_modules/lodash/_hashClear.js","../../node_modules/lodash/_hashDelete.js","../../node_modules/lodash/_hashGet.js","../../node_modules/lodash/_hashHas.js","../../node_modules/lodash/_hashSet.js","../../node_modules/lodash/_getMapData.js","../../node_modules/lodash/_isKeyable.js","../../node_modules/lodash/_MapCache.js","../../node_modules/lodash/_mapCacheClear.js","../../node_modules/lodash/_mapCacheDelete.js","../../node_modules/lodash/_mapCacheGet.js","../../node_modules/lodash/_mapCacheHas.js","../../node_modules/lodash/_mapCacheSet.js","../../node_modules/lodash/_Stack.js","../../node_modules/lodash/_stackClear.js","../../node_modules/lodash/_stackDelete.js","../../node_modules/lodash/_stackGet.js","../../node_modules/lodash/_stackHas.js","../../node_modules/lodash/_stackSet.js","../../node_modules/lodash/_SetCache.js","../../node_modules/lodash/_setCacheAdd.js","../../node_modules/lodash/_setCacheHas.js","../../node_modules/lodash/_equalArrays.js","../../node_modules/lodash/_arraySome.js","../../node_modules/lodash/_cacheHas.js","../../node_modules/lodash/_equalByTag.js","../../node_modules/lodash/_Uint8Array.js","../../node_modules/lodash/_mapToArray.js","../../node_modules/lodash/_setToArray.js","../../node_modules/lodash/isArray.js","../../node_modules/lodash/_baseGetAllKeys.js","../../node_modules/lodash/_arrayPush.js","../../node_modules/lodash/_getSymbols.js","../../node_modules/lodash/_arrayFilter.js","../../node_modules/lodash/stubArray.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/isArguments.js","../../node_modules/lodash/_baseIsArguments.js","../../node_modules/lodash/isBuffer.js","../../node_modules/lodash/stubFalse.js","../../node_modules/lodash/isLength.js","../../node_modules/lodash/isTypedArray.js","../../node_modules/lodash/_baseIsTypedArray.js","../../node_modules/lodash/_baseUnary.js","../../node_modules/lodash/_nodeUtil.js","../../node_modules/lodash/_arrayLikeKeys.js","../../node_modules/lodash/_baseTimes.js","../../node_modules/lodash/_isIndex.js","../../node_modules/lodash/_nativeKeys.js","../../node_modules/lodash/_overArg.js","../../node_modules/lodash/_baseKeys.js","../../node_modules/lodash/_isPrototype.js","../../node_modules/lodash/keys.js","../../node_modules/lodash/isArrayLike.js","../../node_modules/lodash/_equalObjects.js","../../node_modules/lodash/_getAllKeys.js","../../node_modules/lodash/_getTag.js","../../node_modules/lodash/_DataView.js","../../node_modules/lodash/_Promise.js","../../node_modules/lodash/_Set.js","../../node_modules/lodash/_WeakMap.js","../../node_modules/lodash/_baseIsEqual.js","../../node_modules/lodash/_baseIsEqualDeep.js","../../node_modules/react-quill/node_modules/quill/dist/quill.js","../../node_modules/react-quill/lib/index.js","../../node_modules/lodash/isEqual.js","../../src/components/BookEditor/CopyrightPreview.tsx","../../node_modules/clsx/dist/clsx.m.js","../../node_modules/react-draggable/build/cjs/utils/shims.js","../../node_modules/react-draggable/build/cjs/utils/domFns.js","../../node_modules/react-draggable/build/cjs/utils/getPrefix.js","../../node_modules/react-draggable/build/cjs/utils/positionFns.js","../../node_modules/react-draggable/build/cjs/utils/log.js","../../node_modules/react-draggable/build/cjs/DraggableCore.js","../../node_modules/react-draggable/build/cjs/Draggable.js","../../node_modules/react-draggable/build/cjs/cjs.js","../../node_modules/re-resizable/lib/resizer.js","../../node_modules/re-resizable/lib/index.js","../../node_modules/react-rnd/lib/index.js","../../src/components/collaboration/lineEditor/LineRenderer.tsx","../../src/components/collaboration/lineEditor/BezierHandles.tsx","../../src/components/collaboration/lineEditor/PanelRegionOverlay.tsx","../../src/components/collaboration/lineEditor/DrawingCanvas.tsx","../../src/components/collaboration/lineEditor/LineBasedEditor.tsx","../../src/components/collaboration/CollaborativeComicEditor.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12.586 12.586 19 19\", key: \"ea5xo7\" }],\n  [\n    \"path\",\n    {\n      d: \"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z\",\n      key: \"277e5u\"\n    }\n  ]\n];\nconst MousePointer = createLucideIcon(\"mouse-pointer\", __iconNode);\n\nexport { __iconNode, MousePointer as default };\n//# sourceMappingURL=mouse-pointer.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M9 21V9\", key: \"1oto5p\" }]\n];\nconst PanelsTopLeft = createLucideIcon(\"panels-top-left\", __iconNode);\n\nexport { __iconNode, PanelsTopLeft as default };\n//# sourceMappingURL=panels-top-left.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n];\nconst Pencil = createLucideIcon(\"pencil\", __iconNode);\n\nexport { __iconNode, Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z\",\n      key: \"m3kijz\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z\",\n      key: \"1fmvmk\"\n    }\n  ],\n  [\"path\", { d: \"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0\", key: \"1f8sc4\" }],\n  [\"path\", { d: \"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5\", key: \"qeys4\" }]\n];\nconst Rocket = createLucideIcon(\"rocket\", __iconNode);\n\nexport { __iconNode, Rocket as default };\n//# sourceMappingURL=rocket.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n];\nconst Save = createLucideIcon(\"save\", __iconNode);\n\nexport { __iconNode, Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"19\", cy: \"5\", r: \"2\", key: \"mhkx31\" }],\n  [\"circle\", { cx: \"5\", cy: \"19\", r: \"2\", key: \"v8kfzx\" }],\n  [\"path\", { d: \"M5 17A12 12 0 0 1 17 5\", key: \"1okkup\" }]\n];\nconst Spline = createLucideIcon(\"spline\", __iconNode);\n\nexport { __iconNode, Spline as default };\n//# sourceMappingURL=spline.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v12\", key: \"1x0j5s\" }],\n  [\"path\", { d: \"m17 8-5-5-5 5\", key: \"7q97r8\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar format_1 = __webpack_require__(18);\nvar leaf_1 = __webpack_require__(19);\nvar scroll_1 = __webpack_require__(45);\nvar inline_1 = __webpack_require__(46);\nvar block_1 = __webpack_require__(47);\nvar embed_1 = __webpack_require__(48);\nvar text_1 = __webpack_require__(49);\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar store_1 = __webpack_require__(31);\nvar Registry = __webpack_require__(1);\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attribute: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default,\n    },\n};\nexports.default = Parchment;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParchmentError = /** @class */ (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        var _this = this;\n        message = '[Parchment] ' + message;\n        _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope = exports.Scope || (exports.Scope = {}));\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n    }\n    var BlotClass = match;\n    var node = \n    // @ts-ignore\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    // @ts-ignore\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n        // @ts-ignore\n    }\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n        match = types['text'];\n    }\n    else if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            match = classes[names[i]];\n            if (match)\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n                Definition.tagName = Definition.tagName.map(function (tagName) {\n                    return tagName.toUpperCase();\n                });\n            }\n            else {\n                Definition.tagName = Definition.tagName.toUpperCase();\n            }\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar diff = __webpack_require__(51);\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\nvar op = __webpack_require__(20);\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = extend(true, {}, newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.filter = function (predicate) {\n  return this.ops.filter(predicate);\n};\n\nDelta.prototype.forEach = function (predicate) {\n  this.ops.forEach(predicate);\n};\n\nDelta.prototype.map = function (predicate) {\n  return this.ops.map(predicate);\n};\n\nDelta.prototype.partition = function (predicate) {\n  var passed = [], failed = [];\n  this.forEach(function(op) {\n    var target = predicate(op) ? passed : failed;\n    target.push(op);\n  });\n  return [passed, failed];\n};\n\nDelta.prototype.reduce = function (predicate, initial) {\n  return this.ops.reduce(predicate, initial);\n};\n\nDelta.prototype.changeLength = function () {\n  return this.reduce(function (length, elem) {\n    if (elem.insert) {\n      return length + op.length(elem);\n    } else if (elem.delete) {\n      return length - elem.delete;\n    }\n    return length;\n  }, 0);\n};\n\nDelta.prototype.length = function () {\n  return this.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var ops = [];\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      ops.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return new Delta(ops);\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var ops = [];\n  var firstOther = otherIter.peek();\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n    var firstLeft = firstOther.retain;\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n      firstLeft -= thisIter.peekLength();\n      ops.push(thisIter.next());\n    }\n    if (firstOther.retain - firstLeft > 0) {\n      otherIter.next(firstOther.retain - firstLeft);\n    }\n  }\n  var delta = new Delta(ops);\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n\n        // Optimization if rest of other is just retain\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n          var rest = new Delta(thisIter.rest());\n          return delta.concat(rest).chop();\n        }\n\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = new Delta(this.ops.slice());\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other, index) {\n  if (this.ops === other.ops) {\n    return new Delta();\n  }\n  var strings = [this, other].map(function (delta) {\n    return delta.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (delta === other) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var delta = new Delta();\n  var diffResult = diff(strings[0], strings[1], index);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.eachLine = function (predicate, newline) {\n  newline = newline || '\\n';\n  var iter = op.iterator(this.ops);\n  var line = new Delta();\n  var i = 0;\n  while (iter.hasNext()) {\n    if (iter.peekType() !== 'insert') return;\n    var thisOp = iter.peek();\n    var start = op.length(thisOp) - iter.peekLength();\n    var index = typeof thisOp.insert === 'string' ?\n      thisOp.insert.indexOf(newline, start) - start : -1;\n    if (index < 0) {\n      line.push(iter.next());\n    } else if (index > 0) {\n      line.push(iter.next(index));\n    } else {\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n        return;\n      }\n      i += 1;\n      line = new Delta();\n    }\n  }\n  if (line.length() > 0) {\n    predicate(line, {}, i);\n  }\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NEWLINE_LENGTH = 1;\n\nvar BlockEmbed = function (_Parchment$Embed) {\n  _inherits(BlockEmbed, _Parchment$Embed);\n\n  function BlockEmbed() {\n    _classCallCheck(this, BlockEmbed);\n\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n  }\n\n  _createClass(BlockEmbed, [{\n    key: 'attach',\n    value: function attach() {\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n    }\n  }, {\n    key: 'delta',\n    value: function delta() {\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n      if (attribute != null) {\n        this.attributes.attribute(attribute, value);\n      }\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      this.format(name, value);\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (typeof value === 'string' && value.endsWith('\\n')) {\n        var block = _parchment2.default.create(Block.blotName);\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\n        block.insertAt(0, value.slice(0, -1));\n      } else {\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n    }\n  }]);\n\n  return BlockEmbed;\n}(_parchment2.default.Embed);\n\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n\nvar Block = function (_Parchment$Block) {\n  _inherits(Block, _Parchment$Block);\n\n  function Block(domNode) {\n    _classCallCheck(this, Block);\n\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n    _this2.cache = {};\n    return _this2;\n  }\n\n  _createClass(Block, [{\n    key: 'delta',\n    value: function delta() {\n      if (this.cache.delta == null) {\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n          if (leaf.length() === 0) {\n            return delta;\n          } else {\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\n          }\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n      }\n      return this.cache.delta;\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n      this.cache = {};\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length <= 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n        if (index + length === this.length()) {\n          this.format(name, value);\n        }\n      } else {\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n      if (value.length === 0) return;\n      var lines = value.split('\\n');\n      var text = lines.shift();\n      if (text.length > 0) {\n        if (index < this.length() - 1 || this.children.tail == null) {\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n        } else {\n          this.children.tail.insertAt(this.children.tail.length(), text);\n        }\n        this.cache = {};\n      }\n      var block = this;\n      lines.reduce(function (index, line) {\n        block = block.split(index, true);\n        block.insertAt(0, line);\n        return line.length;\n      }, index + text.length);\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      var head = this.children.head;\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n      if (head instanceof _break2.default) {\n        head.remove();\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      if (this.cache.length == null) {\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n      }\n      return this.cache.length;\n    }\n  }, {\n    key: 'moveChildren',\n    value: function moveChildren(target, ref) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n      this.cache = {};\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n      this.cache = {};\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n      this.cache = {};\n    }\n  }, {\n    key: 'split',\n    value: function split(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n        var clone = this.clone();\n        if (index === 0) {\n          this.parent.insertBefore(clone, this);\n          return this;\n        } else {\n          this.parent.insertBefore(clone, this.next);\n          return clone;\n        }\n      } else {\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n        this.cache = {};\n        return next;\n      }\n    }\n  }]);\n\n  return Block;\n}(_parchment2.default.Block);\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = 'break';\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\nfunction bubbleFormats(blot) {\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = (0, _extend2.default)(formats, blot.formats());\n  }\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats);\n}\n\nexports.bubbleFormats = bubbleFormats;\nexports.BlockEmbed = BlockEmbed;\nexports.default = Block;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.overload = exports.expandConfig = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(50);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _editor = __webpack_require__(14);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _selection = __webpack_require__(15);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill');\n\nvar Quill = function () {\n  _createClass(Quill, null, [{\n    key: 'debug',\n    value: function debug(limit) {\n      if (limit === true) {\n        limit = 'log';\n      }\n      _logger2.default.level(limit);\n    }\n  }, {\n    key: 'find',\n    value: function find(node) {\n      return node.__quill || _parchment2.default.find(node);\n    }\n  }, {\n    key: 'import',\n    value: function _import(name) {\n      if (this.imports[name] == null) {\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n      }\n      return this.imports[name];\n    }\n  }, {\n    key: 'register',\n    value: function register(path, target) {\n      var _this = this;\n\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof path !== 'string') {\n        var name = path.attrName || path.blotName;\n        if (typeof name === 'string') {\n          // register(Blot | Attributor, overwrite)\n          this.register('formats/' + name, path, target);\n        } else {\n          Object.keys(path).forEach(function (key) {\n            _this.register(key, path[key], target);\n          });\n        }\n      } else {\n        if (this.imports[path] != null && !overwrite) {\n          debug.warn('Overwriting ' + path + ' with', target);\n        }\n        this.imports[path] = target;\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n          _parchment2.default.register(target);\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\n          target.register();\n        }\n      }\n    }\n  }]);\n\n  function Quill(container) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Quill);\n\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    var html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    this.container.__quill = this;\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter4.default();\n    this.scroll = _parchment2.default.create(this.root, {\n      emitter: this.emitter,\n      whitelist: this.options.formats\n    });\n    this.editor = new _editor2.default(this.scroll);\n    this.selection = new _selection2.default(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.theme.init();\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n      var range = _this2.selection.lastRange;\n      var index = range && range.length === 0 ? range.index : undefined;\n      modify.call(_this2, function () {\n        return _this2.editor.update(null, mutations, index);\n      }, source);\n    });\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n  }\n\n  _createClass(Quill, [{\n    key: 'addContainer',\n    value: function addContainer(container) {\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (typeof container === 'string') {\n        var className = container;\n        container = document.createElement('div');\n        container.classList.add(className);\n      }\n      this.container.insertBefore(container, refNode);\n      return container;\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selection.setRange(null);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length, source) {\n      var _this3 = this;\n\n      var _overload = overload(index, length, source);\n\n      var _overload2 = _slicedToArray(_overload, 4);\n\n      index = _overload2[0];\n      length = _overload2[1];\n      source = _overload2[3];\n\n      return modify.call(this, function () {\n        return _this3.editor.deleteText(index, length);\n      }, source, index, -1 * length);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.enable(false);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.scroll.enable(enabled);\n      this.container.classList.toggle('ql-disabled', !enabled);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      var scrollTop = this.scrollingContainer.scrollTop;\n      this.selection.focus();\n      this.scrollingContainer.scrollTop = scrollTop;\n      this.scrollIntoView();\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var _this4 = this;\n\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        var range = _this4.getSelection(true);\n        var change = new _quillDelta2.default();\n        if (range == null) {\n          return change;\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n        } else if (range.length === 0) {\n          _this4.selection.format(name, value);\n          return change;\n        } else {\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n        }\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\n        return change;\n      }, source);\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length, name, value, source) {\n      var _this5 = this;\n\n      var formats = void 0;\n\n      var _overload3 = overload(index, length, name, value, source);\n\n      var _overload4 = _slicedToArray(_overload3, 4);\n\n      index = _overload4[0];\n      length = _overload4[1];\n      formats = _overload4[2];\n      source = _overload4[3];\n\n      return modify.call(this, function () {\n        return _this5.editor.formatLine(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length, name, value, source) {\n      var _this6 = this;\n\n      var formats = void 0;\n\n      var _overload5 = overload(index, length, name, value, source);\n\n      var _overload6 = _slicedToArray(_overload5, 4);\n\n      index = _overload6[0];\n      length = _overload6[1];\n      formats = _overload6[2];\n      source = _overload6[3];\n\n      return modify.call(this, function () {\n        return _this6.editor.formatText(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var bounds = void 0;\n      if (typeof index === 'number') {\n        bounds = this.selection.getBounds(index, length);\n      } else {\n        bounds = this.selection.getBounds(index.index, index.length);\n      }\n      var containerBounds = this.container.getBoundingClientRect();\n      return {\n        bottom: bounds.bottom - containerBounds.top,\n        height: bounds.height,\n        left: bounds.left - containerBounds.left,\n        right: bounds.right - containerBounds.left,\n        top: bounds.top - containerBounds.top,\n        width: bounds.width\n      };\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload7 = overload(index, length);\n\n      var _overload8 = _slicedToArray(_overload7, 2);\n\n      index = _overload8[0];\n      length = _overload8[1];\n\n      return this.editor.getContents(index, length);\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (typeof index === 'number') {\n        return this.editor.getFormat(index, length);\n      } else {\n        return this.editor.getFormat(index.index, index.length);\n      }\n    }\n  }, {\n    key: 'getIndex',\n    value: function getIndex(blot) {\n      return blot.offset(this.scroll);\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.scroll.length();\n    }\n  }, {\n    key: 'getLeaf',\n    value: function getLeaf(index) {\n      return this.scroll.leaf(index);\n    }\n  }, {\n    key: 'getLine',\n    value: function getLine(index) {\n      return this.scroll.line(index);\n    }\n  }, {\n    key: 'getLines',\n    value: function getLines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      if (typeof index !== 'number') {\n        return this.scroll.lines(index.index, index.length);\n      } else {\n        return this.scroll.lines(index, length);\n      }\n    }\n  }, {\n    key: 'getModule',\n    value: function getModule(name) {\n      return this.theme.modules[name];\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (focus) this.focus();\n      this.update(); // Make sure we access getRange with editor in consistent state\n      return this.selection.getRange()[0];\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload9 = overload(index, length);\n\n      var _overload10 = _slicedToArray(_overload9, 2);\n\n      index = _overload10[0];\n      length = _overload10[1];\n\n      return this.editor.getText(index, length);\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.selection.hasFocus();\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      var _this7 = this;\n\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n\n      return modify.call(this, function () {\n        return _this7.editor.insertEmbed(index, embed, value);\n      }, source, index);\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text, name, value, source) {\n      var _this8 = this;\n\n      var formats = void 0;\n\n      var _overload11 = overload(index, 0, name, value, source);\n\n      var _overload12 = _slicedToArray(_overload11, 4);\n\n      index = _overload12[0];\n      formats = _overload12[2];\n      source = _overload12[3];\n\n      return modify.call(this, function () {\n        return _this8.editor.insertText(index, text, formats);\n      }, source, index, text.length);\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return !this.container.classList.contains('ql-disabled');\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      return this.emitter.off.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      return this.emitter.on.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'once',\n    value: function once() {\n      return this.emitter.once.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'pasteHTML',\n    value: function pasteHTML(index, html, source) {\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length, source) {\n      var _this9 = this;\n\n      var _overload13 = overload(index, length, source);\n\n      var _overload14 = _slicedToArray(_overload13, 4);\n\n      index = _overload14[0];\n      length = _overload14[1];\n      source = _overload14[3];\n\n      return modify.call(this, function () {\n        return _this9.editor.removeFormat(index, length);\n      }, source, index);\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView() {\n      this.selection.scrollIntoView(this.scrollingContainer);\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(delta) {\n      var _this10 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        var length = _this10.getLength();\n        var deleted = _this10.editor.deleteText(0, length);\n        var applied = _this10.editor.applyDelta(delta);\n        var lastOp = applied.ops[applied.ops.length - 1];\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        var ret = deleted.compose(applied);\n        return ret;\n      }, source);\n    }\n  }, {\n    key: 'setSelection',\n    value: function setSelection(index, length, source) {\n      if (index == null) {\n        this.selection.setRange(null, length || Quill.sources.API);\n      } else {\n        var _overload15 = overload(index, length, source);\n\n        var _overload16 = _slicedToArray(_overload15, 4);\n\n        index = _overload16[0];\n        length = _overload16[1];\n        source = _overload16[3];\n\n        this.selection.setRange(new _selection.Range(index, length), source);\n        if (source !== _emitter4.default.sources.SILENT) {\n          this.selection.scrollIntoView(this.scrollingContainer);\n        }\n      }\n    }\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      var delta = new _quillDelta2.default().insert(text);\n      return this.setContents(delta, source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n      this.selection.update(source);\n      return change;\n    }\n  }, {\n    key: 'updateContents',\n    value: function updateContents(delta) {\n      var _this11 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        return _this11.editor.applyDelta(delta, source);\n      }, source, true);\n    }\n  }]);\n\n  return Quill;\n}();\n\nQuill.DEFAULTS = {\n  bounds: null,\n  formats: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  scrollingContainer: null,\n  strict: true,\n  theme: 'default'\n};\nQuill.events = _emitter4.default.events;\nQuill.sources = _emitter4.default.sources;\n// eslint-disable-next-line no-undef\nQuill.version =  false ? 'dev' : \"1.3.7\";\n\nQuill.imports = {\n  'delta': _quillDelta2.default,\n  'parchment': _parchment2.default,\n  'core/module': _module2.default,\n  'core/theme': _theme2.default\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = (0, _extend2.default)(true, {\n    container: container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true\n    }\n  }, userConfig);\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme2.default;\n  } else {\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\n    if (userConfig.theme == null) {\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n    }\n  }\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(function (config) {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(function (module) {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  var moduleConfig = moduleNames.reduce(function (config, name) {\n    var moduleClass = Quill.import('modules/' + name);\n    if (moduleClass == null) {\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n    return config;\n  }, {});\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n    return new _quillDelta2.default();\n  }\n  var range = index == null ? null : this.getSelection();\n  var oldDelta = this.editor.delta;\n  var change = modifier();\n  if (range != null) {\n    if (index === true) index = range.index;\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, _emitter4.default.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    var _emitter;\n\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n    if (source !== _emitter4.default.sources.SILENT) {\n      var _emitter2;\n\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  var formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || _emitter4.default.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  var start = void 0,\n      end = void 0;\n  if (index instanceof _quillDelta2.default) {\n    var _map = [range.index, range.index + range.length].map(function (pos) {\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n    });\n\n    var _map2 = _slicedToArray(_map, 2);\n\n    start = _map2[0];\n    end = _map2[1];\n  } else {\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    });\n\n    var _map4 = _slicedToArray(_map3, 2);\n\n    start = _map4[0];\n    end = _map4[1];\n  }\n  return new _selection.Range(start, end - start);\n}\n\nexports.expandConfig = expandConfig;\nexports.overload = overload;\nexports.default = Quill;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Inline = function (_Parchment$Inline) {\n  _inherits(Inline, _Parchment$Inline);\n\n  function Inline() {\n    _classCallCheck(this, Inline);\n\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n  }\n\n  _createClass(Inline, [{\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n        var blot = this.isolate(index, length);\n        if (value) {\n          blot.wrap(name, value);\n        }\n      } else {\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n        var parent = this.parent.isolate(this.offset(), this.length());\n        this.moveChildren(parent);\n        parent.wrap(this);\n      }\n    }\n  }], [{\n    key: 'compare',\n    value: function compare(self, other) {\n      var selfIndex = Inline.order.indexOf(self);\n      var otherIndex = Inline.order.indexOf(other);\n      if (selfIndex >= 0 || otherIndex >= 0) {\n        return selfIndex - otherIndex;\n      } else if (self === other) {\n        return 0;\n      } else if (self < other) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n  }]);\n\n  return Inline;\n}(_parchment2.default.Inline);\n\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = ['cursor', 'inline', // Must be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n];\n\nexports.default = Inline;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TextBlot = function (_Parchment$Text) {\n  _inherits(TextBlot, _Parchment$Text);\n\n  function TextBlot() {\n    _classCallCheck(this, TextBlot);\n\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n  }\n\n  return TextBlot;\n}(_parchment2.default.Text);\n\nexports.default = TextBlot;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _eventemitter = __webpack_require__(54);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:events');\n\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      // TODO use WeakMap\n      if (node.__quill && node.__quill.emitter) {\n        var _node$__quill$emitter;\n\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n      }\n    });\n  });\n});\n\nvar Emitter = function (_EventEmitter) {\n  _inherits(Emitter, _EventEmitter);\n\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n    _this.listeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n\n  _createClass(Emitter, [{\n    key: 'emit',\n    value: function emit() {\n      debug.log.apply(debug, arguments);\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n    }\n  }, {\n    key: 'handleDOM',\n    value: function handleDOM(event) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (this.listeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n            handler = _ref.handler;\n\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(undefined, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: 'listenDOM',\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.listeners[eventName]) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push({ node: node, handler: handler });\n    }\n  }]);\n\n  return Emitter;\n}(_eventemitter2.default);\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n\nexports.default = Emitter;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Module = function Module(quill) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _classCallCheck(this, Module);\n\n  this.quill = quill;\n  this.options = options;\n};\n\nModule.DEFAULTS = {};\n\nexports.default = Module;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = ['error', 'warn', 'log', 'info'];\nvar level = 'warn';\n\nfunction debug(method) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function (logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function (newLevel) {\n  level = newLevel;\n};\n\nexports.default = namespace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(52);\nvar isArguments = __webpack_require__(53);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar Attributor = /** @class */ (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.keys = function (node) {\n        return [].map.call(node.attributes, function (item) {\n            return item.name;\n        });\n    };\n    Attributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match == null)\n            return false;\n        if (this.whitelist == null)\n            return true;\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        var value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    };\n    return Attributor;\n}());\nexports.default = Attributor;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Code = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Code = function (_Inline) {\n  _inherits(Code, _Inline);\n\n  function Code() {\n    _classCallCheck(this, Code);\n\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n  }\n\n  return Code;\n}(_inline2.default);\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nvar CodeBlock = function (_Block) {\n  _inherits(CodeBlock, _Block);\n\n  function CodeBlock() {\n    _classCallCheck(this, CodeBlock);\n\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(CodeBlock, [{\n    key: 'delta',\n    value: function delta() {\n      var _this3 = this;\n\n      var text = this.domNode.textContent;\n      if (text.endsWith('\\n')) {\n        // Should always be true\n        text = text.slice(0, -1);\n      }\n      return text.split('\\n').reduce(function (delta, frag) {\n        return delta.insert(frag).insert('\\n', _this3.formats());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (name === this.statics.blotName && value) return;\n\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\n          _descendant2 = _slicedToArray(_descendant, 1),\n          text = _descendant2[0];\n\n      if (text != null) {\n        text.deleteAt(text.length() - 1, 1);\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length === 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n        return;\n      }\n      var nextNewline = this.newlineIndex(index);\n      if (nextNewline < 0 || nextNewline >= index + length) return;\n      var prevNewline = this.newlineIndex(index, true) + 1;\n      var isolateLength = nextNewline - prevNewline + 1;\n      var blot = this.isolate(prevNewline, isolateLength);\n      var next = blot.next;\n      blot.format(name, value);\n      if (next instanceof CodeBlock) {\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n      }\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return;\n\n      var _descendant3 = this.descendant(_text2.default, index),\n          _descendant4 = _slicedToArray(_descendant3, 2),\n          text = _descendant4[0],\n          offset = _descendant4[1];\n\n      text.insertAt(offset, value);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      var length = this.domNode.textContent.length;\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        return length + 1;\n      }\n      return length;\n    }\n  }, {\n    key: 'newlineIndex',\n    value: function newlineIndex(searchIndex) {\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!reverse) {\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n        return offset > -1 ? searchIndex + offset : -1;\n      } else {\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        this.appendChild(_parchment2.default.create('text', '\\n'));\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n        next.optimize(context);\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n        var blot = _parchment2.default.find(node);\n        if (blot == null) {\n          node.parentNode.removeChild(node);\n        } else if (blot instanceof _parchment2.default.Embed) {\n          blot.remove();\n        } else {\n          blot.unwrap();\n        }\n      });\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n      domNode.setAttribute('spellcheck', false);\n      return domNode;\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return CodeBlock;\n}(_block2.default);\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\nCodeBlock.TAB = '  ';\n\nexports.Code = Code;\nexports.default = CodeBlock;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASCII = /^[ -~]*$/;\n\nvar Editor = function () {\n  function Editor(scroll) {\n    _classCallCheck(this, Editor);\n\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  _createClass(Editor, [{\n    key: 'applyDelta',\n    value: function applyDelta(delta) {\n      var _this = this;\n\n      var consumeNextNewline = false;\n      this.scroll.update();\n      var scrollLength = this.scroll.length();\n      this.scroll.batchStart();\n      delta = normalizeDelta(delta);\n      delta.reduce(function (index, op) {\n        var length = op.retain || op.delete || op.insert.length || 1;\n        var attributes = op.attributes || {};\n        if (op.insert != null) {\n          if (typeof op.insert === 'string') {\n            var text = op.insert;\n            if (text.endsWith('\\n') && consumeNextNewline) {\n              consumeNextNewline = false;\n              text = text.slice(0, -1);\n            }\n            if (index >= scrollLength && !text.endsWith('\\n')) {\n              consumeNextNewline = true;\n            }\n            _this.scroll.insertAt(index, text);\n\n            var _scroll$line = _this.scroll.line(index),\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                line = _scroll$line2[0],\n                offset = _scroll$line2[1];\n\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n            if (line instanceof _block2.default) {\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                  leaf = _line$descendant2[0];\n\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n            }\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\n          } else if (_typeof(op.insert) === 'object') {\n            var key = Object.keys(op.insert)[0]; // There should only be one key\n            if (key == null) return index;\n            _this.scroll.insertAt(index, key, op.insert[key]);\n          }\n          scrollLength += length;\n        }\n        Object.keys(attributes).forEach(function (name) {\n          _this.scroll.formatAt(index, length, name, attributes[name]);\n        });\n        return index + length;\n      }, 0);\n      delta.reduce(function (index, op) {\n        if (typeof op.delete === 'number') {\n          _this.scroll.deleteAt(index, op.delete);\n          return index;\n        }\n        return index + (op.retain || op.insert.length || 1);\n      }, 0);\n      this.scroll.batchEnd();\n      return this.update(delta);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length) {\n      this.scroll.deleteAt(index, length);\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length) {\n      var _this2 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.scroll.update();\n      Object.keys(formats).forEach(function (format) {\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\n        var lengthRemaining = length;\n        lines.forEach(function (line) {\n          var lineLength = line.length();\n          if (!(line instanceof _code2.default)) {\n            line.format(format, formats[format]);\n          } else {\n            var codeIndex = index - line.offset(_this2.scroll);\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\n          }\n          lengthRemaining -= lineLength;\n        });\n      });\n      this.scroll.optimize();\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length) {\n      var _this3 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      Object.keys(formats).forEach(function (format) {\n        _this3.scroll.formatAt(index, length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents(index, length) {\n      return this.delta.slice(index, index + length);\n    }\n  }, {\n    key: 'getDelta',\n    value: function getDelta() {\n      return this.scroll.lines().reduce(function (delta, line) {\n        return delta.concat(line.delta());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lines = [],\n          leaves = [];\n      if (length === 0) {\n        this.scroll.path(index).forEach(function (path) {\n          var _path = _slicedToArray(path, 1),\n              blot = _path[0];\n\n          if (blot instanceof _block2.default) {\n            lines.push(blot);\n          } else if (blot instanceof _parchment2.default.Leaf) {\n            leaves.push(blot);\n          }\n        });\n      } else {\n        lines = this.scroll.lines(index, length);\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n      }\n      var formatsArr = [lines, leaves].map(function (blots) {\n        if (blots.length === 0) return {};\n        var formats = (0, _block.bubbleFormats)(blots.shift());\n        while (Object.keys(formats).length > 0) {\n          var blot = blots.shift();\n          if (blot == null) return formats;\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n        }\n        return formats;\n      });\n      return _extend2.default.apply(_extend2.default, formatsArr);\n    }\n  }, {\n    key: 'getText',\n    value: function getText(index, length) {\n      return this.getContents(index, length).filter(function (op) {\n        return typeof op.insert === 'string';\n      }).map(function (op) {\n        return op.insert;\n      }).join('');\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      this.scroll.insertAt(index, embed, value);\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text) {\n      var _this4 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      this.scroll.insertAt(index, text);\n      Object.keys(formats).forEach(function (format) {\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'isBlank',\n    value: function isBlank() {\n      if (this.scroll.children.length == 0) return true;\n      if (this.scroll.children.length > 1) return false;\n      var block = this.scroll.children.head;\n      if (block.statics.blotName !== _block2.default.blotName) return false;\n      if (block.children.length > 1) return false;\n      return block.children.head instanceof _break2.default;\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length) {\n      var text = this.getText(index, length);\n\n      var _scroll$line3 = this.scroll.line(index + length),\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n          line = _scroll$line4[0],\n          offset = _scroll$line4[1];\n\n      var suffixLength = 0,\n          suffix = new _quillDelta2.default();\n      if (line != null) {\n        if (!(line instanceof _code2.default)) {\n          suffixLength = line.length() - offset;\n        } else {\n          suffixLength = line.newlineIndex(offset) - offset + 1;\n        }\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n      }\n      var contents = this.getContents(index, length + suffixLength);\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\n      return this.applyDelta(delta);\n    }\n  }, {\n    key: 'update',\n    value: function update(change) {\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var oldDelta = this.delta;\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n        // Optimization for character changes\n        var textBlot = _parchment2.default.find(mutations[0].target);\n        var formats = (0, _block.bubbleFormats)(textBlot);\n        var index = textBlot.offset(this.scroll);\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n        var oldText = new _quillDelta2.default().insert(oldValue);\n        var newText = new _quillDelta2.default().insert(textBlot.value());\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n        change = diffDelta.reduce(function (delta, op) {\n          if (op.insert) {\n            return delta.insert(op.insert, formats);\n          } else {\n            return delta.push(op);\n          }\n        }, new _quillDelta2.default());\n        this.delta = oldDelta.compose(change);\n      } else {\n        this.delta = this.getDelta();\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n          change = oldDelta.diff(this.delta, cursorIndex);\n        }\n      }\n      return change;\n    }\n  }]);\n\n  return Editor;\n}();\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function (merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce(function (delta, op) {\n    if (op.insert === 1) {\n      var attributes = (0, _clone2.default)(op.attributes);\n      delete attributes['image'];\n      return delta.insert({ image: op.attributes.image }, attributes);\n    }\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n      op = (0, _clone2.default)(op);\n      if (op.attributes.list) {\n        op.attributes.list = 'ordered';\n      } else {\n        op.attributes.list = 'bullet';\n        delete op.attributes.bullet;\n      }\n    }\n    if (typeof op.insert === 'string') {\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return delta.insert(text, op.attributes);\n    }\n    return delta.push(op);\n  }, new _quillDelta2.default());\n}\n\nexports.default = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Range = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill:selection');\n\nvar Range = function Range(index) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  _classCallCheck(this, Range);\n\n  this.index = index;\n  this.length = length;\n};\n\nvar Selection = function () {\n  function Selection(scroll, emitter) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = _parchment2.default.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, function () {\n      if (!_this.mouseDown) {\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n        _this.update(_emitter4.default.sources.SILENT);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n      if (!_this.hasFocus()) return;\n      var native = _this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n      // TODO unclear if this has negative side effects\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n        try {\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n        } catch (ignored) {}\n      });\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n      if (context.range) {\n        var _context$range = context.range,\n            startNode = _context$range.startNode,\n            startOffset = _context$range.startOffset,\n            endNode = _context$range.endNode,\n            endOffset = _context$range.endOffset;\n\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n      }\n    });\n    this.update(_emitter4.default.sources.SILENT);\n  }\n\n  _createClass(Selection, [{\n    key: 'handleComposition',\n    value: function handleComposition() {\n      var _this2 = this;\n\n      this.root.addEventListener('compositionstart', function () {\n        _this2.composing = true;\n      });\n      this.root.addEventListener('compositionend', function () {\n        _this2.composing = false;\n        if (_this2.cursor.parent) {\n          var range = _this2.cursor.restore();\n          if (!range) return;\n          setTimeout(function () {\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n          }, 1);\n        }\n      });\n    }\n  }, {\n    key: 'handleDragging',\n    value: function handleDragging() {\n      var _this3 = this;\n\n      this.emitter.listenDOM('mousedown', document.body, function () {\n        _this3.mouseDown = true;\n      });\n      this.emitter.listenDOM('mouseup', document.body, function () {\n        _this3.mouseDown = false;\n        _this3.update(_emitter4.default.sources.USER);\n      });\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.hasFocus()) return;\n      this.root.focus();\n      this.setRange(this.savedRange);\n    }\n  }, {\n    key: 'format',\n    value: function format(_format, value) {\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n      this.scroll.update();\n      var nativeRange = this.getNativeRange();\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n      if (nativeRange.start.node !== this.cursor.textNode) {\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\n        if (blot == null) return;\n        // TODO Give blot ability to not split\n        if (blot instanceof _parchment2.default.Leaf) {\n          var after = blot.split(nativeRange.start.offset);\n          blot.parent.insertBefore(this.cursor, after);\n        } else {\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n        }\n        this.cursor.attach();\n      }\n      this.cursor.format(_format, value);\n      this.scroll.optimize();\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n      this.update();\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var scrollLength = this.scroll.length();\n      index = Math.min(index, scrollLength - 1);\n      length = Math.min(index + length, scrollLength - 1) - index;\n      var node = void 0,\n          _scroll$leaf = this.scroll.leaf(index),\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n          leaf = _scroll$leaf2[0],\n          offset = _scroll$leaf2[1];\n      if (leaf == null) return null;\n\n      var _leaf$position = leaf.position(offset, true);\n\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n      node = _leaf$position2[0];\n      offset = _leaf$position2[1];\n\n      var range = document.createRange();\n      if (length > 0) {\n        range.setStart(node, offset);\n\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n        leaf = _scroll$leaf4[0];\n        offset = _scroll$leaf4[1];\n\n        if (leaf == null) return null;\n\n        var _leaf$position3 = leaf.position(offset, true);\n\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n        node = _leaf$position4[0];\n        offset = _leaf$position4[1];\n\n        range.setEnd(node, offset);\n        return range.getBoundingClientRect();\n      } else {\n        var side = 'left';\n        var rect = void 0;\n        if (node instanceof Text) {\n          if (offset < node.data.length) {\n            range.setStart(node, offset);\n            range.setEnd(node, offset + 1);\n          } else {\n            range.setStart(node, offset - 1);\n            range.setEnd(node, offset);\n            side = 'right';\n          }\n          rect = range.getBoundingClientRect();\n        } else {\n          rect = leaf.domNode.getBoundingClientRect();\n          if (offset > 0) side = 'right';\n        }\n        return {\n          bottom: rect.top + rect.height,\n          height: rect.height,\n          left: rect[side],\n          right: rect[side],\n          top: rect.top,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: 'getNativeRange',\n    value: function getNativeRange() {\n      var selection = document.getSelection();\n      if (selection == null || selection.rangeCount <= 0) return null;\n      var nativeRange = selection.getRangeAt(0);\n      if (nativeRange == null) return null;\n      var range = this.normalizeNative(nativeRange);\n      debug.info('getNativeRange', range);\n      return range;\n    }\n  }, {\n    key: 'getRange',\n    value: function getRange() {\n      var normalized = this.getNativeRange();\n      if (normalized == null) return [null, null];\n      var range = this.normalizedToRange(normalized);\n      return [range, normalized];\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return document.activeElement === this.root;\n    }\n  }, {\n    key: 'normalizedToRange',\n    value: function normalizedToRange(range) {\n      var _this4 = this;\n\n      var positions = [[range.start.node, range.start.offset]];\n      if (!range.native.collapsed) {\n        positions.push([range.end.node, range.end.offset]);\n      }\n      var indexes = positions.map(function (position) {\n        var _position = _slicedToArray(position, 2),\n            node = _position[0],\n            offset = _position[1];\n\n        var blot = _parchment2.default.find(node, true);\n        var index = blot.offset(_this4.scroll);\n        if (offset === 0) {\n          return index;\n        } else if (blot instanceof _parchment2.default.Container) {\n          return index + blot.length();\n        } else {\n          return index + blot.index(node, offset);\n        }\n      });\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n      return new Range(start, end - start);\n    }\n  }, {\n    key: 'normalizeNative',\n    value: function normalizeNative(nativeRange) {\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n        return null;\n      }\n      var range = {\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n        native: nativeRange\n      };\n      [range.start, range.end].forEach(function (position) {\n        var node = position.node,\n            offset = position.offset;\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\n          if (node.childNodes.length > offset) {\n            node = node.childNodes[offset];\n            offset = 0;\n          } else if (node.childNodes.length === offset) {\n            node = node.lastChild;\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n          } else {\n            break;\n          }\n        }\n        position.node = node, position.offset = offset;\n      });\n      return range;\n    }\n  }, {\n    key: 'rangeToNative',\n    value: function rangeToNative(range) {\n      var _this5 = this;\n\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      var args = [];\n      var scrollLength = this.scroll.length();\n      indexes.forEach(function (index, i) {\n        index = Math.min(scrollLength - 1, index);\n        var node = void 0,\n            _scroll$leaf5 = _this5.scroll.leaf(index),\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n            leaf = _scroll$leaf6[0],\n            offset = _scroll$leaf6[1];\n        var _leaf$position5 = leaf.position(offset, i !== 0);\n\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n        node = _leaf$position6[0];\n        offset = _leaf$position6[1];\n\n        args.push(node, offset);\n      });\n      if (args.length < 2) {\n        args = args.concat(args);\n      }\n      return args;\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView(scrollingContainer) {\n      var range = this.lastRange;\n      if (range == null) return;\n      var bounds = this.getBounds(range.index, range.length);\n      if (bounds == null) return;\n      var limit = this.scroll.length() - 1;\n\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\n          first = _scroll$line2[0];\n\n      var last = first;\n      if (range.length > 0) {\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n        last = _scroll$line4[0];\n      }\n      if (first == null || last == null) return;\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\n      if (bounds.top < scrollBounds.top) {\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n      } else if (bounds.bottom > scrollBounds.bottom) {\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n      }\n    }\n  }, {\n    key: 'setNativeRange',\n    value: function setNativeRange(startNode, startOffset) {\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n        return;\n      }\n      var selection = document.getSelection();\n      if (selection == null) return;\n      if (startNode != null) {\n        if (!this.hasFocus()) this.root.focus();\n        var native = (this.getNativeRange() || {}).native;\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n\n          if (startNode.tagName == \"BR\") {\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n            startNode = startNode.parentNode;\n          }\n          if (endNode.tagName == \"BR\") {\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n            endNode = endNode.parentNode;\n          }\n          var range = document.createRange();\n          range.setStart(startNode, startOffset);\n          range.setEnd(endNode, endOffset);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n      } else {\n        selection.removeAllRanges();\n        this.root.blur();\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n      }\n    }\n  }, {\n    key: 'setRange',\n    value: function setRange(range) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      if (typeof force === 'string') {\n        source = force;\n        force = false;\n      }\n      debug.info('setRange', range);\n      if (range != null) {\n        var args = this.rangeToNative(range);\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n      } else {\n        this.setNativeRange(null);\n      }\n      this.update(source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var oldRange = this.lastRange;\n\n      var _getRange = this.getRange(),\n          _getRange2 = _slicedToArray(_getRange, 2),\n          lastRange = _getRange2[0],\n          nativeRange = _getRange2[1];\n\n      this.lastRange = lastRange;\n      if (this.lastRange != null) {\n        this.savedRange = this.lastRange;\n      }\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n        var _emitter;\n\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n          this.cursor.restore();\n        }\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n        if (source !== _emitter4.default.sources.SILENT) {\n          var _emitter2;\n\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n        }\n      }\n    }\n  }]);\n\n  return Selection;\n}();\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode;\n  } catch (e) {\n    return false;\n  }\n  // IE11 has bug with Text nodes\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n  if (descendant instanceof Text) {\n    descendant = descendant.parentNode;\n  }\n  return parent.contains(descendant);\n}\n\nexports.Range = Range;\nexports.default = Selection;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Break = function (_Parchment$Embed) {\n  _inherits(Break, _Parchment$Embed);\n\n  function Break() {\n    _classCallCheck(this, Break);\n\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n  }\n\n  _createClass(Break, [{\n    key: 'insertInto',\n    value: function insertInto(parent, ref) {\n      if (parent.children.length === 0) {\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n      } else {\n        this.remove();\n      }\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return 0;\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }], [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  return Break;\n}(_parchment2.default.Embed);\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexports.default = Break;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linked_list_1 = __webpack_require__(44);\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar ContainerBlot = /** @class */ (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.build();\n        return _this;\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.children.forEach(function (child) {\n            child.attach();\n        });\n    };\n    ContainerBlot.prototype.build = function () {\n        var _this = this;\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice\n            .call(this.domNode.childNodes)\n            .reverse()\n            .forEach(function (node) {\n            try {\n                var child = makeBlot(node);\n                _this.insertBefore(child, _this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [];\n        var lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        if (this.statics.allowedChildren != null &&\n            !this.statics.allowedChildren.some(function (child) {\n                return childBlot instanceof child;\n            })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n        }\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                var child = Registry.create(this.statics.defaultChild);\n                this.appendChild(child);\n                child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.removeChild = function (child) {\n        this.children.remove(child);\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n        }\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        var addedNodes = [];\n        var removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            var blot = Registry.find(node);\n            if (blot == null)\n                return;\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter(function (node) {\n            return node.parentNode == _this.domNode;\n        })\n            .sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach(function (node) {\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = makeBlot(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(_this);\n                }\n                _this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nfunction makeBlot(node) {\n    var blot = Registry.find(node);\n    if (blot == null) {\n        try {\n            blot = Registry.create(node);\n        }\n        catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nexports.default = ContainerBlot;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar store_1 = __webpack_require__(31);\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar FormatBlot = /** @class */ (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.attributes = new store_1.default(_this.domNode);\n        return _this;\n    }\n    FormatBlot.formats = function (domNode) {\n        if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        var format = this.statics.formats(this.domNode);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations, context);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nexports.default = FormatBlot;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar LeafBlot = /** @class */ (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LeafBlot.value = function (domNode) {\n        return true;\n    };\n    LeafBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    };\n    LeafBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    LeafBlot.prototype.value = function () {\n        var _a;\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n    };\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nexports.default = LeafBlot;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isLine(blot) {\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n}\n\nvar Scroll = function (_Parchment$Scroll) {\n  _inherits(Scroll, _Parchment$Scroll);\n\n  function Scroll(domNode, config) {\n    _classCallCheck(this, Scroll);\n\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n    _this.emitter = config.emitter;\n    if (Array.isArray(config.whitelist)) {\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n        whitelist[format] = true;\n        return whitelist;\n      }, {});\n    }\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\n    _this.optimize();\n    _this.enable();\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: 'batchStart',\n    value: function batchStart() {\n      this.batch = true;\n    }\n  }, {\n    key: 'batchEnd',\n    value: function batchEnd() {\n      this.batch = false;\n      this.optimize();\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      var _line = this.line(index),\n          _line2 = _slicedToArray(_line, 2),\n          first = _line2[0],\n          offset = _line2[1];\n\n      var _line3 = this.line(index + length),\n          _line4 = _slicedToArray(_line3, 1),\n          last = _line4[0];\n\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n      if (last != null && first !== last && offset > 0) {\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n          this.optimize();\n          return;\n        }\n        if (first instanceof _code2.default) {\n          var newlineIndex = first.newlineIndex(first.length(), true);\n          if (newlineIndex > -1) {\n            first = first.split(newlineIndex + 1);\n            if (first === last) {\n              this.optimize();\n              return;\n            }\n          }\n        } else if (last instanceof _code2.default) {\n          var _newlineIndex = last.newlineIndex(0);\n          if (_newlineIndex > -1) {\n            last.split(_newlineIndex + 1);\n          }\n        }\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n        first.moveChildren(last, ref);\n        first.remove();\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.domNode.setAttribute('contenteditable', enabled);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, format, value) {\n      if (this.whitelist != null && !this.whitelist[format]) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n      this.optimize();\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n      if (index >= this.length()) {\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n          var blot = _parchment2.default.create(this.statics.defaultChild);\n          this.appendChild(blot);\n          if (def == null && value.endsWith('\\n')) {\n            value = value.slice(0, -1);\n          }\n          blot.insertAt(0, value, def);\n        } else {\n          var embed = _parchment2.default.create(value, def);\n          this.appendChild(embed);\n        }\n      } else {\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\n        wrapper.appendChild(blot);\n        blot = wrapper;\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n    }\n  }, {\n    key: 'leaf',\n    value: function leaf(index) {\n      return this.path(index).pop() || [null, -1];\n    }\n  }, {\n    key: 'line',\n    value: function line(index) {\n      if (index === this.length()) {\n        return this.line(index - 1);\n      }\n      return this.descendant(isLine, index);\n    }\n  }, {\n    key: 'lines',\n    value: function lines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      var getLines = function getLines(blot, index, length) {\n        var lines = [],\n            lengthLeft = length;\n        blot.children.forEachAt(index, length, function (child, index, length) {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof _parchment2.default.Container) {\n            lines = lines.concat(getLines(child, index, lengthLeft));\n          }\n          lengthLeft -= length;\n        });\n        return lines;\n      };\n      return getLines(this, index, length);\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize() {\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.batch === true) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n      }\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations) {\n      if (this.batch === true) return;\n      var source = _emitter2.default.sources.USER;\n      if (typeof mutations === 'string') {\n        source = mutations;\n      }\n      if (!Array.isArray(mutations)) {\n        mutations = this.observer.takeRecords();\n      }\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n      }\n    }\n  }]);\n\n  return Scroll;\n}(_parchment2.default.Scroll);\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = 'block';\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n\nexports.default = Scroll;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SHORTKEY = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:keyboard');\n\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nvar Keyboard = function (_Module) {\n  _inherits(Keyboard, _Module);\n\n  _createClass(Keyboard, null, [{\n    key: 'match',\n    value: function match(evt, binding) {\n      binding = normalize(binding);\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })) {\n        return false;\n      }\n      return binding.key === (evt.which || evt.keyCode);\n    }\n  }]);\n\n  function Keyboard(quill, options) {\n    _classCallCheck(this, Keyboard);\n\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n    _this.bindings = {};\n    Object.keys(_this.options.bindings).forEach(function (name) {\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n        return;\n      }\n      if (_this.options.bindings[name]) {\n        _this.addBinding(_this.options.bindings[name]);\n      }\n    });\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\n    } else {\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\n    }\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\n    _this.listen();\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: 'addBinding',\n    value: function addBinding(key) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var binding = normalize(key);\n      if (binding == null || binding.key == null) {\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\n      }\n      if (typeof context === 'function') {\n        context = { handler: context };\n      }\n      if (typeof handler === 'function') {\n        handler = { handler: handler };\n      }\n      binding = (0, _extend2.default)(binding, context, handler);\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\n      this.bindings[binding.key].push(binding);\n    }\n  }, {\n    key: 'listen',\n    value: function listen() {\n      var _this2 = this;\n\n      this.quill.root.addEventListener('keydown', function (evt) {\n        if (evt.defaultPrevented) return;\n        var which = evt.which || evt.keyCode;\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n          return Keyboard.match(evt, binding);\n        });\n        if (bindings.length === 0) return;\n        var range = _this2.quill.getSelection();\n        if (range == null || !_this2.quill.hasFocus()) return;\n\n        var _quill$getLine = _this2.quill.getLine(range.index),\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n            line = _quill$getLine2[0],\n            offset = _quill$getLine2[1];\n\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n            leafStart = _quill$getLeaf2[0],\n            offsetStart = _quill$getLeaf2[1];\n\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n            _ref2 = _slicedToArray(_ref, 2),\n            leafEnd = _ref2[0],\n            offsetEnd = _ref2[1];\n\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n        var curContext = {\n          collapsed: range.length === 0,\n          empty: range.length === 0 && line.length() <= 1,\n          format: _this2.quill.getFormat(range),\n          offset: offset,\n          prefix: prefixText,\n          suffix: suffixText\n        };\n        var prevented = bindings.some(function (binding) {\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\n          if (Array.isArray(binding.format)) {\n            // any format is present\n            if (binding.format.every(function (name) {\n              return curContext.format[name] == null;\n            })) {\n              return false;\n            }\n          } else if (_typeof(binding.format) === 'object') {\n            // all formats must match\n            if (!Object.keys(binding.format).every(function (name) {\n              if (binding.format[name] === true) return curContext.format[name] != null;\n              if (binding.format[name] === false) return curContext.format[name] == null;\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n            })) {\n              return false;\n            }\n          }\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n          return binding.handler.call(_this2, range, curContext) !== true;\n        });\n        if (prevented) {\n          evt.preventDefault();\n        }\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(_module2.default);\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n};\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    'bold': makeFormatHandler('bold'),\n    'italic': makeFormatHandler('italic'),\n    'underline': makeFormatHandler('underline'),\n    'indent': {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: Keyboard.keys.TAB,\n      format: ['blockquote', 'indent', 'list'],\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent backspace': {\n      key: Keyboard.keys.BACKSPACE,\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler: function handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler: function handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n      }\n    },\n    'tab': {\n      key: Keyboard.keys.TAB,\n      handler: function handler(range) {\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n      }\n    },\n    'list empty enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler: function handler(range, context) {\n        this.quill.format('list', false, _quill2.default.sources.USER);\n        if (context.format.indent) {\n          this.quill.format('indent', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'checklist enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: { list: 'checked' },\n      handler: function handler(range) {\n        var _quill$getLine3 = this.quill.getLine(range.index),\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n            line = _quill$getLine4[0],\n            offset = _quill$getLine4[1];\n\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'header enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler: function handler(range, context) {\n        var _quill$getLine5 = this.quill.getLine(range.index),\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n            line = _quill$getLine6[0],\n            offset = _quill$getLine6[1];\n\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'list autofill': {\n      key: ' ',\n      collapsed: true,\n      format: { list: false },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler: function handler(range, context) {\n        var length = context.prefix.length;\n\n        var _quill$getLine7 = this.quill.getLine(range.index),\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n            line = _quill$getLine8[0],\n            offset = _quill$getLine8[1];\n\n        if (offset > length) return true;\n        var value = void 0;\n        switch (context.prefix.trim()) {\n          case '[]':case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n      }\n    },\n    'code exit': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /\\n\\n$/,\n      suffix: /^\\s+$/,\n      handler: function handler(range) {\n        var _quill$getLine9 = this.quill.getLine(range.index),\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n            line = _quill$getLine10[0],\n            offset = _quill$getLine10[1];\n\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n      }\n    },\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n  }\n};\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  var _ref3;\n\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n  return _ref3 = {\n    key: key,\n    shiftKey: shiftKey,\n    altKey: null\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n    var index = range.index;\n    if (key === Keyboard.keys.RIGHT) {\n      index += range.length + 1;\n    }\n\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n        leaf = _quill$getLeaf4[0];\n\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\n    if (key === Keyboard.keys.LEFT) {\n      if (shiftKey) {\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n      }\n    } else {\n      if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n      }\n    }\n    return false;\n  }), _ref3;\n}\n\nfunction handleBackspace(range, context) {\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n  var _quill$getLine11 = this.quill.getLine(range.index),\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n      line = _quill$getLine12[0];\n\n  var formats = {};\n  if (context.offset === 0) {\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n        prev = _quill$getLine14[0];\n\n    if (prev != null && prev.length() > 1) {\n      var curFormats = line.formats();\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n    }\n  }\n  // Check for astral symbols\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n  }\n  this.quill.focus();\n}\n\nfunction handleDelete(range, context) {\n  // Check for astral symbols\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n  if (range.index >= this.quill.getLength() - length) return;\n  var formats = {},\n      nextLength = 0;\n\n  var _quill$getLine15 = this.quill.getLine(range.index),\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n      line = _quill$getLine16[0];\n\n  if (context.offset >= line.length() - 1) {\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n        next = _quill$getLine18[0];\n\n    if (next) {\n      var curFormats = line.formats();\n      var nextFormats = this.quill.getFormat(range.index, 1);\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n      nextLength = next.length();\n    }\n  }\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n  }\n}\n\nfunction handleDeleteRange(range) {\n  var lines = this.quill.getLines(range);\n  var formats = {};\n  if (lines.length > 1) {\n    var firstFormats = lines[0].formats();\n    var lastFormats = lines[lines.length - 1].formats();\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n  }\n  this.quill.deleteText(range, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n  }\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n  this.quill.focus();\n}\n\nfunction handleEnter(range, context) {\n  var _this3 = this;\n\n  if (range.length > 0) {\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n  }\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n      lineFormats[format] = context.format[format];\n    }\n    return lineFormats;\n  }, {});\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\n  // Earlier scroll.deleteAt might have messed up our selection,\n  // so insertText's built in selection preservation is not reliable\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n  this.quill.focus();\n  Object.keys(context.format).forEach(function (name) {\n    if (lineFormats[name] != null) return;\n    if (Array.isArray(context.format[name])) return;\n    if (name === 'link') return;\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n  });\n}\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: Keyboard.keys.TAB,\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler: function handler(range) {\n      var CodeBlock = _parchment2.default.query('code-block');\n      var index = range.index,\n          length = range.length;\n\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n          block = _quill$scroll$descend2[0],\n          offset = _quill$scroll$descend2[1];\n\n      if (block == null) return;\n      var scrollIndex = this.quill.getIndex(block);\n      var start = block.newlineIndex(offset, true) + 1;\n      var end = block.newlineIndex(scrollIndex + offset + length);\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\n      offset = 0;\n      lines.forEach(function (line, i) {\n        if (indent) {\n          block.insertAt(start + offset, CodeBlock.TAB);\n          offset += CodeBlock.TAB.length;\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.startsWith(CodeBlock.TAB)) {\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\n          offset -= CodeBlock.TAB.length;\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n        offset += line.length + 1;\n      });\n      this.quill.update(_quill2.default.sources.USER);\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n    }\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0].toUpperCase(),\n    shortKey: true,\n    handler: function handler(range, context) {\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n    }\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    return normalize({ key: binding });\n  }\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n    binding = (0, _clone2.default)(binding, false);\n  }\n  if (typeof binding.key === 'string') {\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\n    } else if (binding.key.length === 1) {\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\n    } else {\n      return null;\n    }\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nexports.default = Keyboard;\nexports.SHORTKEY = SHORTKEY;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cursor = function (_Parchment$Embed) {\n  _inherits(Cursor, _Parchment$Embed);\n\n  _createClass(Cursor, null, [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  function Cursor(domNode, selection) {\n    _classCallCheck(this, Cursor);\n\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n    _this.selection = selection;\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\n    _this.domNode.appendChild(_this.textNode);\n    _this._length = 0;\n    return _this;\n  }\n\n  _createClass(Cursor, [{\n    key: 'detach',\n    value: function detach() {\n      // super.detach() will also clear domNode.__blot\n      if (this.parent != null) this.parent.removeChild(this);\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (this._length !== 0) {\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n      }\n      var target = this,\n          index = 0;\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n        index += target.offset(target.parent);\n        target = target.parent;\n      }\n      if (target != null) {\n        this._length = Cursor.CONTENTS.length;\n        target.optimize();\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\n        this._length = 0;\n      }\n    }\n  }, {\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.textNode) return 0;\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return this._length;\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      return [this.textNode, this.textNode.data.length];\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n      this.parent = null;\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      if (this.selection.composing || this.parent == null) return;\n      var textNode = this.textNode;\n      var range = this.selection.getNativeRange();\n      var restoreText = void 0,\n          start = void 0,\n          end = void 0;\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\n        var _ref = [textNode, range.start.offset, range.end.offset];\n        restoreText = _ref[0];\n        start = _ref[1];\n        end = _ref[2];\n      }\n      // Link format will insert text outside of anchor tag\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n      }\n      if (this.textNode.data !== Cursor.CONTENTS) {\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n        if (this.next instanceof _text2.default) {\n          restoreText = this.next.domNode;\n          this.next.insertAt(0, text);\n          this.textNode.data = Cursor.CONTENTS;\n        } else {\n          this.textNode.data = text;\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\n          this.domNode.appendChild(this.textNode);\n        }\n      }\n      this.remove();\n      if (start != null) {\n        var _map = [start, end].map(function (offset) {\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n        });\n\n        var _map2 = _slicedToArray(_map, 2);\n\n        start = _map2[0];\n        end = _map2[1];\n\n        return {\n          startNode: restoreText,\n          startOffset: start,\n          endNode: restoreText,\n          endOffset: end\n        };\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      if (mutations.some(function (mutation) {\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n      })) {\n        var range = this.restore();\n        if (range) context.range = range;\n      }\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }]);\n\n  return Cursor;\n}(_parchment2.default.Embed);\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n\nexports.default = Cursor;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_Parchment$Container) {\n  _inherits(Container, _Parchment$Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n  }\n\n  return Container;\n}(_parchment2.default.Container);\n\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n\nexports.default = Container;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorAttributor = function (_Parchment$Attributor) {\n  _inherits(ColorAttributor, _Parchment$Attributor);\n\n  function ColorAttributor() {\n    _classCallCheck(this, ColorAttributor);\n\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n  }\n\n  _createClass(ColorAttributor, [{\n    key: 'value',\n    value: function value(domNode) {\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n      if (!value.startsWith('rgb(')) return value;\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n      return '#' + value.split(',').map(function (component) {\n        return ('00' + parseInt(component).toString(16)).slice(-2);\n      }).join('');\n    }\n  }]);\n\n  return ColorAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar ColorStyle = new ColorAttributor('color', 'color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.ColorAttributor = ColorAttributor;\nexports.ColorClass = ColorClass;\nexports.ColorStyle = ColorStyle;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Link = function (_Inline) {\n  _inherits(Link, _Inline);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n      value = this.constructor.sanitize(value);\n      this.domNode.setAttribute('href', value);\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('rel', 'noopener noreferrer');\n      node.setAttribute('target', '_blank');\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.getAttribute('href');\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n    }\n  }]);\n\n  return Link;\n}(_inline2.default);\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction _sanitize(url, protocols) {\n  var anchor = document.createElement('a');\n  anchor.href = url;\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexports.default = Link;\nexports.sanitize = _sanitize;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _dropdown = __webpack_require__(107);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nvar Picker = function () {\n  function Picker(select) {\n    var _this = this;\n\n    _classCallCheck(this, Picker);\n\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', function () {\n      _this.togglePicker();\n    });\n    this.label.addEventListener('keydown', function (event) {\n      switch (event.keyCode) {\n        // Allows the \"Enter\" key to open the picker\n        case _keyboard2.default.keys.ENTER:\n          _this.togglePicker();\n          break;\n\n        // Allows the \"Escape\" key to close the picker\n        case _keyboard2.default.keys.ESCAPE:\n          _this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  _createClass(Picker, [{\n    key: 'togglePicker',\n    value: function togglePicker() {\n      this.container.classList.toggle('ql-expanded');\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\n      toggleAriaAttribute(this.label, 'aria-expanded');\n      toggleAriaAttribute(this.options, 'aria-hidden');\n    }\n  }, {\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var _this2 = this;\n\n      var item = document.createElement('span');\n      item.tabIndex = '0';\n      item.setAttribute('role', 'button');\n\n      item.classList.add('ql-picker-item');\n      if (option.hasAttribute('value')) {\n        item.setAttribute('data-value', option.getAttribute('value'));\n      }\n      if (option.textContent) {\n        item.setAttribute('data-label', option.textContent);\n      }\n      item.addEventListener('click', function () {\n        _this2.selectItem(item, true);\n      });\n      item.addEventListener('keydown', function (event) {\n        switch (event.keyCode) {\n          // Allows the \"Enter\" key to select an item\n          case _keyboard2.default.keys.ENTER:\n            _this2.selectItem(item, true);\n            event.preventDefault();\n            break;\n\n          // Allows the \"Escape\" key to close the picker\n          case _keyboard2.default.keys.ESCAPE:\n            _this2.escape();\n            event.preventDefault();\n            break;\n          default:\n        }\n      });\n\n      return item;\n    }\n  }, {\n    key: 'buildLabel',\n    value: function buildLabel() {\n      var label = document.createElement('span');\n      label.classList.add('ql-picker-label');\n      label.innerHTML = _dropdown2.default;\n      label.tabIndex = '0';\n      label.setAttribute('role', 'button');\n      label.setAttribute('aria-expanded', 'false');\n      this.container.appendChild(label);\n      return label;\n    }\n  }, {\n    key: 'buildOptions',\n    value: function buildOptions() {\n      var _this3 = this;\n\n      var options = document.createElement('span');\n      options.classList.add('ql-picker-options');\n\n      // Don't want screen readers to read this until options are visible\n      options.setAttribute('aria-hidden', 'true');\n      options.tabIndex = '-1';\n\n      // Need a unique id for aria-controls\n      options.id = 'ql-picker-options-' + optionsCounter;\n      optionsCounter += 1;\n      this.label.setAttribute('aria-controls', options.id);\n\n      this.options = options;\n\n      [].slice.call(this.select.options).forEach(function (option) {\n        var item = _this3.buildItem(option);\n        options.appendChild(item);\n        if (option.selected === true) {\n          _this3.selectItem(item);\n        }\n      });\n      this.container.appendChild(options);\n    }\n  }, {\n    key: 'buildPicker',\n    value: function buildPicker() {\n      var _this4 = this;\n\n      [].slice.call(this.select.attributes).forEach(function (item) {\n        _this4.container.setAttribute(item.name, item.value);\n      });\n      this.container.classList.add('ql-picker');\n      this.label = this.buildLabel();\n      this.buildOptions();\n    }\n  }, {\n    key: 'escape',\n    value: function escape() {\n      var _this5 = this;\n\n      // Close menu and return focus to trigger label\n      this.close();\n      // Need setTimeout for accessibility to ensure that the browser executes\n      // focus on the next process thread and after any DOM content changes\n      setTimeout(function () {\n        return _this5.label.focus();\n      }, 1);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.container.classList.remove('ql-expanded');\n      this.label.setAttribute('aria-expanded', 'false');\n      this.options.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item) {\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var selected = this.container.querySelector('.ql-selected');\n      if (item === selected) return;\n      if (selected != null) {\n        selected.classList.remove('ql-selected');\n      }\n      if (item == null) return;\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      if (item.hasAttribute('data-value')) {\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\n      } else {\n        this.label.removeAttribute('data-value');\n      }\n      if (item.hasAttribute('data-label')) {\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\n      } else {\n        this.label.removeAttribute('data-label');\n      }\n      if (trigger) {\n        if (typeof Event === 'function') {\n          this.select.dispatchEvent(new Event('change'));\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n          // IE11\n          var event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n          this.select.dispatchEvent(event);\n        }\n        this.close();\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = void 0;\n      if (this.select.selectedIndex > -1) {\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n        option = this.select.options[this.select.selectedIndex];\n        this.selectItem(item);\n      } else {\n        this.selectItem(null);\n      }\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\n      this.label.classList.toggle('ql-active', isActive);\n    }\n  }]);\n\n  return Picker;\n}();\n\nexports.default = Picker;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _scroll = __webpack_require__(22);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _clipboard = __webpack_require__(55);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _history = __webpack_require__(42);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_quill2.default.register({\n  'blots/block': _block2.default,\n  'blots/block/embed': _block.BlockEmbed,\n  'blots/break': _break2.default,\n  'blots/container': _container2.default,\n  'blots/cursor': _cursor2.default,\n  'blots/embed': _embed2.default,\n  'blots/inline': _inline2.default,\n  'blots/scroll': _scroll2.default,\n  'blots/text': _text2.default,\n\n  'modules/clipboard': _clipboard2.default,\n  'modules/history': _history2.default,\n  'modules/keyboard': _keyboard2.default\n});\n\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\nexports.default = _quill2.default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar ShadowBlot = /** @class */ (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        // @ts-ignore\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            return this.constructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value).toString() === value) {\n                    value = parseInt(value);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n        }\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode(false);\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.removeChild(this);\n        // @ts-ignore\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (refBlot === void 0) { refBlot = null; }\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        var refDomNode = null;\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode != parentBlot.domNode ||\n            this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n        this.attach();\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.length = function () {\n        return 1;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function (context) {\n        // TODO clean up once we use WeakMap\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations, context) {\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nexports.default = ShadowBlot;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar Registry = __webpack_require__(1);\nvar AttributorStore = /** @class */ (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = attributor_1.default.keys(this.domNode);\n        var classes = class_1.default.keys(this.domNode);\n        var styles = style_1.default.keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nexports.default = AttributorStore;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = /** @class */ (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClassAttributor.keys = function (node) {\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name\n                .split('-')\n                .slice(0, -1)\n                .join('-');\n        });\n    };\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nexports.default = ClassAttributor;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts\n        .slice(1)\n        .map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    })\n        .join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = /** @class */ (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StyleAttributor.keys = function (node) {\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n        });\n    };\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        // @ts-ignore\n        var value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nexports.default = StyleAttributor;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Theme = function () {\n  function Theme(quill, options) {\n    _classCallCheck(this, Theme);\n\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  _createClass(Theme, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      Object.keys(this.options.modules).forEach(function (name) {\n        if (_this.modules[name] == null) {\n          _this.addModule(name);\n        }\n      });\n    }\n  }, {\n    key: 'addModule',\n    value: function addModule(name) {\n      var moduleClass = this.quill.constructor.import('modules/' + name);\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n      return this.modules[name];\n    }\n  }]);\n\n  return Theme;\n}();\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  'default': Theme\n};\n\nexports.default = Theme;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GUARD_TEXT = '\\uFEFF';\n\nvar Embed = function (_Parchment$Embed) {\n  _inherits(Embed, _Parchment$Embed);\n\n  function Embed(node) {\n    _classCallCheck(this, Embed);\n\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n    _this.contentNode = document.createElement('span');\n    _this.contentNode.setAttribute('contenteditable', false);\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n      _this.contentNode.appendChild(childNode);\n    });\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\n    _this.domNode.appendChild(_this.leftGuard);\n    _this.domNode.appendChild(_this.contentNode);\n    _this.domNode.appendChild(_this.rightGuard);\n    return _this;\n  }\n\n  _createClass(Embed, [{\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.leftGuard) return 0;\n      if (node === this.rightGuard) return 1;\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'restore',\n    value: function restore(node) {\n      var range = void 0,\n          textNode = void 0;\n      var text = node.data.split(GUARD_TEXT).join('');\n      if (node === this.leftGuard) {\n        if (this.prev instanceof _text2.default) {\n          var prevLength = this.prev.length();\n          this.prev.insertAt(prevLength, text);\n          range = {\n            startNode: this.prev.domNode,\n            startOffset: prevLength + text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      } else if (node === this.rightGuard) {\n        if (this.next instanceof _text2.default) {\n          this.next.insertAt(0, text);\n          range = {\n            startNode: this.next.domNode,\n            startOffset: text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      }\n      node.data = GUARD_TEXT;\n      return range;\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      mutations.forEach(function (mutation) {\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n          var range = _this2.restore(mutation.target);\n          if (range) context.range = range;\n        }\n      });\n    }\n  }]);\n\n  return Embed;\n}(_parchment2.default.Embed);\n\nexports.default = Embed;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n\nexports.AlignAttribute = AlignAttribute;\nexports.AlignClass = AlignClass;\nexports.AlignStyle = AlignStyle;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _color = __webpack_require__(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.BackgroundClass = BackgroundClass;\nexports.BackgroundStyle = BackgroundStyle;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n\nexports.DirectionAttribute = DirectionAttribute;\nexports.DirectionClass = DirectionClass;\nexports.DirectionStyle = DirectionStyle;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontClass = exports.FontStyle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\nvar FontStyleAttributor = function (_Parchment$Attributor) {\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n  function FontStyleAttributor() {\n    _classCallCheck(this, FontStyleAttributor);\n\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n  }\n\n  _createClass(FontStyleAttributor, [{\n    key: 'value',\n    value: function value(node) {\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n    }\n  }]);\n\n  return FontStyleAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexports.FontStyle = FontStyle;\nexports.FontClass = FontClass;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeStyle = exports.SizeClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexports.SizeClass = SizeClass;\nexports.SizeStyle = SizeStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'align': {\n    '': __webpack_require__(76),\n    'center': __webpack_require__(77),\n    'right': __webpack_require__(78),\n    'justify': __webpack_require__(79)\n  },\n  'background': __webpack_require__(80),\n  'blockquote': __webpack_require__(81),\n  'bold': __webpack_require__(82),\n  'clean': __webpack_require__(83),\n  'code': __webpack_require__(58),\n  'code-block': __webpack_require__(58),\n  'color': __webpack_require__(84),\n  'direction': {\n    '': __webpack_require__(85),\n    'rtl': __webpack_require__(86)\n  },\n  'float': {\n    'center': __webpack_require__(87),\n    'full': __webpack_require__(88),\n    'left': __webpack_require__(89),\n    'right': __webpack_require__(90)\n  },\n  'formula': __webpack_require__(91),\n  'header': {\n    '1': __webpack_require__(92),\n    '2': __webpack_require__(93)\n  },\n  'italic': __webpack_require__(94),\n  'image': __webpack_require__(95),\n  'indent': {\n    '+1': __webpack_require__(96),\n    '-1': __webpack_require__(97)\n  },\n  'link': __webpack_require__(98),\n  'list': {\n    'ordered': __webpack_require__(99),\n    'bullet': __webpack_require__(100),\n    'check': __webpack_require__(101)\n  },\n  'script': {\n    'sub': __webpack_require__(102),\n    'super': __webpack_require__(103)\n  },\n  'strike': __webpack_require__(104),\n  'underline': __webpack_require__(105),\n  'video': __webpack_require__(106)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLastChangeIndex = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar History = function (_Module) {\n  _inherits(History, _Module);\n\n  function History(quill, options) {\n    _classCallCheck(this, History);\n\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n    _this.lastRecorded = 0;\n    _this.ignoreChange = false;\n    _this.clear();\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n        _this.record(delta, oldDelta);\n      } else {\n        _this.transform(delta);\n      }\n    });\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\n    if (/Win/i.test(navigator.platform)) {\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: 'change',\n    value: function change(source, dest) {\n      if (this.stack[source].length === 0) return;\n      var delta = this.stack[source].pop();\n      this.stack[dest].push(delta);\n      this.lastRecorded = 0;\n      this.ignoreChange = true;\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n      this.ignoreChange = false;\n      var index = getLastChangeIndex(delta[source]);\n      this.quill.setSelection(index);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.stack = { undo: [], redo: [] };\n    }\n  }, {\n    key: 'cutoff',\n    value: function cutoff() {\n      this.lastRecorded = 0;\n    }\n  }, {\n    key: 'record',\n    value: function record(changeDelta, oldDelta) {\n      if (changeDelta.ops.length === 0) return;\n      this.stack.redo = [];\n      var undoDelta = this.quill.getContents().diff(oldDelta);\n      var timestamp = Date.now();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        var delta = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(delta.undo);\n        changeDelta = delta.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        this.stack.undo.shift();\n      }\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.change('redo', 'undo');\n    }\n  }, {\n    key: 'transform',\n    value: function transform(delta) {\n      this.stack.undo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n      this.stack.redo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.change('undo', 'redo');\n    }\n  }]);\n\n  return History;\n}(_module2.default);\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction endsWithNewlineChange(delta) {\n  var lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(function (attr) {\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(delta) {\n  var deleteLength = delta.reduce(function (length, op) {\n    length += op.delete || 0;\n    return length;\n  }, 0);\n  var changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexports.default = History;\nexports.getLastChangeIndex = getLastChangeIndex;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BaseTooltip = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALIGNS = [false, 'center', 'right', 'justify'];\n\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\nvar FONTS = [false, 'serif', 'monospace'];\n\nvar HEADERS = ['1', '2', '3', false];\n\nvar SIZES = ['small', false, 'large', 'huge'];\n\nvar BaseTheme = function (_Theme) {\n  _inherits(BaseTheme, _Theme);\n\n  function BaseTheme(quill, options) {\n    _classCallCheck(this, BaseTheme);\n\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n    var listener = function listener(e) {\n      if (!document.body.contains(quill.root)) {\n        return document.body.removeEventListener('click', listener);\n      }\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n        _this.tooltip.hide();\n      }\n      if (_this.pickers != null) {\n        _this.pickers.forEach(function (picker) {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n    return _this;\n  }\n\n  _createClass(BaseTheme, [{\n    key: 'addModule',\n    value: function addModule(name) {\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n      if (name === 'toolbar') {\n        this.extendToolbar(module);\n      }\n      return module;\n    }\n  }, {\n    key: 'buildButtons',\n    value: function buildButtons(buttons, icons) {\n      buttons.forEach(function (button) {\n        var className = button.getAttribute('class') || '';\n        className.split(/\\s+/).forEach(function (name) {\n          if (!name.startsWith('ql-')) return;\n          name = name.slice('ql-'.length);\n          if (icons[name] == null) return;\n          if (name === 'direction') {\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\n          } else if (typeof icons[name] === 'string') {\n            button.innerHTML = icons[name];\n          } else {\n            var value = button.value || '';\n            if (value != null && icons[name][value]) {\n              button.innerHTML = icons[name][value];\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: 'buildPickers',\n    value: function buildPickers(selects, icons) {\n      var _this2 = this;\n\n      this.pickers = selects.map(function (select) {\n        if (select.classList.contains('ql-align')) {\n          if (select.querySelector('option') == null) {\n            fillSelect(select, ALIGNS);\n          }\n          return new _iconPicker2.default(select, icons.align);\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\n          if (select.querySelector('option') == null) {\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n          }\n          return new _colorPicker2.default(select, icons[format]);\n        } else {\n          if (select.querySelector('option') == null) {\n            if (select.classList.contains('ql-font')) {\n              fillSelect(select, FONTS);\n            } else if (select.classList.contains('ql-header')) {\n              fillSelect(select, HEADERS);\n            } else if (select.classList.contains('ql-size')) {\n              fillSelect(select, SIZES);\n            }\n          }\n          return new _picker2.default(select);\n        }\n      });\n      var update = function update() {\n        _this2.pickers.forEach(function (picker) {\n          picker.update();\n        });\n      };\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n    }\n  }]);\n\n  return BaseTheme;\n}(_theme2.default);\n\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula: function formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image: function image() {\n          var _this3 = this;\n\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', function () {\n              if (fileInput.files != null && fileInput.files[0] != null) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                  var range = _this3.quill.getSelection(true);\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n                  fileInput.value = \"\";\n                };\n                reader.readAsDataURL(fileInput.files[0]);\n              }\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video: function video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n      }\n    }\n  }\n});\n\nvar BaseTooltip = function (_Tooltip) {\n  _inherits(BaseTooltip, _Tooltip);\n\n  function BaseTooltip(quill, boundsContainer) {\n    _classCallCheck(this, BaseTooltip);\n\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n    _this4.listen();\n    return _this4;\n  }\n\n  _createClass(BaseTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this5 = this;\n\n      this.textbox.addEventListener('keydown', function (event) {\n        if (_keyboard2.default.match(event, 'enter')) {\n          _this5.save();\n          event.preventDefault();\n        } else if (_keyboard2.default.match(event, 'escape')) {\n          _this5.cancel();\n          event.preventDefault();\n        }\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.hide();\n    }\n  }, {\n    key: 'edit',\n    value: function edit() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.root.classList.remove('ql-hidden');\n      this.root.classList.add('ql-editing');\n      if (preview != null) {\n        this.textbox.value = preview;\n      } else if (mode !== this.root.getAttribute('data-mode')) {\n        this.textbox.value = '';\n      }\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\n      this.textbox.select();\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n      this.root.setAttribute('data-mode', mode);\n    }\n  }, {\n    key: 'restoreFocus',\n    value: function restoreFocus() {\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.quill.focus();\n      this.quill.scrollingContainer.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      var value = this.textbox.value;\n      switch (this.root.getAttribute('data-mode')) {\n        case 'link':\n          {\n            var scrollTop = this.quill.root.scrollTop;\n            if (this.linkRange) {\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n              delete this.linkRange;\n            } else {\n              this.restoreFocus();\n              this.quill.format('link', value, _emitter2.default.sources.USER);\n            }\n            this.quill.root.scrollTop = scrollTop;\n            break;\n          }\n        case 'video':\n          {\n            value = extractVideoUrl(value);\n          } // eslint-disable-next-line no-fallthrough\n        case 'formula':\n          {\n            if (!value) break;\n            var range = this.quill.getSelection(true);\n            if (range != null) {\n              var index = range.index + range.length;\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n              if (this.root.getAttribute('data-mode') === 'formula') {\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n              }\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n            }\n            break;\n          }\n        default:\n      }\n      this.textbox.value = '';\n      this.hide();\n    }\n  }]);\n\n  return BaseTooltip;\n}(_tooltip2.default);\n\nfunction extractVideoUrl(url) {\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n  }\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    // eslint-disable-line no-cond-assign\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n  }\n  return url;\n}\n\nfunction fillSelect(select, values) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexports.BaseTooltip = BaseTooltip;\nexports.default = BaseTheme;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.head = this.tail = null;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        if (!node)\n            return;\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            var length = cur.length();\n            if (index < length ||\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nexports.default = LinkedList;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = /** @class */ (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.scroll = _this;\n        _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n        _this.attach();\n        return _this;\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n    };\n    ScrollBlot.prototype.optimize = function (mutations, context) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        if (context === void 0) { context = {}; }\n        _super.prototype.optimize.call(this, context);\n        // We must modify mutations directly, cannot make copy and then modify\n        var records = [].slice.call(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0)\n            mutations.push(records.pop());\n        // TODO use WeakMap\n        var mark = function (blot, markParent) {\n            if (markParent === void 0) { markParent = true; }\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode.parentNode == null)\n                return;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            if (markParent)\n                mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            // Post-order traversal\n            if (\n            // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null ||\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\n                return;\n            }\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(optimize);\n            }\n            blot.optimize(context);\n        };\n        var remaining = mutations;\n        for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot == null)\n                    return;\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(Registry.find(mutation.previousSibling, false));\n                        [].forEach.call(mutation.addedNodes, function (node) {\n                            var child = Registry.find(node, false);\n                            mark(child, false);\n                            if (child instanceof container_1.default) {\n                                child.children.forEach(function (grandChild) {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0)\n                mutations.push(records.pop());\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (context === void 0) { context = {}; }\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations\n            .map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return null;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        })\n            .forEach(function (blot) {\n            if (blot == null ||\n                blot === _this ||\n                //@ts-ignore\n                blot.domNode[Registry.DATA_KEY] == null)\n                return;\n            // @ts-ignore\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n        });\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n        }\n        this.optimize(mutations, context);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.defaultChild = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nexports.default = ScrollBlot;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    // @ts-ignore\n    for (var prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = /** @class */ (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InlineBlot.formats = function (domNode) {\n        if (domNode.tagName === InlineBlot.tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    InlineBlot.prototype.format = function (name, value) {\n        var _this = this;\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n                if (!(child instanceof format_1.default)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                _this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nexports.default = InlineBlot;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\nvar BlockBlot = /** @class */ (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlockBlot.formats = function (domNode) {\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\n        if (domNode.tagName === tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    BlockBlot.prototype.format = function (name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.prototype.update = function (mutations, context) {\n        if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n        }\n        else {\n            _super.prototype.update.call(this, mutations, context);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nexports.default = BlockBlot;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar EmbedBlot = /** @class */ (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmbedBlot.formats = function (domNode) {\n        return undefined;\n    };\n    EmbedBlot.prototype.format = function (name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n    };\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    EmbedBlot.prototype.formats = function () {\n        return this.statics.formats(this.domNode);\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nexports.default = EmbedBlot;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar Registry = __webpack_require__(1);\nvar TextBlot = /** @class */ (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.text = _this.statics.value(_this.domNode);\n        return _this;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.value = function (domNode) {\n        var text = domNode.data;\n        // @ts-ignore\n        if (text['normalize'])\n            text = text['normalize']();\n        return text;\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nexports.default = TextBlot;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elem = document.createElement('div');\nelem.classList.toggle('test-class', false);\nif (elem.classList.contains('test-class')) {\n  var _toggle = DOMTokenList.prototype.toggle;\n  DOMTokenList.prototype.toggle = function (token, force) {\n    if (arguments.length > 1 && !this.contains(token) === !force) {\n      return force;\n    } else {\n      return _toggle.call(this, token);\n    }\n  };\n}\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.substr(position, searchString.length) === searchString;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Disable resizing in Firefox\n  document.execCommand(\"enableObjectResizing\", false, false);\n  // Disable automatic linkifying in IE11\n  document.execCommand(\"autoUrlDetect\", false, false);\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Check cursor_pos within bounds\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\n    cursor_pos = null;\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  if (cursor_pos != null) {\n    diffs = fix_cursor(diffs, cursor_pos);\n  }\n  diffs = fix_emoji(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n/*\n * Modify a diff such that the cursor position points to the start of a change:\n * E.g.\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n */\nfunction cursor_normalize_diff (diffs, cursor_pos) {\n  if (cursor_pos === 0) {\n    return [DIFF_EQUAL, diffs];\n  }\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n    var d = diffs[i];\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n      var next_pos = current_pos + d[1].length;\n      if (cursor_pos === next_pos) {\n        return [i + 1, diffs];\n      } else if (cursor_pos < next_pos) {\n        // copy to prevent side effects\n        diffs = diffs.slice();\n        // split d into two diff changes\n        var split_pos = cursor_pos - current_pos;\n        var d_left = [d[0], d[1].slice(0, split_pos)];\n        var d_right = [d[0], d[1].slice(split_pos)];\n        diffs.splice(i, 1, d_left, d_right);\n        return [i + 1, diffs];\n      } else {\n        current_pos = next_pos;\n      }\n    }\n  }\n  throw new Error('cursor_pos is out of bounds!')\n}\n\n/*\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n *\n * Case 1)\n *   Check if a naive shift is possible:\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n * Case 2)\n *   Check if the following shifts are possible:\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n *         ^            ^\n *         d          d_next\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} Array of diff tuples\n */\nfunction fix_cursor (diffs, cursor_pos) {\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\n  var ndiffs = norm[1];\n  var cursor_pointer = norm[0];\n  var d = ndiffs[cursor_pointer];\n  var d_next = ndiffs[cursor_pointer + 1];\n\n  if (d == null) {\n    // Text was deleted from end of original string,\n    // cursor is now out of bounds in new string\n    return diffs;\n  } else if (d[0] !== DIFF_EQUAL) {\n    // A modification happened at the cursor location.\n    // This is the expected outcome, so we can return the original diff.\n    return diffs;\n  } else {\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n      // Case 1)\n      // It is possible to perform a naive shift\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\n      return merge_tuples(ndiffs, cursor_pointer, 2)\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n      // Case 2)\n      // d[1] is a prefix of d_next[1]\n      // We can assume that d_next[0] !== 0, since d[0] === 0\n      // Shift edit locations..\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n      var suffix = d_next[1].slice(d[1].length);\n      if (suffix.length > 0) {\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n      }\n      return merge_tuples(ndiffs, cursor_pointer, 3)\n    } else {\n      // Not possible to perform any modification\n      return diffs;\n    }\n  }\n}\n\n/*\n * Check diff did not split surrogate pairs.\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n *     '\\uD83D\\uDC36' === '', '\\uD83D\\uDC2F' === ''\n *\n * @param {Array} diffs Array of diff tuples\n * @return {Array} Array of diff tuples\n */\nfunction fix_emoji (diffs) {\n  var compact = false;\n  var starts_with_pair_end = function(str) {\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n  }\n  var ends_with_pair_start = function(str) {\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\n  }\n  for (var i = 2; i < diffs.length; i += 1) {\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n      compact = true;\n\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\n\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\n    }\n  }\n  if (!compact) {\n    return diffs;\n  }\n  var fixed_diffs = [];\n  for (var i = 0; i < diffs.length; i += 1) {\n    if (diffs[i][1].length > 0) {\n      fixed_diffs.push(diffs[i]);\n    }\n  }\n  return fixed_diffs;\n}\n\n/*\n * Try to merge tuples with their neigbors in a given range.\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n *\n * @param {Array} diffs Array of diff tuples.\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n * @param {Int} length Number of consecutive elements to check.\n * @return {Array} Array of merged diff tuples.\n */\nfunction merge_tuples (diffs, start, length) {\n  // Check from (start-1) to (start+length).\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n    if (i + 1 < diffs.length) {\n      var left_d = diffs[i];\n      var right_d = diffs[i+1];\n      if (left_d[0] === right_d[1]) {\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n      }\n    }\n  }\n  return diffs;\n}\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend2 = __webpack_require__(3);\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _align = __webpack_require__(36);\n\nvar _background = __webpack_require__(37);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _color = __webpack_require__(26);\n\nvar _direction = __webpack_require__(38);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:clipboard');\n\nvar DOM_KEY = '__ql-matcher';\n\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar Clipboard = function (_Module) {\n  _inherits(Clipboard, _Module);\n\n  function Clipboard(quill, options) {\n    _classCallCheck(this, Clipboard);\n\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n    _this.container = _this.quill.addContainer('ql-clipboard');\n    _this.container.setAttribute('contenteditable', true);\n    _this.container.setAttribute('tabindex', -1);\n    _this.matchers = [];\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          selector = _ref2[0],\n          matcher = _ref2[1];\n\n      if (!options.matchVisual && matcher === matchSpacing) return;\n      _this.addMatcher(selector, matcher);\n    });\n    return _this;\n  }\n\n  _createClass(Clipboard, [{\n    key: 'addMatcher',\n    value: function addMatcher(selector, matcher) {\n      this.matchers.push([selector, matcher]);\n    }\n  }, {\n    key: 'convert',\n    value: function convert(html) {\n      if (typeof html === 'string') {\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n        return this.convert();\n      }\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n      if (formats[_code2.default.blotName]) {\n        var text = this.container.innerText;\n        this.container.innerHTML = '';\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n      }\n\n      var _prepareMatching = this.prepareMatching(),\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n          elementMatchers = _prepareMatching2[0],\n          textMatchers = _prepareMatching2[1];\n\n      var delta = traverse(this.container, elementMatchers, textMatchers);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n      }\n      debug.log('convert', this.container.innerHTML, delta);\n      this.container.innerHTML = '';\n      return delta;\n    }\n  }, {\n    key: 'dangerouslyPasteHTML',\n    value: function dangerouslyPasteHTML(index, html) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n      if (typeof index === 'string') {\n        this.quill.setContents(this.convert(index), html);\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\n      } else {\n        var paste = this.convert(html);\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(e) {\n      var _this2 = this;\n\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\n      var range = this.quill.getSelection();\n      var delta = new _quillDelta2.default().retain(range.index);\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.container.focus();\n      this.quill.selection.update(_quill2.default.sources.SILENT);\n      setTimeout(function () {\n        delta = delta.concat(_this2.convert()).delete(range.length);\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\n        // range.length contributes to delta.length()\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\n        _this2.quill.focus();\n      }, 1);\n    }\n  }, {\n    key: 'prepareMatching',\n    value: function prepareMatching() {\n      var _this3 = this;\n\n      var elementMatchers = [],\n          textMatchers = [];\n      this.matchers.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            selector = _pair[0],\n            matcher = _pair[1];\n\n        switch (selector) {\n          case Node.TEXT_NODE:\n            textMatchers.push(matcher);\n            break;\n          case Node.ELEMENT_NODE:\n            elementMatchers.push(matcher);\n            break;\n          default:\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n              // TODO use weakmap\n              node[DOM_KEY] = node[DOM_KEY] || [];\n              node[DOM_KEY].push(matcher);\n            });\n            break;\n        }\n      });\n      return [elementMatchers, textMatchers];\n    }\n  }]);\n\n  return Clipboard;\n}(_module2.default);\n\nClipboard.DEFAULTS = {\n  matchers: [],\n  matchVisual: true\n};\n\nfunction applyFormat(delta, format, value) {\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n    return Object.keys(format).reduce(function (delta, key) {\n      return applyFormat(delta, key, format[key]);\n    }, delta);\n  } else {\n    return delta.reduce(function (delta, op) {\n      if (op.attributes && op.attributes[format]) {\n        return delta.push(op);\n      } else {\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n      }\n    }, new _quillDelta2.default());\n  }\n}\n\nfunction computeStyle(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\n  var DOM_KEY = '__ql-computed-style';\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n}\n\nfunction deltaEndsWith(delta, text) {\n  var endText = \"\";\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n    var op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  var style = computeStyle(node);\n  return ['block', 'list-item'].indexOf(style.display) > -1;\n}\n\nfunction traverse(node, elementMatchers, textMatchers) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce(function (delta, matcher) {\n      return matcher(node, delta);\n    }, new _quillDelta2.default());\n  } else if (node.nodeType === node.ELEMENT_NODE) {\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n      }\n      return delta.concat(childrenDelta);\n    }, new _quillDelta2.default());\n  } else {\n    return new _quillDelta2.default();\n  }\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta) {\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n  var classes = _parchment2.default.Attributor.Class.keys(node);\n  var styles = _parchment2.default.Attributor.Style.keys(node);\n  var formats = {};\n  attributes.concat(classes).concat(styles).forEach(function (name) {\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n    attr = STYLE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof _parchment2.default.Embed) {\n    var embed = {};\n    var value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\n    }\n  } else if (typeof match.formats === 'function') {\n    delta = applyFormat(delta, match.blotName, match.formats(node));\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchIgnore() {\n  return new _quillDelta2.default();\n}\n\nfunction matchIndent(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n  var indent = -1,\n      parent = node.parentNode;\n  while (!parent.classList.contains('ql-clipboard')) {\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\n}\n\nfunction matchNewline(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchSpacing(node, delta) {\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  var formats = {};\n  var style = node.style || {};\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchText(node, delta) {\n  var text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n    return delta;\n  }\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n    // eslint-disable-next-line func-style\n    var replacer = function replacer(collapse, match) {\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return match.length < 1 && collapse ? ' ' : match;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexports.default = Clipboard;\nexports.matchAttributor = matchAttributor;\nexports.matchBlot = matchBlot;\nexports.matchNewline = matchNewline;\nexports.matchSpacing = matchSpacing;\nexports.matchText = matchText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Bold = function (_Inline) {\n  _inherits(Bold, _Inline);\n\n  function Bold() {\n    _classCallCheck(this, Bold);\n\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n  }\n\n  _createClass(Bold, [{\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\n        this.replaceWith(this.statics.blotName);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create() {\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return Bold;\n}(_inline2.default);\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexports.default = Bold;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addControls = exports.default = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:toolbar');\n\nvar Toolbar = function (_Module) {\n  _inherits(Toolbar, _Module);\n\n  function Toolbar(quill, options) {\n    _classCallCheck(this, Toolbar);\n\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n    if (Array.isArray(_this.options.container)) {\n      var container = document.createElement('div');\n      addControls(container, _this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      _this.container = container;\n    } else if (typeof _this.options.container === 'string') {\n      _this.container = document.querySelector(_this.options.container);\n    } else {\n      _this.container = _this.options.container;\n    }\n    if (!(_this.container instanceof HTMLElement)) {\n      var _ret;\n\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n    }\n    _this.container.classList.add('ql-toolbar');\n    _this.controls = [];\n    _this.handlers = {};\n    Object.keys(_this.options.handlers).forEach(function (format) {\n      _this.addHandler(format, _this.options.handlers[format]);\n    });\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n      _this.attach(input);\n    });\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\n        _this.update(range);\n      }\n    });\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      var _this$quill$selection = _this.quill.selection.getRange(),\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n      _this.update(range);\n    });\n    return _this;\n  }\n\n  _createClass(Toolbar, [{\n    key: 'addHandler',\n    value: function addHandler(format, handler) {\n      this.handlers[format] = handler;\n    }\n  }, {\n    key: 'attach',\n    value: function attach(input) {\n      var _this2 = this;\n\n      var format = [].find.call(input.classList, function (className) {\n        return className.indexOf('ql-') === 0;\n      });\n      if (!format) return;\n      format = format.slice('ql-'.length);\n      if (input.tagName === 'BUTTON') {\n        input.setAttribute('type', 'button');\n      }\n      if (this.handlers[format] == null) {\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n          debug.warn('ignoring attaching to disabled format', format, input);\n          return;\n        }\n        if (_parchment2.default.query(format) == null) {\n          debug.warn('ignoring attaching to nonexistent format', format, input);\n          return;\n        }\n      }\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n      input.addEventListener(eventName, function (e) {\n        var value = void 0;\n        if (input.tagName === 'SELECT') {\n          if (input.selectedIndex < 0) return;\n          var selected = input.options[input.selectedIndex];\n          if (selected.hasAttribute('selected')) {\n            value = false;\n          } else {\n            value = selected.value || false;\n          }\n        } else {\n          if (input.classList.contains('ql-active')) {\n            value = false;\n          } else {\n            value = input.value || !input.hasAttribute('value');\n          }\n          e.preventDefault();\n        }\n        _this2.quill.focus();\n\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n            range = _quill$selection$getR2[0];\n\n        if (_this2.handlers[format] != null) {\n          _this2.handlers[format].call(_this2, value);\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n          value = prompt('Enter ' + format);\n          if (!value) return;\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n        } else {\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\n        }\n        _this2.update(range);\n      });\n      // TODO use weakmap\n      this.controls.push([format, input]);\n    }\n  }, {\n    key: 'update',\n    value: function update(range) {\n      var formats = range == null ? {} : this.quill.getFormat(range);\n      this.controls.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            format = _pair[0],\n            input = _pair[1];\n\n        if (input.tagName === 'SELECT') {\n          var option = void 0;\n          if (range == null) {\n            option = null;\n          } else if (formats[format] == null) {\n            option = input.querySelector('option[selected]');\n          } else if (!Array.isArray(formats[format])) {\n            var value = formats[format];\n            if (typeof value === 'string') {\n              value = value.replace(/\\\"/g, '\\\\\"');\n            }\n            option = input.querySelector('option[value=\"' + value + '\"]');\n          }\n          if (option == null) {\n            input.value = ''; // TODO make configurable?\n            input.selectedIndex = -1;\n          } else {\n            option.selected = true;\n          }\n        } else {\n          if (range == null) {\n            input.classList.remove('ql-active');\n          } else if (input.hasAttribute('value')) {\n            // both being null should match (default values)\n            // '1' should match with 1 (headers)\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n            input.classList.toggle('ql-active', isActive);\n          } else {\n            input.classList.toggle('ql-active', formats[format] != null);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}(_module2.default);\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  var input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function (controls) {\n    var group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function (control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        var format = Object.keys(control)[0];\n        var value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  var input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean: function clean() {\n      var _this3 = this;\n\n      var range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length == 0) {\n        var formats = this.quill.getFormat();\n        Object.keys(formats).forEach(function (name) {\n          // Clean functionality in existing apps only clean inline formats\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n            _this3.quill.format(name, false);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\n      }\n    },\n    direction: function direction(value) {\n      var align = this.quill.getFormat()['align'];\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _quill2.default.sources.USER);\n      }\n      this.quill.format('direction', value, _quill2.default.sources.USER);\n    },\n    indent: function indent(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      var indent = parseInt(formats.indent || 0);\n      if (value === '+1' || value === '-1') {\n        var modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n      }\n    },\n    link: function link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:');\n      }\n      this.quill.format('link', value, _quill2.default.sources.USER);\n    },\n    list: function list(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _quill2.default.sources.USER);\n      }\n    }\n  }\n};\n\nexports.default = Toolbar;\nexports.addControls = addControls;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorPicker = function (_Picker) {\n  _inherits(ColorPicker, _Picker);\n\n  function ColorPicker(select, label) {\n    _classCallCheck(this, ColorPicker);\n\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n    _this.label.innerHTML = label;\n    _this.container.classList.add('ql-color-picker');\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n      item.classList.add('ql-primary');\n    });\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n      item.style.backgroundColor = option.getAttribute('value') || '';\n      return item;\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      var colorLabel = this.label.querySelector('.ql-color-label');\n      var value = item ? item.getAttribute('data-value') || '' : '';\n      if (colorLabel) {\n        if (colorLabel.tagName === 'line') {\n          colorLabel.style.stroke = value;\n        } else {\n          colorLabel.style.fill = value;\n        }\n      }\n    }\n  }]);\n\n  return ColorPicker;\n}(_picker2.default);\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconPicker = function (_Picker) {\n  _inherits(IconPicker, _Picker);\n\n  function IconPicker(select, icons) {\n    _classCallCheck(this, IconPicker);\n\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n    _this.container.classList.add('ql-icon-picker');\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\n    _this.selectItem(_this.defaultItem);\n    return _this;\n  }\n\n  _createClass(IconPicker, [{\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      item = item || this.defaultItem;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }]);\n\n  return IconPicker;\n}(_picker2.default);\n\nexports.default = IconPicker;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip(quill, boundsContainer) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', function () {\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n      });\n    }\n    this.hide();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'hide',\n    value: function hide() {\n      this.root.classList.add('ql-hidden');\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n      // root.scrollTop should be 0 if scrollContainer !== root\n      var top = reference.bottom + this.quill.root.scrollTop;\n      this.root.style.left = left + 'px';\n      this.root.style.top = top + 'px';\n      this.root.classList.remove('ql-flip');\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\n      var rootBounds = this.root.getBoundingClientRect();\n      var shift = 0;\n      if (rootBounds.right > containerBounds.right) {\n        shift = containerBounds.right - rootBounds.right;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.left < containerBounds.left) {\n        shift = containerBounds.left - rootBounds.left;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.bottom > containerBounds.bottom) {\n        var height = rootBounds.bottom - rootBounds.top;\n        var verticalShift = reference.bottom - reference.top + height;\n        this.root.style.top = top - verticalShift + 'px';\n        this.root.classList.add('ql-flip');\n      }\n      return shift;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.root.classList.remove('ql-editing');\n      this.root.classList.remove('ql-hidden');\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\n\nvar SnowTheme = function (_BaseTheme) {\n  _inherits(SnowTheme, _BaseTheme);\n\n  function SnowTheme(quill, options) {\n    _classCallCheck(this, SnowTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-snow');\n    return _this;\n  }\n\n  _createClass(SnowTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\n        });\n      }\n    }\n  }]);\n\n  return SnowTheme;\n}(_base2.default);\n\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (value) {\n            var range = this.quill.getSelection();\n            if (range == null || range.length == 0) return;\n            var preview = this.quill.getText(range);\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = 'mailto:' + preview;\n            }\n            var tooltip = this.quill.theme.tooltip;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n      }\n    }\n  }\n});\n\nvar SnowTooltip = function (_BaseTooltip) {\n  _inherits(SnowTooltip, _BaseTooltip);\n\n  function SnowTooltip(quill, bounds) {\n    _classCallCheck(this, SnowTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\n    return _this2;\n  }\n\n  _createClass(SnowTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n        if (_this3.root.classList.contains('ql-editing')) {\n          _this3.save();\n        } else {\n          _this3.edit('link', _this3.preview.textContent);\n        }\n        event.preventDefault();\n      });\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n        if (_this3.linkRange != null) {\n          var range = _this3.linkRange;\n          _this3.restoreFocus();\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n          delete _this3.linkRange;\n        }\n        event.preventDefault();\n        _this3.hide();\n      });\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n        if (range == null) return;\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n              link = _quill$scroll$descend2[0],\n              offset = _quill$scroll$descend2[1];\n\n          if (link != null) {\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n            var preview = _link2.default.formats(link.domNode);\n            _this3.preview.textContent = preview;\n            _this3.preview.setAttribute('href', preview);\n            _this3.show();\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\n            return;\n          }\n        } else {\n          delete _this3.linkRange;\n        }\n        _this3.hide();\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n      this.root.removeAttribute('data-mode');\n    }\n  }]);\n\n  return SnowTooltip;\n}(_base.BaseTooltip);\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nexports.default = SnowTheme;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _core = __webpack_require__(29);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _align = __webpack_require__(36);\n\nvar _direction = __webpack_require__(38);\n\nvar _indent = __webpack_require__(64);\n\nvar _blockquote = __webpack_require__(65);\n\nvar _blockquote2 = _interopRequireDefault(_blockquote);\n\nvar _header = __webpack_require__(66);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _list = __webpack_require__(67);\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _background = __webpack_require__(37);\n\nvar _color = __webpack_require__(26);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nvar _italic = __webpack_require__(68);\n\nvar _italic2 = _interopRequireDefault(_italic);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _script = __webpack_require__(69);\n\nvar _script2 = _interopRequireDefault(_script);\n\nvar _strike = __webpack_require__(70);\n\nvar _strike2 = _interopRequireDefault(_strike);\n\nvar _underline = __webpack_require__(71);\n\nvar _underline2 = _interopRequireDefault(_underline);\n\nvar _image = __webpack_require__(72);\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _video = __webpack_require__(73);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _formula = __webpack_require__(74);\n\nvar _formula2 = _interopRequireDefault(_formula);\n\nvar _syntax = __webpack_require__(75);\n\nvar _syntax2 = _interopRequireDefault(_syntax);\n\nvar _toolbar = __webpack_require__(57);\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _bubble = __webpack_require__(108);\n\nvar _bubble2 = _interopRequireDefault(_bubble);\n\nvar _snow = __webpack_require__(62);\n\nvar _snow2 = _interopRequireDefault(_snow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_core2.default.register({\n  'attributors/attribute/direction': _direction.DirectionAttribute,\n\n  'attributors/class/align': _align.AlignClass,\n  'attributors/class/background': _background.BackgroundClass,\n  'attributors/class/color': _color.ColorClass,\n  'attributors/class/direction': _direction.DirectionClass,\n  'attributors/class/font': _font.FontClass,\n  'attributors/class/size': _size.SizeClass,\n\n  'attributors/style/align': _align.AlignStyle,\n  'attributors/style/background': _background.BackgroundStyle,\n  'attributors/style/color': _color.ColorStyle,\n  'attributors/style/direction': _direction.DirectionStyle,\n  'attributors/style/font': _font.FontStyle,\n  'attributors/style/size': _size.SizeStyle\n}, true);\n\n_core2.default.register({\n  'formats/align': _align.AlignClass,\n  'formats/direction': _direction.DirectionClass,\n  'formats/indent': _indent.IndentClass,\n\n  'formats/background': _background.BackgroundStyle,\n  'formats/color': _color.ColorStyle,\n  'formats/font': _font.FontClass,\n  'formats/size': _size.SizeClass,\n\n  'formats/blockquote': _blockquote2.default,\n  'formats/code-block': _code2.default,\n  'formats/header': _header2.default,\n  'formats/list': _list2.default,\n\n  'formats/bold': _bold2.default,\n  'formats/code': _code.Code,\n  'formats/italic': _italic2.default,\n  'formats/link': _link2.default,\n  'formats/script': _script2.default,\n  'formats/strike': _strike2.default,\n  'formats/underline': _underline2.default,\n\n  'formats/image': _image2.default,\n  'formats/video': _video2.default,\n\n  'formats/list/item': _list.ListItem,\n\n  'modules/formula': _formula2.default,\n  'modules/syntax': _syntax2.default,\n  'modules/toolbar': _toolbar2.default,\n\n  'themes/bubble': _bubble2.default,\n  'themes/snow': _snow2.default,\n\n  'ui/icons': _icons2.default,\n  'ui/picker': _picker2.default,\n  'ui/icon-picker': _iconPicker2.default,\n  'ui/color-picker': _colorPicker2.default,\n  'ui/tooltip': _tooltip2.default\n}, true);\n\nexports.default = _core2.default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndentClass = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IdentAttributor = function (_Parchment$Attributor) {\n  _inherits(IdentAttributor, _Parchment$Attributor);\n\n  function IdentAttributor() {\n    _classCallCheck(this, IdentAttributor);\n\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n  }\n\n  _createClass(IdentAttributor, [{\n    key: 'add',\n    value: function add(node, value) {\n      if (value === '+1' || value === '-1') {\n        var indent = this.value(node) || 0;\n        value = value === '+1' ? indent + 1 : indent - 1;\n      }\n      if (value === 0) {\n        this.remove(node);\n        return true;\n      } else {\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n      }\n    }\n  }, {\n    key: 'canAdd',\n    value: function canAdd(node, value) {\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n    }\n  }, {\n    key: 'value',\n    value: function value(node) {\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n    }\n  }]);\n\n  return IdentAttributor;\n}(_parchment2.default.Attributor.Class);\n\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexports.IndentClass = IndentClass;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blockquote = function (_Block) {\n  _inherits(Blockquote, _Block);\n\n  function Blockquote() {\n    _classCallCheck(this, Blockquote);\n\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n  }\n\n  return Blockquote;\n}(_block2.default);\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexports.default = Blockquote;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Block) {\n  _inherits(Header, _Block);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n  }\n\n  _createClass(Header, null, [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return this.tagName.indexOf(domNode.tagName) + 1;\n    }\n  }]);\n\n  return Header;\n}(_block2.default);\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexports.default = Header;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListItem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListItem = function (_Block) {\n  _inherits(ListItem, _Block);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name === List.blotName && !value) {\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.prev == null && this.next == null) {\n        this.parent.remove();\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n      }\n    }\n  }, {\n    key: 'replaceWith',\n    value: function replaceWith(name, value) {\n      this.parent.isolate(this.offset(this.parent), this.length());\n      if (name === this.parent.statics.blotName) {\n        this.parent.replaceWith(name, value);\n        return this;\n      } else {\n        this.parent.unwrap();\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n    }\n  }]);\n\n  return ListItem;\n}(_block2.default);\n\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\nvar List = function (_Container) {\n  _inherits(List, _Container);\n\n  _createClass(List, null, [{\n    key: 'create',\n    value: function create(value) {\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n      if (value === 'checked' || value === 'unchecked') {\n        node.setAttribute('data-checked', value === 'checked');\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'OL') return 'ordered';\n      if (domNode.tagName === 'UL') {\n        if (domNode.hasAttribute('data-checked')) {\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n        } else {\n          return 'bullet';\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  function List(domNode) {\n    _classCallCheck(this, List);\n\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n    var listEventHandler = function listEventHandler(e) {\n      if (e.target.parentNode !== domNode) return;\n      var format = _this2.statics.formats(domNode);\n      var blot = _parchment2.default.find(e.target);\n      if (format === 'checked') {\n        blot.format('list', 'unchecked');\n      } else if (format === 'unchecked') {\n        blot.format('list', 'checked');\n      }\n    };\n\n    domNode.addEventListener('touchstart', listEventHandler);\n    domNode.addEventListener('mousedown', listEventHandler);\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (this.children.length > 0) {\n        this.children.tail.format(name, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      // We don't inherit from FormatBlot\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot instanceof ListItem) {\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n      } else {\n        var index = ref == null ? this.length() : ref.offset(this);\n        var after = this.split(index);\n        after.parent.insertBefore(blot, after);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      if (target.statics.blotName !== this.statics.blotName) {\n        var item = _parchment2.default.create(this.statics.defaultChild);\n        target.moveChildren(item);\n        this.appendChild(item);\n      }\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n    }\n  }]);\n\n  return List;\n}(_container2.default);\n\nList.blotName = 'list';\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\nList.defaultChild = 'list-item';\nList.allowedChildren = [ListItem];\n\nexports.ListItem = ListItem;\nexports.default = List;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Italic = function (_Bold) {\n  _inherits(Italic, _Bold);\n\n  function Italic() {\n    _classCallCheck(this, Italic);\n\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n  }\n\n  return Italic;\n}(_bold2.default);\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexports.default = Italic;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_Inline) {\n  _inherits(Script, _Inline);\n\n  function Script() {\n    _classCallCheck(this, Script);\n\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n  }\n\n  _createClass(Script, null, [{\n    key: 'create',\n    value: function create(value) {\n      if (value === 'super') {\n        return document.createElement('sup');\n      } else if (value === 'sub') {\n        return document.createElement('sub');\n      } else {\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'SUB') return 'sub';\n      if (domNode.tagName === 'SUP') return 'super';\n      return undefined;\n    }\n  }]);\n\n  return Script;\n}(_inline2.default);\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexports.default = Script;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Strike = function (_Inline) {\n  _inherits(Strike, _Inline);\n\n  function Strike() {\n    _classCallCheck(this, Strike);\n\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n  }\n\n  return Strike;\n}(_inline2.default);\n\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexports.default = Strike;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Underline = function (_Inline) {\n  _inherits(Underline, _Inline);\n\n  function Underline() {\n    _classCallCheck(this, Underline);\n\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n  }\n\n  return Underline;\n}(_inline2.default);\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexports.default = Underline;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _link = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['alt', 'height', 'width'];\n\nvar Image = function (_Parchment$Embed) {\n  _inherits(Image, _Parchment$Embed);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        node.setAttribute('src', this.sanitize(value));\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\n      );\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Image;\n}(_parchment2.default.Embed);\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexports.default = Image;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _block = __webpack_require__(4);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['height', 'width'];\n\nvar Video = function (_BlockEmbed) {\n  _inherits(Video, _BlockEmbed);\n\n  function Video() {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n  }\n\n  _createClass(Video, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', true);\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _link2.default.sanitize(url);\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Video;\n}(_block.BlockEmbed);\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexports.default = Video;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormulaBlot = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormulaBlot = function (_Embed) {\n  _inherits(FormulaBlot, _Embed);\n\n  function FormulaBlot() {\n    _classCallCheck(this, FormulaBlot);\n\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n  }\n\n  _createClass(FormulaBlot, null, [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return FormulaBlot;\n}(_embed2.default);\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nvar Formula = function (_Module) {\n  _inherits(Formula, _Module);\n\n  _createClass(Formula, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(FormulaBlot, true);\n    }\n  }]);\n\n  function Formula() {\n    _classCallCheck(this, Formula);\n\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    return _this2;\n  }\n\n  return Formula;\n}(_module2.default);\n\nexports.FormulaBlot = FormulaBlot;\nexports.default = Formula;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SyntaxCodeBlock = function (_CodeBlock) {\n  _inherits(SyntaxCodeBlock, _CodeBlock);\n\n  function SyntaxCodeBlock() {\n    _classCallCheck(this, SyntaxCodeBlock);\n\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(SyntaxCodeBlock, [{\n    key: 'replaceWith',\n    value: function replaceWith(block) {\n      this.domNode.textContent = this.domNode.textContent;\n      this.attach();\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n    }\n  }, {\n    key: 'highlight',\n    value: function highlight(_highlight) {\n      var text = this.domNode.textContent;\n      if (this.cachedText !== text) {\n        if (text.trim().length > 0 || this.cachedText == null) {\n          this.domNode.innerHTML = _highlight(text);\n          this.domNode.normalize();\n          this.attach();\n        }\n        this.cachedText = text;\n      }\n    }\n  }]);\n\n  return SyntaxCodeBlock;\n}(_code2.default);\n\nSyntaxCodeBlock.className = 'ql-syntax';\n\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nvar Syntax = function (_Module) {\n  _inherits(Syntax, _Module);\n\n  _createClass(Syntax, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(CodeToken, true);\n      _quill2.default.register(SyntaxCodeBlock, true);\n    }\n  }]);\n\n  function Syntax(quill, options) {\n    _classCallCheck(this, Syntax);\n\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n    if (typeof _this2.options.highlight !== 'function') {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n    var timer = null;\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        _this2.highlight();\n        timer = null;\n      }, _this2.options.interval);\n    });\n    _this2.highlight();\n    return _this2;\n  }\n\n  _createClass(Syntax, [{\n    key: 'highlight',\n    value: function highlight() {\n      var _this3 = this;\n\n      if (this.quill.selection.composing) return;\n      this.quill.update(_quill2.default.sources.USER);\n      var range = this.quill.getSelection();\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n        code.highlight(_this3.options.highlight);\n      });\n      this.quill.update(_quill2.default.sources.SILENT);\n      if (range != null) {\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\n      }\n    }\n  }]);\n\n  return Syntax;\n}(_module2.default);\n\nSyntax.DEFAULTS = {\n  highlight: function () {\n    if (window.hljs == null) return null;\n    return function (text) {\n      var result = window.hljs.highlightAuto(text);\n      return result.value;\n    };\n  }(),\n  interval: 1000\n};\n\nexports.CodeBlock = SyntaxCodeBlock;\nexports.CodeToken = CodeToken;\nexports.default = Syntax;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BubbleTooltip = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\n\nvar BubbleTheme = function (_BaseTheme) {\n  _inherits(BubbleTheme, _BaseTheme);\n\n  function BubbleTheme(quill, options) {\n    _classCallCheck(this, BubbleTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-bubble');\n    return _this;\n  }\n\n  _createClass(BubbleTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n      this.tooltip.root.appendChild(toolbar.container);\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n    }\n  }]);\n\n  return BubbleTheme;\n}(_base2.default);\n\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n      }\n    }\n  }\n});\n\nvar BubbleTooltip = function (_BaseTooltip) {\n  _inherits(BubbleTooltip, _BaseTooltip);\n\n  function BubbleTooltip(quill, bounds) {\n    _classCallCheck(this, BubbleTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n        _this2.show();\n        // Lock our width so we will expand beyond our offsetParent boundaries\n        _this2.root.style.left = '0px';\n        _this2.root.style.width = '';\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\n        var lines = _this2.quill.getLines(range.index, range.length);\n        if (lines.length === 1) {\n          _this2.position(_this2.quill.getBounds(range));\n        } else {\n          var lastLine = lines[lines.length - 1];\n          var index = _this2.quill.getIndex(lastLine);\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n          _this2.position(_bounds);\n        }\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n        _this2.hide();\n      }\n    });\n    return _this2;\n  }\n\n  _createClass(BubbleTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\n        _this3.root.classList.remove('ql-editing');\n      });\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n        // Let selection be restored by toolbar handlers before repositioning\n        setTimeout(function () {\n          if (_this3.root.classList.contains('ql-hidden')) return;\n          var range = _this3.quill.getSelection();\n          if (range != null) {\n            _this3.position(_this3.quill.getBounds(range));\n          }\n        }, 1);\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.show();\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\n      arrow.style.marginLeft = '';\n      if (shift === 0) return shift;\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n    }\n  }]);\n\n  return BubbleTooltip;\n}(_base.BaseTooltip);\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nexports.BubbleTooltip = BubbleTooltip;\nexports.default = BubbleTheme;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ })\n/******/ ])[\"default\"];\n});","\"use strict\";\n/*\nReact-Quill\nhttps://github.com/zenoamaro/react-quill\n*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\nvar quill_1 = __importDefault(require(\"quill\"));\nvar ReactQuill = /** @class */ (function (_super) {\n    __extends(ReactQuill, _super);\n    function ReactQuill(props) {\n        var _this = _super.call(this, props) || this;\n        /*\n        Changing one of these props should cause a full re-render and a\n        re-instantiation of the Quill editor.\n        */\n        _this.dirtyProps = [\n            'modules',\n            'formats',\n            'bounds',\n            'theme',\n            'children',\n        ];\n        /*\n        Changing one of these props should cause a regular update. These are mostly\n        props that act on the container, rather than the quillized editing area.\n        */\n        _this.cleanProps = [\n            'id',\n            'className',\n            'style',\n            'placeholder',\n            'tabIndex',\n            'onChange',\n            'onChangeSelection',\n            'onFocus',\n            'onBlur',\n            'onKeyPress',\n            'onKeyDown',\n            'onKeyUp',\n        ];\n        _this.state = {\n            generation: 0,\n        };\n        /*\n        Tracks the internal selection of the Quill editor\n        */\n        _this.selection = null;\n        _this.onEditorChange = function (eventName, rangeOrDelta, oldRangeOrDelta, source) {\n            var _a, _b, _c, _d;\n            if (eventName === 'text-change') {\n                (_b = (_a = _this).onEditorChangeText) === null || _b === void 0 ? void 0 : _b.call(_a, _this.editor.root.innerHTML, rangeOrDelta, source, _this.unprivilegedEditor);\n            }\n            else if (eventName === 'selection-change') {\n                (_d = (_c = _this).onEditorChangeSelection) === null || _d === void 0 ? void 0 : _d.call(_c, rangeOrDelta, source, _this.unprivilegedEditor);\n            }\n        };\n        var value = _this.isControlled() ? props.value : props.defaultValue;\n        _this.value = (value !== null && value !== void 0 ? value : '');\n        return _this;\n    }\n    ReactQuill.prototype.validateProps = function (props) {\n        var _a;\n        if (react_1.default.Children.count(props.children) > 1)\n            throw new Error('The Quill editing area can only be composed of a single React element.');\n        if (react_1.default.Children.count(props.children)) {\n            var child = react_1.default.Children.only(props.children);\n            if (((_a = child) === null || _a === void 0 ? void 0 : _a.type) === 'textarea')\n                throw new Error('Quill does not support editing on a <textarea>. Use a <div> instead.');\n        }\n        if (this.lastDeltaChangeSet &&\n            props.value === this.lastDeltaChangeSet)\n            throw new Error('You are passing the `delta` object from the `onChange` event back ' +\n                'as `value`. You most probably want `editor.getContents()` instead. ' +\n                'See: https://github.com/zenoamaro/react-quill#using-deltas');\n    };\n    ReactQuill.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        var _this = this;\n        var _a;\n        this.validateProps(nextProps);\n        // If the editor hasn't been instantiated yet, or the component has been\n        // regenerated, we already know we should update.\n        if (!this.editor || this.state.generation !== nextState.generation) {\n            return true;\n        }\n        // Handle value changes in-place\n        if ('value' in nextProps) {\n            var prevContents = this.getEditorContents();\n            var nextContents = (_a = nextProps.value, (_a !== null && _a !== void 0 ? _a : ''));\n            // NOTE: Seeing that Quill is missing a way to prevent edits, we have to\n            //       settle for a hybrid between controlled and uncontrolled mode. We\n            //       can't prevent the change, but we'll still override content\n            //       whenever `value` differs from current state.\n            // NOTE: Comparing an HTML string and a Quill Delta will always trigger a\n            //       change, regardless of whether they represent the same document.\n            if (!this.isEqualValue(nextContents, prevContents)) {\n                this.setEditorContents(this.editor, nextContents);\n            }\n        }\n        // Handle read-only changes in-place\n        if (nextProps.readOnly !== this.props.readOnly) {\n            this.setEditorReadOnly(this.editor, nextProps.readOnly);\n        }\n        // Clean and Dirty props require a render\n        return __spreadArrays(this.cleanProps, this.dirtyProps).some(function (prop) {\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n        });\n    };\n    ReactQuill.prototype.shouldComponentRegenerate = function (nextProps) {\n        var _this = this;\n        // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\n        return this.dirtyProps.some(function (prop) {\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n        });\n    };\n    ReactQuill.prototype.componentDidMount = function () {\n        this.instantiateEditor();\n        this.setEditorContents(this.editor, this.getEditorContents());\n    };\n    ReactQuill.prototype.componentWillUnmount = function () {\n        this.destroyEditor();\n    };\n    ReactQuill.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        // If we're changing one of the `dirtyProps`, the entire Quill Editor needs\n        // to be re-instantiated. Regenerating the editor will cause the whole tree,\n        // including the container, to be cleaned up and re-rendered from scratch.\n        // Store the contents so they can be restored later.\n        if (this.editor && this.shouldComponentRegenerate(prevProps)) {\n            var delta = this.editor.getContents();\n            var selection = this.editor.getSelection();\n            this.regenerationSnapshot = { delta: delta, selection: selection };\n            this.setState({ generation: this.state.generation + 1 });\n            this.destroyEditor();\n        }\n        // The component has been regenerated, so it must be re-instantiated, and\n        // its content must be restored to the previous values from the snapshot.\n        if (this.state.generation !== prevState.generation) {\n            var _a = this.regenerationSnapshot, delta = _a.delta, selection_1 = _a.selection;\n            delete this.regenerationSnapshot;\n            this.instantiateEditor();\n            var editor_1 = this.editor;\n            editor_1.setContents(delta);\n            postpone(function () { return _this.setEditorSelection(editor_1, selection_1); });\n        }\n    };\n    ReactQuill.prototype.instantiateEditor = function () {\n        if (this.editor) {\n            this.hookEditor(this.editor);\n        }\n        else {\n            this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\n        }\n    };\n    ReactQuill.prototype.destroyEditor = function () {\n        if (!this.editor)\n            return;\n        this.unhookEditor(this.editor);\n    };\n    /*\n    We consider the component to be controlled if `value` is being sent in props.\n    */\n    ReactQuill.prototype.isControlled = function () {\n        return 'value' in this.props;\n    };\n    ReactQuill.prototype.getEditorConfig = function () {\n        return {\n            bounds: this.props.bounds,\n            formats: this.props.formats,\n            modules: this.props.modules,\n            placeholder: this.props.placeholder,\n            readOnly: this.props.readOnly,\n            scrollingContainer: this.props.scrollingContainer,\n            tabIndex: this.props.tabIndex,\n            theme: this.props.theme,\n        };\n    };\n    ReactQuill.prototype.getEditor = function () {\n        if (!this.editor)\n            throw new Error('Accessing non-instantiated editor');\n        return this.editor;\n    };\n    /**\n    Creates an editor on the given element. The editor will be passed the\n    configuration, have its events bound,\n    */\n    ReactQuill.prototype.createEditor = function (element, config) {\n        var editor = new quill_1.default(element, config);\n        if (config.tabIndex != null) {\n            this.setEditorTabIndex(editor, config.tabIndex);\n        }\n        this.hookEditor(editor);\n        return editor;\n    };\n    ReactQuill.prototype.hookEditor = function (editor) {\n        // Expose the editor on change events via a weaker, unprivileged proxy\n        // object that does not allow accidentally modifying editor state.\n        this.unprivilegedEditor = this.makeUnprivilegedEditor(editor);\n        // Using `editor-change` allows picking up silent updates, like selection\n        // changes on typing.\n        editor.on('editor-change', this.onEditorChange);\n    };\n    ReactQuill.prototype.unhookEditor = function (editor) {\n        editor.off('editor-change', this.onEditorChange);\n    };\n    ReactQuill.prototype.getEditorContents = function () {\n        return this.value;\n    };\n    ReactQuill.prototype.getEditorSelection = function () {\n        return this.selection;\n    };\n    /*\n    True if the value is a Delta instance or a Delta look-alike.\n    */\n    ReactQuill.prototype.isDelta = function (value) {\n        return value && value.ops;\n    };\n    /*\n    Special comparison function that knows how to compare Deltas.\n    */\n    ReactQuill.prototype.isEqualValue = function (value, nextValue) {\n        if (this.isDelta(value) && this.isDelta(nextValue)) {\n            return isEqual_1.default(value.ops, nextValue.ops);\n        }\n        else {\n            return isEqual_1.default(value, nextValue);\n        }\n    };\n    /*\n    Replace the contents of the editor, but keep the previous selection hanging\n    around so that the cursor won't move.\n    */\n    ReactQuill.prototype.setEditorContents = function (editor, value) {\n        var _this = this;\n        this.value = value;\n        var sel = this.getEditorSelection();\n        if (typeof value === 'string') {\n            editor.setContents(editor.clipboard.convert(value));\n        }\n        else {\n            editor.setContents(value);\n        }\n        postpone(function () { return _this.setEditorSelection(editor, sel); });\n    };\n    ReactQuill.prototype.setEditorSelection = function (editor, range) {\n        this.selection = range;\n        if (range) {\n            // Validate bounds before applying.\n            var length_1 = editor.getLength();\n            range.index = Math.max(0, Math.min(range.index, length_1 - 1));\n            range.length = Math.max(0, Math.min(range.length, (length_1 - 1) - range.index));\n            editor.setSelection(range);\n        }\n    };\n    ReactQuill.prototype.setEditorTabIndex = function (editor, tabIndex) {\n        var _a, _b;\n        if ((_b = (_a = editor) === null || _a === void 0 ? void 0 : _a.scroll) === null || _b === void 0 ? void 0 : _b.domNode) {\n            editor.scroll.domNode.tabIndex = tabIndex;\n        }\n    };\n    ReactQuill.prototype.setEditorReadOnly = function (editor, value) {\n        if (value) {\n            editor.disable();\n        }\n        else {\n            editor.enable();\n        }\n    };\n    /*\n    Returns a weaker, unprivileged proxy object that only exposes read-only\n    accessors found on the editor instance, without any state-modifying methods.\n    */\n    ReactQuill.prototype.makeUnprivilegedEditor = function (editor) {\n        var e = editor;\n        return {\n            getHTML: function () { return e.root.innerHTML; },\n            getLength: e.getLength.bind(e),\n            getText: e.getText.bind(e),\n            getContents: e.getContents.bind(e),\n            getSelection: e.getSelection.bind(e),\n            getBounds: e.getBounds.bind(e),\n        };\n    };\n    ReactQuill.prototype.getEditingArea = function () {\n        if (!this.editingArea) {\n            throw new Error('Instantiating on missing editing area');\n        }\n        var element = react_dom_1.default.findDOMNode(this.editingArea);\n        if (!element) {\n            throw new Error('Cannot find element for editing area');\n        }\n        if (element.nodeType === 3) {\n            throw new Error('Editing area cannot be a text node');\n        }\n        return element;\n    };\n    /*\n    Renders an editor area, unless it has been provided one to clone.\n    */\n    ReactQuill.prototype.renderEditingArea = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, preserveWhitespace = _a.preserveWhitespace;\n        var generation = this.state.generation;\n        var properties = {\n            key: generation,\n            ref: function (instance) {\n                _this.editingArea = instance;\n            },\n        };\n        if (react_1.default.Children.count(children)) {\n            return react_1.default.cloneElement(react_1.default.Children.only(children), properties);\n        }\n        return preserveWhitespace ?\n            react_1.default.createElement(\"pre\", __assign({}, properties)) :\n            react_1.default.createElement(\"div\", __assign({}, properties));\n    };\n    ReactQuill.prototype.render = function () {\n        var _a;\n        return (react_1.default.createElement(\"div\", { id: this.props.id, style: this.props.style, key: this.state.generation, className: \"quill \" + (_a = this.props.className, (_a !== null && _a !== void 0 ? _a : '')), onKeyPress: this.props.onKeyPress, onKeyDown: this.props.onKeyDown, onKeyUp: this.props.onKeyUp }, this.renderEditingArea()));\n    };\n    ReactQuill.prototype.onEditorChangeText = function (value, delta, source, editor) {\n        var _a, _b;\n        if (!this.editor)\n            return;\n        // We keep storing the same type of value as what the user gives us,\n        // so that value comparisons will be more stable and predictable.\n        var nextContents = this.isDelta(this.value)\n            ? editor.getContents()\n            : editor.getHTML();\n        if (nextContents !== this.getEditorContents()) {\n            // Taint this `delta` object, so we can recognize whether the user\n            // is trying to send it back as `value`, preventing a likely loop.\n            this.lastDeltaChangeSet = delta;\n            this.value = nextContents;\n            (_b = (_a = this.props).onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value, delta, source, editor);\n        }\n    };\n    ReactQuill.prototype.onEditorChangeSelection = function (nextSelection, source, editor) {\n        var _a, _b, _c, _d, _e, _f;\n        if (!this.editor)\n            return;\n        var currentSelection = this.getEditorSelection();\n        var hasGainedFocus = !currentSelection && nextSelection;\n        var hasLostFocus = currentSelection && !nextSelection;\n        if (isEqual_1.default(nextSelection, currentSelection))\n            return;\n        this.selection = nextSelection;\n        (_b = (_a = this.props).onChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_a, nextSelection, source, editor);\n        if (hasGainedFocus) {\n            (_d = (_c = this.props).onFocus) === null || _d === void 0 ? void 0 : _d.call(_c, nextSelection, source, editor);\n        }\n        else if (hasLostFocus) {\n            (_f = (_e = this.props).onBlur) === null || _f === void 0 ? void 0 : _f.call(_e, currentSelection, source, editor);\n        }\n    };\n    ReactQuill.prototype.focus = function () {\n        if (!this.editor)\n            return;\n        this.editor.focus();\n    };\n    ReactQuill.prototype.blur = function () {\n        if (!this.editor)\n            return;\n        this.selection = null;\n        this.editor.blur();\n    };\n    ReactQuill.displayName = 'React Quill';\n    /*\n    Export Quill to be able to call `register`\n    */\n    ReactQuill.Quill = quill_1.default;\n    ReactQuill.defaultProps = {\n        theme: 'snow',\n        modules: {},\n        readOnly: false,\n    };\n    return ReactQuill;\n}(react_1.default.Component));\n/*\nSmall helper to execute a function in the next micro-tick.\n*/\nfunction postpone(fn) {\n    Promise.resolve().then(fn);\n}\nmodule.exports = ReactQuill;\n//# sourceMappingURL=index.js.map","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","import React from 'react';\n\ninterface CopyrightPreviewProps {\n  authorName: string;\n  year?: number;\n}\n\n/**\n * CopyrightPreview - Displays the copyright notice that will be associated with published content.\n *\n * Shows the copyright line and blockchain timestamp message that will be part of\n * the published work's metadata.\n */\nexport default function CopyrightPreview({ authorName, year }: CopyrightPreviewProps) {\n  const currentYear = year || new Date().getFullYear();\n\n  const copyrightLine = `(C) ${currentYear} ${authorName}. All Rights Reserved.`;\n  const blockchainMessage = `Every work published on renaissBlock is timestamped on the blockchain - creating an immutable record of your authorship. No registration required.`;\n\n  return (\n    <div style={{\n      background: 'rgba(139, 92, 246, 0.08)',\n      border: '1px solid rgba(139, 92, 246, 0.2)',\n      borderRadius: 12,\n      padding: 16,\n      marginTop: 16,\n    }}>\n      <div style={{\n        fontSize: 12,\n        fontWeight: 600,\n        color: '#a78bfa',\n        textTransform: 'uppercase',\n        letterSpacing: '0.05em',\n        marginBottom: 12,\n      }}>\n        Copyright Notice\n      </div>\n\n      <div style={{\n        background: 'var(--bg)',\n        border: '1px solid var(--panel-border)',\n        borderRadius: 8,\n        padding: 20,\n        textAlign: 'center',\n      }}>\n        <p style={{\n          color: 'var(--text)',\n          fontSize: 14,\n          fontWeight: 600,\n          margin: '0 0 16px 0',\n        }}>\n          {copyrightLine}\n        </p>\n\n        <p style={{\n          color: '#94a3b8',\n          fontSize: 12,\n          lineHeight: 1.6,\n          margin: 0,\n          fontStyle: 'italic',\n        }}>\n          {blockchainMessage}\n        </p>\n      </div>\n\n      <div style={{\n        fontSize: 11,\n        color: '#64748b',\n        marginTop: 8,\n        textAlign: 'center',\n      }}>\n        This notice will be associated with your published work\n      </div>\n    </div>\n  );\n}\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontSetMe = dontSetMe;\nexports.findInArray = findInArray;\nexports.int = int;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array /*: Array<any> | TouchList*/, callback /*: Function*/) /*: any*/{\n  for (let i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\nfunction isFunction(func /*: any*/) /*: boolean %checks*/{\n  // $FlowIgnore[method-unbinding]\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\nfunction isNum(num /*: any*/) /*: boolean %checks*/{\n  return typeof num === 'number' && !isNaN(num);\n}\nfunction int(a /*: string*/) /*: number*/{\n  return parseInt(a, 10);\n}\nfunction dontSetMe(props /*: Object*/, propName /*: string*/, componentName /*: string*/) /*: ?Error*/{\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addClassName = addClassName;\nexports.addEvent = addEvent;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.getTranslation = getTranslation;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.removeClassName = removeClassName;\nexports.removeEvent = removeEvent;\nexports.removeUserSelectStyles = removeUserSelectStyles;\nvar _shims = require(\"./shims\");\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n/*:: import type {ControlPosition, PositionOffsetControlPosition, MouseTouchEvent} from './types';*/\nlet matchesSelectorFunc = '';\nfunction matchesSelector(el /*: Node*/, selector /*: string*/) /*: boolean*/{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  }\n\n  // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false;\n\n  // $FlowIgnore: Doesn't think elements are indexable\n  return el[matchesSelectorFunc](selector);\n}\n\n// Works up the tree to the draggable itself attempting to match selector.\nfunction matchesSelectorAndParentsTo(el /*: Node*/, selector /*: string*/, baseNode /*: Node*/) /*: boolean*/{\n  let node = el;\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    // $FlowIgnore[incompatible-type]\n    node = node.parentNode;\n  } while (node);\n  return false;\n}\nfunction addEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\nfunction removeEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\nfunction outerHeight(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\nfunction outerWidth(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\nfunction innerHeight(node /*: HTMLElement*/) /*: number*/{\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\nfunction innerWidth(node /*: HTMLElement*/) /*: number*/{\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n}\n/*:: interface EventWithOffset {\n  clientX: number, clientY: number\n}*/\n// Get from offsetParent\nfunction offsetXYFromParent(evt /*: EventWithOffset*/, offsetParent /*: HTMLElement*/, scale /*: number*/) /*: ControlPosition*/{\n  const isBody = offsetParent === offsetParent.ownerDocument.body;\n  const offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  const x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  const y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x,\n    y\n  };\n}\nfunction createCSSTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: Object*/{\n  const translation = getTranslation(controlPos, positionOffset, 'px');\n  return {\n    [(0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default)]: translation\n  };\n}\nfunction createSVGTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: string*/{\n  const translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\nfunction getTranslation(_ref /*:: */, positionOffset /*: PositionOffsetControlPosition*/, unitSuffix /*: string*/) /*: string*/{\n  let {\n    x,\n    y\n  } /*: ControlPosition*/ = _ref /*: ControlPosition*/;\n  let translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n  if (positionOffset) {\n    const defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    const defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n  return translation;\n}\nfunction getTouch(e /*: MouseTouchEvent*/, identifier /*: number*/) /*: ?{clientX: number, clientY: number}*/{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, t => identifier === t.identifier) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, t => identifier === t.identifier);\n}\nfunction getTouchIdentifier(e /*: MouseTouchEvent*/) /*: ?number*/{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n}\n\n// User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n\n// Note we're passing `document` b/c we could be iframed\nfunction addUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  let styleEl = doc.getElementById('react-draggable-style-el');\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nfunction removeUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n    // $FlowIgnore: IE\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      const selection = (doc.defaultView || window).getSelection();\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {\n    // probably IE\n  }\n}\nfunction addClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\nfunction removeClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nexports.getPrefix = getPrefix;\nconst prefixes = ['Moz', 'Webkit', 'O', 'ms'];\nfunction getPrefix() /*: string*/{\n  var _window$document;\n  let prop /*: string*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Ensure we're running in an environment where there is actually a global\n  // `window` obj\n  if (typeof window === 'undefined') return '';\n\n  // If we're in a pseudo-browser server-side environment, this access\n  // path may not exist, so bail out if it doesn't.\n  const style = (_window$document = window.document) === null || _window$document === void 0 || (_window$document = _window$document.documentElement) === null || _window$document === void 0 ? void 0 : _window$document.style;\n  if (!style) return '';\n  if (prop in style) return '';\n  for (let i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n  return '';\n}\nfunction browserPrefixToKey(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\nfunction browserPrefixToStyle(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\nfunction kebabToTitleCase(str /*: string*/) /*: string*/{\n  let out = '';\n  let shouldCapitalize = true;\n  for (let i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n  return out;\n}\n\n// Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\nvar _default = exports.default = (getPrefix() /*: string*/);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\nexports.getBoundPosition = getBoundPosition;\nexports.getControlPosition = getControlPosition;\nexports.snapToGrid = snapToGrid;\nvar _shims = require(\"./shims\");\nvar _domFns = require(\"./domFns\");\n/*:: import type Draggable from '../Draggable';*/\n/*:: import type {Bounds, ControlPosition, DraggableData, MouseTouchEvent} from './types';*/\n/*:: import type DraggableCore from '../DraggableCore';*/\nfunction getBoundPosition(draggable /*: Draggable*/, x /*: number*/, y /*: number*/) /*: [number, number]*/{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y];\n\n  // Clone new bounds\n  let {\n    bounds\n  } = draggable.props;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  const node = findDOMNode(draggable);\n  if (typeof bounds === 'string') {\n    const {\n      ownerDocument\n    } = node;\n    const ownerWindow = ownerDocument.defaultView;\n    let boundNode;\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n    const boundNodeEl /*: HTMLElement*/ = boundNode; // for Flow, can't seem to refine correctly\n    const nodeStyle = ownerWindow.getComputedStyle(node);\n    const boundNodeStyle = ownerWindow.getComputedStyle(boundNodeEl);\n    // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNodeEl) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNodeEl) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  }\n\n  // Keep x and y below right and bottom limits...\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom);\n\n  // But above left and top limits.\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\nfunction snapToGrid(grid /*: [number, number]*/, pendingX /*: number*/, pendingY /*: number*/) /*: [number, number]*/{\n  const x = Math.round(pendingX / grid[0]) * grid[0];\n  const y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\nfunction canDragX(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\nfunction canDragY(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n}\n\n// Get {x, y} positions from event.\nfunction getControlPosition(e /*: MouseTouchEvent*/, touchIdentifier /*: ?number*/, draggableCore /*: DraggableCore*/) /*: ?ControlPosition*/{\n  const touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n  const node = findDOMNode(draggableCore);\n  // User can provide an offsetParent if desired.\n  const offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n}\n\n// Create an data object exposed by <DraggableCore>'s events\nfunction createCoreData(draggable /*: DraggableCore*/, x /*: number*/, y /*: number*/) /*: DraggableData*/{\n  const isStart = !(0, _shims.isNum)(draggable.lastX);\n  const node = findDOMNode(draggable);\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x,\n      y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node,\n      deltaX: x - draggable.lastX,\n      deltaY: y - draggable.lastY,\n      lastX: draggable.lastX,\n      lastY: draggable.lastY,\n      x,\n      y\n    };\n  }\n}\n\n// Create an data exposed by <Draggable>'s events\nfunction createDraggableData(draggable /*: Draggable*/, coreData /*: DraggableData*/) /*: DraggableData*/{\n  const scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n}\n\n// A lot faster than stringify/parse\nfunction cloneBounds(bounds /*: Bounds*/) /*: Bounds*/{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\nfunction findDOMNode(draggable /*: Draggable | DraggableCore*/) /*: HTMLElement*/{\n  const node = draggable.findDOMNode();\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  }\n  // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n/*eslint no-console:0*/\nfunction log() {\n  if (undefined) console.log(...arguments);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/*:: import type {EventHandler, MouseTouchEvent} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n// Simple abstraction for dragging events names.\nconst eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\n\n// Default to mouse events.\nlet dragEventFor = eventsFor.mouse;\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void | false;*/\n/*:: export type ControlPosition = {x: number, y: number};*/\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n/*:: export type DraggableCoreDefaultProps = {\n  allowAnyClick: boolean,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n/*:: export type DraggableCoreProps = {\n  ...DraggableCoreDefaultProps,\n  cancel: string,\n  children: ReactElement<any>,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n};*/\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\n\nclass DraggableCore extends React.Component /*:: <DraggableCoreProps>*/{\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"dragging\", false);\n    // Used while dragging to determine deltas.\n    _defineProperty(this, \"lastX\", NaN);\n    _defineProperty(this, \"lastY\", NaN);\n    _defineProperty(this, \"touchIdentifier\", null);\n    _defineProperty(this, \"mounted\", false);\n    _defineProperty(this, \"handleDragStart\", e => {\n      // Make it possible to attach event handlers on top of this one.\n      this.props.onMouseDown(e);\n\n      // Only accept left-clicks.\n      if (!this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false;\n\n      // Get nodes. Be sure to grab relative document (could be iframed)\n      const thisNode = this.findDOMNode();\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n      const {\n        ownerDocument\n      } = thisNode;\n\n      // Short circuit if handle or cancel prop was provided and selector doesn't match.\n      if (this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.handle, thisNode) || this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.cancel, thisNode)) {\n        return;\n      }\n\n      // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n      if (e.type === 'touchstart') e.preventDefault();\n\n      // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n      const touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n      this.touchIdentifier = touchIdentifier;\n\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, touchIdentifier, this);\n      if (position == null) return; // not possible but satisfies flow\n      const {\n        x,\n        y\n      } = position;\n\n      // Create an event object with all the data parents need to make a decision here.\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, cancel.\n      (0, _log.default)('calling', this.props.onStart);\n      const shouldUpdate = this.props.onStart(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) return;\n\n      // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n      if (this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument);\n\n      // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n      this.dragging = true;\n      this.lastX = x;\n      this.lastY = y;\n\n      // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, this.handleDragStop);\n    });\n    _defineProperty(this, \"handleDrag\", e => {\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX,\n          deltaY = y - this.lastY;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        if (!deltaX && !deltaY) return; // skip useless drag\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, trigger end.\n      const shouldUpdate = this.props.onDrag(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) {\n        try {\n          // $FlowIgnore\n          this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          const event = ((document.createEvent('MouseEvents') /*: any*/) /*: MouseTouchEvent*/);\n          // I see why this insanity was deprecated\n          // $FlowIgnore\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n          this.handleDragStop(event);\n        }\n        return;\n      }\n      this.lastX = x;\n      this.lastY = y;\n    });\n    _defineProperty(this, \"handleDragStop\", e => {\n      if (!this.dragging) return;\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX || 0;\n        let deltaY = y - this.lastY || 0;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n\n      // Call event handler\n      const shouldContinue = this.props.onStop(e, coreEvent);\n      if (shouldContinue === false || this.mounted === false) return false;\n      const thisNode = this.findDOMNode();\n      if (thisNode) {\n        // Remove user-select hack\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent);\n\n      // Reset the el.\n      this.dragging = false;\n      this.lastX = NaN;\n      this.lastY = NaN;\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, this.handleDragStop);\n      }\n    });\n    _defineProperty(this, \"onMouseDown\", e => {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onMouseUp\", e => {\n      dragEventFor = eventsFor.mouse;\n      return this.handleDragStop(e);\n    });\n    // Same as onMouseDown (start drag), but now consider this a touch device.\n    _defineProperty(this, \"onTouchStart\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStop(e);\n    });\n  }\n  componentDidMount() {\n    this.mounted = true;\n    // Touch handlers must be added with {passive: false} to be cancelable.\n    // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n    // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n    // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      const {\n        ownerDocument\n      } = thisNode;\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n      if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n    }\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    var _this$props, _this$props2;\n    return (_this$props = this.props) !== null && _this$props !== void 0 && _this$props.nodeRef ? (_this$props2 = this.props) === null || _this$props2 === void 0 || (_this$props2 = _this$props2.nodeRef) === null || _this$props2 === void 0 ? void 0 : _this$props2.current : _reactDom.default.findDOMNode(this);\n  }\n  render() /*: React.Element<any>*/{\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.cloneElement(React.Children.only(this.props.children), {\n      // Note: mouseMove handler is attached to document so it will still function\n      // when the user drags quickly and leaves the bounds of the element.\n      onMouseDown: this.onMouseDown,\n      onMouseUp: this.onMouseUp,\n      // onTouchStart is added on `componentDidMount` so they can be added with\n      // {passive: false}, which allows it to cancel. See\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n      onTouchEnd: this.onTouchEnd\n    });\n  }\n}\nexports.default = DraggableCore;\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n  children: _propTypes.default.node.isRequired,\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function (props /*: DraggableCoreProps*/, propName /*: $Keys<DraggableCoreProps>*/) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  disabled: false,\n  enableUserSelectHack: true,\n  onStart: function () {},\n  onDrag: function () {},\n  onStop: function () {},\n  onMouseDown: function () {},\n  scale: 1\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function () {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); } /*:: import type {ControlPosition, PositionOffsetControlPosition, DraggableCoreProps, DraggableCoreDefaultProps} from './DraggableCore';*/\n/*:: import type {Bounds, DraggableEventHandler} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n/*:: type DraggableState = {\n  dragging: boolean,\n  dragged: boolean,\n  x: number, y: number,\n  slackX: number, slackY: number,\n  isElementSVG: boolean,\n  prevPropsPosition: ?ControlPosition,\n};*/\n/*:: export type DraggableDefaultProps = {\n  ...DraggableCoreDefaultProps,\n  axis: 'both' | 'x' | 'y' | 'none',\n  bounds: Bounds | string | false,\n  defaultClassName: string,\n  defaultClassNameDragging: string,\n  defaultClassNameDragged: string,\n  defaultPosition: ControlPosition,\n  scale: number,\n};*/\n/*:: export type DraggableProps = {\n  ...DraggableCoreProps,\n  ...DraggableDefaultProps,\n  positionOffset: PositionOffsetControlPosition,\n  position: ControlPosition,\n};*/\n//\n// Define <Draggable>\n//\nclass Draggable extends React.Component /*:: <DraggableProps, DraggableState>*/{\n  // React 16.3+\n  // Arity (props, state)\n  static getDerivedStateFromProps(_ref /*:: */, _ref2 /*:: */) /*: ?Partial<DraggableState>*/{\n    let {\n      position\n    } /*: DraggableProps*/ = _ref /*: DraggableProps*/;\n    let {\n      prevPropsPosition\n    } /*: DraggableState*/ = _ref2 /*: DraggableState*/;\n    // Set x/y if a new position is provided in props that is different than the previous.\n    if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n      (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n        position,\n        prevPropsPosition\n      });\n      return {\n        x: position.x,\n        y: position.y,\n        prevPropsPosition: {\n          ...position\n        }\n      };\n    }\n    return null;\n  }\n  constructor(props /*: DraggableProps*/) {\n    super(props);\n    _defineProperty(this, \"onDragStart\", (e, coreData) => {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData);\n\n      // Short-circuit if user's callback killed it.\n      const shouldStart = this.props.onStart(e, (0, _positionFns.createDraggableData)(this, coreData));\n      // Kills start event on core as well, so move handlers are never bound.\n      if (shouldStart === false) return false;\n      this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n    _defineProperty(this, \"onDrag\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      const uiData = (0, _positionFns.createDraggableData)(this, coreData);\n      const newState = {\n        x: uiData.x,\n        y: uiData.y,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // Keep within bounds.\n      if (this.props.bounds) {\n        // Save original x and y.\n        const {\n          x,\n          y\n        } = newState;\n\n        // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n        newState.x += this.state.slackX;\n        newState.y += this.state.slackY;\n\n        // Get bound position. This will ceil/floor the x and y within the boundaries.\n        const [newStateX, newStateY] = (0, _positionFns.getBoundPosition)(this, newState.x, newState.y);\n        newState.x = newStateX;\n        newState.y = newStateY;\n\n        // Recalculate slack by noting how much was shaved by the boundPosition handler.\n        newState.slackX = this.state.slackX + (x - newState.x);\n        newState.slackY = this.state.slackY + (y - newState.y);\n\n        // Update the event we fire to reflect what really happened after bounds took effect.\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - this.state.x;\n        uiData.deltaY = newState.y - this.state.y;\n      }\n\n      // Short-circuit if user's callback killed it.\n      const shouldUpdate = this.props.onDrag(e, uiData);\n      if (shouldUpdate === false) return false;\n      this.setState(newState);\n    });\n    _defineProperty(this, \"onDragStop\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n\n      // Short-circuit if user's callback killed it.\n      const shouldContinue = this.props.onStop(e, (0, _positionFns.createDraggableData)(this, coreData));\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      const newState /*: Partial<DraggableState>*/ = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n      const controlled = Boolean(this.props.position);\n      if (controlled) {\n        const {\n          x,\n          y\n        } = this.props.position;\n        newState.x = x;\n        newState.y = y;\n      }\n      this.setState(newState);\n    });\n    this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: {\n        ...props.position\n      },\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n  }\n  componentDidMount() {\n    // Check to see if the element passed is an instanceof SVGElement\n    if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n      this.setState({\n        isElementSVG: true\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.setState({\n      dragging: false\n    }); // prevents invariant if unmounted while dragging\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    var _this$props$nodeRef$c, _this$props;\n    return (_this$props$nodeRef$c = (_this$props = this.props) === null || _this$props === void 0 || (_this$props = _this$props.nodeRef) === null || _this$props === void 0 ? void 0 : _this$props.current) !== null && _this$props$nodeRef$c !== void 0 ? _this$props$nodeRef$c : _reactDom.default.findDOMNode(this);\n  }\n  render() /*: ReactElement<any>*/{\n    const {\n      axis,\n      bounds,\n      children,\n      defaultPosition,\n      defaultClassName,\n      defaultClassNameDragging,\n      defaultClassNameDragged,\n      position,\n      positionOffset,\n      scale,\n      ...draggableCoreProps\n    } = this.props;\n    let style = {};\n    let svgTransform = null;\n\n    // If this is controlled, we don't want to move it - unless it's dragging.\n    const controlled = Boolean(position);\n    const draggable = !controlled || this.state.dragging;\n    const validPosition = position || defaultPosition;\n    const transformOpts = {\n      // Set left if horizontal drag is enabled\n      x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n      // Set top if vertical drag is enabled\n      y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n    };\n\n    // If this element was SVG, we use the `transform` attribute.\n    if (this.state.isElementSVG) {\n      svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n    } else {\n      // Add a CSS transform to move the element around. This allows us to move the element around\n      // without worrying about whether or not it is relatively or absolutely positioned.\n      // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n      // has a clean slate.\n      style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n    }\n\n    // Mark with class while dragging\n    const className = (0, _clsx.default)(children.props.className || '', defaultClassName, {\n      [defaultClassNameDragging]: this.state.dragging,\n      [defaultClassNameDragged]: this.state.dragged\n    });\n\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n      onStart: this.onDragStart,\n      onDrag: this.onDrag,\n      onStop: this.onDragStop\n    }), /*#__PURE__*/React.cloneElement(React.Children.only(children), {\n      className: className,\n      style: {\n        ...children.props.style,\n        ...style\n      },\n      transform: svgTransform\n    }));\n  }\n}\nexports.default = Draggable;\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n_defineProperty(Draggable, \"propTypes\", {\n  // Accepts all props <DraggableCore> accepts.\n  ..._DraggableCore.default.propTypes,\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(Draggable, \"defaultProps\", {\n  ..._DraggableCore.default.defaultProps,\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  scale: 1\n});","\"use strict\";\n\nconst {\n  default: Draggable,\n  DraggableCore\n} = require('./Draggable');\n\n// Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { memo, useCallback, useMemo } from 'react';\nvar rowSizeBase = {\n    width: '100%',\n    height: '10px',\n    top: '0px',\n    left: '0px',\n    cursor: 'row-resize',\n};\nvar colSizeBase = {\n    width: '10px',\n    height: '100%',\n    top: '0px',\n    left: '0px',\n    cursor: 'col-resize',\n};\nvar edgeBase = {\n    width: '20px',\n    height: '20px',\n    position: 'absolute',\n    zIndex: 1,\n};\nvar styles = {\n    top: __assign(__assign({}, rowSizeBase), { top: '-5px' }),\n    right: __assign(__assign({}, colSizeBase), { left: undefined, right: '-5px' }),\n    bottom: __assign(__assign({}, rowSizeBase), { top: undefined, bottom: '-5px' }),\n    left: __assign(__assign({}, colSizeBase), { left: '-5px' }),\n    topRight: __assign(__assign({}, edgeBase), { right: '-10px', top: '-10px', cursor: 'ne-resize' }),\n    bottomRight: __assign(__assign({}, edgeBase), { right: '-10px', bottom: '-10px', cursor: 'se-resize' }),\n    bottomLeft: __assign(__assign({}, edgeBase), { left: '-10px', bottom: '-10px', cursor: 'sw-resize' }),\n    topLeft: __assign(__assign({}, edgeBase), { left: '-10px', top: '-10px', cursor: 'nw-resize' }),\n};\nexport var Resizer = memo(function (props) {\n    var onResizeStart = props.onResizeStart, direction = props.direction, children = props.children, replaceStyles = props.replaceStyles, className = props.className;\n    var onMouseDown = useCallback(function (e) {\n        onResizeStart(e, direction);\n    }, [onResizeStart, direction]);\n    var onTouchStart = useCallback(function (e) {\n        onResizeStart(e, direction);\n    }, [onResizeStart, direction]);\n    var style = useMemo(function () {\n        return __assign(__assign({ position: 'absolute', userSelect: 'none' }, styles[direction]), (replaceStyles !== null && replaceStyles !== void 0 ? replaceStyles : {}));\n    }, [replaceStyles, direction]);\n    return (_jsx(\"div\", { className: className || undefined, style: style, onMouseDown: onMouseDown, onTouchStart: onTouchStart, children: children }));\n});\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { PureComponent } from 'react';\nimport { flushSync } from 'react-dom';\nimport { Resizer } from './resizer';\nvar DEFAULT_SIZE = {\n    width: 'auto',\n    height: 'auto',\n};\nvar clamp = function (n, min, max) { return Math.max(Math.min(n, max), min); };\nvar snap = function (n, size, gridGap) {\n    var v = Math.round(n / size);\n    return v * size + gridGap * (v - 1);\n};\nvar hasDirection = function (dir, target) {\n    return new RegExp(dir, 'i').test(target);\n};\n// INFO: In case of window is a Proxy and does not porxy Events correctly, use isTouchEvent & isMouseEvent to distinguish event type instead of `instanceof`.\nvar isTouchEvent = function (event) {\n    return Boolean(event.touches && event.touches.length);\n};\nvar isMouseEvent = function (event) {\n    return Boolean((event.clientX || event.clientX === 0) &&\n        (event.clientY || event.clientY === 0));\n};\nvar findClosestSnap = function (n, snapArray, snapGap) {\n    if (snapGap === void 0) { snapGap = 0; }\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\n};\nvar getStringSize = function (n) {\n    n = n.toString();\n    if (n === 'auto') {\n        return n;\n    }\n    if (n.endsWith('px')) {\n        return n;\n    }\n    if (n.endsWith('%')) {\n        return n;\n    }\n    if (n.endsWith('vh')) {\n        return n;\n    }\n    if (n.endsWith('vw')) {\n        return n;\n    }\n    if (n.endsWith('vmax')) {\n        return n;\n    }\n    if (n.endsWith('vmin')) {\n        return n;\n    }\n    return \"\".concat(n, \"px\");\n};\nvar getPixelSize = function (size, parentSize, innerWidth, innerHeight) {\n    if (size && typeof size === 'string') {\n        if (size.endsWith('px')) {\n            return Number(size.replace('px', ''));\n        }\n        if (size.endsWith('%')) {\n            var ratio = Number(size.replace('%', '')) / 100;\n            return parentSize * ratio;\n        }\n        if (size.endsWith('vw')) {\n            var ratio = Number(size.replace('vw', '')) / 100;\n            return innerWidth * ratio;\n        }\n        if (size.endsWith('vh')) {\n            var ratio = Number(size.replace('vh', '')) / 100;\n            return innerHeight * ratio;\n        }\n    }\n    return size;\n};\nvar calculateNewMax = function (parentSize, innerWidth, innerHeight, maxWidth, maxHeight, minWidth, minHeight) {\n    maxWidth = getPixelSize(maxWidth, parentSize.width, innerWidth, innerHeight);\n    maxHeight = getPixelSize(maxHeight, parentSize.height, innerWidth, innerHeight);\n    minWidth = getPixelSize(minWidth, parentSize.width, innerWidth, innerHeight);\n    minHeight = getPixelSize(minHeight, parentSize.height, innerWidth, innerHeight);\n    return {\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\n    };\n};\n/**\n * transform T | [T, T] to [T, T]\n * @param val\n * @returns\n */\n// tslint:disable-next-line\nvar normalizeToPair = function (val) { return (Array.isArray(val) ? val : [val, val]); };\nvar definedProps = [\n    'as',\n    'ref',\n    'style',\n    'className',\n    'grid',\n    'gridGap',\n    'snap',\n    'bounds',\n    'boundsByDirection',\n    'size',\n    'defaultSize',\n    'minWidth',\n    'minHeight',\n    'maxWidth',\n    'maxHeight',\n    'lockAspectRatio',\n    'lockAspectRatioExtraWidth',\n    'lockAspectRatioExtraHeight',\n    'enable',\n    'handleStyles',\n    'handleClasses',\n    'handleWrapperStyle',\n    'handleWrapperClass',\n    'children',\n    'onResizeStart',\n    'onResize',\n    'onResizeStop',\n    'handleComponent',\n    'scale',\n    'resizeRatio',\n    'snapGap',\n];\n// HACK: This class is used to calculate % size.\nvar baseClassName = '__resizable_base__';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _a, _b, _c, _d;\n        var _this = _super.call(this, props) || this;\n        _this.ratio = 1;\n        _this.resizable = null;\n        // For parent boundary\n        _this.parentLeft = 0;\n        _this.parentTop = 0;\n        // For boundary\n        _this.resizableLeft = 0;\n        _this.resizableRight = 0;\n        _this.resizableTop = 0;\n        _this.resizableBottom = 0;\n        // For target boundary\n        _this.targetLeft = 0;\n        _this.targetTop = 0;\n        _this.delta = {\n            width: 0,\n            height: 0,\n        };\n        _this.appendBase = function () {\n            if (!_this.resizable || !_this.window) {\n                return null;\n            }\n            var parent = _this.parentNode;\n            if (!parent) {\n                return null;\n            }\n            var element = _this.window.document.createElement('div');\n            element.style.width = '100%';\n            element.style.height = '100%';\n            element.style.position = 'absolute';\n            element.style.transform = 'scale(0, 0)';\n            element.style.left = '0';\n            element.style.flex = '0 0 100%';\n            if (element.classList) {\n                element.classList.add(baseClassName);\n            }\n            else {\n                element.className += baseClassName;\n            }\n            parent.appendChild(element);\n            return element;\n        };\n        _this.removeBase = function (base) {\n            var parent = _this.parentNode;\n            if (!parent) {\n                return;\n            }\n            parent.removeChild(base);\n        };\n        _this.state = {\n            isResizing: false,\n            width: (_b = (_a = _this.propsSize) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 'auto',\n            height: (_d = (_c = _this.propsSize) === null || _c === void 0 ? void 0 : _c.height) !== null && _d !== void 0 ? _d : 'auto',\n            direction: 'right',\n            original: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            },\n            backgroundStyle: {\n                height: '100%',\n                width: '100%',\n                backgroundColor: 'rgba(0,0,0,0)',\n                cursor: 'auto',\n                opacity: 0,\n                position: 'fixed',\n                zIndex: 9999,\n                top: '0',\n                left: '0',\n                bottom: '0',\n                right: '0',\n            },\n            flexBasis: undefined,\n        };\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            return this.resizable.parentNode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"window\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            if (!this.resizable.ownerDocument) {\n                return null;\n            }\n            return this.resizable.ownerDocument.defaultView;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\n        get: function () {\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"size\", {\n        get: function () {\n            var width = 0;\n            var height = 0;\n            if (this.resizable && this.window) {\n                var orgWidth = this.resizable.offsetWidth;\n                var orgHeight = this.resizable.offsetHeight;\n                // HACK: Set position `relative` to get parent size.\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\n                var orgPosition = this.resizable.style.position;\n                if (orgPosition !== 'relative') {\n                    this.resizable.style.position = 'relative';\n                }\n                // INFO: Use original width or height if set auto.\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\n                // Restore original position\n                this.resizable.style.position = orgPosition;\n            }\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\n        get: function () {\n            var _this = this;\n            var size = this.props.size;\n            var getSize = function (key) {\n                var _a;\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\n                    return 'auto';\n                }\n                if (_this.propsSize && _this.propsSize[key] && ((_a = _this.propsSize[key]) === null || _a === void 0 ? void 0 : _a.toString().endsWith('%'))) {\n                    if (_this.state[key].toString().endsWith('%')) {\n                        return _this.state[key].toString();\n                    }\n                    var parentSize = _this.getParentSize();\n                    var value = Number(_this.state[key].toString().replace('px', ''));\n                    var percent = (value / parentSize[key]) * 100;\n                    return \"\".concat(percent, \"%\");\n                }\n                return getStringSize(_this.state[key]);\n            };\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.width)\n                : getSize('width');\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.height)\n                : getSize('height');\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Resizable.prototype.getParentSize = function () {\n        if (!this.parentNode) {\n            if (!this.window) {\n                return { width: 0, height: 0 };\n            }\n            return { width: this.window.innerWidth, height: this.window.innerHeight };\n        }\n        var base = this.appendBase();\n        if (!base) {\n            return { width: 0, height: 0 };\n        }\n        // INFO: To calculate parent width with flex layout\n        var wrapChanged = false;\n        var wrap = this.parentNode.style.flexWrap;\n        if (wrap !== 'wrap') {\n            wrapChanged = true;\n            this.parentNode.style.flexWrap = 'wrap';\n            // HACK: Use relative to get parent padding size\n        }\n        base.style.position = 'relative';\n        base.style.minWidth = '100%';\n        base.style.minHeight = '100%';\n        var size = {\n            width: base.offsetWidth,\n            height: base.offsetHeight,\n        };\n        if (wrapChanged) {\n            this.parentNode.style.flexWrap = wrap;\n        }\n        this.removeBase(base);\n        return size;\n    };\n    Resizable.prototype.bindEvents = function () {\n        if (this.window) {\n            this.window.addEventListener('mouseup', this.onMouseUp);\n            this.window.addEventListener('mousemove', this.onMouseMove);\n            this.window.addEventListener('mouseleave', this.onMouseUp);\n            this.window.addEventListener('touchmove', this.onMouseMove, {\n                capture: true,\n                passive: false,\n            });\n            this.window.addEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.unbindEvents = function () {\n        if (this.window) {\n            this.window.removeEventListener('mouseup', this.onMouseUp);\n            this.window.removeEventListener('mousemove', this.onMouseMove);\n            this.window.removeEventListener('mouseleave', this.onMouseUp);\n            this.window.removeEventListener('touchmove', this.onMouseMove, true);\n            this.window.removeEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.componentDidMount = function () {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        this.setState({\n            width: this.state.width || this.size.width,\n            height: this.state.height || this.size.height,\n            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,\n        });\n    };\n    Resizable.prototype.componentWillUnmount = function () {\n        if (this.window) {\n            this.unbindEvents();\n        }\n    };\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\n        var propsSize = this.propsSize && this.propsSize[kind];\n        return this.state[kind] === 'auto' &&\n            this.state.original[kind] === newSize &&\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\n            ? 'auto'\n            : newSize;\n    };\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\n        var boundsByDirection = this.props.boundsByDirection;\n        var direction = this.state.direction;\n        var widthByDirection = boundsByDirection && hasDirection('left', direction);\n        var heightByDirection = boundsByDirection && hasDirection('top', direction);\n        var boundWidth;\n        var boundHeight;\n        if (this.props.bounds === 'parent') {\n            var parent_1 = this.parentNode;\n            if (parent_1) {\n                boundWidth = widthByDirection\n                    ? this.resizableRight - this.parentLeft\n                    : parent_1.offsetWidth + (this.parentLeft - this.resizableLeft);\n                boundHeight = heightByDirection\n                    ? this.resizableBottom - this.parentTop\n                    : parent_1.offsetHeight + (this.parentTop - this.resizableTop);\n            }\n        }\n        else if (this.props.bounds === 'window') {\n            if (this.window) {\n                boundWidth = widthByDirection ? this.resizableRight : this.window.innerWidth - this.resizableLeft;\n                boundHeight = heightByDirection ? this.resizableBottom : this.window.innerHeight - this.resizableTop;\n            }\n        }\n        else if (this.props.bounds) {\n            boundWidth = widthByDirection\n                ? this.resizableRight - this.targetLeft\n                : this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\n            boundHeight = heightByDirection\n                ? this.resizableBottom - this.targetTop\n                : this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\n        }\n        if (boundWidth && Number.isFinite(boundWidth)) {\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n        }\n        if (boundHeight && Number.isFinite(boundHeight)) {\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n        }\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\n        var scale = this.props.scale || 1;\n        var _a = normalizeToPair(this.props.resizeRatio || 1), resizeRatioX = _a[0], resizeRatioY = _a[1];\n        var _b = this.state, direction = _b.direction, original = _b.original;\n        var _c = this.props, lockAspectRatio = _c.lockAspectRatio, lockAspectRatioExtraHeight = _c.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _c.lockAspectRatioExtraWidth;\n        var newWidth = original.width;\n        var newHeight = original.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (hasDirection('right', direction)) {\n            newWidth = original.width + ((clientX - original.x) * resizeRatioX) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('left', direction)) {\n            newWidth = original.width - ((clientX - original.x) * resizeRatioX) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('bottom', direction)) {\n            newHeight = original.height + ((clientY - original.y) * resizeRatioY) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        if (hasDirection('top', direction)) {\n            newHeight = original.height - ((clientY - original.y) * resizeRatioY) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (lockAspectRatio) {\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n        }\n        else {\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.setBoundingClientRect = function () {\n        var adjustedScale = 1 / (this.props.scale || 1);\n        // For parent boundary\n        if (this.props.bounds === 'parent') {\n            var parent_2 = this.parentNode;\n            if (parent_2) {\n                var parentRect = parent_2.getBoundingClientRect();\n                this.parentLeft = parentRect.left * adjustedScale;\n                this.parentTop = parentRect.top * adjustedScale;\n            }\n        }\n        // For target(html element) boundary\n        if (this.props.bounds && typeof this.props.bounds !== 'string') {\n            var targetRect = this.props.bounds.getBoundingClientRect();\n            this.targetLeft = targetRect.left * adjustedScale;\n            this.targetTop = targetRect.top * adjustedScale;\n        }\n        // For boundary\n        if (this.resizable) {\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top, right = _a.right, bottom = _a.bottom;\n            this.resizableLeft = left * adjustedScale;\n            this.resizableRight = right * adjustedScale;\n            this.resizableTop = top_1 * adjustedScale;\n            this.resizableBottom = bottom * adjustedScale;\n        }\n    };\n    Resizable.prototype.onResizeStart = function (event, direction) {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var clientX = 0;\n        var clientY = 0;\n        if (event.nativeEvent && isMouseEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n        }\n        else if (event.nativeEvent && isTouchEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n        if (this.props.onResizeStart) {\n            if (this.resizable) {\n                var startResize = this.props.onResizeStart(event, direction, this.resizable);\n                if (startResize === false) {\n                    return;\n                }\n            }\n        }\n        // Fix #168\n        if (this.props.size) {\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n                this.setState({ height: this.props.size.height });\n            }\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n                this.setState({ width: this.props.size.width });\n            }\n        }\n        // For lockAspectRatio case\n        this.ratio =\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\n        var flexBasis;\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        if (computedStyle.flexBasis !== 'auto') {\n            var parent_3 = this.parentNode;\n            if (parent_3) {\n                var dir = this.window.getComputedStyle(parent_3).flexDirection;\n                this.flexDir = dir.startsWith('row') ? 'row' : 'column';\n                flexBasis = computedStyle.flexBasis;\n            }\n        }\n        // For boundary\n        this.setBoundingClientRect();\n        this.bindEvents();\n        var state = {\n            original: {\n                x: clientX,\n                y: clientY,\n                width: this.size.width,\n                height: this.size.height,\n            },\n            isResizing: true,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(event.target).cursor || 'auto' }),\n            direction: direction,\n            flexBasis: flexBasis,\n        };\n        this.setState(state);\n    };\n    Resizable.prototype.onMouseMove = function (event) {\n        var _this = this;\n        if (!this.state.isResizing || !this.resizable || !this.window) {\n            return;\n        }\n        if (this.window.TouchEvent && isTouchEvent(event)) {\n            try {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            catch (e) {\n                // Ignore on fail\n            }\n        }\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\n        var clientX = isTouchEvent(event) ? event.touches[0].clientX : event.clientX;\n        var clientY = isTouchEvent(event) ? event.touches[0].clientY : event.clientY;\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\n        var parentSize = this.getParentSize();\n        var max = calculateNewMax(parentSize, this.window.innerWidth, this.window.innerHeight, maxWidth, maxHeight, minWidth, minHeight);\n        maxWidth = max.maxWidth;\n        maxHeight = max.maxHeight;\n        minWidth = max.minWidth;\n        minHeight = max.minHeight;\n        // Calculate new size\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\n        // Calculate max size from boundary settings\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\n        if (this.props.snap && this.props.snap.x) {\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\n        }\n        if (this.props.snap && this.props.snap.y) {\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\n        }\n        // Calculate new size from aspect ratio\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\n        newWidth = newSize.newWidth;\n        newHeight = newSize.newHeight;\n        if (this.props.grid) {\n            var newGridWidth = snap(newWidth, this.props.grid[0], this.props.gridGap ? this.props.gridGap[0] : 0);\n            var newGridHeight = snap(newHeight, this.props.grid[1], this.props.gridGap ? this.props.gridGap[1] : 0);\n            var gap = this.props.snapGap || 0;\n            var w = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\n            var h = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\n            newWidth = w;\n            newHeight = h;\n        }\n        var delta = {\n            width: newWidth - original.width,\n            height: newHeight - original.height,\n        };\n        this.delta = delta;\n        if (width && typeof width === 'string') {\n            if (width.endsWith('%')) {\n                var percent = (newWidth / parentSize.width) * 100;\n                newWidth = \"\".concat(percent, \"%\");\n            }\n            else if (width.endsWith('vw')) {\n                var vw = (newWidth / this.window.innerWidth) * 100;\n                newWidth = \"\".concat(vw, \"vw\");\n            }\n            else if (width.endsWith('vh')) {\n                var vh = (newWidth / this.window.innerHeight) * 100;\n                newWidth = \"\".concat(vh, \"vh\");\n            }\n        }\n        if (height && typeof height === 'string') {\n            if (height.endsWith('%')) {\n                var percent = (newHeight / parentSize.height) * 100;\n                newHeight = \"\".concat(percent, \"%\");\n            }\n            else if (height.endsWith('vw')) {\n                var vw = (newHeight / this.window.innerWidth) * 100;\n                newHeight = \"\".concat(vw, \"vw\");\n            }\n            else if (height.endsWith('vh')) {\n                var vh = (newHeight / this.window.innerHeight) * 100;\n                newHeight = \"\".concat(vh, \"vh\");\n            }\n        }\n        var newState = {\n            width: this.createSizeForCssProperty(newWidth, 'width'),\n            height: this.createSizeForCssProperty(newHeight, 'height'),\n        };\n        if (this.flexDir === 'row') {\n            newState.flexBasis = newState.width;\n        }\n        else if (this.flexDir === 'column') {\n            newState.flexBasis = newState.height;\n        }\n        var widthChanged = this.state.width !== newState.width;\n        var heightChanged = this.state.height !== newState.height;\n        var flexBaseChanged = this.state.flexBasis !== newState.flexBasis;\n        var changed = widthChanged || heightChanged || flexBaseChanged;\n        if (changed) {\n            // For v18, update state sync\n            flushSync(function () {\n                _this.setState(newState);\n            });\n        }\n        if (this.props.onResize) {\n            if (changed) {\n                this.props.onResize(event, direction, this.resizable, delta);\n            }\n        }\n    };\n    Resizable.prototype.onMouseUp = function (event) {\n        var _a, _b;\n        var _c = this.state, isResizing = _c.isResizing, direction = _c.direction, original = _c.original;\n        if (!isResizing || !this.resizable) {\n            return;\n        }\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(event, direction, this.resizable, this.delta);\n        }\n        if (this.props.size) {\n            this.setState({ width: (_a = this.props.size.width) !== null && _a !== void 0 ? _a : 'auto', height: (_b = this.props.size.height) !== null && _b !== void 0 ? _b : 'auto' });\n        }\n        this.unbindEvents();\n        this.setState({\n            isResizing: false,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: 'auto' }),\n        });\n    };\n    Resizable.prototype.updateSize = function (size) {\n        var _a, _b;\n        this.setState({ width: (_a = size.width) !== null && _a !== void 0 ? _a : 'auto', height: (_b = size.height) !== null && _b !== void 0 ? _b : 'auto' });\n    };\n    Resizable.prototype.renderResizer = function () {\n        var _this = this;\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\n        if (!enable) {\n            return null;\n        }\n        var resizers = Object.keys(enable).map(function (dir) {\n            if (enable[dir] !== false) {\n                return (_jsx(Resizer, { direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir], children: handleComponent && handleComponent[dir] ? handleComponent[dir] : null }, dir));\n            }\n            return null;\n        });\n        // #93 Wrap the resize box in span (will not break 100% width/height)\n        return (_jsx(\"div\", { className: handleWrapperClass, style: handleWrapperStyle, children: resizers }));\n    };\n    Resizable.prototype.render = function () {\n        var _this = this;\n        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {\n            if (definedProps.indexOf(key) !== -1) {\n                return acc;\n            }\n            acc[key] = _this.props[key];\n            return acc;\n        }, {});\n        var style = __assign(__assign(__assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });\n        if (this.state.flexBasis) {\n            style.flexBasis = this.state.flexBasis;\n        }\n        var Wrapper = this.props.as || 'div';\n        return (_jsxs(Wrapper, __assign({ style: style, className: this.props.className }, extendsProps, { \n            // `ref` is after `extendsProps` to ensure this one wins over a version\n            // passed in\n            ref: function (c) {\n                if (c) {\n                    _this.resizable = c;\n                }\n            }, children: [this.state.isResizing && _jsx(\"div\", { style: this.state.backgroundStyle }), this.props.children, this.renderResizer()] })));\n    };\n    Resizable.defaultProps = {\n        as: 'div',\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        enable: {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            topRight: true,\n            bottomRight: true,\n            bottomLeft: true,\n            topLeft: true,\n        },\n        style: {},\n        grid: [1, 1],\n        gridGap: [0, 0],\n        lockAspectRatio: false,\n        lockAspectRatioExtraWidth: 0,\n        lockAspectRatioExtraHeight: 0,\n        scale: 1,\n        resizeRatio: 1,\n        snapGap: 0,\n    };\n    return Resizable;\n}(PureComponent));\nexport { Resizable };\n","import { createElement, PureComponent } from 'react';\nimport Draggable from 'react-draggable';\nimport { Resizable } from 're-resizable';\nimport { flushSync } from 'react-dom';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nvar resizableStyle = {\n    width: \"auto\",\n    height: \"auto\",\n    display: \"inline-block\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n};\nvar getEnableResizingByFlag = function (flag) { return ({\n    bottom: flag,\n    bottomLeft: flag,\n    bottomRight: flag,\n    left: flag,\n    right: flag,\n    top: flag,\n    topLeft: flag,\n    topRight: flag,\n}); };\nvar Rnd = /** @class */ (function (_super) {\n    __extends(Rnd, _super);\n    function Rnd(props) {\n        var _this = _super.call(this, props) || this;\n        _this.resizingPosition = { x: 0, y: 0 };\n        _this.offsetFromParent = { left: 0, top: 0 };\n        _this.resizableElement = { current: null };\n        _this.originalPosition = { x: 0, y: 0 };\n        _this.state = {\n            resizing: false,\n            bounds: {\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0,\n            },\n            maxWidth: props.maxWidth,\n            maxHeight: props.maxHeight,\n        };\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onResize = _this.onResize.bind(_this);\n        _this.onResizeStop = _this.onResizeStop.bind(_this);\n        _this.onDragStart = _this.onDragStart.bind(_this);\n        _this.onDrag = _this.onDrag.bind(_this);\n        _this.onDragStop = _this.onDragStop.bind(_this);\n        _this.getMaxSizesFromProps = _this.getMaxSizesFromProps.bind(_this);\n        return _this;\n    }\n    Rnd.prototype.componentDidMount = function () {\n        this.updateOffsetFromParent();\n        var _a = this.offsetFromParent, left = _a.left, top = _a.top;\n        var _b = this.getDraggablePosition(), x = _b.x, y = _b.y;\n        this.draggable.setState({\n            x: x - left,\n            y: y - top,\n        });\n        // HACK: Apply position adjustment\n        this.forceUpdate();\n    };\n    // HACK: To get `react-draggable` state x and y.\n    Rnd.prototype.getDraggablePosition = function () {\n        var _a = this.draggable.state, x = _a.x, y = _a.y;\n        return { x: x, y: y };\n    };\n    Rnd.prototype.getParent = function () {\n        return this.resizable && this.resizable.parentNode;\n    };\n    Rnd.prototype.getParentSize = function () {\n        return this.resizable.getParentSize();\n    };\n    Rnd.prototype.getMaxSizesFromProps = function () {\n        var maxWidth = typeof this.props.maxWidth === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxWidth;\n        var maxHeight = typeof this.props.maxHeight === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxHeight;\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Rnd.prototype.getSelfElement = function () {\n        return this.resizable && this.resizable.resizable;\n    };\n    Rnd.prototype.getOffsetHeight = function (boundary) {\n        var scale = this.props.scale;\n        switch (this.props.bounds) {\n            case \"window\":\n                return window.innerHeight / scale;\n            case \"body\":\n                return document.body.offsetHeight / scale;\n            default:\n                return boundary.offsetHeight;\n        }\n    };\n    Rnd.prototype.getOffsetWidth = function (boundary) {\n        var scale = this.props.scale;\n        switch (this.props.bounds) {\n            case \"window\":\n                return window.innerWidth / scale;\n            case \"body\":\n                return document.body.offsetWidth / scale;\n            default:\n                return boundary.offsetWidth;\n        }\n    };\n    Rnd.prototype.onDragStart = function (e, data) {\n        if (this.props.onDragStart) {\n            this.props.onDragStart(e, data);\n        }\n        var pos = this.getDraggablePosition();\n        this.originalPosition = pos;\n        if (!this.props.bounds)\n            return;\n        var parent = this.getParent();\n        var scale = this.props.scale;\n        var boundary;\n        if (this.props.bounds === \"parent\") {\n            boundary = parent;\n        }\n        else if (this.props.bounds === \"body\") {\n            var parentRect_1 = parent.getBoundingClientRect();\n            var parentLeft_1 = parentRect_1.left;\n            var parentTop_1 = parentRect_1.top;\n            var bodyRect = document.body.getBoundingClientRect();\n            var left_1 = -(parentLeft_1 - parent.offsetLeft * scale - bodyRect.left) / scale;\n            var top_1 = -(parentTop_1 - parent.offsetTop * scale - bodyRect.top) / scale;\n            var right = (document.body.offsetWidth - this.resizable.size.width * scale) / scale + left_1;\n            var bottom = (document.body.offsetHeight - this.resizable.size.height * scale) / scale + top_1;\n            return this.setState({ bounds: { top: top_1, right: right, bottom: bottom, left: left_1 } });\n        }\n        else if (this.props.bounds === \"window\") {\n            if (!this.resizable)\n                return;\n            var parentRect_2 = parent.getBoundingClientRect();\n            var parentLeft_2 = parentRect_2.left;\n            var parentTop_2 = parentRect_2.top;\n            var left_2 = -(parentLeft_2 - parent.offsetLeft * scale) / scale;\n            var top_2 = -(parentTop_2 - parent.offsetTop * scale) / scale;\n            var right = (window.innerWidth - this.resizable.size.width * scale) / scale + left_2;\n            var bottom = (window.innerHeight - this.resizable.size.height * scale) / scale + top_2;\n            return this.setState({ bounds: { top: top_2, right: right, bottom: bottom, left: left_2 } });\n        }\n        else if (typeof this.props.bounds === \"string\") {\n            boundary = document.querySelector(this.props.bounds);\n        }\n        else if (this.props.bounds instanceof HTMLElement) {\n            boundary = this.props.bounds;\n        }\n        if (!(boundary instanceof HTMLElement) || !(parent instanceof HTMLElement)) {\n            return;\n        }\n        var boundaryRect = boundary.getBoundingClientRect();\n        var boundaryLeft = boundaryRect.left;\n        var boundaryTop = boundaryRect.top;\n        var parentRect = parent.getBoundingClientRect();\n        var parentLeft = parentRect.left;\n        var parentTop = parentRect.top;\n        var left = (boundaryLeft - parentLeft) / scale;\n        var top = boundaryTop - parentTop;\n        if (!this.resizable)\n            return;\n        this.updateOffsetFromParent();\n        var offset = this.offsetFromParent;\n        this.setState({\n            bounds: {\n                top: top - offset.top,\n                right: left + (boundary.offsetWidth - this.resizable.size.width) - offset.left / scale,\n                bottom: top + (boundary.offsetHeight - this.resizable.size.height) - offset.top,\n                left: left - offset.left / scale,\n            },\n        });\n    };\n    Rnd.prototype.onDrag = function (e, data) {\n        if (!this.props.onDrag)\n            return;\n        var _a = this.offsetFromParent, left = _a.left, top = _a.top;\n        if (!this.props.dragAxis || this.props.dragAxis === \"both\") {\n            return this.props.onDrag(e, __assign(__assign({}, data), { x: data.x + left, y: data.y + top }));\n        }\n        else if (this.props.dragAxis === \"x\") {\n            return this.props.onDrag(e, __assign(__assign({}, data), { x: data.x + left, y: this.originalPosition.y + top, deltaY: 0 }));\n        }\n        else if (this.props.dragAxis === \"y\") {\n            return this.props.onDrag(e, __assign(__assign({}, data), { x: this.originalPosition.x + left, y: data.y + top, deltaX: 0 }));\n        }\n    };\n    Rnd.prototype.onDragStop = function (e, data) {\n        if (!this.props.onDragStop)\n            return;\n        var _a = this.offsetFromParent, left = _a.left, top = _a.top;\n        if (!this.props.dragAxis || this.props.dragAxis === \"both\") {\n            return this.props.onDragStop(e, __assign(__assign({}, data), { x: data.x + left, y: data.y + top }));\n        }\n        else if (this.props.dragAxis === \"x\") {\n            return this.props.onDragStop(e, __assign(__assign({}, data), { x: data.x + left, y: this.originalPosition.y + top, deltaY: 0 }));\n        }\n        else if (this.props.dragAxis === \"y\") {\n            return this.props.onDragStop(e, __assign(__assign({}, data), { x: this.originalPosition.x + left, y: data.y + top, deltaX: 0 }));\n        }\n    };\n    Rnd.prototype.onResizeStart = function (e, dir, elementRef) {\n        e.stopPropagation();\n        this.setState({\n            resizing: true,\n        });\n        var scale = this.props.scale;\n        var offset = this.offsetFromParent;\n        var pos = this.getDraggablePosition();\n        this.resizingPosition = { x: pos.x + offset.left, y: pos.y + offset.top };\n        this.originalPosition = pos;\n        if (this.props.bounds) {\n            var parent_1 = this.getParent();\n            var boundary = void 0;\n            if (this.props.bounds === \"parent\") {\n                boundary = parent_1;\n            }\n            else if (this.props.bounds === \"body\") {\n                boundary = document.body;\n            }\n            else if (this.props.bounds === \"window\") {\n                boundary = window;\n            }\n            else if (typeof this.props.bounds === \"string\") {\n                boundary = document.querySelector(this.props.bounds);\n            }\n            else if (this.props.bounds instanceof HTMLElement) {\n                boundary = this.props.bounds;\n            }\n            var self_1 = this.getSelfElement();\n            if (self_1 instanceof Element &&\n                (boundary instanceof HTMLElement || boundary === window) &&\n                parent_1 instanceof HTMLElement) {\n                var _a = this.getMaxSizesFromProps(), maxWidth = _a.maxWidth, maxHeight = _a.maxHeight;\n                var parentSize = this.getParentSize();\n                if (maxWidth && typeof maxWidth === \"string\") {\n                    if (maxWidth.endsWith(\"%\")) {\n                        var ratio = Number(maxWidth.replace(\"%\", \"\")) / 100;\n                        maxWidth = parentSize.width * ratio;\n                    }\n                    else if (maxWidth.endsWith(\"px\")) {\n                        maxWidth = Number(maxWidth.replace(\"px\", \"\"));\n                    }\n                }\n                if (maxHeight && typeof maxHeight === \"string\") {\n                    if (maxHeight.endsWith(\"%\")) {\n                        var ratio = Number(maxHeight.replace(\"%\", \"\")) / 100;\n                        maxHeight = parentSize.height * ratio;\n                    }\n                    else if (maxHeight.endsWith(\"px\")) {\n                        maxHeight = Number(maxHeight.replace(\"px\", \"\"));\n                    }\n                }\n                var selfRect = self_1.getBoundingClientRect();\n                var selfLeft = selfRect.left;\n                var selfTop = selfRect.top;\n                var boundaryRect = this.props.bounds === \"window\" ? { left: 0, top: 0 } : boundary.getBoundingClientRect();\n                var boundaryLeft = boundaryRect.left;\n                var boundaryTop = boundaryRect.top;\n                var offsetWidth = this.getOffsetWidth(boundary);\n                var offsetHeight = this.getOffsetHeight(boundary);\n                var hasLeft = dir.toLowerCase().endsWith(\"left\");\n                var hasRight = dir.toLowerCase().endsWith(\"right\");\n                var hasTop = dir.startsWith(\"top\");\n                var hasBottom = dir.startsWith(\"bottom\");\n                if ((hasLeft || hasTop) && this.resizable) {\n                    var max = (selfLeft - boundaryLeft) / scale + this.resizable.size.width;\n                    this.setState({ maxWidth: max > Number(maxWidth) ? maxWidth : max });\n                }\n                // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\n                if (hasRight || (this.props.lockAspectRatio && !hasLeft && !hasTop)) {\n                    var max = offsetWidth + (boundaryLeft - selfLeft) / scale;\n                    this.setState({ maxWidth: max > Number(maxWidth) ? maxWidth : max });\n                }\n                if ((hasTop || hasLeft) && this.resizable) {\n                    var max = (selfTop - boundaryTop) / scale + this.resizable.size.height;\n                    this.setState({\n                        maxHeight: max > Number(maxHeight) ? maxHeight : max,\n                    });\n                }\n                // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\n                if (hasBottom || (this.props.lockAspectRatio && !hasTop && !hasLeft)) {\n                    var max = offsetHeight + (boundaryTop - selfTop) / scale;\n                    this.setState({\n                        maxHeight: max > Number(maxHeight) ? maxHeight : max,\n                    });\n                }\n            }\n        }\n        else {\n            this.setState({\n                maxWidth: this.props.maxWidth,\n                maxHeight: this.props.maxHeight,\n            });\n        }\n        if (this.props.onResizeStart) {\n            this.props.onResizeStart(e, dir, elementRef);\n        }\n    };\n    Rnd.prototype.onResize = function (e, direction, elementRef, delta) {\n        var _this = this;\n        // INFO: Apply x and y position adjustments caused by resizing to draggable\n        var newPos = { x: this.originalPosition.x, y: this.originalPosition.y };\n        var left = -delta.width;\n        var top = -delta.height;\n        var directions = [\"top\", \"left\", \"topLeft\", \"bottomLeft\", \"topRight\"];\n        if (directions.includes(direction)) {\n            if (direction === \"bottomLeft\") {\n                newPos.x += left;\n            }\n            else if (direction === \"topRight\") {\n                newPos.y += top;\n            }\n            else {\n                newPos.x += left;\n                newPos.y += top;\n            }\n        }\n        var draggableState = this.draggable.state;\n        if (newPos.x !== draggableState.x || newPos.y !== draggableState.y) {\n            flushSync(function () {\n                _this.draggable.setState(newPos);\n            });\n        }\n        this.updateOffsetFromParent();\n        var offset = this.offsetFromParent;\n        var x = this.getDraggablePosition().x + offset.left;\n        var y = this.getDraggablePosition().y + offset.top;\n        this.resizingPosition = { x: x, y: y };\n        if (!this.props.onResize)\n            return;\n        this.props.onResize(e, direction, elementRef, delta, {\n            x: x,\n            y: y,\n        });\n    };\n    Rnd.prototype.onResizeStop = function (e, direction, elementRef, delta) {\n        this.setState({\n            resizing: false,\n        });\n        var _a = this.getMaxSizesFromProps(), maxWidth = _a.maxWidth, maxHeight = _a.maxHeight;\n        this.setState({ maxWidth: maxWidth, maxHeight: maxHeight });\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(e, direction, elementRef, delta, this.resizingPosition);\n        }\n    };\n    Rnd.prototype.updateSize = function (size) {\n        if (!this.resizable)\n            return;\n        this.resizable.updateSize({ width: size.width, height: size.height });\n    };\n    Rnd.prototype.updatePosition = function (position) {\n        this.draggable.setState(position);\n    };\n    Rnd.prototype.updateOffsetFromParent = function () {\n        var scale = this.props.scale;\n        var parent = this.getParent();\n        var self = this.getSelfElement();\n        if (!parent || self === null) {\n            return {\n                top: 0,\n                left: 0,\n            };\n        }\n        var parentRect = parent.getBoundingClientRect();\n        var parentLeft = parentRect.left;\n        var parentTop = parentRect.top;\n        var selfRect = self.getBoundingClientRect();\n        var position = this.getDraggablePosition();\n        var scrollLeft = parent.scrollLeft;\n        var scrollTop = parent.scrollTop;\n        this.offsetFromParent = {\n            left: selfRect.left - parentLeft + scrollLeft - position.x * scale,\n            top: selfRect.top - parentTop + scrollTop - position.y * scale,\n        };\n    };\n    Rnd.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, disableDragging = _a.disableDragging, style = _a.style, dragHandleClassName = _a.dragHandleClassName, position = _a.position, onMouseDown = _a.onMouseDown, onMouseUp = _a.onMouseUp, dragAxis = _a.dragAxis, dragGrid = _a.dragGrid, bounds = _a.bounds, enableUserSelectHack = _a.enableUserSelectHack, cancel = _a.cancel, children = _a.children, onResizeStart = _a.onResizeStart, onResize = _a.onResize, onResizeStop = _a.onResizeStop, onDragStart = _a.onDragStart, onDrag = _a.onDrag, onDragStop = _a.onDragStop, resizeHandleStyles = _a.resizeHandleStyles, resizeHandleClasses = _a.resizeHandleClasses, resizeHandleComponent = _a.resizeHandleComponent, enableResizing = _a.enableResizing, resizeGrid = _a.resizeGrid, resizeHandleWrapperClass = _a.resizeHandleWrapperClass, resizeHandleWrapperStyle = _a.resizeHandleWrapperStyle, scale = _a.scale, allowAnyClick = _a.allowAnyClick, dragPositionOffset = _a.dragPositionOffset, resizableProps = __rest(_a, [\"disableDragging\", \"style\", \"dragHandleClassName\", \"position\", \"onMouseDown\", \"onMouseUp\", \"dragAxis\", \"dragGrid\", \"bounds\", \"enableUserSelectHack\", \"cancel\", \"children\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"onDragStart\", \"onDrag\", \"onDragStop\", \"resizeHandleStyles\", \"resizeHandleClasses\", \"resizeHandleComponent\", \"enableResizing\", \"resizeGrid\", \"resizeHandleWrapperClass\", \"resizeHandleWrapperStyle\", \"scale\", \"allowAnyClick\", \"dragPositionOffset\"]);\n        var defaultValue = this.props.default ? __assign({}, this.props.default) : undefined;\n        // Remove unknown props, see also https://reactjs.org/warnings/unknown-prop.html\n        delete resizableProps.default;\n        var cursorStyle = disableDragging || dragHandleClassName ? { cursor: \"auto\" } : { cursor: \"move\" };\n        var innerStyle = __assign(__assign(__assign({}, resizableStyle), cursorStyle), style);\n        var _b = this.offsetFromParent, left = _b.left, top = _b.top;\n        var draggablePosition;\n        if (position) {\n            draggablePosition = {\n                x: position.x - left,\n                y: position.y - top,\n            };\n        }\n        // INFO: Make uncontorolled component when resizing to control position by setPostion.\n        var pos = this.state.resizing ? undefined : draggablePosition;\n        var dragAxisOrUndefined = this.state.resizing ? \"both\" : dragAxis;\n        return (createElement(Draggable, { ref: function (c) {\n                if (!c)\n                    return;\n                _this.draggable = c;\n            }, handle: dragHandleClassName ? \".\".concat(dragHandleClassName) : undefined, defaultPosition: defaultValue, onMouseDown: onMouseDown, \n            // @ts-expect-error\n            onMouseUp: onMouseUp, onStart: this.onDragStart, onDrag: this.onDrag, onStop: this.onDragStop, axis: dragAxisOrUndefined, disabled: disableDragging, grid: dragGrid, bounds: bounds ? this.state.bounds : undefined, position: pos, enableUserSelectHack: enableUserSelectHack, cancel: cancel, scale: scale, allowAnyClick: allowAnyClick, nodeRef: this.resizableElement, positionOffset: dragPositionOffset },\n            createElement(Resizable, __assign({}, resizableProps, { ref: function (c) {\n                    if (!c)\n                        return;\n                    _this.resizable = c;\n                    _this.resizableElement.current = c.resizable;\n                }, defaultSize: defaultValue, size: this.props.size, enable: typeof enableResizing === \"boolean\" ? getEnableResizingByFlag(enableResizing) : enableResizing, onResizeStart: this.onResizeStart, onResize: this.onResize, onResizeStop: this.onResizeStop, style: innerStyle, minWidth: this.props.minWidth, minHeight: this.props.minHeight, maxWidth: this.state.resizing ? this.state.maxWidth : this.props.maxWidth, maxHeight: this.state.resizing ? this.state.maxHeight : this.props.maxHeight, grid: resizeGrid, handleWrapperClass: resizeHandleWrapperClass, handleWrapperStyle: resizeHandleWrapperStyle, lockAspectRatio: this.props.lockAspectRatio, lockAspectRatioExtraWidth: this.props.lockAspectRatioExtraWidth, lockAspectRatioExtraHeight: this.props.lockAspectRatioExtraHeight, handleStyles: resizeHandleStyles, handleClasses: resizeHandleClasses, handleComponent: resizeHandleComponent, scale: this.props.scale }), children)));\n    };\n    Rnd.defaultProps = {\n        maxWidth: Number.MAX_SAFE_INTEGER,\n        maxHeight: Number.MAX_SAFE_INTEGER,\n        scale: 1,\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        onDragStart: function () { },\n        onDrag: function () { },\n        onDragStop: function () { },\n    };\n    return Rnd;\n}(PureComponent));\n\nexport { Rnd };\n","/**\n * LineRenderer - Renders divider lines (straight and bezier) on the canvas.\n */\n\nimport React from 'react';\n\nexport interface DividerLineData {\n  id: number;\n  line_type: 'straight' | 'bezier';\n  start_x: number;\n  start_y: number;\n  end_x: number;\n  end_y: number;\n  control1_x?: number;\n  control1_y?: number;\n  control2_x?: number;\n  control2_y?: number;\n  thickness?: number;\n  color?: string;\n}\n\ninterface LineRendererProps {\n  lines: DividerLineData[];\n  selectedLineId: number | null;\n  canvasWidth: number;\n  canvasHeight: number;\n  defaultThickness: number;\n  defaultColor: string;\n  gutterMode: boolean;\n  onLineClick?: (lineId: number) => void;\n}\n\n/**\n * Convert percentage coordinates to pixels.\n */\nfunction toPixels(percent: number, dimension: number): number {\n  return (percent / 100) * dimension;\n}\n\n/**\n * Generate SVG path for a bezier curve.\n */\nfunction bezierPath(\n  startX: number,\n  startY: number,\n  control1X: number,\n  control1Y: number,\n  control2X: number,\n  control2Y: number,\n  endX: number,\n  endY: number\n): string {\n  return `M ${startX} ${startY} C ${control1X} ${control1Y}, ${control2X} ${control2Y}, ${endX} ${endY}`;\n}\n\nexport const LineRenderer: React.FC<LineRendererProps> = ({\n  lines,\n  selectedLineId,\n  canvasWidth,\n  canvasHeight,\n  defaultThickness,\n  defaultColor,\n  gutterMode,\n  onLineClick,\n}) => {\n  const handleLineClick = (lineId: number) => (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onLineClick?.(lineId);\n  };\n\n  return (\n    <g className=\"divider-lines\">\n      {lines.map((line) => {\n        const startX = toPixels(line.start_x, canvasWidth);\n        const startY = toPixels(line.start_y, canvasHeight);\n        const endX = toPixels(line.end_x, canvasWidth);\n        const endY = toPixels(line.end_y, canvasHeight);\n\n        const thickness = line.thickness ?? defaultThickness;\n        const color = line.color ?? defaultColor;\n        const isSelected = selectedLineId === line.id;\n\n        // Always show lines with their color - gutter mode affects the visual style\n        // In gutter mode, show a thicker line with the color (represents the gap)\n        // In border mode, show a thinner solid stroke\n        const strokeColor = color;\n        const baseWidth = toPixels(thickness, canvasWidth);\n        const strokeWidth = gutterMode ? Math.max(baseWidth, 2) : Math.max(baseWidth * 0.5, 1);\n\n        if (line.line_type === 'bezier') {\n          const control1X = toPixels(line.control1_x ?? line.start_x, canvasWidth);\n          const control1Y = toPixels(line.control1_y ?? line.start_y, canvasHeight);\n          const control2X = toPixels(line.control2_x ?? line.end_x, canvasWidth);\n          const control2Y = toPixels(line.control2_y ?? line.end_y, canvasHeight);\n\n          const pathD = bezierPath(\n            startX,\n            startY,\n            control1X,\n            control1Y,\n            control2X,\n            control2Y,\n            endX,\n            endY\n          );\n\n          return (\n            <g key={line.id} onClick={handleLineClick(line.id)}>\n              {/* Selection highlight */}\n              {isSelected && (\n                <path\n                  d={pathD}\n                  fill=\"none\"\n                  stroke=\"#f59e0b\"\n                  strokeWidth={strokeWidth + 4}\n                  strokeLinecap=\"round\"\n                  className=\"cursor-pointer\"\n                />\n              )}\n              {/* Main line */}\n              <path\n                d={pathD}\n                fill=\"none\"\n                stroke={strokeColor}\n                strokeWidth={strokeWidth}\n                strokeLinecap=\"round\"\n                className=\"cursor-pointer hover:opacity-80 transition-opacity\"\n              />\n              {/* Invisible wider hit area */}\n              <path\n                d={pathD}\n                fill=\"none\"\n                stroke=\"transparent\"\n                strokeWidth={Math.max(strokeWidth, 10)}\n                strokeLinecap=\"round\"\n                className=\"cursor-pointer\"\n              />\n            </g>\n          );\n        }\n\n        // Straight line\n        return (\n          <g key={line.id} onClick={handleLineClick(line.id)}>\n            {/* Selection highlight */}\n            {isSelected && (\n              <line\n                x1={startX}\n                y1={startY}\n                x2={endX}\n                y2={endY}\n                stroke=\"#f59e0b\"\n                strokeWidth={strokeWidth + 4}\n                strokeLinecap=\"round\"\n                className=\"cursor-pointer\"\n              />\n            )}\n            {/* Main line */}\n            <line\n              x1={startX}\n              y1={startY}\n              x2={endX}\n              y2={endY}\n              stroke={strokeColor}\n              strokeWidth={strokeWidth}\n              strokeLinecap=\"round\"\n              className=\"cursor-pointer hover:opacity-80 transition-opacity\"\n            />\n            {/* Invisible wider hit area */}\n            <line\n              x1={startX}\n              y1={startY}\n              x2={endX}\n              y2={endY}\n              stroke=\"transparent\"\n              strokeWidth={Math.max(strokeWidth, 10)}\n              strokeLinecap=\"round\"\n              className=\"cursor-pointer\"\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nexport default LineRenderer;\n","/**\n * BezierHandles - Control point handles for editing bezier curves.\n */\n\nimport React, { useState, useCallback } from 'react';\nimport { DividerLineData } from './LineRenderer';\n\ninterface BezierHandlesProps {\n  line: DividerLineData;\n  canvasWidth: number;\n  canvasHeight: number;\n  onControlPointChange: (\n    lineId: number,\n    controlPoint: 'control1' | 'control2',\n    x: number,\n    y: number\n  ) => void;\n}\n\n/**\n * Convert percentage coordinates to pixels.\n */\nfunction toPixels(percent: number, dimension: number): number {\n  return (percent / 100) * dimension;\n}\n\n/**\n * Convert pixel coordinates to percentage.\n */\nfunction toPercent(pixels: number, dimension: number): number {\n  return (pixels / dimension) * 100;\n}\n\nexport const BezierHandles: React.FC<BezierHandlesProps> = ({\n  line,\n  canvasWidth,\n  canvasHeight,\n  onControlPointChange,\n}) => {\n  const [dragging, setDragging] = useState<'control1' | 'control2' | null>(null);\n\n  // Convert line points to pixels\n  const startX = toPixels(line.start_x, canvasWidth);\n  const startY = toPixels(line.start_y, canvasHeight);\n  const endX = toPixels(line.end_x, canvasWidth);\n  const endY = toPixels(line.end_y, canvasHeight);\n  const control1X = toPixels(line.control1_x ?? line.start_x, canvasWidth);\n  const control1Y = toPixels(line.control1_y ?? line.start_y, canvasHeight);\n  const control2X = toPixels(line.control2_x ?? line.end_x, canvasWidth);\n  const control2Y = toPixels(line.control2_y ?? line.end_y, canvasHeight);\n\n  const handleMouseDown = useCallback(\n    (controlPoint: 'control1' | 'control2') => (e: React.MouseEvent) => {\n      e.stopPropagation();\n      e.preventDefault();\n      setDragging(controlPoint);\n    },\n    []\n  );\n\n  const handleMouseMove = useCallback(\n    (e: React.MouseEvent<SVGGElement>) => {\n      if (!dragging) return;\n\n      const svg = e.currentTarget.closest('svg');\n      if (!svg) return;\n\n      const rect = svg.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n\n      // Convert to percentage\n      const xPercent = toPercent(x, canvasWidth);\n      const yPercent = toPercent(y, canvasHeight);\n\n      // Clamp to valid range\n      const clampedX = Math.max(0, Math.min(100, xPercent));\n      const clampedY = Math.max(0, Math.min(100, yPercent));\n\n      onControlPointChange(line.id, dragging, clampedX, clampedY);\n    },\n    [dragging, line.id, canvasWidth, canvasHeight, onControlPointChange]\n  );\n\n  const handleMouseUp = useCallback(() => {\n    setDragging(null);\n  }, []);\n\n  if (line.line_type !== 'bezier') {\n    return null;\n  }\n\n  return (\n    <g\n      className=\"bezier-handles\"\n      onMouseMove={handleMouseMove}\n      onMouseUp={handleMouseUp}\n      onMouseLeave={handleMouseUp}\n    >\n      {/* Line from start to control1 */}\n      <line\n        x1={startX}\n        y1={startY}\n        x2={control1X}\n        y2={control1Y}\n        stroke=\"#6366f1\"\n        strokeWidth={1}\n        strokeDasharray=\"4 2\"\n        pointerEvents=\"none\"\n      />\n\n      {/* Line from end to control2 */}\n      <line\n        x1={endX}\n        y1={endY}\n        x2={control2X}\n        y2={control2Y}\n        stroke=\"#6366f1\"\n        strokeWidth={1}\n        strokeDasharray=\"4 2\"\n        pointerEvents=\"none\"\n      />\n\n      {/* Control point 1 handle */}\n      <circle\n        cx={control1X}\n        cy={control1Y}\n        r={8}\n        fill=\"#6366f1\"\n        stroke=\"#ffffff\"\n        strokeWidth={2}\n        className=\"cursor-move\"\n        onMouseDown={handleMouseDown('control1')}\n        style={{ filter: dragging === 'control1' ? 'drop-shadow(0 0 4px #6366f1)' : undefined }}\n      />\n\n      {/* Control point 2 handle */}\n      <circle\n        cx={control2X}\n        cy={control2Y}\n        r={8}\n        fill=\"#6366f1\"\n        stroke=\"#ffffff\"\n        strokeWidth={2}\n        className=\"cursor-move\"\n        onMouseDown={handleMouseDown('control2')}\n        style={{ filter: dragging === 'control2' ? 'drop-shadow(0 0 4px #6366f1)' : undefined }}\n      />\n\n      {/* Start point indicator */}\n      <circle\n        cx={startX}\n        cy={startY}\n        r={5}\n        fill=\"#10b981\"\n        stroke=\"#ffffff\"\n        strokeWidth={2}\n        pointerEvents=\"none\"\n      />\n\n      {/* End point indicator */}\n      <circle\n        cx={endX}\n        cy={endY}\n        r={5}\n        fill=\"#ef4444\"\n        stroke=\"#ffffff\"\n        strokeWidth={2}\n        pointerEvents=\"none\"\n      />\n    </g>\n  );\n};\n\nexport default BezierHandles;\n","/**\n * PanelRegionOverlay - Visual overlay showing computed panel regions.\n * Regions are mostly transparent - just show selection and numbers.\n * Renders artwork clipped to panel polygon shapes.\n */\n\nimport React from 'react';\nimport { ComputedPanel } from '../../../utils/regionCalculator';\n\ninterface PanelRegionOverlayProps {\n  panels: ComputedPanel[];\n  canvasWidth: number;\n  canvasHeight: number;\n  selectedPanelId: string | null;\n  onPanelClick?: (panelId: string) => void;\n  showLabels?: boolean;\n  panelArtwork?: Map<string, string>; // Maps panel ID to artwork URL\n}\n\n/**\n * Convert point vertices to SVG polygon points string.\n */\nfunction verticesToPoints(\n  vertices: { x: number; y: number }[],\n  canvasWidth: number,\n  canvasHeight: number\n): string {\n  return vertices\n    .map((v) => {\n      // Vertices are in percentage, convert to pixels\n      const x = (v.x / 100) * canvasWidth;\n      const y = (v.y / 100) * canvasHeight;\n      return `${x},${y}`;\n    })\n    .join(' ');\n}\n\nexport const PanelRegionOverlay: React.FC<PanelRegionOverlayProps> = ({\n  panels,\n  canvasWidth,\n  canvasHeight,\n  selectedPanelId,\n  onPanelClick,\n  showLabels = true,\n  panelArtwork,\n}) => {\n  return (\n    <g className=\"panel-regions\">\n      {/* Define clip paths for each panel */}\n      <defs>\n        {panels.map((panel) => (\n          <clipPath key={`clip-${panel.id}`} id={`clip-${panel.id}`}>\n            <polygon points={verticesToPoints(panel.vertices, canvasWidth, canvasHeight)} />\n          </clipPath>\n        ))}\n      </defs>\n\n      {panels.map((panel, index) => {\n        const isSelected = selectedPanelId === panel.id;\n        const points = verticesToPoints(panel.vertices, canvasWidth, canvasHeight);\n        const labelX = (panel.centroid.x / 100) * canvasWidth;\n        const labelY = (panel.centroid.y / 100) * canvasHeight;\n        const artworkUrl = panelArtwork?.get(panel.id);\n\n        // Calculate bounding box in pixels for image positioning\n        const boundsX = (panel.bounds.x / 100) * canvasWidth;\n        const boundsY = (panel.bounds.y / 100) * canvasHeight;\n        const boundsWidth = (panel.bounds.width / 100) * canvasWidth;\n        const boundsHeight = (panel.bounds.height / 100) * canvasHeight;\n\n        return (\n          <g\n            key={panel.id}\n            onClick={(e) => {\n              e.stopPropagation();\n              onPanelClick?.(panel.id);\n            }}\n            style={{ cursor: 'pointer' }}\n          >\n            {/* Artwork clipped to panel shape */}\n            {artworkUrl && (\n              <image\n                href={artworkUrl}\n                x={boundsX}\n                y={boundsY}\n                width={boundsWidth}\n                height={boundsHeight}\n                preserveAspectRatio=\"xMidYMid slice\"\n                clipPath={`url(#clip-${panel.id})`}\n                style={{ pointerEvents: 'none' }}\n              />\n            )}\n\n            {/* Panel clickable area - transparent unless selected */}\n            <polygon\n              points={points}\n              fill={isSelected ? 'rgba(245, 158, 11, 0.15)' : 'transparent'}\n              stroke={isSelected ? '#f59e0b' : 'transparent'}\n              strokeWidth={isSelected ? 2 : 0}\n              style={{ transition: 'fill 0.15s ease' }}\n            />\n\n            {/* Hover effect */}\n            <polygon\n              points={points}\n              fill=\"transparent\"\n              style={{ transition: 'fill 0.15s ease' }}\n              onMouseEnter={(e) => {\n                if (!isSelected) {\n                  e.currentTarget.style.fill = 'rgba(245, 158, 11, 0.08)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!isSelected) {\n                  e.currentTarget.style.fill = 'transparent';\n                }\n              }}\n            />\n\n            {/* Panel number label */}\n            {showLabels && (\n              <>\n                <circle\n                  cx={labelX}\n                  cy={labelY}\n                  r={12}\n                  fill=\"rgba(30, 41, 59, 0.8)\"\n                  stroke=\"rgba(71, 85, 105, 0.5)\"\n                  strokeWidth={1}\n                  style={{ pointerEvents: 'none' }}\n                />\n                <text\n                  x={labelX}\n                  y={labelY}\n                  textAnchor=\"middle\"\n                  dominantBaseline=\"central\"\n                  fill=\"#f8fafc\"\n                  fontSize={10}\n                  fontWeight=\"600\"\n                  fontFamily=\"system-ui, -apple-system, sans-serif\"\n                  style={{ pointerEvents: 'none', userSelect: 'none' }}\n                >\n                  {index + 1}\n                </text>\n              </>\n            )}\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nexport default PanelRegionOverlay;\n","/**\n * DrawingCanvas - SVG-based drawing surface for line-based panel creation.\n */\n\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport { Point, getPageBoundaryEdges, findSnapPoint, Line, generateDefaultControlPoints } from '../../../utils/geometry';\nimport { DividerLineData, LineRenderer } from './LineRenderer';\nimport { BezierHandles } from './BezierHandles';\nimport { PanelRegionOverlay } from './PanelRegionOverlay';\nimport { ComputedPanel, computePanelRegions, DividerLine } from '../../../utils/regionCalculator';\n\nexport type DrawingMode = 'select' | 'draw-line' | 'draw-bezier';\n\ninterface DrawingCanvasProps {\n  lines: DividerLineData[];\n  canvasWidth: number;\n  canvasHeight: number;\n  mode: DrawingMode;\n  defaultThickness: number;\n  defaultColor: string;\n  gutterMode: boolean;\n  selectedLineId: number | null;\n  onLineCreate: (line: Omit<DividerLineData, 'id'>) => void;\n  onLineUpdate: (lineId: number, updates: Partial<DividerLineData>) => void;\n  onLineDelete: (lineId: number) => void;\n  onLineSelect: (lineId: number | null) => void;\n  onPanelSelect?: (panelId: string | null) => void;\n  onPanelsComputed?: (panels: ComputedPanel[]) => void;\n  showPanelOverlay?: boolean;\n  selectedPanelId?: string | null;\n  showPanelLabels?: boolean;\n  panelArtwork?: Map<string, string>; // Maps computed panel ID to artwork URL\n}\n\ninterface DrawingState {\n  isDrawing: boolean;\n  startPoint: Point | null;\n  currentPoint: Point | null;\n  previewLine: Partial<DividerLineData> | null;\n}\n\nconst SNAP_THRESHOLD = 15; // pixels - larger for easier snapping\nconst MIN_LINE_LENGTH = 1; // minimum 1% length for a valid line\n\n/**\n * Convert pixel coordinates to percentage.\n */\nfunction toPercent(pixels: number, dimension: number): number {\n  return (pixels / dimension) * 100;\n}\n\n/**\n * Convert percentage to pixels.\n */\nfunction toPixels(percent: number, dimension: number): number {\n  return (percent / 100) * dimension;\n}\n\nexport const DrawingCanvas: React.FC<DrawingCanvasProps> = ({\n  lines,\n  canvasWidth,\n  canvasHeight,\n  mode,\n  defaultThickness,\n  defaultColor,\n  gutterMode,\n  selectedLineId,\n  onLineCreate,\n  onLineUpdate,\n  onLineDelete,\n  onLineSelect,\n  onPanelSelect,\n  onPanelsComputed,\n  showPanelOverlay = true,\n  selectedPanelId: externalSelectedPanelId,\n  showPanelLabels = true,\n  panelArtwork,\n}) => {\n  const svgRef = useRef<SVGSVGElement>(null);\n  const [drawingState, setDrawingState] = useState<DrawingState>({\n    isDrawing: false,\n    startPoint: null,\n    currentPoint: null,\n    previewLine: null,\n  });\n  const [hoverPoint, setHoverPoint] = useState<Point | null>(null);\n  const [computedPanels, setComputedPanels] = useState<ComputedPanel[]>([]);\n  const [internalSelectedPanelId, setInternalSelectedPanelId] = useState<string | null>(null);\n\n  // Use external selection if provided, otherwise use internal\n  const selectedPanelId = externalSelectedPanelId !== undefined ? externalSelectedPanelId : internalSelectedPanelId;\n\n  // Recompute panels when lines change\n  useEffect(() => {\n    const dividerLines: DividerLine[] = lines.map((l) => ({\n      id: l.id,\n      line_type: l.line_type,\n      start_x: l.start_x,\n      start_y: l.start_y,\n      end_x: l.end_x,\n      end_y: l.end_y,\n      control1_x: l.control1_x,\n      control1_y: l.control1_y,\n      control2_x: l.control2_x,\n      control2_y: l.control2_y,\n    }));\n\n    const panels = computePanelRegions(dividerLines, 100, 100); // Use percentage coordinates\n    setComputedPanels(panels);\n    onPanelsComputed?.(panels);\n  }, [lines, onPanelsComputed]);\n\n  /**\n   * Get mouse position relative to SVG canvas.\n   */\n  const getMousePosition = useCallback(\n    (e: React.MouseEvent): Point => {\n      const svg = svgRef.current;\n      if (!svg) return { x: 0, y: 0 };\n\n      const rect = svg.getBoundingClientRect();\n      return {\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top,\n      };\n    },\n    []\n  );\n\n  /**\n   * Find snap point for the current mouse position.\n   */\n  const getSnappedPoint = useCallback(\n    (point: Point): Point => {\n      // Convert to percentage for snapping\n      const pointPercent: Point = {\n        x: toPercent(point.x, canvasWidth),\n        y: toPercent(point.y, canvasHeight),\n      };\n\n      // Page edges in percentage\n      const edges: Line[] = [\n        { start: { x: 0, y: 0 }, end: { x: 100, y: 0 } },\n        { start: { x: 100, y: 0 }, end: { x: 100, y: 100 } },\n        { start: { x: 100, y: 100 }, end: { x: 0, y: 100 } },\n        { start: { x: 0, y: 100 }, end: { x: 0, y: 0 } },\n      ];\n\n      // Existing lines (converted to Line format)\n      const existingLines: Line[] = lines.map((l) => ({\n        start: { x: l.start_x, y: l.start_y },\n        end: { x: l.end_x, y: l.end_y },\n      }));\n\n      // Snap threshold in percentage\n      const thresholdPercent = toPercent(SNAP_THRESHOLD, canvasWidth);\n\n      const result = findSnapPoint(pointPercent, edges, existingLines, thresholdPercent);\n\n      // Convert back to pixels\n      return {\n        x: toPixels(result.point.x, canvasWidth),\n        y: toPixels(result.point.y, canvasHeight),\n      };\n    },\n    [lines, canvasWidth, canvasHeight]\n  );\n\n  /**\n   * Handle mouse down - start drawing.\n   */\n  const handleMouseDown = useCallback(\n    (e: React.MouseEvent) => {\n      if (mode !== 'draw-line' && mode !== 'draw-bezier') return;\n\n      const point = getMousePosition(e);\n      const snappedPoint = getSnappedPoint(point);\n\n      setDrawingState({\n        isDrawing: true,\n        startPoint: snappedPoint,\n        currentPoint: snappedPoint,\n        previewLine: null,\n      });\n    },\n    [mode, getMousePosition, getSnappedPoint]\n  );\n\n  /**\n   * Handle mouse move - update preview line and hover indicator.\n   */\n  const handleMouseMove = useCallback(\n    (e: React.MouseEvent) => {\n      const point = getMousePosition(e);\n      const snappedPoint = getSnappedPoint(point);\n\n      // Always update hover point in drawing modes\n      if (mode === 'draw-line' || mode === 'draw-bezier') {\n        setHoverPoint(snappedPoint);\n      } else {\n        setHoverPoint(null);\n      }\n\n      // If not actively drawing, just update hover\n      if (!drawingState.isDrawing || !drawingState.startPoint) return;\n\n      // Create preview line\n      const startPercent = {\n        x: toPercent(drawingState.startPoint.x, canvasWidth),\n        y: toPercent(drawingState.startPoint.y, canvasHeight),\n      };\n      const endPercent = {\n        x: toPercent(snappedPoint.x, canvasWidth),\n        y: toPercent(snappedPoint.y, canvasHeight),\n      };\n\n      let previewLine: Partial<DividerLineData>;\n\n      if (mode === 'draw-bezier') {\n        const controls = generateDefaultControlPoints(startPercent, endPercent);\n        previewLine = {\n          line_type: 'bezier',\n          start_x: startPercent.x,\n          start_y: startPercent.y,\n          end_x: endPercent.x,\n          end_y: endPercent.y,\n          control1_x: controls.control1.x,\n          control1_y: controls.control1.y,\n          control2_x: controls.control2.x,\n          control2_y: controls.control2.y,\n        };\n      } else {\n        previewLine = {\n          line_type: 'straight',\n          start_x: startPercent.x,\n          start_y: startPercent.y,\n          end_x: endPercent.x,\n          end_y: endPercent.y,\n        };\n      }\n\n      setDrawingState((prev) => ({\n        ...prev,\n        currentPoint: snappedPoint,\n        previewLine,\n      }));\n    },\n    [\n      drawingState.isDrawing,\n      drawingState.startPoint,\n      mode,\n      canvasWidth,\n      canvasHeight,\n      getMousePosition,\n      getSnappedPoint,\n    ]\n  );\n\n  /**\n   * Handle mouse up - finish drawing.\n   */\n  const handleMouseUp = useCallback(() => {\n    if (!drawingState.isDrawing || !drawingState.previewLine) {\n      setDrawingState({\n        isDrawing: false,\n        startPoint: null,\n        currentPoint: null,\n        previewLine: null,\n      });\n      return;\n    }\n\n    // Check if line has sufficient length\n    const dx = (drawingState.previewLine.end_x ?? 0) - (drawingState.previewLine.start_x ?? 0);\n    const dy = (drawingState.previewLine.end_y ?? 0) - (drawingState.previewLine.start_y ?? 0);\n    const length = Math.sqrt(dx * dx + dy * dy);\n\n    if (length > MIN_LINE_LENGTH) {\n      onLineCreate(drawingState.previewLine as Omit<DividerLineData, 'id'>);\n    }\n\n    setDrawingState({\n      isDrawing: false,\n      startPoint: null,\n      currentPoint: null,\n      previewLine: null,\n    });\n  }, [drawingState, onLineCreate]);\n\n  /**\n   * Handle canvas click for selection.\n   */\n  const handleCanvasClick = useCallback(\n    (e: React.MouseEvent) => {\n      if (mode === 'select') {\n        // If clicking on empty space, deselect\n        const target = e.target as SVGElement;\n        if (target.tagName === 'svg' || target.classList.contains('panel-background')) {\n          onLineSelect(null);\n          setInternalSelectedPanelId(null);\n          onPanelSelect?.(null);\n        }\n      }\n    },\n    [mode, onLineSelect, onPanelSelect]\n  );\n\n  /**\n   * Handle line selection.\n   */\n  const handleLineClick = useCallback(\n    (lineId: number) => {\n      if (mode === 'select') {\n        onLineSelect(lineId);\n        setInternalSelectedPanelId(null);\n        onPanelSelect?.(null);\n      }\n    },\n    [mode, onLineSelect, onPanelSelect]\n  );\n\n  /**\n   * Handle panel selection.\n   */\n  const handlePanelClick = useCallback(\n    (panelId: string) => {\n      if (mode === 'select') {\n        setInternalSelectedPanelId(panelId);\n        onLineSelect(null);\n        onPanelSelect?.(panelId);\n      }\n    },\n    [mode, onLineSelect, onPanelSelect]\n  );\n\n  /**\n   * Handle bezier control point change.\n   */\n  const handleControlPointChange = useCallback(\n    (lineId: number, controlPoint: 'control1' | 'control2', x: number, y: number) => {\n      if (controlPoint === 'control1') {\n        onLineUpdate(lineId, { control1_x: x, control1_y: y });\n      } else {\n        onLineUpdate(lineId, { control2_x: x, control2_y: y });\n      }\n    },\n    [onLineUpdate]\n  );\n\n  /**\n   * Handle keyboard events.\n   */\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.key === 'Delete' || e.key === 'Backspace') && selectedLineId !== null) {\n        onLineDelete(selectedLineId);\n        onLineSelect(null);\n      } else if (e.key === 'Escape') {\n        if (drawingState.isDrawing) {\n          setDrawingState({\n            isDrawing: false,\n            startPoint: null,\n            currentPoint: null,\n            previewLine: null,\n          });\n        } else {\n          onLineSelect(null);\n          setInternalSelectedPanelId(null);\n          onPanelSelect?.(null);\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedLineId, drawingState.isDrawing, onLineDelete, onLineSelect]);\n\n  // Get cursor style based on mode\n  const getCursor = () => {\n    if (mode === 'draw-line' || mode === 'draw-bezier') {\n      return drawingState.isDrawing ? 'crosshair' : 'crosshair';\n    }\n    return 'default';\n  };\n\n  // Preview line with temporary ID for rendering\n  const previewLineForRender = drawingState.previewLine\n    ? { ...drawingState.previewLine, id: -1 } as DividerLineData\n    : null;\n\n  return (\n    <svg\n      ref={svgRef}\n      width={canvasWidth}\n      height={canvasHeight}\n      className=\"border border-gray-300 bg-white\"\n      style={{ cursor: getCursor() }}\n      onMouseDown={handleMouseDown}\n      onMouseMove={handleMouseMove}\n      onMouseUp={handleMouseUp}\n      onMouseLeave={() => {\n        handleMouseUp();\n        setHoverPoint(null);\n      }}\n      onClick={handleCanvasClick}\n    >\n      {/* Background */}\n      <rect\n        x={0}\n        y={0}\n        width={canvasWidth}\n        height={canvasHeight}\n        fill=\"#ffffff\"\n        className=\"panel-background\"\n      />\n\n      {/* Panel regions overlay */}\n      {showPanelOverlay && computedPanels.length > 0 && (\n        <PanelRegionOverlay\n          panels={computedPanels}\n          canvasWidth={canvasWidth}\n          canvasHeight={canvasHeight}\n          selectedPanelId={selectedPanelId}\n          onPanelClick={handlePanelClick}\n          showLabels={showPanelLabels}\n          panelArtwork={panelArtwork}\n        />\n      )}\n\n      {/* Existing lines */}\n      <LineRenderer\n        lines={lines}\n        selectedLineId={selectedLineId}\n        canvasWidth={canvasWidth}\n        canvasHeight={canvasHeight}\n        defaultThickness={defaultThickness}\n        defaultColor={defaultColor}\n        gutterMode={gutterMode}\n        onLineClick={handleLineClick}\n      />\n\n      {/* Preview line while drawing */}\n      {previewLineForRender && (\n        <LineRenderer\n          lines={[previewLineForRender]}\n          selectedLineId={null}\n          canvasWidth={canvasWidth}\n          canvasHeight={canvasHeight}\n          defaultThickness={defaultThickness}\n          defaultColor={defaultColor}\n          gutterMode={gutterMode}\n        />\n      )}\n\n      {/* Bezier handles for selected line */}\n      {selectedLineId !== null && mode === 'select' && (\n        <>\n          {lines\n            .filter((l) => l.id === selectedLineId && l.line_type === 'bezier')\n            .map((line) => (\n              <BezierHandles\n                key={line.id}\n                line={line}\n                canvasWidth={canvasWidth}\n                canvasHeight={canvasHeight}\n                onControlPointChange={handleControlPointChange}\n              />\n            ))}\n        </>\n      )}\n\n      {/* Panel click layer - rendered on TOP of lines so panels are clickable */}\n      {showPanelOverlay && computedPanels.length > 0 && mode === 'select' && (\n        <g className=\"panel-click-layer\">\n          {computedPanels.map((panel) => {\n            const points = panel.vertices\n              .map((v) => `${(v.x / 100) * canvasWidth},${(v.y / 100) * canvasHeight}`)\n              .join(' ');\n            return (\n              <polygon\n                key={`click-${panel.id}`}\n                points={points}\n                fill=\"transparent\"\n                style={{ cursor: 'pointer' }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handlePanelClick(panel.id);\n                }}\n              />\n            );\n          })}\n        </g>\n      )}\n\n      {/* Hover indicator - shows where line will start */}\n      {hoverPoint && !drawingState.isDrawing && (mode === 'draw-line' || mode === 'draw-bezier') && (\n        <g pointerEvents=\"none\">\n          {/* Outer glow */}\n          <circle\n            cx={hoverPoint.x}\n            cy={hoverPoint.y}\n            r={12}\n            fill=\"none\"\n            stroke=\"#3b82f6\"\n            strokeWidth={2}\n            opacity={0.3}\n          />\n          {/* Inner dot */}\n          <circle\n            cx={hoverPoint.x}\n            cy={hoverPoint.y}\n            r={6}\n            fill=\"#3b82f6\"\n            stroke=\"#ffffff\"\n            strokeWidth={2}\n          />\n          {/* Crosshair lines */}\n          <line\n            x1={hoverPoint.x - 20}\n            y1={hoverPoint.y}\n            x2={hoverPoint.x - 8}\n            y2={hoverPoint.y}\n            stroke=\"#3b82f6\"\n            strokeWidth={1}\n            opacity={0.5}\n          />\n          <line\n            x1={hoverPoint.x + 8}\n            y1={hoverPoint.y}\n            x2={hoverPoint.x + 20}\n            y2={hoverPoint.y}\n            stroke=\"#3b82f6\"\n            strokeWidth={1}\n            opacity={0.5}\n          />\n          <line\n            x1={hoverPoint.x}\n            y1={hoverPoint.y - 20}\n            x2={hoverPoint.x}\n            y2={hoverPoint.y - 8}\n            stroke=\"#3b82f6\"\n            strokeWidth={1}\n            opacity={0.5}\n          />\n          <line\n            x1={hoverPoint.x}\n            y1={hoverPoint.y + 8}\n            x2={hoverPoint.x}\n            y2={hoverPoint.y + 20}\n            stroke=\"#3b82f6\"\n            strokeWidth={1}\n            opacity={0.5}\n          />\n        </g>\n      )}\n\n      {/* Start point indicator while drawing */}\n      {drawingState.startPoint && drawingState.isDrawing && (\n        <circle\n          cx={drawingState.startPoint.x}\n          cy={drawingState.startPoint.y}\n          r={6}\n          fill=\"#22c55e\"\n          stroke=\"#ffffff\"\n          strokeWidth={2}\n          pointerEvents=\"none\"\n        />\n      )}\n\n      {/* End point snap indicator while drawing */}\n      {drawingState.currentPoint && drawingState.isDrawing && (\n        <circle\n          cx={drawingState.currentPoint.x}\n          cy={drawingState.currentPoint.y}\n          r={6}\n          fill=\"#f59e0b\"\n          stroke=\"#ffffff\"\n          strokeWidth={2}\n          pointerEvents=\"none\"\n        />\n      )}\n    </svg>\n  );\n};\n\nexport default DrawingCanvas;\n","/**\n * LineBasedEditor - Main wrapper component for line-based comic panel editing.\n *\n * Provides the complete UI for:\n * - Drawing divider lines (straight and bezier)\n * - Managing panel regions\n * - Page orientation and gutter settings\n * - Templates\n */\n\nimport React, { useState, useCallback, useMemo, useRef, useImperativeHandle, forwardRef } from 'react';\nimport { Pencil, MousePointer, Spline, Trash2, Grid3X3, Settings, X } from 'lucide-react';\nimport { DrawingCanvas, DrawingMode } from './DrawingCanvas';\nimport { DividerLineData } from './LineRenderer';\n\n// Page orientation presets\nexport const ORIENTATION_PRESETS: Record<string, { width: number; height: number; label: string }> = {\n  portrait: { width: 2550, height: 3300, label: 'Portrait (8.511)' },\n  landscape: { width: 3300, height: 2550, label: 'Landscape (118.5)' },\n  square: { width: 3000, height: 3000, label: 'Square (1010)' },\n  webtoon: { width: 800, height: 10000, label: 'Webtoon (Vertical)' },\n  manga_b5: { width: 2114, height: 2992, label: 'Manga B5' },\n  social_square: { width: 1080, height: 1080, label: 'Social (1:1)' },\n  social_story: { width: 1080, height: 1920, label: 'Social Story (9:16)' },\n};\n\n// Line template definitions\nexport interface LineTemplate {\n  id: string;\n  name: string;\n  lines: Omit<DividerLineData, 'id'>[];\n}\n\nexport const LINE_TEMPLATES: LineTemplate[] = [\n  { id: 'full', name: 'Full Page', lines: [] },\n  {\n    id: 'horizontal-2',\n    name: '2 Rows',\n    lines: [\n      { line_type: 'straight', start_x: 0, start_y: 50, end_x: 100, end_y: 50 },\n    ],\n  },\n  {\n    id: 'vertical-2',\n    name: '2 Columns',\n    lines: [\n      { line_type: 'straight', start_x: 50, start_y: 0, end_x: 50, end_y: 100 },\n    ],\n  },\n  {\n    id: 'grid-4',\n    name: '4 Grid',\n    lines: [\n      { line_type: 'straight', start_x: 50, start_y: 0, end_x: 50, end_y: 100 },\n      { line_type: 'straight', start_x: 0, start_y: 50, end_x: 100, end_y: 50 },\n    ],\n  },\n  {\n    id: 'horizontal-3',\n    name: '3 Rows',\n    lines: [\n      { line_type: 'straight', start_x: 0, start_y: 33, end_x: 100, end_y: 33 },\n      { line_type: 'straight', start_x: 0, start_y: 66, end_x: 100, end_y: 66 },\n    ],\n  },\n  {\n    id: 'grid-6',\n    name: '6 Grid',\n    lines: [\n      { line_type: 'straight', start_x: 50, start_y: 0, end_x: 50, end_y: 100 },\n      { line_type: 'straight', start_x: 0, start_y: 33, end_x: 100, end_y: 33 },\n      { line_type: 'straight', start_x: 0, start_y: 66, end_x: 100, end_y: 66 },\n    ],\n  },\n  {\n    id: 'diagonal-split',\n    name: 'Diagonal',\n    lines: [\n      { line_type: 'straight', start_x: 0, start_y: 0, end_x: 100, end_y: 100 },\n    ],\n  },\n  {\n    id: 'curved-wave',\n    name: 'Wave',\n    lines: [\n      {\n        line_type: 'bezier',\n        start_x: 0,\n        start_y: 50,\n        end_x: 100,\n        end_y: 50,\n        control1_x: 25,\n        control1_y: 25,\n        control2_x: 75,\n        control2_y: 75,\n      },\n    ],\n  },\n];\n\ninterface LineBasedEditorProps {\n  lines: DividerLineData[];\n  orientation: string;\n  gutterMode: boolean;\n  defaultGutterWidth: number;\n  defaultLineColor: string;\n  onLineCreate: (line: Omit<DividerLineData, 'id'>) => void;\n  onLineUpdate: (lineId: number, updates: Partial<DividerLineData>) => void;\n  onLineDelete: (lineId: number) => void;\n  onApplyTemplate: (template: LineTemplate) => void;\n  onOrientationChange: (orientation: string) => void;\n  onGutterModeChange: (gutterMode: boolean) => void;\n  onGutterWidthChange: (width: number) => void;\n  onLineColorChange: (color: string) => void;\n  canEdit: boolean;\n  // Panel selection for artwork mode\n  selectedPanelId?: string | null;\n  onPanelSelect?: (panelId: string | null) => void;\n  onPanelsComputed?: (panels: import('../../../utils/regionCalculator').ComputedPanel[]) => void;\n  showPanelNumbers?: boolean;\n  panelArtwork?: Map<string, string>;\n  // Responsive sizing - if not provided, uses defaults\n  maxCanvasWidth?: number;\n  maxCanvasHeight?: number;\n  // Overlay content (e.g., speech bubbles) rendered inside the canvas container\n  children?: React.ReactNode;\n}\n\n// Ref handle for accessing canvas dimensions\nexport interface LineBasedEditorRef {\n  getCanvasRect: () => DOMRect | null;\n  getCanvasSize: () => { width: number; height: number };\n}\n\n// Shared button style\nconst buttonBase = {\n  padding: '8px',\n  borderRadius: 6,\n  border: 'none',\n  cursor: 'pointer',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  transition: 'all 0.15s ease',\n};\n\nexport const LineBasedEditor = forwardRef<LineBasedEditorRef, LineBasedEditorProps>(({\n  lines,\n  orientation,\n  gutterMode,\n  defaultGutterWidth,\n  defaultLineColor,\n  onLineCreate,\n  onLineUpdate,\n  onLineDelete,\n  onApplyTemplate,\n  onOrientationChange,\n  onGutterModeChange,\n  onGutterWidthChange,\n  onLineColorChange,\n  canEdit,\n  selectedPanelId: externalSelectedPanelId,\n  onPanelSelect,\n  onPanelsComputed,\n  showPanelNumbers = true,\n  panelArtwork,\n  maxCanvasWidth,\n  maxCanvasHeight,\n  children,\n}, ref) => {\n  const [mode, setMode] = useState<DrawingMode>('select');\n  const [selectedLineId, setSelectedLineId] = useState<number | null>(null);\n  const [showTemplates, setShowTemplates] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const canvasContainerRef = useRef<HTMLDivElement>(null);\n\n  // Use external panel selection if provided, otherwise manage internally\n  const selectedPanelId = externalSelectedPanelId;\n\n  // Calculate canvas dimensions based on orientation (scaled for display)\n  // Use props if provided, otherwise fall back to defaults\n  const orientationConfig = ORIENTATION_PRESETS[orientation] || ORIENTATION_PRESETS.portrait;\n  const maxDisplayWidth = maxCanvasWidth || 550;\n  const maxDisplayHeight = maxCanvasHeight || 712;\n\n  const canvasSize = useMemo(() => {\n    const aspectRatio = orientationConfig.width / orientationConfig.height;\n    let displayWidth: number;\n    let displayHeight: number;\n\n    if (aspectRatio > maxDisplayWidth / maxDisplayHeight) {\n      displayWidth = maxDisplayWidth;\n      displayHeight = maxDisplayWidth / aspectRatio;\n    } else {\n      displayHeight = maxDisplayHeight;\n      displayWidth = maxDisplayHeight * aspectRatio;\n    }\n\n    return { width: displayWidth, height: displayHeight };\n  }, [orientationConfig, maxDisplayWidth, maxDisplayHeight]);\n\n  // Expose canvas rect and size via ref for parent to use\n  useImperativeHandle(ref, () => ({\n    getCanvasRect: () => canvasContainerRef.current?.getBoundingClientRect() || null,\n    getCanvasSize: () => canvasSize,\n  }), [canvasSize]);\n\n  const handleLineSelect = useCallback((lineId: number | null) => {\n    setSelectedLineId(lineId);\n  }, []);\n\n  const handleApplyTemplate = useCallback(\n    (template: LineTemplate) => {\n      if (!canEdit) return;\n\n      const confirmed = lines.length === 0 || window.confirm(\n        'This will replace all existing divider lines. Continue?'\n      );\n\n      if (confirmed) {\n        onApplyTemplate(template);\n        setShowTemplates(false);\n      }\n    },\n    [lines.length, onApplyTemplate, canEdit]\n  );\n\n  const handleDeleteSelected = useCallback(() => {\n    if (selectedLineId !== null) {\n      onLineDelete(selectedLineId);\n      setSelectedLineId(null);\n    }\n  }, [selectedLineId, onLineDelete]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100%', width: '100%' }}>\n      {/* Toolbar */}\n      {canEdit && (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n            padding: '8px 12px',\n            background: '#1e293b',\n            borderBottom: '1px solid #334155',\n            borderRadius: '8px 8px 0 0',\n          }}\n        >\n          {/* Mode buttons */}\n          <div style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n            <button\n              onClick={() => setMode('select')}\n              style={{\n                ...buttonBase,\n                background: mode === 'select' ? '#f59e0b' : '#334155',\n                color: mode === 'select' ? '#000' : '#94a3b8',\n              }}\n              title=\"Select\"\n            >\n              <MousePointer size={16} />\n            </button>\n            <button\n              onClick={() => setMode('draw-line')}\n              style={{\n                ...buttonBase,\n                background: mode === 'draw-line' ? '#f59e0b' : '#334155',\n                color: mode === 'draw-line' ? '#000' : '#94a3b8',\n              }}\n              title=\"Draw Line\"\n            >\n              <Pencil size={16} />\n            </button>\n            <button\n              onClick={() => setMode('draw-bezier')}\n              style={{\n                ...buttonBase,\n                background: mode === 'draw-bezier' ? '#f59e0b' : '#334155',\n                color: mode === 'draw-bezier' ? '#000' : '#94a3b8',\n              }}\n              title=\"Draw Curve\"\n            >\n              <Spline size={16} />\n            </button>\n          </div>\n\n          <div style={{ width: 1, height: 24, background: '#475569' }} />\n\n          {/* Actions */}\n          <div style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n            <button\n              onClick={() => { setShowTemplates(!showTemplates); setShowSettings(false); }}\n              style={{\n                ...buttonBase,\n                background: showTemplates ? '#f59e0b' : '#334155',\n                color: showTemplates ? '#000' : '#94a3b8',\n              }}\n              title=\"Templates\"\n            >\n              <Grid3X3 size={16} />\n            </button>\n            <button\n              onClick={() => { setShowSettings(!showSettings); setShowTemplates(false); }}\n              style={{\n                ...buttonBase,\n                background: showSettings ? '#f59e0b' : '#334155',\n                color: showSettings ? '#000' : '#94a3b8',\n              }}\n              title=\"Settings\"\n            >\n              <Settings size={16} />\n            </button>\n          </div>\n\n          {/* Delete button (when line selected) */}\n          {selectedLineId !== null && (\n            <>\n              <div style={{ width: 1, height: 24, background: '#475569' }} />\n              <button\n                onClick={handleDeleteSelected}\n                style={{\n                  ...buttonBase,\n                  background: '#ef4444',\n                  color: '#fff',\n                }}\n                title=\"Delete Line\"\n              >\n                <Trash2 size={16} />\n              </button>\n            </>\n          )}\n\n          {/* Mode indicator */}\n          <span style={{ marginLeft: 'auto', fontSize: 11, color: '#64748b' }}>\n            {mode === 'select' && 'Select lines'}\n            {mode === 'draw-line' && 'Drag to draw'}\n            {mode === 'draw-bezier' && 'Drag for curve'}\n          </span>\n        </div>\n      )}\n\n      {/* Settings Panel */}\n      {showSettings && canEdit && (\n        <div\n          style={{\n            padding: 16,\n            background: '#1e293b',\n            borderBottom: '1px solid #334155',\n          }}\n        >\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 12 }}>\n            <span style={{ color: '#f8fafc', fontWeight: 600, fontSize: 12 }}>Page Settings</span>\n            <button\n              onClick={() => setShowSettings(false)}\n              style={{ ...buttonBase, padding: 4, background: 'transparent', color: '#64748b' }}\n            >\n              <X size={14} />\n            </button>\n          </div>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 16 }}>\n            {/* Orientation */}\n            <div>\n              <label style={{ display: 'block', fontSize: 11, color: '#94a3b8', marginBottom: 4 }}>\n                Page Size\n              </label>\n              <select\n                value={orientation}\n                onChange={(e) => onOrientationChange(e.target.value)}\n                style={{\n                  width: '100%',\n                  padding: '6px 8px',\n                  background: '#0f172a',\n                  border: '1px solid #334155',\n                  borderRadius: 6,\n                  color: '#f8fafc',\n                  fontSize: 12,\n                }}\n              >\n                {Object.entries(ORIENTATION_PRESETS).map(([key, config]) => (\n                  <option key={key} value={key}>\n                    {config.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Gutter Width */}\n            <div>\n              <label style={{ display: 'block', fontSize: 11, color: '#94a3b8', marginBottom: 4 }}>\n                Gap Width: {defaultGutterWidth.toFixed(1)}%\n              </label>\n              <input\n                type=\"range\"\n                min=\"0.5\"\n                max=\"5\"\n                step=\"0.5\"\n                value={defaultGutterWidth}\n                onChange={(e) => onGutterWidthChange(parseFloat(e.target.value))}\n                style={{ width: '100%', accentColor: '#f59e0b' }}\n              />\n            </div>\n\n            {/* Gutter Mode */}\n            <div>\n              <label style={{ display: 'block', fontSize: 11, color: '#94a3b8', marginBottom: 4 }}>\n                Line Style\n              </label>\n              <div style={{ display: 'flex', gap: 12 }}>\n                <label style={{ display: 'flex', alignItems: 'center', gap: 4, cursor: 'pointer', fontSize: 12, color: '#f8fafc' }}>\n                  <input\n                    type=\"radio\"\n                    checked={gutterMode}\n                    onChange={() => onGutterModeChange(true)}\n                    style={{ accentColor: '#f59e0b' }}\n                  />\n                  Gap\n                </label>\n                <label style={{ display: 'flex', alignItems: 'center', gap: 4, cursor: 'pointer', fontSize: 12, color: '#f8fafc' }}>\n                  <input\n                    type=\"radio\"\n                    checked={!gutterMode}\n                    onChange={() => onGutterModeChange(false)}\n                    style={{ accentColor: '#f59e0b' }}\n                  />\n                  Border\n                </label>\n              </div>\n            </div>\n\n            {/* Line Color */}\n            <div>\n              <label style={{ display: 'block', fontSize: 11, color: '#94a3b8', marginBottom: 4 }}>\n                Color\n              </label>\n              <input\n                type=\"color\"\n                value={defaultLineColor}\n                onChange={(e) => onLineColorChange(e.target.value)}\n                style={{\n                  width: '100%',\n                  height: 28,\n                  padding: 0,\n                  border: '1px solid #334155',\n                  borderRadius: 6,\n                  cursor: 'pointer',\n                  background: 'transparent',\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Templates Panel */}\n      {showTemplates && canEdit && (\n        <div\n          style={{\n            padding: 16,\n            background: '#1e293b',\n            borderBottom: '1px solid #334155',\n          }}\n        >\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 12 }}>\n            <span style={{ color: '#f8fafc', fontWeight: 600, fontSize: 12 }}>Quick Layouts</span>\n            <button\n              onClick={() => setShowTemplates(false)}\n              style={{ ...buttonBase, padding: 4, background: 'transparent', color: '#64748b' }}\n            >\n              <X size={14} />\n            </button>\n          </div>\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: 8 }}>\n            {LINE_TEMPLATES.map((template) => (\n              <button\n                key={template.id}\n                onClick={() => handleApplyTemplate(template)}\n                style={{\n                  padding: 8,\n                  background: '#0f172a',\n                  border: '1px solid #334155',\n                  borderRadius: 8,\n                  cursor: 'pointer',\n                  transition: 'all 0.15s ease',\n                }}\n                onMouseOver={(e) => {\n                  e.currentTarget.style.borderColor = '#f59e0b';\n                  e.currentTarget.style.background = '#1e293b';\n                }}\n                onMouseOut={(e) => {\n                  e.currentTarget.style.borderColor = '#334155';\n                  e.currentTarget.style.background = '#0f172a';\n                }}\n              >\n                {/* Template preview */}\n                <div\n                  style={{\n                    width: '100%',\n                    aspectRatio: '8.5/11',\n                    background: '#fff',\n                    borderRadius: 4,\n                    marginBottom: 6,\n                    overflow: 'hidden',\n                  }}\n                >\n                  <svg viewBox=\"0 0 100 100\" style={{ width: '100%', height: '100%' }}>\n                    <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"#fff\" />\n                    {template.lines.map((line, i) => (\n                      <line\n                        key={i}\n                        x1={line.start_x}\n                        y1={line.start_y}\n                        x2={line.end_x}\n                        y2={line.end_y}\n                        stroke=\"#334155\"\n                        strokeWidth=\"2\"\n                      />\n                    ))}\n                  </svg>\n                </div>\n                <span style={{ fontSize: 10, color: '#94a3b8' }}>\n                  {template.name}\n                </span>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Canvas */}\n      <div\n        style={{\n          flex: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: 16,\n          background: '#0f172a',\n          overflow: 'hidden',\n          minWidth: 0, // Allow flex item to shrink below content size\n          minHeight: 0,\n        }}\n      >\n        <div\n          ref={canvasContainerRef}\n          style={{\n            position: 'relative',\n            borderRadius: 4,\n            boxShadow: '0 8px 32px rgba(0,0,0,0.4), 0 2px 8px rgba(0,0,0,0.2)',\n            overflow: 'hidden',\n            width: canvasSize.width,\n            height: canvasSize.height,\n            maxWidth: '100%',\n            maxHeight: '100%',\n            flexShrink: 0,\n          }}\n        >\n          <DrawingCanvas\n            lines={lines}\n            canvasWidth={canvasSize.width}\n            canvasHeight={canvasSize.height}\n            mode={canEdit ? mode : 'select'}\n            defaultThickness={defaultGutterWidth}\n            defaultColor={defaultLineColor}\n            gutterMode={gutterMode}\n            selectedLineId={selectedLineId}\n            onLineCreate={onLineCreate}\n            onLineUpdate={onLineUpdate}\n            onLineDelete={onLineDelete}\n            onLineSelect={handleLineSelect}\n            showPanelOverlay={true}\n            selectedPanelId={selectedPanelId}\n            onPanelSelect={onPanelSelect}\n            onPanelsComputed={onPanelsComputed}\n            showPanelLabels={showPanelNumbers}\n            panelArtwork={panelArtwork}\n          />\n          {/* Overlay content (speech bubbles, etc.) positioned relative to canvas */}\n          {children}\n        </div>\n      </div>\n\n      {/* Info bar */}\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          padding: '6px 12px',\n          background: '#1e293b',\n          borderTop: '1px solid #334155',\n          borderRadius: '0 0 8px 8px',\n          fontSize: 11,\n          color: '#64748b',\n        }}\n      >\n        <span>\n          {lines.length} line{lines.length !== 1 ? 's' : ''}  {ORIENTATION_PRESETS[orientation]?.label || 'Custom'}\n        </span>\n        <span>\n          Snaps to edges\n        </span>\n      </div>\n    </div>\n  );\n});\n\n// Set display name for debugging\nLineBasedEditor.displayName = 'LineBasedEditor';\n\nexport default LineBasedEditor;\n","import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { Rnd } from 'react-rnd';\nimport {\n  CollaborativeProject,\n  ComicPage,\n  ComicPanel,\n  SpeechBubble,\n  BubbleType,\n  ComicIssue,\n  ComicIssueListItem,\n  DividerLine,\n  collaborationApi,\n} from '../../services/collaborationApi';\nimport { LineBasedEditor, LINE_TEMPLATES, ORIENTATION_PRESETS, LineTemplate, LineBasedEditorRef } from './lineEditor';\nimport { DividerLineData } from './lineEditor/LineRenderer';\nimport {\n  Plus,\n  Trash2,\n  Upload,\n  Type,\n  Layout,\n  Image,\n  MessageCircle,\n  ChevronLeft,\n  ChevronRight,\n  Save,\n  Loader2,\n  Maximize2,\n  Grid3X3,\n  X,\n  BookOpen,\n  ChevronDown,\n  Pencil,\n  Check,\n} from 'lucide-react';\n\ninterface User {\n  id: number;\n  username: string;\n  display_name?: string;\n}\n\ninterface CollaborativeComicEditorProps {\n  project: CollaborativeProject;\n  currentUser: User;\n  onProjectUpdate?: (project: CollaborativeProject) => void;\n}\n\ntype EditorMode = 'layout' | 'artwork' | 'text';\n\nconst BUBBLE_TYPES: { value: BubbleType; label: string }[] = [\n  { value: 'oval', label: 'Speech' },\n  { value: 'thought', label: 'Thought' },\n  { value: 'shout', label: 'Shout' },\n  { value: 'narrative', label: 'Narration' },\n  { value: 'whisper', label: 'Whisper' },\n  { value: 'caption', label: 'Caption' },\n];\n\n// Panel layout templates for quick page setup\ninterface PanelTemplate {\n  id: string;\n  name: string;\n  panels: { x: number; y: number; w: number; h: number; skewX?: number; skewY?: number }[];\n}\n\nconst PANEL_TEMPLATES: PanelTemplate[] = [\n  {\n    id: 'full',\n    name: 'Full Page',\n    panels: [{ x: 2, y: 2, w: 96, h: 96 }],\n  },\n  {\n    id: 'horizontal-2',\n    name: '2 Horizontal',\n    panels: [\n      { x: 2, y: 2, w: 96, h: 47 },\n      { x: 2, y: 51, w: 96, h: 47 },\n    ],\n  },\n  {\n    id: 'vertical-2',\n    name: '2 Vertical',\n    panels: [\n      { x: 2, y: 2, w: 47, h: 96 },\n      { x: 51, y: 2, w: 47, h: 96 },\n    ],\n  },\n  {\n    id: 'grid-4',\n    name: '4 Grid',\n    panels: [\n      { x: 2, y: 2, w: 47, h: 47 },\n      { x: 51, y: 2, w: 47, h: 47 },\n      { x: 2, y: 51, w: 47, h: 47 },\n      { x: 51, y: 51, w: 47, h: 47 },\n    ],\n  },\n  {\n    id: 'horizontal-3',\n    name: '3 Horizontal',\n    panels: [\n      { x: 2, y: 2, w: 96, h: 31 },\n      { x: 2, y: 35, w: 96, h: 31 },\n      { x: 2, y: 67, w: 96, h: 31 },\n    ],\n  },\n  {\n    id: 'diagonal-3',\n    name: '3 Diagonal',\n    panels: [\n      // Staircase diagonal layout - no skew, just positioned diagonally\n      { x: 2, y: 2, w: 60, h: 30 },\n      { x: 20, y: 34, w: 60, h: 30 },\n      { x: 38, y: 66, w: 60, h: 32 },\n    ],\n  },\n  {\n    id: 'l-shape',\n    name: 'L-Shape',\n    panels: [\n      { x: 2, y: 2, w: 65, h: 47 },\n      { x: 69, y: 2, w: 29, h: 96 },\n      { x: 2, y: 51, w: 65, h: 47 },\n    ],\n  },\n  {\n    id: 'splash',\n    name: 'Splash Page',\n    panels: [\n      { x: 2, y: 2, w: 96, h: 70 },\n      { x: 2, y: 74, w: 31, h: 24 },\n      { x: 35, y: 74, w: 31, h: 24 },\n      { x: 67, y: 74, w: 31, h: 24 },\n    ],\n  },\n];\n\n// Gap detection types and utilities\ninterface GapRegion {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  area: number;\n}\n\n// Find empty regions on the page using grid-based detection\nfunction findGaps(panels: ComicPanel[]): GapRegion[] {\n  const GRID_SIZE = 20;\n  const CELL_SIZE = 100 / GRID_SIZE; // 5% per cell\n\n  // Create grid and mark occupied cells\n  const grid: boolean[][] = Array(GRID_SIZE)\n    .fill(null)\n    .map(() => Array(GRID_SIZE).fill(false));\n\n  // Mark cells occupied by panels (using bounding box)\n  for (const panel of panels) {\n    const startX = Math.floor(Math.max(0, panel.x_percent) / CELL_SIZE);\n    const endX = Math.ceil(Math.min(100, panel.x_percent + panel.width_percent) / CELL_SIZE);\n    const startY = Math.floor(Math.max(0, panel.y_percent) / CELL_SIZE);\n    const endY = Math.ceil(Math.min(100, panel.y_percent + panel.height_percent) / CELL_SIZE);\n\n    for (let y = startY; y < endY && y < GRID_SIZE; y++) {\n      for (let x = startX; x < endX && x < GRID_SIZE; x++) {\n        if (x >= 0 && y >= 0) {\n          grid[y][x] = true;\n        }\n      }\n    }\n  }\n\n  // Find largest empty rectangles using maximal rectangle algorithm\n  const gaps: GapRegion[] = [];\n  const heights = Array(GRID_SIZE).fill(0);\n\n  for (let y = 0; y < GRID_SIZE; y++) {\n    // Update heights\n    for (let x = 0; x < GRID_SIZE; x++) {\n      heights[x] = grid[y][x] ? 0 : heights[x] + 1;\n    }\n\n    // Find largest rectangle in histogram\n    const stack: number[] = [];\n    for (let x = 0; x <= GRID_SIZE; x++) {\n      const h = x === GRID_SIZE ? 0 : heights[x];\n      while (stack.length > 0 && heights[stack[stack.length - 1]] > h) {\n        const height = heights[stack.pop()!];\n        const width = stack.length === 0 ? x : x - stack[stack.length - 1] - 1;\n        const area = height * width;\n        if (area >= 4) { // Minimum 4 cells (20% x 20%)\n          const startX = stack.length === 0 ? 0 : stack[stack.length - 1] + 1;\n          gaps.push({\n            x: startX * CELL_SIZE,\n            y: (y - height + 1) * CELL_SIZE,\n            width: width * CELL_SIZE,\n            height: height * CELL_SIZE,\n            area: area * CELL_SIZE * CELL_SIZE,\n          });\n        }\n      }\n      stack.push(x);\n    }\n  }\n\n  // Sort by area (largest first) and remove duplicates/overlapping\n  gaps.sort((a, b) => b.area - a.area);\n\n  // Filter to keep only non-overlapping gaps\n  const result: GapRegion[] = [];\n  for (const gap of gaps) {\n    const overlaps = result.some(\n      (existing) =>\n        gap.x < existing.x + existing.width &&\n        gap.x + gap.width > existing.x &&\n        gap.y < existing.y + existing.height &&\n        gap.y + gap.height > existing.y\n    );\n    if (!overlaps) {\n      result.push(gap);\n    }\n  }\n\n  return result.slice(0, 5); // Return top 5 gaps\n}\n\n// Find adjacent panel to match skew\nfunction findAdjacentPanel(panels: ComicPanel[], gap: GapRegion): ComicPanel | null {\n  let closest: ComicPanel | null = null;\n  let minDistance = Infinity;\n\n  for (const panel of panels) {\n    // Calculate distance from gap to panel\n    const panelCenterX = panel.x_percent + panel.width_percent / 2;\n    const panelCenterY = panel.y_percent + panel.height_percent / 2;\n    const gapCenterX = gap.x + gap.width / 2;\n    const gapCenterY = gap.y + gap.height / 2;\n\n    const distance = Math.sqrt(\n      Math.pow(panelCenterX - gapCenterX, 2) + Math.pow(panelCenterY - gapCenterY, 2)\n    );\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      closest = panel;\n    }\n  }\n\n  return closest;\n}\n\nexport default function CollaborativeComicEditor({\n  project,\n  currentUser,\n  onProjectUpdate,\n}: CollaborativeComicEditorProps) {\n  // State\n  const [pages, setPages] = useState<ComicPage[]>([]);\n  const [selectedPageIndex, setSelectedPageIndex] = useState(0);\n  const [selectedPanelId, setSelectedPanelId] = useState<number | null>(null);\n  const [selectedComputedPanelId, setSelectedComputedPanelId] = useState<string | null>(null); // For line-based editor\n  const [computedPanels, setComputedPanels] = useState<import('../../utils/regionCalculator').ComputedPanel[]>([]);\n  const [panelArtworkMap, setPanelArtworkMap] = useState<Map<string, string>>(new Map()); // Maps computed panel ID to artwork URL\n  const [selectedBubbleId, setSelectedBubbleId] = useState<number | null>(null);\n  const [mode, setMode] = useState<EditorMode>('layout');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [newBubbleType, setNewBubbleType] = useState<BubbleType>('oval');\n  const [showTemplates, setShowTemplates] = useState(false);\n  const [lastSaved, setLastSaved] = useState<Date | null>(null);\n\n  // Issue state\n  const [issues, setIssues] = useState<ComicIssueListItem[]>([]);\n  const [selectedIssueId, setSelectedIssueId] = useState<number | null>(null);\n  const [showIssueDropdown, setShowIssueDropdown] = useState(false);\n  const [creatingIssue, setCreatingIssue] = useState(false);\n  const [editingIssueId, setEditingIssueId] = useState<number | null>(null);\n  const [editingIssueTitle, setEditingIssueTitle] = useState('');\n\n  const canvasRef = useRef<HTMLDivElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const lineEditorRef = useRef<LineBasedEditorRef>(null);\n\n  // Sync refs to prevent race conditions during save/reload\n  const isReloadingRef = useRef(false);\n  const lastPageIdRef = useRef<number | null>(null);\n\n  // Guard to prevent duplicate initial load (React StrictMode runs effects twice)\n  const isInitialLoadRunningRef = useRef(false);\n  const hasInitializedRef = useRef(false);\n\n  // Canvas dimension tracking for pixel-based positioning\n  const [canvasDimensions, setCanvasDimensions] = useState({ width: 0, height: 0 });\n\n  // Track available space for responsive canvas sizing\n  const canvasContainerRef = useRef<HTMLDivElement>(null);\n  const [availableCanvasSpace, setAvailableCanvasSpace] = useState({ width: 800, height: 700 });\n\n  // Stable canvas size for bubble positioning - prevents drift on re-renders\n  // This is updated from LineBasedEditor and persists across renders\n  const [stableCanvasSize, setStableCanvasSize] = useState({ width: 550, height: 712 });\n\n  // Smart alignment guides state\n  const [guides, setGuides] = useState<{\n    vertical: number[];\n    horizontal: number[];\n  }>({ vertical: [], horizontal: [] });\n\n  // Track which panel is being dragged\n  const [draggingPanelId, setDraggingPanelId] = useState<number | null>(null);\n\n  // Permissions - creator always has full access\n  const collaborators = project.collaborators || [];\n  const currentUserRole = collaborators.find((c) => c.user === currentUser.id);\n  const creatorId = typeof project.created_by === 'object'\n    ? (project.created_by as any)?.id\n    : project.created_by;\n  const isCreator = creatorId === currentUser.id;\n  const canEditPanels = isCreator ||\n    currentUserRole?.can_edit?.includes('image') ||\n    currentUserRole?.can_edit_images === true;\n  const canEditText = isCreator ||\n    currentUserRole?.can_edit?.includes('text') ||\n    currentUserRole?.can_edit_text === true;\n\n  // Current page data\n  const currentPage = pages[selectedPageIndex];\n\n  // Load issues and pages on mount\n  useEffect(() => {\n    // Guard against React StrictMode double-invocation\n    if (hasInitializedRef.current || isInitialLoadRunningRef.current) {\n      return;\n    }\n    loadIssuesAndPages();\n  }, [project.id]);\n\n  const loadIssuesAndPages = async () => {\n    // Prevent concurrent calls (React StrictMode protection)\n    if (isInitialLoadRunningRef.current) {\n      console.log('[INIT] Skipping duplicate loadIssuesAndPages call');\n      return;\n    }\n    isInitialLoadRunningRef.current = true;\n\n    setLoading(true);\n    setError('');\n    try {\n      // Load issues for this project\n      const loadedIssues = await collaborationApi.getComicIssues({ project: project.id });\n      setIssues(loadedIssues);\n\n      if (loadedIssues.length > 0) {\n        // Select first issue by default\n        const firstIssueId = loadedIssues[0].id;\n        setSelectedIssueId(firstIssueId);\n        // Load pages for the first issue\n        await loadPagesForIssue(firstIssueId);\n      } else {\n        // No issues yet - create first issue automatically\n        const newIssue = await collaborationApi.createComicIssue({\n          project: project.id,\n          title: 'Issue #1',\n          issue_number: 1,\n        });\n        setIssues([{ ...newIssue, page_count: 1 }]);\n        setSelectedIssueId(newIssue.id);\n        // Create first page for this issue (only send issue, not project)\n        const newPage = await collaborationApi.createComicPage({\n          issue: newIssue.id,\n        });\n        setPages([{ ...newPage, panels: newPage.panels || [] }]);\n      }\n      hasInitializedRef.current = true;\n    } catch (err: any) {\n      setError(err.message || 'Failed to load comic');\n      // Fallback: try loading pages directly from project (backwards compat)\n      await loadPages();\n    } finally {\n      setLoading(false);\n      isInitialLoadRunningRef.current = false;\n    }\n  };\n\n  const loadPagesForIssue = async (issueId: number) => {\n    try {\n      const loadedPages = await collaborationApi.getComicIssuePages(issueId);\n      const normalizedPages = (loadedPages || []).map((page) => ({\n        ...page,\n        panels: page.panels || [],\n      }));\n      setPages(normalizedPages);\n      setSelectedPageIndex(0);\n      setSelectedPanelId(null);\n      setSelectedComputedPanelId(null);\n      setSelectedBubbleId(null);\n      // Update the page count in issues state to match actual loaded pages\n      updateIssuePageCount(issueId, normalizedPages.length);\n      if (normalizedPages.length === 0) {\n        // Create first page for this issue (only send issue, not project)\n        const newPage = await collaborationApi.createComicPage({\n          issue: issueId,\n        });\n        setPages([{ ...newPage, panels: newPage.panels || [] }]);\n        updateIssuePageCount(issueId, 1);\n      }\n    } catch (err: any) {\n      console.error('Failed to load pages for issue:', err);\n      setError(err.message || 'Failed to load pages');\n    }\n  };\n\n  // Handle issue selection\n  const handleSelectIssue = async (issueId: number) => {\n    if (issueId === selectedIssueId) {\n      setShowIssueDropdown(false);\n      return;\n    }\n    setSelectedIssueId(issueId);\n    setShowIssueDropdown(false);\n    setSelectedPanelId(null);\n    setSelectedComputedPanelId(null);\n    setSelectedBubbleId(null);\n    setLoading(true);\n    try {\n      await loadPagesForIssue(issueId);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Create new issue\n  const handleCreateIssue = async () => {\n    if (!canEditPanels || creatingIssue) return;\n    setCreatingIssue(true);\n    try {\n      const nextIssueNumber = issues.length + 1;\n      const newIssue = await collaborationApi.createComicIssue({\n        project: project.id,\n        title: `Issue #${nextIssueNumber}`,\n        issue_number: nextIssueNumber,\n      });\n      // Add new issue to list with page_count of 1 (we'll create first page)\n      const newIssueWithCount = { ...newIssue, page_count: 1 };\n      setIssues([...issues, newIssueWithCount]);\n      // Switch to the new issue\n      setSelectedIssueId(newIssue.id);\n      setShowIssueDropdown(false);\n      // Clear old pages and create first page for this new issue\n      setPages([]);\n      setSelectedPageIndex(0);\n      setSelectedPanelId(null);\n      setSelectedComputedPanelId(null);\n      setSelectedBubbleId(null);\n      // Create first blank page for the new issue (only send issue, not project)\n      const newPage = await collaborationApi.createComicPage({\n        issue: newIssue.id,\n      });\n      setPages([{ ...newPage, panels: newPage.panels || [] }]);\n    } catch (err: any) {\n      setError(err.message || 'Failed to create issue');\n    } finally {\n      setCreatingIssue(false);\n    }\n  };\n\n  // Start editing an issue title\n  const handleStartEditIssue = (issue: ComicIssueListItem) => {\n    setEditingIssueId(issue.id);\n    setEditingIssueTitle(issue.title);\n  };\n\n  // Save issue title\n  const handleSaveIssueTitle = async () => {\n    if (!editingIssueId || !editingIssueTitle.trim()) {\n      setEditingIssueId(null);\n      return;\n    }\n    try {\n      await collaborationApi.updateComicIssue(editingIssueId, { title: editingIssueTitle.trim() });\n      // Update local state\n      setIssues(issues.map(issue =>\n        issue.id === editingIssueId\n          ? { ...issue, title: editingIssueTitle.trim() }\n          : issue\n      ));\n    } catch (err: any) {\n      setError(err.message || 'Failed to update issue title');\n    } finally {\n      setEditingIssueId(null);\n    }\n  };\n\n  // Update page count for an issue in local state\n  const updateIssuePageCount = (issueId: number, pageCount: number) => {\n    setIssues(prevIssues => prevIssues.map(issue =>\n      issue.id === issueId\n        ? { ...issue, page_count: pageCount }\n        : issue\n    ));\n  };\n\n  // Get current issue\n  const currentIssue = issues.find((i) => i.id === selectedIssueId);\n\n  // Track canvas dimensions with ResizeObserver for accurate pixel positioning\n  // Use debouncing to prevent rapid updates that cause panel instability\n  const canvasDimensionsRef = useRef(canvasDimensions);\n  canvasDimensionsRef.current = canvasDimensions;\n\n  useEffect(() => {\n    let timeoutId: NodeJS.Timeout | null = null;\n\n    const updateDimensions = () => {\n      if (canvasRef.current) {\n        const rect = canvasRef.current.getBoundingClientRect();\n        const newWidth = rect.width;\n        const newHeight = rect.height;\n\n        // Only update if dimensions actually changed significantly (>2px)\n        // This prevents micro-updates from causing panel position jumps\n        const widthDiff = Math.abs(newWidth - canvasDimensionsRef.current.width);\n        const heightDiff = Math.abs(newHeight - canvasDimensionsRef.current.height);\n\n        if (canvasDimensionsRef.current.width === 0 || widthDiff > 2 || heightDiff > 2) {\n          setCanvasDimensions({ width: newWidth, height: newHeight });\n        }\n      }\n    };\n\n    const debouncedUpdate = () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      timeoutId = setTimeout(updateDimensions, 100);\n    };\n\n    // Initial update immediately\n    updateDimensions();\n\n    const resizeObserver = new ResizeObserver(debouncedUpdate);\n    if (canvasRef.current) {\n      resizeObserver.observe(canvasRef.current);\n    }\n\n    window.addEventListener('resize', debouncedUpdate);\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      resizeObserver.disconnect();\n      window.removeEventListener('resize', debouncedUpdate);\n    };\n  }, []);\n\n  // Track canvas container size for responsive canvas sizing\n  useEffect(() => {\n    const updateAvailableSpace = () => {\n      if (canvasContainerRef.current) {\n        const rect = canvasContainerRef.current.getBoundingClientRect();\n        // Leave some padding (32px total for padding inside container)\n        const availableWidth = Math.max(400, rect.width - 32);\n        const availableHeight = Math.max(400, rect.height - 40); // Minimal reserved space for cleaner look\n        setAvailableCanvasSpace({ width: availableWidth, height: availableHeight });\n      }\n    };\n\n    // Initial update\n    updateAvailableSpace();\n\n    // Watch for resize\n    const resizeObserver = new ResizeObserver(updateAvailableSpace);\n    if (canvasContainerRef.current) {\n      resizeObserver.observe(canvasContainerRef.current);\n    }\n\n    window.addEventListener('resize', updateAvailableSpace);\n    return () => {\n      resizeObserver.disconnect();\n      window.removeEventListener('resize', updateAvailableSpace);\n    };\n  }, []);\n\n  // Update stable canvas size when LineBasedEditor reports dimensions\n  // This runs periodically to catch dimension changes and ensures bubble positions stay consistent\n  useEffect(() => {\n    const updateStableSize = () => {\n      const size = lineEditorRef.current?.getCanvasSize();\n      if (size && size.width > 0 && size.height > 0) {\n        // Only update if dimensions actually changed to avoid unnecessary re-renders\n        setStableCanvasSize(prev => {\n          if (Math.abs(prev.width - size.width) > 1 || Math.abs(prev.height - size.height) > 1) {\n            return { width: size.width, height: size.height };\n          }\n          return prev;\n        });\n      }\n    };\n\n    // Update immediately and then periodically\n    updateStableSize();\n    const intervalId = setInterval(updateStableSize, 500);\n\n    return () => clearInterval(intervalId);\n  }, [currentPage?.id, availableCanvasSpace]); // Re-run when page or available space changes\n\n  // Keyboard shortcut for deleting selected bubble\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Only handle Delete/Backspace when a bubble is selected\n      if (!selectedBubbleId || !canEditText || mode !== 'text') return;\n\n      // Don't delete if user is typing in an input/textarea\n      const target = e.target as HTMLElement;\n      if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') return;\n\n      if (e.key === 'Delete' || e.key === 'Backspace') {\n        e.preventDefault();\n        handleDeleteBubble(selectedBubbleId);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedBubbleId, canEditText, mode]);\n\n  const loadPages = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const loadedPages = await collaborationApi.getComicPages(project.id);\n      // Ensure all pages have panels array (normalize data)\n      const normalizedPages = (loadedPages || []).map((page) => ({\n        ...page,\n        panels: page.panels || [],\n      }));\n      setPages(normalizedPages);\n      if (normalizedPages.length === 0) {\n        // Create first page automatically\n        const newPage = await collaborationApi.createComicPage({ project: project.id });\n        setPages([{ ...newPage, panels: newPage.panels || [] }]);\n      }\n    } catch (err: any) {\n      setError(err.message || 'Failed to load pages');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Page management\n  const handleAddPage = async () => {\n    if (!canEditPanels) return;\n    setSaving(true);\n    try {\n      // When issue is selected, page belongs to issue (not directly to project)\n      const pageData: { project?: number; issue?: number } = selectedIssueId\n        ? { issue: selectedIssueId }\n        : { project: project.id };\n      const newPage = await collaborationApi.createComicPage(pageData);\n      const newPages = [...pages, newPage];\n      setPages(newPages);\n      setSelectedPageIndex(pages.length);\n      // Update page count in issues state\n      if (selectedIssueId) {\n        updateIssuePageCount(selectedIssueId, newPages.length);\n      }\n    } catch (err: any) {\n      setError(err.message || 'Failed to add page');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeletePage = async () => {\n    if (!canEditPanels || !currentPage || pages.length <= 1) return;\n    if (!confirm('Delete this page? This cannot be undone.')) return;\n\n    setSaving(true);\n    try {\n      await collaborationApi.deleteComicPage(currentPage.id);\n      const newPages = pages.filter((_, i) => i !== selectedPageIndex);\n      setPages(newPages);\n      setSelectedPageIndex(Math.max(0, selectedPageIndex - 1));\n      // Update page count in issues state\n      if (selectedIssueId) {\n        updateIssuePageCount(selectedIssueId, newPages.length);\n      }\n    } catch (err: any) {\n      setError(err.message || 'Failed to delete page');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Manual save - all changes are auto-saved, but this provides user feedback\n  const handleSave = async () => {\n    // Changes are already saved automatically, but this gives user confidence\n    // by refreshing the data from server\n    console.log('[SAVE] Starting save, setting isReloadingRef=true');\n    setSaving(true);\n    // IMPORTANT: Set reload flag to prevent artwork map rebuild with stale data\n    isReloadingRef.current = true;\n    try {\n      // Load pages for the current issue, not the project\n      if (selectedIssueId) {\n        await loadPagesForIssue(selectedIssueId);\n      } else {\n        await loadPages();\n      }\n      console.log('[SAVE] Pages reloaded successfully');\n      setLastSaved(new Date());\n      setError('');\n    } catch (err: any) {\n      console.log('[SAVE] Error during save:', err);\n      setError(err.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n      // Allow state to settle before re-enabling artwork map updates\n      // This gives computedPanels time to sync with the new page data\n      setTimeout(() => {\n        console.log('[SAVE] Clearing isReloadingRef after 100ms');\n        isReloadingRef.current = false;\n      }, 100);\n    }\n  };\n\n  // Panel management with smart placement\n  const handleAddPanel = async () => {\n    if (!canEditPanels || !currentPage) return;\n\n    // Smart placement: find best empty spot\n    let x = 5, y = 5, width = 45, height = 40;\n\n    if (currentPage.panels.length > 0) {\n      const gaps = findGaps(currentPage.panels);\n      if (gaps.length > 0) {\n        const gap = gaps[0];\n        // Size panel to 80% of gap with some margin\n        x = gap.x + gap.width * 0.1;\n        y = gap.y + gap.height * 0.1;\n        width = Math.min(gap.width * 0.8, 90);\n        height = Math.min(gap.height * 0.8, 90);\n\n        // Ensure minimum size\n        width = Math.max(width, 20);\n        height = Math.max(height, 20);\n      }\n    }\n\n    setSaving(true);\n    try {\n      const newPanel = await collaborationApi.createComicPanel({\n        page: currentPage.id,\n        x_percent: x,\n        y_percent: y,\n        width_percent: width,\n        height_percent: height,\n      });\n      // Update local state\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        panels: [...currentPage.panels, newPanel],\n      };\n      setPages(updatedPages);\n      setSelectedPanelId(newPanel.id);\n    } catch (err: any) {\n      setError(err.message || 'Failed to add panel');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Fill gap with a new panel - works best with non-skewed rectangular panels\n  const handleFillGap = async () => {\n    if (!canEditPanels || !currentPage) return;\n\n    // Check if any panels have significant skew - warn user\n    const hasSkewedPanels = currentPage.panels.some(\n      (p) => Math.abs(p.skew_x || 0) > 5 || Math.abs(p.skew_y || 0) > 5 || Math.abs(p.rotation || 0) > 5\n    );\n\n    if (hasSkewedPanels) {\n      const proceed = confirm(\n        'This page has skewed or rotated panels. Fill Gap works best with rectangular panels. Continue anyway?'\n      );\n      if (!proceed) return;\n    }\n\n    const gaps = findGaps(currentPage.panels);\n    if (gaps.length === 0) {\n      setError('No significant gaps detected. Try using Add Panel instead.');\n      return;\n    }\n\n    const largestGap = gaps[0];\n\n    // For skewed pages, don't apply skew to new panel - let user adjust manually\n    setSaving(true);\n    try {\n      const newPanel = await collaborationApi.createComicPanel({\n        page: currentPage.id,\n        x_percent: largestGap.x,\n        y_percent: largestGap.y,\n        width_percent: largestGap.width,\n        height_percent: largestGap.height,\n      });\n\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        panels: [...currentPage.panels, newPanel],\n      };\n      setPages(updatedPages);\n      setSelectedPanelId(newPanel.id);\n    } catch (err: any) {\n      setError(err.message || 'Failed to fill gap');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Apply a panel template to the current page\n  const applyTemplate = async (template: PanelTemplate) => {\n    if (!canEditPanels || !currentPage) return;\n\n    // Confirm if page has existing panels\n    if (currentPage.panels.length > 0) {\n      if (!confirm('Replace existing panels with template?')) return;\n\n      // Delete existing panels\n      setSaving(true);\n      try {\n        for (const panel of currentPage.panels) {\n          await collaborationApi.deleteComicPanel(panel.id);\n        }\n      } catch (err: any) {\n        setError(err.message || 'Failed to clear existing panels');\n        setSaving(false);\n        return;\n      }\n    }\n\n    // Create panels from template\n    setSaving(true);\n    try {\n      const newPanels: ComicPanel[] = [];\n      for (const p of template.panels) {\n        const newPanel = await collaborationApi.createComicPanel({\n          page: currentPage.id,\n          x_percent: p.x,\n          y_percent: p.y,\n          width_percent: p.w,\n          height_percent: p.h,\n          skew_x: p.skewX || 0,\n          skew_y: p.skewY || 0,\n        });\n        newPanels.push(newPanel);\n      }\n\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        panels: newPanels,\n      };\n      setPages(updatedPages);\n      setShowTemplates(false);\n      setSelectedPanelId(null);\n      setSelectedComputedPanelId(null);\n    } catch (err: any) {\n      setError(err.message || 'Failed to apply template');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeletePanel = async (panelId: number) => {\n    if (!canEditPanels || !currentPage) return;\n    if (!confirm('Delete this panel?')) return;\n\n    setSaving(true);\n    try {\n      await collaborationApi.deleteComicPanel(panelId);\n      // Update local state\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        panels: currentPage.panels.filter((p) => p.id !== panelId),\n      };\n      setPages(updatedPages);\n      setSelectedPanelId(null);\n      setSelectedComputedPanelId(null);\n    } catch (err: any) {\n      setError(err.message || 'Failed to delete panel');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // ============ LINE-BASED EDITOR HANDLERS ============\n\n  // Convert API DividerLine to component DividerLineData\n  const toDividerLineData = (line: DividerLine): DividerLineData => ({\n    id: line.id,\n    line_type: line.line_type as 'straight' | 'bezier',\n    start_x: line.start_x,\n    start_y: line.start_y,\n    end_x: line.end_x,\n    end_y: line.end_y,\n    control1_x: line.control1_x ?? undefined,\n    control1_y: line.control1_y ?? undefined,\n    control2_x: line.control2_x ?? undefined,\n    control2_y: line.control2_y ?? undefined,\n    thickness: line.thickness ?? undefined,\n    color: line.color ?? undefined,\n  });\n\n  // Get divider lines for current page as DividerLineData[]\n  const currentDividerLines: DividerLineData[] = useMemo(() => {\n    if (!currentPage?.divider_lines) return [];\n    return currentPage.divider_lines.map(toDividerLineData);\n  }, [currentPage?.divider_lines]);\n\n  // Helper to round coordinate values to 4 decimal places (matches backend precision)\n  const roundCoord = (val: number | undefined): number | undefined => {\n    if (val === undefined) return undefined;\n    return Math.round(val * 10000) / 10000;\n  };\n\n  // Create a new divider line\n  const handleLineCreate = async (lineData: Omit<DividerLineData, 'id'>) => {\n    if (!canEditPanels || !currentPage) return;\n\n    setSaving(true);\n    try {\n      const newLine = await collaborationApi.createDividerLine({\n        page: currentPage.id,\n        line_type: lineData.line_type,\n        start_x: roundCoord(lineData.start_x)!,\n        start_y: roundCoord(lineData.start_y)!,\n        end_x: roundCoord(lineData.end_x)!,\n        end_y: roundCoord(lineData.end_y)!,\n        control1_x: roundCoord(lineData.control1_x),\n        control1_y: roundCoord(lineData.control1_y),\n        control2_x: roundCoord(lineData.control2_x),\n        control2_y: roundCoord(lineData.control2_y),\n        thickness: lineData.thickness,\n        color: lineData.color,\n      });\n\n      // Update local state\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        divider_lines: [...(currentPage.divider_lines || []), newLine],\n      };\n      setPages(updatedPages);\n    } catch (err: any) {\n      setError(err.message || 'Failed to create line');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Update an existing divider line\n  const handleLineUpdate = async (lineId: number, updates: Partial<DividerLineData>) => {\n    if (!canEditPanels || !currentPage) return;\n\n    try {\n      // Round coordinate values before sending\n      const roundedUpdates: Partial<DividerLineData> = { ...updates };\n      if (roundedUpdates.start_x !== undefined) roundedUpdates.start_x = roundCoord(roundedUpdates.start_x)!;\n      if (roundedUpdates.start_y !== undefined) roundedUpdates.start_y = roundCoord(roundedUpdates.start_y)!;\n      if (roundedUpdates.end_x !== undefined) roundedUpdates.end_x = roundCoord(roundedUpdates.end_x)!;\n      if (roundedUpdates.end_y !== undefined) roundedUpdates.end_y = roundCoord(roundedUpdates.end_y)!;\n      if (roundedUpdates.control1_x !== undefined) roundedUpdates.control1_x = roundCoord(roundedUpdates.control1_x);\n      if (roundedUpdates.control1_y !== undefined) roundedUpdates.control1_y = roundCoord(roundedUpdates.control1_y);\n      if (roundedUpdates.control2_x !== undefined) roundedUpdates.control2_x = roundCoord(roundedUpdates.control2_x);\n      if (roundedUpdates.control2_y !== undefined) roundedUpdates.control2_y = roundCoord(roundedUpdates.control2_y);\n\n      const updatedLine = await collaborationApi.updateDividerLine(lineId, roundedUpdates);\n\n      // Update local state\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        divider_lines: currentPage.divider_lines.map((l) =>\n          l.id === lineId ? updatedLine : l\n        ),\n      };\n      setPages(updatedPages);\n    } catch (err: any) {\n      setError(err.message || 'Failed to update line');\n    }\n  };\n\n  // Delete a divider line\n  const handleLineDelete = async (lineId: number) => {\n    if (!canEditPanels || !currentPage) return;\n\n    try {\n      await collaborationApi.deleteDividerLine(lineId);\n\n      // Update local state\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        divider_lines: currentPage.divider_lines.filter((l) => l.id !== lineId),\n      };\n      setPages(updatedPages);\n    } catch (err: any) {\n      setError(err.message || 'Failed to delete line');\n    }\n  };\n\n  // Apply a line template\n  const handleApplyLineTemplate = async (template: LineTemplate) => {\n    if (!canEditPanels || !currentPage) return;\n\n    setSaving(true);\n    try {\n      // Delete existing lines\n      for (const line of currentPage.divider_lines || []) {\n        await collaborationApi.deleteDividerLine(line.id);\n      }\n\n      // Create new lines from template\n      if (template.lines.length > 0) {\n        const result = await collaborationApi.batchCreateDividerLines(\n          currentPage.id,\n          template.lines.map((l) => ({\n            line_type: l.line_type,\n            start_x: roundCoord(l.start_x)!,\n            start_y: roundCoord(l.start_y)!,\n            end_x: roundCoord(l.end_x)!,\n            end_y: roundCoord(l.end_y)!,\n            control1_x: roundCoord(l.control1_x),\n            control1_y: roundCoord(l.control1_y),\n            control2_x: roundCoord(l.control2_x),\n            control2_y: roundCoord(l.control2_y),\n          }))\n        );\n\n        // Update local state\n        const updatedPages = [...pages];\n        updatedPages[selectedPageIndex] = {\n          ...currentPage,\n          divider_lines: result.created,\n        };\n        setPages(updatedPages);\n      } else {\n        // Empty template - clear all lines\n        const updatedPages = [...pages];\n        updatedPages[selectedPageIndex] = {\n          ...currentPage,\n          divider_lines: [],\n        };\n        setPages(updatedPages);\n      }\n    } catch (err: any) {\n      setError(err.message || 'Failed to apply template');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Update page orientation\n  const handleOrientationChange = async (orientation: string) => {\n    if (!canEditPanels || !currentPage) return;\n\n    try {\n      await collaborationApi.updateComicPage(currentPage.id, { orientation } as any);\n\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        orientation: orientation as any,\n      };\n      setPages(updatedPages);\n    } catch (err: any) {\n      setError(err.message || 'Failed to update orientation');\n    }\n  };\n\n  // Update gutter mode\n  const handleGutterModeChange = async (gutterMode: boolean) => {\n    if (!canEditPanels || !currentPage) return;\n\n    try {\n      await collaborationApi.updateComicPage(currentPage.id, { gutter_mode: gutterMode } as any);\n\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        gutter_mode: gutterMode,\n      };\n      setPages(updatedPages);\n    } catch (err: any) {\n      setError(err.message || 'Failed to update gutter mode');\n    }\n  };\n\n  // Update gutter width\n  const handleGutterWidthChange = async (width: number) => {\n    if (!canEditPanels || !currentPage) return;\n\n    try {\n      await collaborationApi.updateComicPage(currentPage.id, { default_gutter_width: width } as any);\n\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        default_gutter_width: width,\n      };\n      setPages(updatedPages);\n    } catch (err: any) {\n      setError(err.message || 'Failed to update gutter width');\n    }\n  };\n\n  // Update line color\n  const handleLineColorChange = async (color: string) => {\n    if (!canEditPanels || !currentPage) return;\n\n    try {\n      await collaborationApi.updateComicPage(currentPage.id, { default_line_color: color } as any);\n\n      const updatedPages = [...pages];\n      updatedPages[selectedPageIndex] = {\n        ...currentPage,\n        default_line_color: color,\n      };\n      setPages(updatedPages);\n    } catch (err: any) {\n      setError(err.message || 'Failed to update line color');\n    }\n  };\n\n  // Check if using line-based layout (version 2+)\n  const useLineBasedLayout = currentPage && (currentPage.layout_version ?? 2) >= 2;\n\n  // ============ END LINE-BASED EDITOR HANDLERS ============\n\n  // Snap-to-grid helper (5% increments for clean alignment)\n  const GRID_SIZE = 5;\n  const snapToGrid = (value: number): number => {\n    return Math.round(value / GRID_SIZE) * GRID_SIZE;\n  };\n\n  // Calculate smart alignment guides during drag\n  const calculateGuides = useCallback(\n    (panelId: number, x: number, y: number, width: number, height: number) => {\n      if (!currentPage || canvasDimensions.width === 0) return;\n\n      const SNAP_THRESHOLD = 10; // pixels\n      const newGuides: { vertical: number[]; horizontal: number[] } = {\n        vertical: [],\n        horizontal: [],\n      };\n\n      // Calculate this panel's edges\n      const panelRight = x + width;\n      const panelBottom = y + height;\n      const panelCenterX = x + width / 2;\n      const panelCenterY = y + height / 2;\n\n      currentPage.panels.forEach((other) => {\n        if (other.id === panelId) return;\n\n        // Calculate other panel's position in pixels\n        const otherX = (other.x_percent / 100) * canvasDimensions.width;\n        const otherY = (other.y_percent / 100) * canvasDimensions.height;\n        const otherWidth = (other.width_percent / 100) * canvasDimensions.width;\n        const otherHeight = (other.height_percent / 100) * canvasDimensions.height;\n        const otherRight = otherX + otherWidth;\n        const otherBottom = otherY + otherHeight;\n        const otherCenterX = otherX + otherWidth / 2;\n        const otherCenterY = otherY + otherHeight / 2;\n\n        // Check vertical alignments (left, right, center)\n        if (Math.abs(x - otherX) < SNAP_THRESHOLD) newGuides.vertical.push(otherX);\n        if (Math.abs(x - otherRight) < SNAP_THRESHOLD) newGuides.vertical.push(otherRight);\n        if (Math.abs(panelRight - otherX) < SNAP_THRESHOLD) newGuides.vertical.push(otherX);\n        if (Math.abs(panelRight - otherRight) < SNAP_THRESHOLD) newGuides.vertical.push(otherRight);\n        if (Math.abs(panelCenterX - otherCenterX) < SNAP_THRESHOLD) newGuides.vertical.push(otherCenterX);\n\n        // Check horizontal alignments (top, bottom, center)\n        if (Math.abs(y - otherY) < SNAP_THRESHOLD) newGuides.horizontal.push(otherY);\n        if (Math.abs(y - otherBottom) < SNAP_THRESHOLD) newGuides.horizontal.push(otherBottom);\n        if (Math.abs(panelBottom - otherY) < SNAP_THRESHOLD) newGuides.horizontal.push(otherY);\n        if (Math.abs(panelBottom - otherBottom) < SNAP_THRESHOLD) newGuides.horizontal.push(otherBottom);\n        if (Math.abs(panelCenterY - otherCenterY) < SNAP_THRESHOLD) newGuides.horizontal.push(otherCenterY);\n      });\n\n      // Remove duplicates\n      newGuides.vertical = [...new Set(newGuides.vertical)];\n      newGuides.horizontal = [...new Set(newGuides.horizontal)];\n\n      setGuides(newGuides);\n    },\n    [currentPage, canvasDimensions]\n  );\n\n  // Clear guides when drag ends\n  const clearGuides = useCallback(() => {\n    setGuides({ vertical: [], horizontal: [] });\n    setDraggingPanelId(null);\n  }, []);\n\n  const handlePanelPositionChange = useCallback(\n    async (\n      panelId: number,\n      x: number,\n      y: number,\n      width: number,\n      height: number\n    ) => {\n      if (!canEditPanels || !currentPage) return;\n\n      // Validate inputs are valid numbers to prevent NaN/null being sent to backend\n      if (\n        !Number.isFinite(x) ||\n        !Number.isFinite(y) ||\n        !Number.isFinite(width) ||\n        !Number.isFinite(height)\n      ) {\n        console.warn('Invalid position values, skipping update:', { x, y, width, height });\n        return;\n      }\n\n      // Use tracked dimensions, fallback to getBoundingClientRect\n      const canvasWidth = canvasDimensions.width || canvasRef.current?.getBoundingClientRect().width || 1;\n      const canvasHeight = canvasDimensions.height || canvasRef.current?.getBoundingClientRect().height || 1;\n\n      // Convert to percentages and snap to grid\n      let xPercent = Math.round((x / canvasWidth) * 10000) / 100;\n      let yPercent = Math.round((y / canvasHeight) * 10000) / 100;\n      let widthPercent = Math.round((width / canvasWidth) * 10000) / 100;\n      let heightPercent = Math.round((height / canvasHeight) * 10000) / 100;\n\n      // Apply snap-to-grid\n      xPercent = snapToGrid(xPercent);\n      yPercent = snapToGrid(yPercent);\n      widthPercent = snapToGrid(widthPercent);\n      heightPercent = snapToGrid(heightPercent);\n\n      // Allow off-page positioning like PowerPoint (-50% to 150%)\n      // This enables creative panel layouts that extend beyond the page edge\n      xPercent = Math.max(-50, Math.min(150 - widthPercent, xPercent));\n      yPercent = Math.max(-50, Math.min(150 - heightPercent, yPercent));\n      widthPercent = Math.max(10, Math.min(100, widthPercent)); // minimum 10% width\n      heightPercent = Math.max(10, Math.min(100, heightPercent)); // minimum 10% height\n\n      // Final validation\n      if (\n        !Number.isFinite(xPercent) ||\n        !Number.isFinite(yPercent) ||\n        !Number.isFinite(widthPercent) ||\n        !Number.isFinite(heightPercent)\n      ) {\n        console.warn('Calculated percentages are invalid, skipping update');\n        return;\n      }\n\n      // Update local state immediately for responsiveness\n      const updatedPages = [...pages];\n      const panelIndex = currentPage.panels.findIndex((p) => p.id === panelId);\n      if (panelIndex >= 0) {\n        updatedPages[selectedPageIndex].panels[panelIndex] = {\n          ...currentPage.panels[panelIndex],\n          x_percent: xPercent,\n          y_percent: yPercent,\n          width_percent: widthPercent,\n          height_percent: heightPercent,\n        };\n        setPages(updatedPages);\n      }\n\n      // Clear guides after position change\n      clearGuides();\n\n      // Save to server\n      try {\n        await collaborationApi.updateComicPanel(panelId, {\n          x_percent: xPercent,\n          y_percent: yPercent,\n          width_percent: widthPercent,\n          height_percent: heightPercent,\n        });\n      } catch (err: any) {\n        console.error('Failed to update panel position:', err);\n      }\n    },\n    [pages, selectedPageIndex, currentPage, canEditPanels, canvasDimensions, clearGuides]\n  );\n\n  // Artwork upload\n  const handleArtworkUpload = async (\n    e: React.ChangeEvent<HTMLInputElement>,\n    panelId: number\n  ) => {\n    if (!canEditPanels || !currentPage) return;\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Validate\n    const validTypes = ['image/png', 'image/jpeg', 'image/webp', 'image/gif'];\n    if (!validTypes.includes(file.type)) {\n      setError('Please upload a PNG, JPG, WebP, or GIF image');\n      return;\n    }\n    if (file.size > 50 * 1024 * 1024) {\n      setError('File size must be under 50MB');\n      return;\n    }\n\n    setSaving(true);\n    setError('');\n    try {\n      const updatedPanel = await collaborationApi.uploadPanelArtwork(panelId, file);\n      // Update local state\n      const updatedPages = [...pages];\n      const panelIndex = currentPage.panels.findIndex((p) => p.id === panelId);\n      if (panelIndex >= 0) {\n        updatedPages[selectedPageIndex].panels[panelIndex] = updatedPanel;\n        setPages(updatedPages);\n      }\n    } catch (err: any) {\n      setError(err.message || 'Failed to upload artwork');\n    } finally {\n      setSaving(false);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n\n  // Artwork upload for computed panels (line-based editor)\n  const handleComputedPanelArtworkUpload = async (\n    e: React.ChangeEvent<HTMLInputElement>,\n    computedPanelId: string\n  ) => {\n    if (!canEditPanels || !currentPage) return;\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Validate file\n    const validTypes = ['image/png', 'image/jpeg', 'image/webp', 'image/gif'];\n    if (!validTypes.includes(file.type)) {\n      setError('Please upload a PNG, JPG, WebP, or GIF image');\n      return;\n    }\n    if (file.size > 50 * 1024 * 1024) {\n      setError('File size must be under 50MB');\n      return;\n    }\n\n    // Find the computed panel\n    const computedPanel = computedPanels.find((p) => p.id === computedPanelId);\n    if (!computedPanel) {\n      setError('Panel region not found');\n      return;\n    }\n\n    setSaving(true);\n    setError('');\n    try {\n      // First, check if we already have a ComicPanel for this region (by bounding box overlap)\n      let targetPanel = currentPage.panels.find((p) => {\n        const panelBounds = {\n          x: p.x_percent,\n          y: p.y_percent,\n          width: p.width_percent,\n          height: p.height_percent,\n        };\n        const overlap = calculateBoundsOverlap(computedPanel.bounds, panelBounds);\n        return overlap > 0.3; // 30% IoU threshold\n      });\n\n      if (!targetPanel) {\n        // Create a new ComicPanel for this computed region\n        // Round to 2 decimal places to fit within database constraints (max_digits=5)\n        targetPanel = await collaborationApi.createComicPanel({\n          page: currentPage.id,\n          x_percent: Math.round(computedPanel.bounds.x * 100) / 100,\n          y_percent: Math.round(computedPanel.bounds.y * 100) / 100,\n          width_percent: Math.round(computedPanel.bounds.width * 100) / 100,\n          height_percent: Math.round(computedPanel.bounds.height * 100) / 100,\n          border_style: 'none',\n        });\n\n        // Add to local state\n        const updatedPages = [...pages];\n        updatedPages[selectedPageIndex].panels.push({\n          ...targetPanel,\n          speech_bubbles: [],\n        });\n        setPages(updatedPages);\n      }\n\n      // Upload artwork to the panel\n      const updatedPanel = await collaborationApi.uploadPanelArtwork(targetPanel.id, file);\n\n      // Update local state\n      const updatedPages = [...pages];\n      const panelIndex = updatedPages[selectedPageIndex].panels.findIndex((p) => p.id === targetPanel!.id);\n      if (panelIndex >= 0) {\n        updatedPages[selectedPageIndex].panels[panelIndex] = {\n          ...updatedPanel,\n          speech_bubbles: updatedPages[selectedPageIndex].panels[panelIndex].speech_bubbles,\n        };\n      }\n      setPages(updatedPages);\n\n      // Update artwork map for immediate display\n      const newArtworkMap = new Map(panelArtworkMap);\n      newArtworkMap.set(computedPanelId, updatedPanel.artwork || '');\n      setPanelArtworkMap(newArtworkMap);\n    } catch (err: any) {\n      setError(err.message || 'Failed to upload artwork');\n    } finally {\n      setSaving(false);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n\n  // Sync computed panels with existing artwork when panels change\n  // Helper: Calculate bounding box overlap (IoU - Intersection over Union)\n  const calculateBoundsOverlap = (\n    bounds1: { x: number; y: number; width: number; height: number },\n    bounds2: { x: number; y: number; width: number; height: number }\n  ): number => {\n    const x1 = Math.max(bounds1.x, bounds2.x);\n    const y1 = Math.max(bounds1.y, bounds2.y);\n    const x2 = Math.min(bounds1.x + bounds1.width, bounds2.x + bounds2.width);\n    const y2 = Math.min(bounds1.y + bounds1.height, bounds2.y + bounds2.height);\n\n    if (x2 <= x1 || y2 <= y1) return 0; // No overlap\n\n    const intersection = (x2 - x1) * (y2 - y1);\n    const area1 = bounds1.width * bounds1.height;\n    const area2 = bounds2.width * bounds2.height;\n    const union = area1 + area2 - intersection;\n\n    return union > 0 ? intersection / union : 0;\n  };\n\n  // Just store computed panels - artwork map is rebuilt separately\n  const handlePanelsComputed = useCallback((panels: import('../../utils/regionCalculator').ComputedPanel[]) => {\n    setComputedPanels(panels);\n  }, []);\n\n  // Rebuild artwork map whenever computed panels or page panels change\n  // This ensures the map is always in sync with the data\n  useEffect(() => {\n    // Skip if no page data\n    if (!currentPage) {\n      return;\n    }\n\n    // Track page changes for debugging\n    const pageChanged = lastPageIdRef.current !== currentPage.id;\n    if (pageChanged) {\n      lastPageIdRef.current = currentPage.id;\n    }\n\n    // Check if we're waiting for computed panels\n    const hasLines = (currentPage.divider_lines?.length ?? 0) > 0;\n    const waitingForComputedPanels = hasLines && computedPanels.length === 0;\n\n    console.log('[ARTWORK] useEffect triggered', {\n      currentPageId: currentPage.id,\n      pageChanged,\n      computedPanelsCount: computedPanels.length,\n      panelsWithArtwork: currentPage.panels.filter(p => p.artwork).length,\n      waitingForComputedPanels,\n    });\n\n    // If we have lines but no computed panels yet, set up a retry\n    // This handles the case where page changes before panels are computed\n    if (waitingForComputedPanels) {\n      console.log('[ARTWORK] Waiting for computedPanels, will retry...');\n      const retryTimeout = setTimeout(() => {\n        // Force a re-render to trigger this effect again\n        setPanelArtworkMap(prev => new Map(prev));\n      }, 100);\n      return () => clearTimeout(retryTimeout);\n    }\n\n    const newArtworkMap = new Map<string, string>();\n\n    // For each panel with artwork, find the best matching computed panel\n    for (const panel of currentPage.panels) {\n      if (!panel.artwork) continue;\n\n      // Parse bounds as floats - API returns strings like \"0.00\"\n      const panelBounds = {\n        x: parseFloat(String(panel.x_percent)) || 0,\n        y: parseFloat(String(panel.y_percent)) || 0,\n        width: parseFloat(String(panel.width_percent)) || 0,\n        height: parseFloat(String(panel.height_percent)) || 0,\n      };\n\n      // Find best matching computed panel by IoU (lower threshold 5% for robustness)\n      let bestMatch: { id: string; iou: number } | null = null;\n      for (const computedPanel of computedPanels) {\n        const iou = calculateBoundsOverlap(computedPanel.bounds, panelBounds);\n        if (iou > 0.05 && (!bestMatch || iou > bestMatch.iou)) {\n          bestMatch = { id: computedPanel.id, iou };\n        }\n      }\n\n      if (bestMatch) {\n        newArtworkMap.set(bestMatch.id, panel.artwork);\n        console.log('[ARTWORK] Matched panel', panel.id, 'to computed', bestMatch.id, 'IoU:', bestMatch.iou.toFixed(3));\n      } else {\n        console.log('[ARTWORK] No match for panel', panel.id, 'bounds:', panelBounds);\n      }\n    }\n\n    console.log('[ARTWORK] New map built:', Array.from(newArtworkMap.entries()));\n    setPanelArtworkMap(newArtworkMap);\n  }, [currentPage?.panels, currentPage?.id, currentPage?.divider_lines, computedPanels]);\n\n  // Speech bubble management\n  const handleAddBubble = async (panelId: number) => {\n    if (!canEditText || !currentPage) return;\n    setSaving(true);\n    try {\n      const newBubble = await collaborationApi.createSpeechBubble({\n        panel: panelId,\n        bubble_type: newBubbleType,\n        x_percent: 20,\n        y_percent: 10,\n        width_percent: 40,\n        height_percent: 25,\n        text: 'Enter text...',\n      });\n      // Update local state\n      const updatedPages = [...pages];\n      const panelIndex = currentPage.panels.findIndex((p) => p.id === panelId);\n      if (panelIndex >= 0) {\n        updatedPages[selectedPageIndex].panels[panelIndex].speech_bubbles = [\n          ...currentPage.panels[panelIndex].speech_bubbles,\n          newBubble,\n        ];\n        setPages(updatedPages);\n      }\n      setSelectedBubbleId(newBubble.id);\n    } catch (err: any) {\n      setError(err.message || 'Failed to add speech bubble');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteBubble = async (bubbleId: number) => {\n    if (!canEditText || !currentPage) return;\n\n    setSaving(true);\n    try {\n      await collaborationApi.deleteSpeechBubble(bubbleId);\n      // Update local state\n      const updatedPages = [...pages];\n      const panelIndex = currentPage.panels.findIndex((p) =>\n        p.speech_bubbles.some((b) => b.id === bubbleId)\n      );\n      if (panelIndex >= 0) {\n        updatedPages[selectedPageIndex].panels[panelIndex].speech_bubbles =\n          currentPage.panels[panelIndex].speech_bubbles.filter(\n            (b) => b.id !== bubbleId\n          );\n        setPages(updatedPages);\n      }\n      setSelectedBubbleId(null);\n    } catch (err: any) {\n      setError(err.message || 'Failed to delete bubble');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleBubbleTextChange = useCallback(\n    async (bubbleId: number, text: string) => {\n      if (!canEditText || !currentPage) return;\n\n      // Update local state\n      const updatedPages = [...pages];\n      for (let i = 0; i < currentPage.panels.length; i++) {\n        const bubbleIndex = currentPage.panels[i].speech_bubbles.findIndex(\n          (b) => b.id === bubbleId\n        );\n        if (bubbleIndex >= 0) {\n          updatedPages[selectedPageIndex].panels[i].speech_bubbles[bubbleIndex] = {\n            ...currentPage.panels[i].speech_bubbles[bubbleIndex],\n            text,\n          };\n          setPages(updatedPages);\n          break;\n        }\n      }\n\n      // Save to server\n      try {\n        await collaborationApi.updateSpeechBubble(bubbleId, { text });\n      } catch (err: any) {\n        console.error('Failed to update bubble text:', err);\n      }\n    },\n    [pages, selectedPageIndex, currentPage, canEditText]\n  );\n\n  // Bubble position change handler (for dragging/resizing bubbles)\n  const handleBubblePositionChange = useCallback(\n    async (\n      bubbleId: number,\n      x: number,\n      y: number,\n      width: number,\n      height: number,\n      panelWidth: number,\n      panelHeight: number\n    ) => {\n      if (!canEditText || !currentPage) return;\n\n      // Validate inputs\n      if (\n        !Number.isFinite(x) || !Number.isFinite(y) ||\n        !Number.isFinite(width) || !Number.isFinite(height) ||\n        panelWidth <= 0 || panelHeight <= 0\n      ) {\n        console.warn('Invalid bubble position values');\n        return;\n      }\n\n      // Convert pixels to percentages relative to panel\n      const xPercent = Math.max(0, Math.min(100, Math.round((x / panelWidth) * 10000) / 100));\n      const yPercent = Math.max(0, Math.min(100, Math.round((y / panelHeight) * 10000) / 100));\n      const widthPercent = Math.max(10, Math.min(100, Math.round((width / panelWidth) * 10000) / 100));\n      const heightPercent = Math.max(10, Math.min(100, Math.round((height / panelHeight) * 10000) / 100));\n\n      // Update local state\n      const updatedPages = [...pages];\n      for (let i = 0; i < currentPage.panels.length; i++) {\n        const bubbleIndex = currentPage.panels[i].speech_bubbles.findIndex(\n          (b) => b.id === bubbleId\n        );\n        if (bubbleIndex >= 0) {\n          updatedPages[selectedPageIndex].panels[i].speech_bubbles[bubbleIndex] = {\n            ...currentPage.panels[i].speech_bubbles[bubbleIndex],\n            x_percent: xPercent,\n            y_percent: yPercent,\n            width_percent: widthPercent,\n            height_percent: heightPercent,\n          };\n          setPages(updatedPages);\n          break;\n        }\n      }\n\n      // Save to server\n      try {\n        await collaborationApi.updateSpeechBubble(bubbleId, {\n          x_percent: xPercent,\n          y_percent: yPercent,\n          width_percent: widthPercent,\n          height_percent: heightPercent,\n        });\n      } catch (err: any) {\n        console.error('Failed to update bubble position:', err);\n      }\n    },\n    [pages, selectedPageIndex, currentPage, canEditText]\n  );\n\n  // Canvas-relative bubble move handler (for draggable bubbles)\n  const handleBubbleMove = useCallback(\n    async (bubbleId: number, panelId: number, xPercent: number, yPercent: number) => {\n      if (!canEditText || !currentPage) return;\n\n      // Clamp values to 0-100 and round to 2 decimal places (backend limit)\n      const clampedX = Math.round(Math.max(0, Math.min(100, xPercent)) * 100) / 100;\n      const clampedY = Math.round(Math.max(0, Math.min(100, yPercent)) * 100) / 100;\n\n      console.log('[BUBBLE] Move - bubbleId:', bubbleId, 'new position:', { xPercent: clampedX, yPercent: clampedY });\n\n      // Update local state\n      const updatedPages = [...pages];\n      const panelIdx = currentPage.panels.findIndex(p => p.id === panelId);\n      if (panelIdx >= 0) {\n        const bubbleIdx = currentPage.panels[panelIdx].speech_bubbles.findIndex(b => b.id === bubbleId);\n        if (bubbleIdx >= 0) {\n          updatedPages[selectedPageIndex].panels[panelIdx].speech_bubbles[bubbleIdx] = {\n            ...currentPage.panels[panelIdx].speech_bubbles[bubbleIdx],\n            x_percent: clampedX,\n            y_percent: clampedY,\n          };\n          setPages(updatedPages);\n        }\n      }\n\n      // Save to server\n      try {\n        const response = await collaborationApi.updateSpeechBubble(bubbleId, {\n          x_percent: clampedX,\n          y_percent: clampedY,\n        });\n        console.log('[BUBBLE] Move saved to server:', response);\n      } catch (err: any) {\n        console.error('[BUBBLE] Failed to update bubble position:', err);\n      }\n    },\n    [pages, selectedPageIndex, currentPage, canEditText]\n  );\n\n  // Canvas-relative bubble resize handler\n  const handleBubbleResize = useCallback(\n    async (bubbleId: number, panelId: number, xPercent: number, yPercent: number, widthPercent: number, heightPercent: number) => {\n      if (!canEditText || !currentPage) return;\n\n      // Clamp values and round to 2 decimal places (backend limit)\n      const clampedX = Math.round(Math.max(0, Math.min(100, xPercent)) * 100) / 100;\n      const clampedY = Math.round(Math.max(0, Math.min(100, yPercent)) * 100) / 100;\n      const clampedW = Math.round(Math.max(5, Math.min(100, widthPercent)) * 100) / 100;\n      const clampedH = Math.round(Math.max(5, Math.min(100, heightPercent)) * 100) / 100;\n\n      console.log('[BUBBLE] Resize - bubbleId:', bubbleId, 'new bounds:', { x: clampedX, y: clampedY, w: clampedW, h: clampedH });\n\n      // Update local state\n      const updatedPages = [...pages];\n      const panelIdx = currentPage.panels.findIndex(p => p.id === panelId);\n      if (panelIdx >= 0) {\n        const bubbleIdx = currentPage.panels[panelIdx].speech_bubbles.findIndex(b => b.id === bubbleId);\n        if (bubbleIdx >= 0) {\n          updatedPages[selectedPageIndex].panels[panelIdx].speech_bubbles[bubbleIdx] = {\n            ...currentPage.panels[panelIdx].speech_bubbles[bubbleIdx],\n            x_percent: clampedX,\n            y_percent: clampedY,\n            width_percent: clampedW,\n            height_percent: clampedH,\n          };\n          setPages(updatedPages);\n        }\n      }\n\n      // Save to server\n      try {\n        const response = await collaborationApi.updateSpeechBubble(bubbleId, {\n          x_percent: clampedX,\n          y_percent: clampedY,\n          width_percent: clampedW,\n          height_percent: clampedH,\n        });\n        console.log('[BUBBLE] Resize saved to server:', response);\n      } catch (err: any) {\n        console.error('[BUBBLE] Failed to update bubble size:', err);\n      }\n    },\n    [pages, selectedPageIndex, currentPage, canEditText]\n  );\n\n  // Render loading state\n  if (loading) {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: 400,\n          color: '#64748b',\n        }}\n      >\n        <Loader2 size={24} style={{ animation: 'spin 1s linear infinite' }} />\n        <span style={{ marginLeft: 8 }}>Loading comic editor...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ display: 'flex', gap: 16, height: 'calc(100vh - 140px)', minHeight: 500, padding: '16px 24px' }}>\n      {/* Left Sidebar - Page Navigator */}\n      <div\n        style={{\n          width: 160,\n          minWidth: 160,\n          flexShrink: 0,\n          background: '#1e293b',\n          borderRadius: 12,\n          padding: 12,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 8,\n        }}\n      >\n        {/* Issue Selector */}\n        <div style={{ position: 'relative' }}>\n          <button\n            onClick={() => setShowIssueDropdown(!showIssueDropdown)}\n            style={{\n              width: '100%',\n              background: '#0f172a',\n              border: '1px solid #334155',\n              borderRadius: 6,\n              padding: '8px 10px',\n              color: '#f8fafc',\n              fontSize: 11,\n              fontWeight: 600,\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              gap: 6,\n            }}\n          >\n            <span style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\n              <BookOpen size={14} style={{ color: '#f59e0b' }} />\n              {currentIssue ? currentIssue.title : 'Select Issue'}\n            </span>\n            <ChevronDown size={14} style={{ color: '#64748b' }} />\n          </button>\n\n          {/* Issue Dropdown */}\n          {showIssueDropdown && (\n            <div\n              style={{\n                position: 'absolute',\n                top: '100%',\n                left: 0,\n                right: 0,\n                background: '#0f172a',\n                border: '1px solid #334155',\n                borderRadius: 6,\n                marginTop: 4,\n                zIndex: 100,\n                maxHeight: 250,\n                overflow: 'auto',\n                boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n              }}\n            >\n              {issues.map((issue, index) => (\n                <div\n                  key={issue.id}\n                  style={{\n                    background: issue.id === selectedIssueId ? 'rgba(245, 158, 11, 0.15)' : 'transparent',\n                    borderBottom: '1px solid #1e293b',\n                    padding: '6px 8px',\n                  }}\n                >\n                  {editingIssueId === issue.id ? (\n                    /* Editing mode */\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n                      <input\n                        type=\"text\"\n                        value={editingIssueTitle}\n                        onChange={(e) => setEditingIssueTitle(e.target.value)}\n                        onKeyDown={(e) => {\n                          if (e.key === 'Enter') handleSaveIssueTitle();\n                          if (e.key === 'Escape') setEditingIssueId(null);\n                        }}\n                        autoFocus\n                        style={{\n                          flex: 1,\n                          background: '#1e293b',\n                          border: '1px solid #f59e0b',\n                          borderRadius: 4,\n                          padding: '4px 6px',\n                          color: '#f8fafc',\n                          fontSize: 11,\n                          outline: 'none',\n                        }}\n                      />\n                      <button\n                        onClick={handleSaveIssueTitle}\n                        style={{\n                          background: '#22c55e',\n                          border: 'none',\n                          borderRadius: 4,\n                          padding: 4,\n                          cursor: 'pointer',\n                          display: 'flex',\n                          alignItems: 'center',\n                        }}\n                      >\n                        <Check size={12} color=\"#fff\" />\n                      </button>\n                    </div>\n                  ) : (\n                    /* Display mode */\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n                      <button\n                        onClick={() => handleSelectIssue(issue.id)}\n                        style={{\n                          flex: 1,\n                          background: 'transparent',\n                          border: 'none',\n                          padding: '2px 0',\n                          color: issue.id === selectedIssueId ? '#f59e0b' : '#f8fafc',\n                          fontSize: 11,\n                          cursor: 'pointer',\n                          textAlign: 'left',\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'space-between',\n                        }}\n                      >\n                        <span style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n                          <span style={{ color: '#64748b', fontSize: 10, minWidth: 18 }}>#{issue.issue_number}</span>\n                          <span>{issue.title}</span>\n                        </span>\n                        <span style={{ color: '#64748b', fontSize: 10 }}>{issue.page_count} pg</span>\n                      </button>\n                      {canEditPanels && (\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleStartEditIssue(issue);\n                          }}\n                          style={{\n                            background: 'transparent',\n                            border: 'none',\n                            padding: 4,\n                            cursor: 'pointer',\n                            color: '#64748b',\n                            display: 'flex',\n                            alignItems: 'center',\n                          }}\n                          title=\"Edit issue title\"\n                        >\n                          <Pencil size={12} />\n                        </button>\n                      )}\n                    </div>\n                  )}\n                </div>\n              ))}\n              {canEditPanels && (\n                <button\n                  onClick={handleCreateIssue}\n                  disabled={creatingIssue}\n                  style={{\n                    width: '100%',\n                    background: '#1e293b',\n                    border: 'none',\n                    padding: '8px 10px',\n                    color: '#22c55e',\n                    fontSize: 11,\n                    fontWeight: 600,\n                    cursor: creatingIssue ? 'not-allowed' : 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 6,\n                  }}\n                >\n                  <Plus size={12} />\n                  {creatingIssue ? 'Creating...' : 'New Issue'}\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Pages Header */}\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            paddingBottom: 8,\n            borderBottom: '1px solid #334155',\n          }}\n        >\n          <span style={{ color: '#f8fafc', fontWeight: 600, fontSize: 12 }}>\n            Pages ({pages.length})\n          </span>\n          {canEditPanels && (\n            <button\n              onClick={handleAddPage}\n              disabled={saving}\n              style={{\n                background: '#f59e0b',\n                color: '#000',\n                border: 'none',\n                borderRadius: 4,\n                padding: '4px 8px',\n                fontSize: 11,\n                fontWeight: 600,\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: 4,\n              }}\n            >\n              <Plus size={12} /> Add\n            </button>\n          )}\n        </div>\n\n        <div style={{ flex: 1, overflow: 'auto', display: 'flex', flexDirection: 'column', gap: 6 }}>\n          {(pages || []).map((page, index) => (\n            <div\n              key={page.id}\n              onClick={() => setSelectedPageIndex(index)}\n              style={{\n                background:\n                  selectedPageIndex === index ? 'rgba(245, 158, 11, 0.15)' : '#0f172a',\n                border: `2px solid ${\n                  selectedPageIndex === index ? '#f59e0b' : '#334155'\n                }`,\n                borderRadius: 8,\n                padding: 8,\n                cursor: 'pointer',\n                textAlign: 'center',\n              }}\n            >\n              <div\n                style={{\n                  width: '100%',\n                  aspectRatio: '8.5/11',\n                  background: '#fff',\n                  borderRadius: 4,\n                  marginBottom: 4,\n                  position: 'relative',\n                  overflow: 'hidden',\n                }}\n              >\n                {/* SVG for line-based layouts - shows divider lines AND artwork */}\n                {(page.divider_lines || []).length > 0 ? (\n                  <svg\n                    viewBox=\"0 0 100 100\"\n                    preserveAspectRatio=\"none\"\n                    style={{\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      width: '100%',\n                      height: '100%',\n                    }}\n                  >\n                    {/* For current page, render computed panels with artwork using polygon clipping */}\n                    {selectedPageIndex === index && computedPanels.length > 0 && (\n                      <>\n                        {/* Define clip paths for each computed panel */}\n                        <defs>\n                          {computedPanels.map((panel) => (\n                            <clipPath key={`thumb-clip-${panel.id}`} id={`thumb-clip-${panel.id}`}>\n                              <polygon\n                                points={panel.vertices.map(v => `${v.x},${v.y}`).join(' ')}\n                              />\n                            </clipPath>\n                          ))}\n                        </defs>\n                        {/* Render artwork clipped to panel polygons */}\n                        {computedPanels.map((panel) => {\n                          const artworkUrl = panelArtworkMap.get(panel.id);\n                          if (!artworkUrl) return null;\n                          return (\n                            <image\n                              key={`thumb-art-${panel.id}`}\n                              href={artworkUrl}\n                              x={panel.bounds.x}\n                              y={panel.bounds.y}\n                              width={panel.bounds.width}\n                              height={panel.bounds.height}\n                              preserveAspectRatio=\"xMidYMid slice\"\n                              clipPath={`url(#thumb-clip-${panel.id})`}\n                            />\n                          );\n                        })}\n                      </>\n                    )}\n                    {/* For non-current pages, render panel artwork from database */}\n                    {selectedPageIndex !== index && (page.panels || []).map((panel) => {\n                      if (!panel.artwork) return null;\n                      return (\n                        <image\n                          key={`thumb-panel-${panel.id}`}\n                          href={panel.artwork}\n                          x={panel.x_percent}\n                          y={panel.y_percent}\n                          width={panel.width_percent}\n                          height={panel.height_percent}\n                          preserveAspectRatio=\"xMidYMid slice\"\n                        />\n                      );\n                    })}\n                    {/* Divider lines on top */}\n                    {(page.divider_lines || []).map((line) => (\n                      <line\n                        key={line.id}\n                        x1={line.start_x}\n                        y1={line.start_y}\n                        x2={line.end_x}\n                        y2={line.end_y}\n                        stroke={line.color || page.default_line_color || '#6b7280'}\n                        strokeWidth={Math.max(0.5, (line.thickness || page.default_gutter_width || 2) * 0.3)}\n                        strokeLinecap=\"round\"\n                      />\n                    ))}\n                    {/* Speech bubbles on thumbnails */}\n                    {(page.panels || []).flatMap((panel) =>\n                      (panel.speech_bubbles || []).map((bubble) => (\n                        <g key={`thumb-bubble-${bubble.id}`}>\n                          {bubble.bubble_type === 'narrative' || bubble.bubble_type === 'caption' ? (\n                            <rect\n                              x={Number(bubble.x_percent)}\n                              y={Number(bubble.y_percent)}\n                              width={Number(bubble.width_percent)}\n                              height={Number(bubble.height_percent)}\n                              fill={bubble.background_color || '#fff'}\n                              stroke={bubble.border_color || '#000'}\n                              strokeWidth={0.5}\n                              rx={1}\n                            />\n                          ) : (\n                            <ellipse\n                              cx={Number(bubble.x_percent) + Number(bubble.width_percent) / 2}\n                              cy={Number(bubble.y_percent) + Number(bubble.height_percent) / 2}\n                              rx={Number(bubble.width_percent) / 2}\n                              ry={Number(bubble.height_percent) / 2}\n                              fill={bubble.background_color || '#fff'}\n                              stroke={bubble.border_color || '#000'}\n                              strokeWidth={0.5}\n                            />\n                          )}\n                        </g>\n                      ))\n                    )}\n                  </svg>\n                ) : (\n                  /* Legacy panel-based layout - no divider lines */\n                  (page.panels || []).map((panel) => (\n                    <div\n                      key={panel.id}\n                      style={{\n                        position: 'absolute',\n                        left: `${panel.x_percent}%`,\n                        top: `${panel.y_percent}%`,\n                        width: `${panel.width_percent}%`,\n                        height: `${panel.height_percent}%`,\n                        border: `${Math.max(1, (panel.border_width || 2) / 2)}px solid ${panel.border_color || '#000000'}`,\n                        borderRadius: panel.border_radius || 0,\n                        background: panel.artwork ? `url(${panel.artwork}) center/cover` : (panel.background_color || '#ffffff'),\n                        transform: `rotate(${panel.rotation || 0}deg) skewX(${panel.skew_x || 0}deg) skewY(${panel.skew_y || 0}deg)`,\n                        transformOrigin: 'center center',\n                      }}\n                    />\n                  ))\n                )}\n              </div>\n              <span\n                style={{\n                  color: selectedPageIndex === index ? '#f59e0b' : '#94a3b8',\n                  fontSize: 11,\n                  fontWeight: 600,\n                }}\n              >\n                Page {index + 1}\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Main Canvas Area */}\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: 12 }}>\n        {/* Toolbar */}\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            background: '#1e293b',\n            borderRadius: 8,\n            padding: '8px 12px',\n          }}\n        >\n          <div style={{ display: 'flex', gap: 4 }}>\n            {/* Mode tabs */}\n            {[\n              { mode: 'layout' as EditorMode, icon: Layout, label: 'Layout', enabled: canEditPanels },\n              { mode: 'artwork' as EditorMode, icon: Image, label: 'Artwork', enabled: canEditPanels },\n              { mode: 'text' as EditorMode, icon: Type, label: 'Text', enabled: canEditText },\n            ].map(({ mode: m, icon: Icon, label, enabled }) => (\n              <button\n                key={m}\n                onClick={() => setMode(m)}\n                disabled={!enabled}\n                style={{\n                  background: mode === m ? '#f59e0b' : 'transparent',\n                  color: mode === m ? '#000' : enabled ? '#f8fafc' : '#475569',\n                  border: 'none',\n                  borderRadius: 6,\n                  padding: '6px 12px',\n                  fontSize: 12,\n                  fontWeight: 600,\n                  cursor: enabled ? 'pointer' : 'not-allowed',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 6,\n                  opacity: enabled ? 1 : 0.5,\n                }}\n              >\n                <Icon size={14} /> {label}\n              </button>\n            ))}\n          </div>\n\n          <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\n            {/* Save button with status */}\n            <button\n              onClick={handleSave}\n              disabled={saving}\n              style={{\n                background: saving ? '#475569' : '#10b981',\n                color: '#fff',\n                border: 'none',\n                borderRadius: 6,\n                padding: '6px 12px',\n                fontSize: 12,\n                fontWeight: 600,\n                cursor: saving ? 'not-allowed' : 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: 4,\n                minWidth: 80,\n                justifyContent: 'center',\n              }}\n            >\n              {saving ? (\n                <>\n                  <Loader2 size={14} className=\"animate-spin\" /> Saving...\n                </>\n              ) : (\n                <>\n                  <Save size={14} /> Save\n                </>\n              )}\n            </button>\n            {lastSaved && (\n              <span style={{ color: '#64748b', fontSize: 10 }}>\n                Saved {lastSaved.toLocaleTimeString()}\n              </span>\n            )}\n\n            {/* Page navigation */}\n            <button\n              onClick={() => setSelectedPageIndex(Math.max(0, selectedPageIndex - 1))}\n              disabled={selectedPageIndex === 0}\n              style={{\n                background: 'transparent',\n                border: '1px solid #334155',\n                borderRadius: 4,\n                padding: 4,\n                color: '#f8fafc',\n                cursor: selectedPageIndex === 0 ? 'not-allowed' : 'pointer',\n                opacity: selectedPageIndex === 0 ? 0.5 : 1,\n              }}\n            >\n              <ChevronLeft size={16} />\n            </button>\n            <span style={{ color: '#94a3b8', fontSize: 12 }}>\n              {selectedPageIndex + 1} / {pages.length}\n            </span>\n            <button\n              onClick={() =>\n                setSelectedPageIndex(Math.min(pages.length - 1, selectedPageIndex + 1))\n              }\n              disabled={selectedPageIndex === pages.length - 1}\n              style={{\n                background: 'transparent',\n                border: '1px solid #334155',\n                borderRadius: 4,\n                padding: 4,\n                color: '#f8fafc',\n                cursor: selectedPageIndex === pages.length - 1 ? 'not-allowed' : 'pointer',\n                opacity: selectedPageIndex === pages.length - 1 ? 0.5 : 1,\n              }}\n            >\n              <ChevronRight size={16} />\n            </button>\n\n            {/* Legacy layout mode buttons removed - line-based editor has its own toolbar */}\n\n            {/* Bubble type selector for text mode */}\n            {mode === 'text' && canEditText && selectedPanelId && (\n              <>\n                <select\n                  value={newBubbleType}\n                  onChange={(e) => setNewBubbleType(e.target.value as BubbleType)}\n                  style={{\n                    background: '#0f172a',\n                    border: '1px solid #334155',\n                    borderRadius: 6,\n                    padding: '6px 8px',\n                    color: '#f8fafc',\n                    fontSize: 12,\n                  }}\n                >\n                  {BUBBLE_TYPES.map((bt) => (\n                    <option key={bt.value} value={bt.value}>\n                      {bt.label}\n                    </option>\n                  ))}\n                </select>\n                <button\n                  onClick={() => handleAddBubble(selectedPanelId)}\n                  disabled={saving}\n                  style={{\n                    background: '#3b82f6',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: 6,\n                    padding: '6px 12px',\n                    fontSize: 12,\n                    fontWeight: 600,\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 4,\n                  }}\n                >\n                  <MessageCircle size={14} /> Add Bubble\n                </button>\n              </>\n            )}\n\n            {saving && (\n              <Loader2 size={16} style={{ color: '#f59e0b', animation: 'spin 1s linear infinite' }} />\n            )}\n          </div>\n        </div>\n\n        {/* Error message */}\n        {error && (\n          <div\n            style={{\n              background: 'rgba(239, 68, 68, 0.1)',\n              border: '1px solid #ef4444',\n              color: '#ef4444',\n              padding: 8,\n              borderRadius: 6,\n              fontSize: 12,\n            }}\n          >\n            {error}\n            <button\n              onClick={() => setError('')}\n              style={{\n                marginLeft: 8,\n                background: 'none',\n                border: 'none',\n                color: '#ef4444',\n                cursor: 'pointer',\n              }}\n            >\n              Dismiss\n            </button>\n          </div>\n        )}\n\n        {/* Canvas Container */}\n        <div\n          ref={canvasContainerRef}\n          style={{\n            flex: 1,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: 16,\n            background: '#0f172a',\n            borderRadius: 8,\n            overflow: 'hidden',\n            minWidth: 0, // Allow flex item to shrink below content size\n            minHeight: 0,\n          }}\n        >\n          {/* Line-based editor for v2 pages (all modes) */}\n          {useLineBasedLayout ? (\n            <LineBasedEditor\n              ref={lineEditorRef}\n              lines={currentDividerLines}\n              orientation={currentPage?.orientation || 'portrait'}\n              gutterMode={currentPage?.gutter_mode ?? true}\n              defaultGutterWidth={Number(currentPage?.default_gutter_width) || 2}\n              defaultLineColor={currentPage?.default_line_color || '#6b7280'}\n              onLineCreate={handleLineCreate}\n              onLineUpdate={handleLineUpdate}\n              onLineDelete={handleLineDelete}\n              onApplyTemplate={handleApplyLineTemplate}\n              onOrientationChange={handleOrientationChange}\n              onGutterModeChange={handleGutterModeChange}\n              onGutterWidthChange={handleGutterWidthChange}\n              onLineColorChange={handleLineColorChange}\n              canEdit={canEditPanels && mode === 'layout'}\n              selectedPanelId={selectedComputedPanelId}\n              onPanelSelect={setSelectedComputedPanelId}\n              onPanelsComputed={handlePanelsComputed}\n              showPanelNumbers={mode === 'layout' || mode === 'artwork'}\n              panelArtwork={panelArtworkMap}\n              maxCanvasWidth={availableCanvasSpace.width}\n              maxCanvasHeight={availableCanvasSpace.height}\n            >\n              {/* Speech bubble overlay - rendered inside canvas container */}\n              {/* Bubbles use canvas-relative positioning (x_percent/y_percent are % of canvas) */}\n              {/* Bubbles visible in all modes, but only editable in text mode */}\n              {(() => {\n                // Use stable canvas size for consistent bubble positioning\n                // This prevents position drift when ref is temporarily unavailable\n                const displayWidth = stableCanvasSize.width;\n                const displayHeight = stableCanvasSize.height;\n\n                // Collect all bubbles from all panels\n                const allBubbles = currentPage?.panels.flatMap(panel =>\n                  panel.speech_bubbles?.map(bubble => ({ ...bubble, panelId: panel.id })) || []\n                ) || [];\n\n                return allBubbles.map((bubble) => {\n                  // Position bubble relative to canvas (x_percent/y_percent are 0-100 of canvas)\n                  const bubbleX = (bubble.x_percent / 100) * displayWidth;\n                  const bubbleY = (bubble.y_percent / 100) * displayHeight;\n                  const bubbleW = (bubble.width_percent / 100) * displayWidth;\n                  const bubbleH = (bubble.height_percent / 100) * displayHeight;\n\n                  console.log('[BUBBLE] Render - bubble:', bubble.id, {\n                    stored: { x: bubble.x_percent, y: bubble.y_percent, w: bubble.width_percent, h: bubble.height_percent },\n                    calculated: { x: bubbleX, y: bubbleY, w: bubbleW, h: bubbleH },\n                    canvasSize: { displayWidth, displayHeight },\n                  });\n\n                  return (\n                    <Rnd\n                      key={bubble.id}\n                      position={{ x: bubbleX, y: bubbleY }}\n                      size={{ width: bubbleW, height: bubbleH }}\n                      onDragStop={(_e, d) => {\n                        // Convert pixel position back to percentage\n                        const newXPercent = (d.x / displayWidth) * 100;\n                        const newYPercent = (d.y / displayHeight) * 100;\n                        handleBubbleMove(bubble.id, bubble.panelId, newXPercent, newYPercent);\n                      }}\n                      onResizeStop={(_e, _direction, ref, _delta, position) => {\n                        const newWidth = parseInt(ref.style.width, 10);\n                        const newHeight = parseInt(ref.style.height, 10);\n                        const newXPercent = (position.x / displayWidth) * 100;\n                        const newYPercent = (position.y / displayHeight) * 100;\n                        const newWidthPercent = (newWidth / displayWidth) * 100;\n                        const newHeightPercent = (newHeight / displayHeight) * 100;\n                        handleBubbleResize(bubble.id, bubble.panelId, newXPercent, newYPercent, newWidthPercent, newHeightPercent);\n                      }}\n                      bounds=\"parent\"\n                      enableResizing={mode === 'text' && canEditText && selectedBubbleId === bubble.id}\n                      disableDragging={mode !== 'text' || !canEditText}\n                      style={{\n                        background: bubble.background_color || '#fff',\n                        border: `${bubble.border_width || 2}px solid ${bubble.border_color || '#000'}`,\n                        borderRadius: bubble.bubble_type === 'narrative' || bubble.bubble_type === 'caption' ? 4 : '50%',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        padding: 4,\n                        cursor: mode === 'text' && canEditText ? 'move' : 'default',\n                        boxShadow: mode === 'text' && selectedBubbleId === bubble.id ? '0 0 0 2px #3b82f6' : 'none',\n                        zIndex: 100,\n                        overflow: 'hidden',\n                        pointerEvents: mode === 'text' ? 'auto' : 'none',\n                      }}\n                      onClick={() => mode === 'text' && setSelectedBubbleId(bubble.id)}\n                    >\n                      {mode === 'text' && canEditText && selectedBubbleId === bubble.id ? (\n                        <textarea\n                          value={bubble.text || ''}\n                          onChange={(e) => handleBubbleTextChange(bubble.id, e.target.value)}\n                          style={{\n                            width: '100%',\n                            height: '100%',\n                            border: 'none',\n                            background: 'transparent',\n                            resize: 'none',\n                            textAlign: bubble.text_align as any || 'center',\n                            fontSize: Math.max(10, Math.min(bubbleH * 0.25, 16)),\n                            fontFamily: bubble.font_family || 'Comic Sans MS, cursive',\n                            color: '#000',\n                            outline: 'none',\n                          }}\n                          onClick={(e) => e.stopPropagation()}\n                        />\n                      ) : (\n                        <span\n                          style={{\n                            fontSize: Math.max(10, Math.min(bubbleH * 0.25, 16)),\n                            fontFamily: bubble.font_family || 'Comic Sans MS, cursive',\n                            color: '#000',\n                            textAlign: bubble.text_align as any || 'center',\n                            wordBreak: 'break-word',\n                          }}\n                        >\n                          {bubble.text || 'Enter text...'}\n                        </span>\n                      )}\n                    </Rnd>\n                  );\n                });\n              })()}\n            </LineBasedEditor>\n          ) : (\n            /* Legacy panel-based editor */\n            <div\n              ref={canvasRef}\n              style={{\n                width: '100%',\n                maxWidth: 550,\n                aspectRatio: '8.5 / 11',\n                background: '#fff',\n                borderRadius: 4,\n                position: 'relative',\n                overflow: 'visible',\n                boxShadow: '0 8px 32px rgba(0,0,0,0.4), 0 2px 8px rgba(0,0,0,0.2)',\n                flexShrink: 0,\n                outline: '2px dashed rgba(59, 130, 246, 0.5)',\n                outlineOffset: '-2px',\n              }}\n            >\n              {currentPage?.panels.map((panel) => (\n                <PanelComponent\n                  key={panel.id}\n                  panel={panel}\n                  isSelected={selectedPanelId === panel.id}\n                  isDragging={draggingPanelId === panel.id}\n                  canEdit={canEditPanels}\n                  canEditText={canEditText}\n                  mode={mode}\n                  selectedBubbleId={selectedBubbleId}\n                  canvasWidth={canvasDimensions.width}\n                  canvasHeight={canvasDimensions.height}\n                  onSelect={() => {\n                    setSelectedPanelId(panel.id);\n                    setSelectedBubbleId(null);\n                  }}\n                  onPositionChange={(x, y, w, h) =>\n                    handlePanelPositionChange(panel.id, x, y, w, h)\n                  }\n                  onDragStart={() => setDraggingPanelId(panel.id)}\n                  onDrag={(x, y, w, h) => calculateGuides(panel.id, x, y, w, h)}\n                  onDragEnd={clearGuides}\n                  onDelete={() => handleDeletePanel(panel.id)}\n                  onUploadArtwork={(e) => handleArtworkUpload(e, panel.id)}\n                  onSelectBubble={setSelectedBubbleId}\n                  onBubbleTextChange={handleBubbleTextChange}\n                  onBubblePositionChange={handleBubblePositionChange}\n                  onDeleteBubble={handleDeleteBubble}\n                />\n              ))}\n\n              {/* Smart alignment guides - professional dashed style */}\n              {guides.vertical.map((x, i) => (\n                <div\n                  key={`v-guide-${i}`}\n                  style={{\n                    position: 'absolute',\n                    left: x - 1,\n                    top: 0,\n                    width: 2,\n                    height: '100%',\n                    background: 'linear-gradient(to bottom, #f59e0b 50%, transparent 50%)',\n                    backgroundSize: '2px 8px',\n                    pointerEvents: 'none',\n                    zIndex: 9999,\n                    boxShadow: '0 0 4px rgba(245, 158, 11, 0.5)',\n                  }}\n                />\n              ))}\n              {guides.horizontal.map((y, i) => (\n                <div\n                  key={`h-guide-${i}`}\n                  style={{\n                    position: 'absolute',\n                    left: 0,\n                    top: y - 1,\n                    width: '100%',\n                    height: 2,\n                    background: 'linear-gradient(to right, #f59e0b 50%, transparent 50%)',\n                    backgroundSize: '8px 2px',\n                    pointerEvents: 'none',\n                    zIndex: 9999,\n                    boxShadow: '0 0 4px rgba(245, 158, 11, 0.5)',\n                  }}\n                />\n              ))}\n\n              {/* Empty state for legacy editor */}\n              {currentPage?.panels.length === 0 && (\n                <div\n                  style={{\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                    textAlign: 'center',\n                    color: '#64748b',\n                  }}\n                >\n                  <Layout size={48} style={{ marginBottom: 8, opacity: 0.5 }} />\n                  <p style={{ fontSize: 14, margin: 0 }}>\n                    {canEditPanels\n                      ? 'Click \"Add Panel\" to start creating your comic!'\n                      : 'No panels yet. Waiting for artist to add panels.'}\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Right Sidebar - Panel Properties */}\n      <div\n        style={{\n          width: 200,\n          minWidth: 200,\n          flexShrink: 0,\n          background: '#1e293b',\n          borderRadius: 12,\n          padding: 12,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 12,\n        }}\n      >\n        <span style={{ color: '#f8fafc', fontWeight: 600, fontSize: 12 }}>Properties</span>\n\n        {/* Computed panel selected (line-based editor) */}\n        {useLineBasedLayout && selectedComputedPanelId ? (\n          (() => {\n            const panelIndex = computedPanels?.findIndex(p => p.id === selectedComputedPanelId) ?? -1;\n            const selectedPanel = panelIndex >= 0 ? computedPanels[panelIndex] : null;\n            const hasArtwork = panelArtworkMap?.has(selectedComputedPanelId) ?? false;\n            const displayIndex = panelIndex >= 0 ? panelIndex + 1 : '?';\n\n            return (\n              <>\n                <div style={{\n                  background: '#0f172a',\n                  borderRadius: 8,\n                  padding: 12,\n                  border: '1px solid #334155',\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 8,\n                    marginBottom: 8,\n                  }}>\n                    <div style={{\n                      width: 24,\n                      height: 24,\n                      borderRadius: '50%',\n                      background: '#f59e0b',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: 11,\n                      fontWeight: 700,\n                      color: '#000',\n                    }}>\n                      {displayIndex}\n                    </div>\n                    <span style={{ color: '#f8fafc', fontSize: 13, fontWeight: 600 }}>\n                      Panel {displayIndex}\n                    </span>\n                  </div>\n\n                  {selectedPanel && (\n                    <div style={{ fontSize: 11, color: '#64748b' }}>\n                      Size: {Math.round(selectedPanel.bounds.width)}%  {Math.round(selectedPanel.bounds.height)}%\n                    </div>\n                  )}\n\n                  {hasArtwork && (\n                    <div style={{\n                      marginTop: 8,\n                      fontSize: 11,\n                      color: '#22c55e',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 4,\n                    }}>\n                      <Image size={12} /> Artwork uploaded\n                    </div>\n                  )}\n                </div>\n\n                {/* Artwork upload for computed panels */}\n                {canEditPanels && mode === 'artwork' && (\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n                    <label\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        gap: 8,\n                        background: hasArtwork ? '#334155' : '#22c55e',\n                        color: '#fff',\n                        padding: '10px 12px',\n                        borderRadius: 6,\n                        fontSize: 12,\n                        fontWeight: 600,\n                        cursor: 'pointer',\n                        transition: 'all 0.15s ease',\n                      }}\n                    >\n                      <Upload size={14} /> {hasArtwork ? 'Replace Artwork' : 'Upload Artwork'}\n                      <input\n                        ref={fileInputRef}\n                        type=\"file\"\n                        accept=\"image/png,image/jpeg,image/webp,image/gif\"\n                        onChange={(e) => {\n                          if (selectedComputedPanelId) {\n                            handleComputedPanelArtworkUpload(e, selectedComputedPanelId);\n                          }\n                        }}\n                        style={{ display: 'none' }}\n                      />\n                    </label>\n                  </div>\n                )}\n\n                {mode === 'layout' && (\n                  <p style={{ color: '#64748b', fontSize: 11, margin: 0 }}>\n                    Switch to <strong style={{ color: '#94a3b8' }}>Artwork</strong> mode to upload images.\n                  </p>\n                )}\n\n                {mode === 'text' && canEditText && selectedPanel && (() => {\n                  // Find the ComicPanel associated with this computed panel\n                  const matchingComicPanel = currentPage?.panels.find((p) => {\n                    const panelBounds = {\n                      x: p.x_percent,\n                      y: p.y_percent,\n                      width: p.width_percent,\n                      height: p.height_percent,\n                    };\n                    return calculateBoundsOverlap(selectedPanel.bounds, panelBounds) > 0.3;\n                  });\n\n                  return (\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n                      {/* Bubble type selector */}\n                      <div style={{ display: 'flex', flexDirection: 'column', gap: 4 }}>\n                        <span style={{ color: '#94a3b8', fontSize: 10, fontWeight: 600 }}>\n                          Bubble Type\n                        </span>\n                        <div style={{ display: 'flex', gap: 4, flexWrap: 'wrap' }}>\n                          {(['oval', 'thought', 'shout', 'whisper', 'narrative'] as BubbleType[]).map((type) => (\n                            <button\n                              key={type}\n                              onClick={() => setNewBubbleType(type)}\n                              style={{\n                                padding: '4px 8px',\n                                borderRadius: 4,\n                                fontSize: 10,\n                                fontWeight: 500,\n                                cursor: 'pointer',\n                                border: newBubbleType === type ? '1px solid #3b82f6' : '1px solid #334155',\n                                background: newBubbleType === type ? 'rgba(59, 130, 246, 0.2)' : '#0f172a',\n                                color: newBubbleType === type ? '#3b82f6' : '#94a3b8',\n                                textTransform: 'capitalize',\n                              }}\n                            >\n                              {type}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n\n                      <button\n                        onClick={async () => {\n                          if (!selectedPanel || !currentPage) return;\n                          setSaving(true);\n                          try {\n                            let targetPanel = matchingComicPanel;\n                            if (!targetPanel) {\n                              // Create a ComicPanel to hold the speech bubble\n                              targetPanel = await collaborationApi.createComicPanel({\n                                page: currentPage.id,\n                                x_percent: Math.round(selectedPanel.bounds.x * 100) / 100,\n                                y_percent: Math.round(selectedPanel.bounds.y * 100) / 100,\n                                width_percent: Math.round(selectedPanel.bounds.width * 100) / 100,\n                                height_percent: Math.round(selectedPanel.bounds.height * 100) / 100,\n                                border_style: 'none',\n                              });\n                              // Add to local state\n                              const updatedPages = [...pages];\n                              updatedPages[selectedPageIndex].panels.push({\n                                ...targetPanel,\n                                speech_bubbles: [],\n                              });\n                              setPages(updatedPages);\n                            }\n                            // Now add the speech bubble - positioned at canvas center\n                            // x_percent/y_percent are now canvas-relative (0-100 of canvas)\n                            const newBubble = await collaborationApi.createSpeechBubble({\n                              panel: targetPanel.id,\n                              bubble_type: newBubbleType,\n                              x_percent: 35, // Center-ish on canvas\n                              y_percent: 40,\n                              width_percent: 25, // 25% of canvas width\n                              height_percent: 15, // 15% of canvas height\n                              text: 'Enter text...',\n                            });\n                            // Update local state\n                            const updatedPages = [...pages];\n                            const panelIdx = updatedPages[selectedPageIndex].panels.findIndex(\n                              (p) => p.id === targetPanel!.id\n                            );\n                            if (panelIdx >= 0) {\n                              updatedPages[selectedPageIndex].panels[panelIdx].speech_bubbles = [\n                                ...updatedPages[selectedPageIndex].panels[panelIdx].speech_bubbles,\n                                newBubble,\n                              ];\n                              setPages(updatedPages);\n                            }\n                            setSelectedBubbleId(newBubble.id);\n                          } catch (err: any) {\n                            setError(err.message || 'Failed to add speech bubble');\n                          } finally {\n                            setSaving(false);\n                          }\n                        }}\n                        disabled={saving}\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          gap: 8,\n                          background: '#3b82f6',\n                          color: '#fff',\n                          padding: '10px 12px',\n                          borderRadius: 6,\n                          fontSize: 12,\n                          fontWeight: 600,\n                          cursor: saving ? 'wait' : 'pointer',\n                          border: 'none',\n                        }}\n                      >\n                        <MessageCircle size={14} /> Add Speech Bubble\n                      </button>\n\n                      {/* List existing bubbles */}\n                      {matchingComicPanel?.speech_bubbles && matchingComicPanel.speech_bubbles.length > 0 && (\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: 4 }}>\n                          <span style={{ color: '#94a3b8', fontSize: 10, fontWeight: 600 }}>\n                            Bubbles ({matchingComicPanel.speech_bubbles.length})\n                          </span>\n                          {matchingComicPanel.speech_bubbles.map((bubble, i) => (\n                            <div\n                              key={bubble.id}\n                              onClick={() => setSelectedBubbleId(bubble.id)}\n                              style={{\n                                background: selectedBubbleId === bubble.id ? 'rgba(59, 130, 246, 0.2)' : '#0f172a',\n                                border: `1px solid ${selectedBubbleId === bubble.id ? '#3b82f6' : '#334155'}`,\n                                borderRadius: 4,\n                                padding: 6,\n                                fontSize: 10,\n                                color: '#94a3b8',\n                                cursor: 'pointer',\n                                display: 'flex',\n                                justifyContent: 'space-between',\n                                alignItems: 'center',\n                              }}\n                            >\n                              <span>Bubble {i + 1}</span>\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  handleDeleteBubble(bubble.id);\n                                }}\n                                style={{\n                                  background: 'transparent',\n                                  border: 'none',\n                                  color: '#ef4444',\n                                  cursor: 'pointer',\n                                  padding: 2,\n                                }}\n                              >\n                                <Trash2 size={12} />\n                              </button>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n\n                      <p style={{ color: '#64748b', fontSize: 10, margin: 0 }}>\n                        Bubbles will appear in the page preview. Full visual editing coming soon.\n                      </p>\n                    </div>\n                  );\n                })()}\n              </>\n            );\n          })()\n        ) : selectedPanelId ? (\n          <>\n            <div style={{ color: '#94a3b8', fontSize: 11 }}>\n              Panel #{currentPage?.panels.findIndex((p) => p.id === selectedPanelId)! + 1}\n            </div>\n\n            {/* Panel actions */}\n            {canEditPanels && mode === 'artwork' && (\n              <div>\n                <label\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 8,\n                    background: '#22c55e',\n                    color: '#fff',\n                    padding: '8px 12px',\n                    borderRadius: 6,\n                    fontSize: 12,\n                    fontWeight: 600,\n                    cursor: 'pointer',\n                  }}\n                >\n                  <Upload size={14} /> Upload Artwork\n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\"image/png,image/jpeg,image/webp,image/gif\"\n                    onChange={(e) => handleArtworkUpload(e, selectedPanelId)}\n                    style={{ display: 'none' }}\n                  />\n                </label>\n              </div>\n            )}\n\n            {/* Delete panel */}\n            {canEditPanels && (\n              <button\n                onClick={() => handleDeletePanel(selectedPanelId)}\n                style={{\n                  background: 'rgba(239, 68, 68, 0.1)',\n                  border: '1px solid #ef4444',\n                  color: '#ef4444',\n                  padding: '8px 12px',\n                  borderRadius: 6,\n                  fontSize: 12,\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8,\n                }}\n              >\n                <Trash2 size={14} /> Delete Panel\n              </button>\n            )}\n\n            {/* Panel Styling */}\n            {canEditPanels && mode === 'layout' && (() => {\n              const selectedPanel = currentPage?.panels.find((p) => p.id === selectedPanelId);\n              if (!selectedPanel) return null;\n\n              const updatePanelStyle = async (updates: Partial<typeof selectedPanel>) => {\n                const updatedPages = [...pages];\n                const panelIndex = currentPage?.panels.findIndex((p) => p.id === selectedPanelId);\n                if (panelIndex !== undefined && panelIndex >= 0) {\n                  updatedPages[selectedPageIndex].panels[panelIndex] = {\n                    ...selectedPanel,\n                    ...updates,\n                  };\n                  setPages(updatedPages);\n                  try {\n                    await collaborationApi.updateComicPanel(selectedPanelId, updates as any);\n                  } catch (err) {\n                    console.error('Failed to update panel style:', err);\n                  }\n                }\n              };\n\n              return (\n                <div style={{ display: 'flex', flexDirection: 'column', gap: 12, marginTop: 8 }}>\n                  <span style={{ color: '#f8fafc', fontWeight: 600, fontSize: 11, borderTop: '1px solid #334155', paddingTop: 12 }}>\n                    Panel Styling\n                  </span>\n\n                  {/* Border Width */}\n                  <div>\n                    <label style={{ color: '#94a3b8', fontSize: 10, display: 'block', marginBottom: 4 }}>\n                      Border Width: {selectedPanel.border_width}px\n                    </label>\n                    <input\n                      type=\"range\"\n                      min={0}\n                      max={10}\n                      value={selectedPanel.border_width}\n                      onChange={(e) => updatePanelStyle({ border_width: parseInt(e.target.value) })}\n                      style={{ width: '100%', accentColor: '#f59e0b' }}\n                    />\n                  </div>\n\n                  {/* Border Color */}\n                  <div>\n                    <label style={{ color: '#94a3b8', fontSize: 10, display: 'block', marginBottom: 4 }}>\n                      Border Color\n                    </label>\n                    <div style={{ display: 'flex', gap: 4, flexWrap: 'wrap' }}>\n                      {['#000000', '#1a1a1a', '#374151', '#1e40af', '#dc2626', '#16a34a', '#ca8a04', '#7c3aed'].map((color) => (\n                        <button\n                          key={color}\n                          onClick={() => updatePanelStyle({ border_color: color })}\n                          style={{\n                            width: 24,\n                            height: 24,\n                            borderRadius: 4,\n                            background: color,\n                            border: (selectedPanel.border_color || '#000000') === color\n                              ? '2px solid #f59e0b'\n                              : '2px solid #475569',\n                            cursor: 'pointer',\n                          }}\n                          title={color}\n                        />\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Skew X */}\n                  <div>\n                    <label style={{ color: '#94a3b8', fontSize: 10, display: 'block', marginBottom: 4 }}>\n                      Skew X: {selectedPanel.skew_x ?? 0}\n                    </label>\n                    <input\n                      type=\"range\"\n                      min={-30}\n                      max={30}\n                      value={selectedPanel.skew_x ?? 0}\n                      onChange={(e) => updatePanelStyle({ skew_x: parseInt(e.target.value) })}\n                      style={{ width: '100%', accentColor: '#f59e0b' }}\n                    />\n                  </div>\n\n                  {/* Skew Y */}\n                  <div>\n                    <label style={{ color: '#94a3b8', fontSize: 10, display: 'block', marginBottom: 4 }}>\n                      Skew Y: {selectedPanel.skew_y ?? 0}\n                    </label>\n                    <input\n                      type=\"range\"\n                      min={-30}\n                      max={30}\n                      value={selectedPanel.skew_y ?? 0}\n                      onChange={(e) => updatePanelStyle({ skew_y: parseInt(e.target.value) })}\n                      style={{ width: '100%', accentColor: '#f59e0b' }}\n                    />\n                  </div>\n\n                  {/* Rotation */}\n                  <div>\n                    <label style={{ color: '#94a3b8', fontSize: 10, display: 'block', marginBottom: 4 }}>\n                      Rotation: {selectedPanel.rotation ?? 0}\n                    </label>\n                    <input\n                      type=\"range\"\n                      min={-45}\n                      max={45}\n                      value={selectedPanel.rotation ?? 0}\n                      onChange={(e) => updatePanelStyle({ rotation: parseInt(e.target.value) })}\n                      style={{ width: '100%', accentColor: '#f59e0b' }}\n                    />\n                  </div>\n                </div>\n              );\n            })()}\n\n            {/* Bubble list */}\n            {mode === 'text' && (\n              <div style={{ marginTop: 12 }}>\n                <span style={{ color: '#f8fafc', fontWeight: 600, fontSize: 11 }}>\n                  Speech Bubbles\n                </span>\n                <div style={{ marginTop: 8, display: 'flex', flexDirection: 'column', gap: 4 }}>\n                  {currentPage?.panels\n                    .find((p) => p.id === selectedPanelId)\n                    ?.speech_bubbles.map((bubble, i) => (\n                      <div\n                        key={bubble.id}\n                        onClick={() => setSelectedBubbleId(bubble.id)}\n                        style={{\n                          background:\n                            selectedBubbleId === bubble.id\n                              ? 'rgba(59, 130, 246, 0.2)'\n                              : '#0f172a',\n                          border: `1px solid ${\n                            selectedBubbleId === bubble.id ? '#3b82f6' : '#334155'\n                          }`,\n                          borderRadius: 6,\n                          padding: 8,\n                          cursor: 'pointer',\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center',\n                        }}\n                      >\n                        <span style={{ color: '#f8fafc', fontSize: 11 }}>\n                          {bubble.bubble_type} #{i + 1}\n                        </span>\n                        {canEditText && (\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleDeleteBubble(bubble.id);\n                            }}\n                            style={{\n                              background: 'none',\n                              border: 'none',\n                              color: '#ef4444',\n                              cursor: 'pointer',\n                              padding: 2,\n                            }}\n                          >\n                            <Trash2 size={12} />\n                          </button>\n                        )}\n                      </div>\n                    ))}\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <div style={{ color: '#64748b', fontSize: 11 }}>\n            Select a panel to view properties\n          </div>\n        )}\n\n        {/* Delete page button */}\n        {canEditPanels && pages.length > 1 && (\n          <button\n            onClick={handleDeletePage}\n            style={{\n              marginTop: 'auto',\n              background: 'rgba(239, 68, 68, 0.1)',\n              border: '1px solid #ef4444',\n              color: '#ef4444',\n              padding: '8px 12px',\n              borderRadius: 6,\n              fontSize: 11,\n              fontWeight: 600,\n              cursor: 'pointer',\n            }}\n          >\n            Delete Page\n          </button>\n        )}\n      </div>\n\n      {/* Hidden file input */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/png,image/jpeg,image/webp,image/gif\"\n        style={{ display: 'none' }}\n      />\n\n      {/* Templates Modal */}\n      {showTemplates && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'rgba(0, 0, 0, 0.7)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 10000,\n          }}\n          onClick={() => setShowTemplates(false)}\n        >\n          <div\n            style={{\n              background: '#1e293b',\n              borderRadius: 12,\n              padding: 24,\n              maxWidth: 600,\n              width: '90%',\n              maxHeight: '80vh',\n              overflow: 'auto',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                marginBottom: 20,\n              }}\n            >\n              <h3 style={{ color: '#f8fafc', margin: 0, fontSize: 18, fontWeight: 600 }}>\n                Choose a Layout Template\n              </h3>\n              <button\n                onClick={() => setShowTemplates(false)}\n                style={{\n                  background: 'transparent',\n                  border: 'none',\n                  color: '#94a3b8',\n                  cursor: 'pointer',\n                  padding: 4,\n                }}\n              >\n                <X size={20} />\n              </button>\n            </div>\n\n            <div\n              style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(4, 1fr)',\n                gap: 12,\n              }}\n            >\n              {PANEL_TEMPLATES.map((template) => (\n                <button\n                  key={template.id}\n                  onClick={() => applyTemplate(template)}\n                  disabled={saving}\n                  style={{\n                    background: '#0f172a',\n                    border: '2px solid #334155',\n                    borderRadius: 8,\n                    padding: 12,\n                    cursor: 'pointer',\n                    transition: 'border-color 0.2s, transform 0.2s',\n                  }}\n                  onMouseOver={(e) => {\n                    e.currentTarget.style.borderColor = '#f59e0b';\n                    e.currentTarget.style.transform = 'scale(1.02)';\n                  }}\n                  onMouseOut={(e) => {\n                    e.currentTarget.style.borderColor = '#334155';\n                    e.currentTarget.style.transform = 'scale(1)';\n                  }}\n                >\n                  {/* Template preview */}\n                  <div\n                    style={{\n                      width: '100%',\n                      aspectRatio: '8.5/11',\n                      background: '#fff',\n                      borderRadius: 4,\n                      marginBottom: 8,\n                      position: 'relative',\n                      overflow: 'hidden',\n                    }}\n                  >\n                    {template.panels.map((p, i) => (\n                      <div\n                        key={i}\n                        style={{\n                          position: 'absolute',\n                          left: `${p.x}%`,\n                          top: `${p.y}%`,\n                          width: `${p.w}%`,\n                          height: `${p.h}%`,\n                          border: '1px solid #000',\n                          background: '#f1f5f9',\n                          transform: `skewX(${p.skewX || 0}deg) skewY(${p.skewY || 0}deg)`,\n                          transformOrigin: 'center center',\n                        }}\n                      />\n                    ))}\n                  </div>\n                  <span\n                    style={{\n                      color: '#f8fafc',\n                      fontSize: 11,\n                      fontWeight: 600,\n                    }}\n                  >\n                    {template.name}\n                  </span>\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Panel subcomponent\ninterface PanelComponentProps {\n  panel: ComicPanel;\n  isSelected: boolean;\n  isDragging: boolean;\n  canEdit: boolean;\n  canEditText: boolean;\n  mode: EditorMode;\n  selectedBubbleId: number | null;\n  canvasWidth: number;\n  canvasHeight: number;\n  onSelect: () => void;\n  onPositionChange: (x: number, y: number, width: number, height: number) => void;\n  onDragStart: () => void;\n  onDrag: (x: number, y: number, width: number, height: number) => void;\n  onDragEnd: () => void;\n  onDelete: () => void;\n  onUploadArtwork: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onSelectBubble: (id: number) => void;\n  onBubbleTextChange: (id: number, text: string) => void;\n  onBubblePositionChange: (bubbleId: number, x: number, y: number, width: number, height: number, panelWidth: number, panelHeight: number) => void;\n  onDeleteBubble: (id: number) => void;\n}\n\nfunction PanelComponent({\n  panel,\n  isSelected,\n  isDragging,\n  canEdit,\n  canEditText,\n  mode,\n  selectedBubbleId,\n  canvasWidth,\n  canvasHeight,\n  onSelect,\n  onPositionChange,\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  onDelete,\n  onUploadArtwork,\n  onSelectBubble,\n  onBubbleTextChange,\n  onBubblePositionChange,\n  onDeleteBubble,\n}: PanelComponentProps) {\n  const parentRef = useRef<HTMLDivElement | null>(null);\n\n  // Track panel dimensions for bubble positioning\n  const [panelDimensions, setPanelDimensions] = useState({ width: 0, height: 0 });\n\n  // Store stable canvas dimensions - only update when they actually change significantly\n  const [stableCanvasDimensions, setStableCanvasDimensions] = useState({ width: 0, height: 0 });\n  const stableDimensionsRef = useRef(stableCanvasDimensions);\n  stableDimensionsRef.current = stableCanvasDimensions;\n\n  // Only update stable dimensions when canvas dimensions change significantly (more than 5px)\n  // This prevents micro-adjustments from causing panel jumps\n  useEffect(() => {\n    if (canvasWidth > 0 && canvasHeight > 0) {\n      const current = stableDimensionsRef.current;\n      const widthDiff = Math.abs(canvasWidth - current.width);\n      const heightDiff = Math.abs(canvasHeight - current.height);\n      // Only update if dimensions changed significantly (>5px) or first initialization\n      if (current.width === 0 || widthDiff > 5 || heightDiff > 5) {\n        setStableCanvasDimensions({ width: canvasWidth, height: canvasHeight });\n      }\n    }\n  }, [canvasWidth, canvasHeight]);\n\n  // Use stable dimensions for all calculations (with fallback for initial render)\n  const effectiveCanvasWidth = stableCanvasDimensions.width || canvasWidth || 550;\n  const effectiveCanvasHeight = stableCanvasDimensions.height || canvasHeight || 712;\n\n  const pixelX = (panel.x_percent / 100) * effectiveCanvasWidth;\n  const pixelY = (panel.y_percent / 100) * effectiveCanvasHeight;\n  const pixelWidth = (panel.width_percent / 100) * effectiveCanvasWidth;\n  const pixelHeight = (panel.height_percent / 100) * effectiveCanvasHeight;\n\n  // Update panel dimensions when panel size changes\n  useEffect(() => {\n    if (parentRef.current) {\n      const rect = parentRef.current.getBoundingClientRect();\n      setPanelDimensions({ width: rect.width, height: rect.height });\n    }\n  }, [pixelWidth, pixelHeight]);\n\n  // Grid size for snapping (5% of canvas)\n  const gridX = effectiveCanvasWidth * 0.05;\n  const gridY = effectiveCanvasHeight * 0.05;\n\n  return (\n    <Rnd\n      position={{\n        x: pixelX,\n        y: pixelY,\n      }}\n      size={{\n        width: pixelWidth,\n        height: pixelHeight,\n      }}\n      style={{\n        position: 'absolute',\n        zIndex: panel.z_index + (isSelected ? 100 : 0),\n        transition: isDragging ? 'none' : 'box-shadow 0.2s ease-out',\n      }}\n      // Allow off-page positioning - no bounds constraint\n      dragGrid={[gridX, gridY]}\n      resizeGrid={[gridX, gridY]}\n      minWidth={effectiveCanvasWidth * 0.1}\n      minHeight={effectiveCanvasHeight * 0.1}\n      disableDragging={!canEdit || mode !== 'layout'}\n      enableResizing={canEdit && mode === 'layout'}\n      onDragStart={() => {\n        onDragStart();\n      }}\n      onDrag={(e, d) => {\n        // Calculate width and height for guide calculation\n        onDrag(d.x, d.y, pixelWidth, pixelHeight);\n      }}\n      onDragStop={(e, d) => {\n        onDragEnd();\n        onPositionChange(d.x, d.y, pixelWidth, pixelHeight);\n      }}\n      onResizeStop={(e, direction, ref, delta, position) => {\n        onDragEnd();\n        onPositionChange(position.x, position.y, ref.offsetWidth, ref.offsetHeight);\n      }}\n      onClick={(e: React.MouseEvent) => {\n        e.stopPropagation();\n        onSelect();\n      }}\n    >\n      <div\n        ref={parentRef}\n        style={{\n          width: '100%',\n          height: '100%',\n          border: `${panel.border_width || 2}px ${panel.border_style === 'none' ? 'none' : (panel.border_style || 'solid')} ${panel.border_color || '#000000'}`,\n          borderRadius: panel.border_radius || 0,\n          background: panel.background_color || '#ffffff',\n          position: 'relative',\n          overflow: 'hidden',\n          // Professional shadow styling with colored selection outline\n          boxShadow: isDragging\n            ? '0 25px 50px rgba(0,0,0,0.35), 0 12px 24px rgba(0,0,0,0.25), 0 0 0 3px #f59e0b, inset 0 0 0 1px rgba(255,255,255,0.1)'\n            : isSelected\n              ? '0 4px 12px rgba(0,0,0,0.15), 0 0 0 3px #f59e0b'\n              : '0 2px 8px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08)',\n          cursor: mode === 'layout' && canEdit ? 'move' : 'default',\n          transform: `rotate(${panel.rotation || 0}deg) skewX(${panel.skew_x || 0}deg) skewY(${panel.skew_y || 0}deg)${isDragging ? ' scale(1.02)' : ''}`,\n          transformOrigin: 'center center',\n          transition: isDragging ? 'none' : 'box-shadow 0.25s cubic-bezier(0.4, 0, 0.2, 1), transform 0.25s cubic-bezier(0.4, 0, 0.2, 1)',\n        }}\n      >\n        {/* Artwork */}\n        {panel.artwork && (\n          <img\n            src={panel.artwork}\n            alt=\"\"\n            style={{\n              width: '100%',\n              height: '100%',\n              objectFit: panel.artwork_fit,\n              pointerEvents: 'none',\n            }}\n          />\n        )}\n\n        {/* Upload prompt when no artwork */}\n        {!panel.artwork && mode === 'artwork' && canEdit && (\n          <div\n            style={{\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              textAlign: 'center',\n              color: '#64748b',\n              pointerEvents: 'none',\n            }}\n          >\n            <Upload size={24} style={{ opacity: 0.5 }} />\n            <p style={{ fontSize: 10, margin: '4px 0 0' }}>Upload artwork</p>\n          </div>\n        )}\n\n        {/* Speech bubbles */}\n        {panel.speech_bubbles.map((bubble) => (\n          <BubbleComponent\n            key={bubble.id}\n            bubble={bubble}\n            isSelected={selectedBubbleId === bubble.id}\n            canEdit={canEditText && mode === 'text'}\n            panelWidth={panelDimensions.width}\n            panelHeight={panelDimensions.height}\n            onSelect={() => onSelectBubble(bubble.id)}\n            onTextChange={(text) => onBubbleTextChange(bubble.id, text)}\n            onPositionChange={(x, y, w, h) =>\n              onBubblePositionChange(bubble.id, x, y, w, h, panelDimensions.width, panelDimensions.height)\n            }\n          />\n        ))}\n      </div>\n    </Rnd>\n  );\n}\n\n// Bubble subcomponent\ninterface BubbleComponentProps {\n  bubble: SpeechBubble;\n  isSelected: boolean;\n  canEdit: boolean;\n  panelWidth: number;\n  panelHeight: number;\n  onSelect: () => void;\n  onTextChange: (text: string) => void;\n  onPositionChange: (x: number, y: number, width: number, height: number) => void;\n}\n\nfunction BubbleComponent({\n  bubble,\n  isSelected,\n  canEdit,\n  panelWidth,\n  panelHeight,\n  onSelect,\n  onTextChange,\n  onPositionChange,\n}: BubbleComponentProps) {\n  // Generate bubble shape SVG path\n  const getBubblePath = (w: number, h: number): string => {\n    const cx = w / 2;\n    const cy = h / 2;\n    const rx = w / 2 - 2;\n    const ry = h / 2 - 10;\n\n    switch (bubble.bubble_type) {\n      case 'thought':\n        // Cloud-like bumpy path\n        return `M ${cx} ${h * 0.15}\n          Q ${w * 0.8} ${h * 0.1}, ${w * 0.85} ${h * 0.35}\n          Q ${w * 0.95} ${h * 0.5}, ${w * 0.85} ${h * 0.65}\n          Q ${w * 0.8} ${h * 0.9}, ${cx} ${h * 0.85}\n          Q ${w * 0.2} ${h * 0.9}, ${w * 0.15} ${h * 0.65}\n          Q ${w * 0.05} ${h * 0.5}, ${w * 0.15} ${h * 0.35}\n          Q ${w * 0.2} ${h * 0.1}, ${cx} ${h * 0.15}\n          Z`;\n      case 'shout':\n        // Jagged explosion path\n        const points = 12;\n        let path = '';\n        for (let i = 0; i < points; i++) {\n          const angle = (i / points) * Math.PI * 2;\n          const r = i % 2 === 0 ? Math.min(rx, ry) * 0.7 : Math.min(rx, ry) * 1.0;\n          const x = cx + Math.cos(angle) * r;\n          const y = cy + Math.sin(angle) * r;\n          path += (i === 0 ? 'M' : 'L') + ` ${x} ${y} `;\n        }\n        return path + 'Z';\n      case 'narrative':\n      case 'caption':\n        // Rectangle\n        return `M 2 2 L ${w - 2} 2 L ${w - 2} ${h - 2} L 2 ${h - 2} Z`;\n      case 'whisper':\n      default:\n        // Oval\n        return `M ${cx} ${cy - ry}\n          A ${rx} ${ry} 0 1 1 ${cx} ${cy + ry}\n          A ${rx} ${ry} 0 1 1 ${cx} ${cy - ry}`;\n    }\n  };\n\n  // Convert percentages to pixels for Rnd positioning\n  const hasValidDimensions = panelWidth > 0 && panelHeight > 0;\n  const effectivePanelWidth = hasValidDimensions ? panelWidth : 200;\n  const effectivePanelHeight = hasValidDimensions ? panelHeight : 200;\n\n  const pixelX = (bubble.x_percent / 100) * effectivePanelWidth;\n  const pixelY = (bubble.y_percent / 100) * effectivePanelHeight;\n  const pixelWidth = (bubble.width_percent / 100) * effectivePanelWidth;\n  const pixelHeight = (bubble.height_percent / 100) * effectivePanelHeight;\n\n  return (\n    <Rnd\n      position={{ x: pixelX, y: pixelY }}\n      size={{ width: pixelWidth, height: pixelHeight }}\n      bounds=\"parent\"\n      disableDragging={!canEdit}\n      enableResizing={canEdit}\n      minWidth={30}\n      minHeight={20}\n      style={{\n        zIndex: bubble.z_index + (isSelected ? 50 : 0),\n      }}\n      onDragStop={(e, d) => {\n        onPositionChange(d.x, d.y, pixelWidth, pixelHeight);\n      }}\n      onResizeStop={(e, direction, ref, delta, position) => {\n        onPositionChange(position.x, position.y, ref.offsetWidth, ref.offsetHeight);\n      }}\n      onClick={(e: React.MouseEvent) => {\n        e.stopPropagation();\n        onSelect();\n      }}\n    >\n      <div\n        style={{\n          width: '100%',\n          height: '100%',\n          cursor: canEdit ? 'move' : 'default',\n          outline: isSelected ? '2px solid #3b82f6' : 'none',\n          borderRadius: 4,\n        }}\n      >\n      <svg\n        width=\"100%\"\n        height=\"100%\"\n        viewBox={`0 0 100 60`}\n        preserveAspectRatio=\"none\"\n        style={{ position: 'absolute', top: 0, left: 0 }}\n      >\n        <path\n          d={getBubblePath(100, 60)}\n          fill={bubble.background_color}\n          stroke={bubble.border_color}\n          strokeWidth={bubble.border_width}\n          strokeDasharray={bubble.bubble_type === 'whisper' ? '3,3' : 'none'}\n        />\n        {/* Pointer tail */}\n        {bubble.pointer_direction !== 'none' && bubble.bubble_type !== 'narrative' && (\n          <polygon\n            points={\n              bubble.pointer_direction === 'bottom'\n                ? `${40 + bubble.pointer_position * 0.2},55 50,75 ${60 - bubble.pointer_position * 0.2},55`\n                : bubble.pointer_direction === 'left'\n                ? `5,25 -10,30 5,35`\n                : bubble.pointer_direction === 'right'\n                ? `95,25 110,30 95,35`\n                : `${40 + bubble.pointer_position * 0.2},5 50,-15 ${60 - bubble.pointer_position * 0.2},5`\n            }\n            fill={bubble.background_color}\n            stroke={bubble.border_color}\n            strokeWidth={bubble.border_width}\n          />\n        )}\n      </svg>\n\n      {/* Text content */}\n      <div\n        style={{\n          position: 'absolute',\n          top: '10%',\n          left: '10%',\n          width: '80%',\n          height: '80%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        {canEdit && isSelected ? (\n          <textarea\n            value={bubble.text}\n            onChange={(e) => onTextChange(e.target.value)}\n            style={{\n              width: '100%',\n              height: '100%',\n              fontFamily: bubble.font_family,\n              fontSize: Math.min(bubble.font_size, 14),\n              color: bubble.font_color,\n              fontWeight: bubble.font_weight,\n              fontStyle: bubble.font_style,\n              textAlign: bubble.text_align as any,\n              background: 'transparent',\n              border: 'none',\n              resize: 'none',\n              outline: 'none',\n              overflow: 'hidden',\n            }}\n          />\n        ) : (\n          <span\n            style={{\n              fontFamily: bubble.font_family,\n              fontSize: Math.min(bubble.font_size, 14),\n              color: bubble.font_color,\n              fontWeight: bubble.font_weight,\n              fontStyle: bubble.font_style,\n              textAlign: bubble.text_align as any,\n              wordBreak: 'break-word',\n              overflow: 'hidden',\n            }}\n          >\n            {bubble.text}\n          </span>\n        )}\n      </div>\n      </div>\n    </Rnd>\n  );\n}\n"],"names":["MousePointer","createLucideIcon","d","key","PanelsTopLeft","width","height","x","y","rx","Pencil","Rocket","Save","Spline","cx","cy","r","Upload","ReactPropTypesSecret_1","ReactPropTypesSecret","require$$0","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypesModule","exports","eq_1","value","other","eq","_assocIndexOf","length","listCacheClear","_listCacheClear","this","__data__","size","listCacheDelete","assocIndexOf","splice","Array","prototype","_listCacheDelete","data","index","pop","call","require$$1","listCacheGet","_listCacheGet","require$$2","listCacheHas","_listCacheHas","require$$3","listCacheSet","_listCacheSet","push","require$$4","ListCache","entries","clear","entry","set","get","has","_ListCache","freeGlobal","global","Object","_freeGlobal","freeSelf","self","root","Function","_root","Symbol","_Symbol","getRawTag","objectProto","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","_getRawTag","isOwn","tag","unmasked","e","result","objectToString","_objectToString","_baseGetTag","isObject_1","type","baseGetTag","isObject","isFunction_1","uid","coreJsData","_coreJsData","maskSrcKey","exec","keys","IE_PROTO","_isMasked","funcToString","_toSource","baseIsNative","isFunction","isMasked","toSource","reIsHostCtor","funcProto","reIsNative","RegExp","replace","_baseIsNative","test","getValue","_getValue","_getNative","Map","getNative","_Map","nativeCreate","_nativeCreate","hashClear","_hashClear","hashDelete","_hashDelete","hashGet","_hashGet","hashHas","_hashHas","hashSet","_hashSet","Hash","_Hash","isKeyable","_isKeyable","_getMapData","map","mapCacheClear","_mapCacheClear","hash","mapCacheDelete","getMapData","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","_mapCacheSet","MapCache","_MapCache","stackClear","_stackClear","stackDelete","_stackDelete","stackGet","_stackGet","stackHas","_stackHas","stackSet","_stackSet","pairs","LARGE_ARRAY_SIZE","require$$5","Stack","_Stack","setCacheAdd","_setCacheAdd","setCacheHas","_setCacheHas","SetCache","values","add","_SetCache","arraySome","_arraySome","predicate","cacheHas","_cacheHas","cache","_equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","Uint8Array","_Uint8Array","equalArrays","mapToArray","_mapToArray","forEach","setToArray","_setToArray","symbolProto","symbolValueOf","valueOf","_equalByTag","byteLength","byteOffset","buffer","message","convert","stacked","isArray","isArray_1","arrayPush","_arrayPush","offset","_baseGetAllKeys","keysFunc","symbolsFunc","arrayFilter","_arrayFilter","resIndex","stubArray","stubArray_1","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","_getSymbols","isObjectLike_1","baseIsArguments","isObjectLike","_baseIsArguments","isArguments","arguments","isArguments_1","stubFalse","stubFalse_1","freeExports","nodeType","freeModule","module","Buffer","isBuffer","isLength_1","baseIsTypedArray","isLength","typedArrayTags","_baseIsTypedArray","baseUnary","_baseUnary","nodeUtil","freeProcess","process","require","types","binding","nodeIsTypedArray","isTypedArray","isTypedArray_1","baseTimes","_baseTimes","n","iteratee","isIndex","reIsUint","_isIndex","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","nativeKeys","_overArg","transform","arg","_nativeKeys","isPrototype","_isPrototype","Ctor","constructor","_baseKeys","arrayLikeKeys","baseKeys","isArrayLike","isArrayLike_1","keys_1","getAllKeys","baseGetAllKeys","getSymbols","_getAllKeys","_equalObjects","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","DataView","_DataView","Promise","_Promise","Set","_Set","WeakMap","_WeakMap","require$$6","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","_getTag","baseIsEqualDeep","equalByTag","equalObjects","require$$7","argsTag","arrayTag","objectTag","_baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqual","baseIsEqual","factory","modules","installedModules","__webpack_require__","moduleId","i","l","m","c","getter","o","defineProperty","configurable","enumerable","__esModule","property","p","s","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","create","find","query","register","Container","default","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","extendStatics","__extends","setPrototypeOf","__proto__","b","__","ParchmentError","_super","_this","attributes","classes","tags","scope","match","ANY","Node","TEXT_NODE","LEVEL","BLOCK","INLINE","HTMLElement","names","getAttribute","split","tagName","TYPE","DATA_KEY","input","BlotClass","bubble","blot","parentNode","Definitions","_i","Definition","blotName","attrName","keyName","className","toUpperCase","diff","equal","extend","op","NULL_CHARACTER","fromCharCode","Delta","ops","insert","text","newOp","delete","retain","lastOp","unshift","chop","filter","partition","passed","failed","reduce","initial","changeLength","elem","slice","start","end","Infinity","iter","iterator","hasNext","nextOp","next","compose","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","delta","Math","min","thisOp","otherOp","rest","concat","strings","join","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","indexOf","priority","transformPosition","nextType","hasOwn","toStr","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","setProperty","target","options","newValue","writable","getProperty","src","copy","copyIsArray","clone","deep","BlockEmbed","bubbleFormats","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_get","receiver","desc","parent","getPrototypeOf","_extend2","_interopRequireDefault","_quillDelta2","_parchment2","_break2","_inline2","_text2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","_Parchment$Embed","apply","domNode","formats","attribute","BLOCK_ATTRIBUTE","format","def","endsWith","block","insertBefore","insertAt","BLOCK_BLOT","_Parchment$Block","_this2","descendants","leaf","lines","shift","children","tail","ref","head","remove","context","child","force","statics","defaultChild","allowedChildren","overload","expandConfig","_typeof","_slicedToArray","_arr","_n","_d","_e","_s","done","sliceIterator","_editor2","_emitter4","_module2","_selection","_selection2","_logger2","_theme2","_defineProperty","debug","Quill","container","error","html","innerHTML","trim","classList","__quill","addContainer","setAttribute","scrollingContainer","emitter","scroll","whitelist","editor","selection","theme","keyboard","addModule","clipboard","history","init","on","events","EDITOR_CHANGE","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","source","mutations","range","lastRange","modify","update","contents","setContents","placeholder","readOnly","disable","limit","level","imports","path","overwrite","warn","startsWith","refNode","document","createElement","setRange","_this3","_overload","_overload2","deleteText","enable","enabled","scrollTop","focus","scrollIntoView","_this4","sources","API","getSelection","change","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","bounds","getBounds","containerBounds","getBoundingClientRect","bottom","top","left","right","getLength","_overload7","_overload8","getContents","getFormat","Number","MAX_VALUE","getRange","_overload9","_overload10","getText","hasFocus","embed","_this7","insertEmbed","_this8","_overload11","_overload12","insertText","contains","off","once","dangerouslyPasteHTML","_this9","_overload13","_overload14","removeFormat","_this10","deleted","applied","applyDelta","_overload15","_overload16","Range","USER","_this11","userConfig","DEFAULTS","import","themeConfig","config","moduleConfig","moduleClass","toolbar","querySelector","modifier","strict","isEnabled","oldDelta","shiftRange","_emitter","_emitter2","args","emit","_map","pos","_map2","_map3","max","_map4","version","parchment","_Parchment$Inline","compare","BLOT","isolate","wrap","moveChildren","selfIndex","order","otherIndex","_parchment","TextBlot","_Parchment$Text","_eventemitter2","eventName","addEventListener","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","event","_len2","_key2","_ref","handler","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","method","_console","console","namespace","ns","logger","bind","newLevel","pSlice","objectKeys","deepEqual","actual","expected","opts","Date","getTime","a","isUndefinedOrNull","ka","kb","sort","objEquiv","attributeBit","ATTRIBUTE","item","canAdd","removeAttribute","Code","_block2","_Inline","CodeBlock","_Block","textContent","frag","_descendant","descendant","deleteAt","nextNewline","newlineIndex","prevNewline","isolateLength","formatAt","_descendant3","_descendant4","searchIndex","lastIndexOf","appendChild","prev","optimize","removeChild","unwrap","TAB","_op2","_code2","_cursor2","_block","_clone2","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","image","list","bullet","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","textBlot","oldValue","CONTENTS","oldText","newText","combined","merged","_toConsumableArray","arr2","from","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","listenDOM","setTimeout","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","startOffset","endNode","endOffset","restore","body","_format","nativeRange","collapsed","after","attach","_scroll$leaf","_scroll$leaf2","_leaf$position","position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","side","rect","rangeCount","getRangeAt","normalizeNative","info","normalized","normalizedToRange","activeElement","positions","indexes","_position","startContainer","endContainer","childNodes","lastChild","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","removeAllRanges","addRange","blur","rangeToNative","oldRange","_getRange","_getRange2","Break","linked_list_1","shadow_1","ContainerBlot","build","reverse","makeBlot","forEachAt","criteria","_a","lengthLeft","detach","childBlot","refBlot","some","insertInto","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","toLowerCase","replaceWith","replacement","wrapper","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","nativeSet","nativePromise","_","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","_clone","proto","reject","then","__isArray","__isRegExp","__getRegExpFlags","lastIndex","__isDate","allocUnsafe","keyChild","valueChild","entryChild","attrs","symbols","allPropertyNames","getOwnPropertyNames","propertyName","__objToStr","re","flags","ignoreCase","multiline","clonePrototype","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_newlineIndex","getLines","observer","takeRecords","SHORTKEY","_quill2","navigator","platform","Keyboard","_Module","bindings","addBinding","ENTER","shiftKey","handleEnter","metaKey","ctrlKey","altKey","userAgent","BACKSPACE","handleBackspace","handleDelete","prefix","handleDeleteRange","listen","evt","normalize","which","keyCode","defaultPrevented","_quill$getLine","getLine","_quill$getLine2","_quill$getLeaf","getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","every","preventDefault","makeEmbedArrowHandler","_ref3","where","LEFT","RIGHT","_quill$getLeaf3","_quill$getLine11","_quill$getLine13","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine17","nextFormats","firstFormats","lastFormats","lineFormats","makeCodeBlockHandler","indent","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","getIndex","makeFormatHandler","shortKey","charCodeAt","ESCAPE","UP","DOWN","bold","italic","underline","outdent","tab","cutoff","updateContents","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","parseInt","sanitize","_inline","Link","url","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard2","_dropdown2","optionsCounter","toggleAriaAttribute","Picker","select","buildPicker","style","display","label","togglePicker","escape","option","tabIndex","hasAttribute","selectItem","id","buildItem","selected","buildLabel","buildOptions","close","trigger","selectedIndex","Event","dispatchEvent","createEvent","initEvent","isActive","_embed2","_scroll2","_clipboard2","_history2","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","styles","attr","ClassAttributor","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","align","center","justify","background","blockquote","clean","code","color","direction","rtl","float","full","formula","link","ordered","check","script","sub","super","strike","video","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","record","undo","redo","dest","changeDelta","undoDelta","timestamp","now","delay","maxStack","deleteLength","changeIndex","endsWithNewlineChange","BaseTooltip","_colorPicker2","_iconPicker2","_picker2","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","removeEventListener","tooltip","textbox","hide","pickers","picker","extendToolbar","buttons","icons","button","selects","fillSelect","handlers","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","_Tooltip","boundsContainer","save","cancel","mode","preview","linkRange","restoreFocus","defaultValue","LinkedList","append","nodes","cur","curNode","ret","callback","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","ScrollBlot","MutationObserver","observe","disconnect","records","mark","markParent","remaining","previousSibling","grandChild","InlineBlot","obj1","obj2","prop","isEqual","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","token","searchString","subjectString","isFinite","floor","thisArg","execCommand","DIFF_DELETE","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","longtext","shorttext","hm","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","j","best_common","prefixLength","text1_a","text1_b","text2_a","text2_b","hm1","ceil","hm2","mid_common","diff_halfMatch_","diffs_a","diffs_b","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","y1","x1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","diff_bisect_","diff_compute_","diff_cleanupMerge","norm","current_pos","next_pos","split_pos","d_left","d_right","cursor_normalize_diff","ndiffs","cursor_pointer","d_next","merge_tuples","fix_cursor","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","fix_emoji","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","pointer","count_delete","count_insert","text_delete","text_insert","changes","left_d","right_d","supportsArgumentsClass","supported","unsupported","Events","EE","fn","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","len","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","deltaEndsWith","ELEMENT_NODE","fontStyle","computeStyle","fontWeight","applyFormat","parseFloat","textIndent","matchAlias","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","paste","pair","_pair","window","getComputedStyle","endText","childrenDelta","nextElementSibling","nodeHeight","offsetHeight","marginTop","marginBottom","offsetTop","whiteSpace","replacer","collapse","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_quill$selection$getR","prompt","addButton","groups","group","control","addSelect","_picker","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","offsetWidth","rootBounds","verticalShift","_base","_base2","_link2","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","buildButtons","buildPickers","SnowTooltip","_BaseTooltip","show","_core2","_indent","_blockquote2","_header2","_list","_list2","_bold2","_italic2","_script2","_strike2","_underline2","_image2","_video2","_code","_formula2","_syntax2","_toolbar2","_bubble2","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","_bold","Italic","_Bold","Script","Strike","Underline","_link","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","render","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","_highlight","cachedText","Syntax","highlight","timer","clearTimeout","interval","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft","__assign","assign","t","__spreadArrays","il","k","jl","__importDefault","mod","react_1","react_dom_1","isEqual_1","quill_1","ReactQuill","dirtyProps","cleanProps","state","generation","onEditorChange","rangeOrDelta","oldRangeOrDelta","_b","_c","onEditorChangeText","unprivilegedEditor","onEditorChangeSelection","isControlled","validateProps","Children","count","only","lastDeltaChangeSet","shouldComponentUpdate","nextProps","nextState","prevContents","getEditorContents","nextContents","isEqualValue","setEditorContents","setEditorReadOnly","shouldComponentRegenerate","componentDidMount","instantiateEditor","componentWillUnmount","destroyEditor","componentDidUpdate","prevProps","prevState","regenerationSnapshot","setState","selection_1","editor_1","postpone","setEditorSelection","hookEditor","createEditor","getEditingArea","getEditorConfig","unhookEditor","getEditor","setEditorTabIndex","makeUnprivilegedEditor","getEditorSelection","isDelta","nextValue","sel","length_1","getHTML","editingArea","findDOMNode","renderEditingArea","preserveWhitespace","properties","cloneElement","onKeyPress","onKeyDown","onKeyUp","onChange","nextSelection","_f","currentSelection","hasGainedFocus","hasLostFocus","onChangeSelection","onFocus","onBlur","displayName","defaultProps","Component","CopyrightPreview","authorName","year","copyrightLine","getFullYear","jsxs","border","borderRadius","padding","jsx","fontSize","textTransform","letterSpacing","textAlign","margin","lineHeight","f","clsx","shims","dontSetMe","findInArray","int","isNum","num","isNaN","domFns","addClassName","addEvent","el","inputOptions","capture","attachEvent","addUserSelectStyles","doc","styleEl","getElementById","getElementsByTagName","createCSSTransform","controlPos","positionOffset","translation","getTranslation","_getPrefix","browserPrefixToKey","createSVGTransform","getTouch","identifier","targetTouches","_shims","changedTouches","getTouchIdentifier","innerHeight","clientHeight","computedStyle","ownerDocument","defaultView","paddingTop","paddingBottom","innerWidth","clientWidth","paddingLeft","paddingRight","matchesSelector","matchesSelectorAndParentsTo","baseNode","offsetXYFromParent","offsetParent","scale","offsetParentRect","clientX","scrollLeft","clientY","outerHeight","borderTopWidth","borderBottomWidth","outerWidth","borderLeftWidth","borderRightWidth","removeClassName","removeEvent","detachEvent","removeUserSelectStyles","nodeInterop","_getRequireWildcardCache","newObj","hasPropertyDescriptor","_interopRequireWildcard","getPrefix_1","browserPrefixToStyle","getPrefix","prefixes","_window$document","documentElement","out","shouldCapitalize","kebabToTitleCase","cacheBabelInterop","cacheNodeInterop","matchesSelectorFunc","unitSuffix","defaultX","defaultY","positionFns","canDragX","draggable","axis","canDragY","createCoreData","isStart","lastX","deltaX","deltaY","lastY","createDraggableData","coreData","getBoundPosition","cloneBounds","ownerWindow","boundNode","boundNodeEl","nodeStyle","boundNodeStyle","offsetLeft","_domFns","marginRight","getControlPosition","touchIdentifier","draggableCore","touchObj","snapToGrid","grid","pendingX","pendingY","round","log_1","DraggableCore_1","React","_propTypes","_reactDom","_positionFns","_log","hint","prim","toPrimitive","res","_toPrimitive","_toPropertyKey","eventsFor","stop","dragEventFor","DraggableCore$1","NaN","onMouseDown","allowAnyClick","thisNode","disabled","handle","coreEvent","onStart","mounted","enableUserSelectHack","dragging","handleDrag","handleDragStop","onDrag","MouseEvent","initMouseEvent","onStop","handleDragStart","onTouchStart","passive","_this$props","_this$props2","nodeRef","current","onMouseUp","onTouchEnd","DraggableCore","_DraggableCore","_clsx","require$$8","_extends","Draggable","getDerivedStateFromProps","prevPropsPosition","dragged","uiData","newState","slackX","slackY","newStateX","newStateY","Boolean","defaultPosition","isElementSVG","SVGElement","_this$props$nodeRef$c","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","draggableCoreProps","svgTransform","validPosition","transformOpts","onDragStart","onDragStop","propTypes","cjsModule","rowSizeBase","colSizeBase","edgeBase","zIndex","topRight","bottomRight","bottomLeft","topLeft","Resizer","onResizeStart","replaceStyles","useCallback","useMemo","userSelect","_jsx","DEFAULT_SIZE","clamp","snap","gridGap","v","hasDirection","dir","isTouchEvent","touches","findClosestSnap","snapArray","snapGap","closestGapIndex","curr","abs","gap","getStringSize","getPixelSize","parentSize","definedProps","baseClassName","Resizable","ratio","resizable","parentLeft","parentTop","resizableLeft","resizableRight","resizableTop","resizableBottom","targetLeft","targetTop","appendBase","flex","removeBase","base","isResizing","propsSize","original","backgroundStyle","opacity","flexBasis","onMouseMove","defaultSize","orgWidth","orgHeight","orgPosition","getSize","getParentSize","percent","wrapChanged","flexWrap","minWidth","minHeight","bindEvents","unbindEvents","createSizeForCssProperty","newSize","kind","calculateNewMaxFromBoundary","maxWidth","maxHeight","boundWidth","boundHeight","boundsByDirection","widthByDirection","heightByDirection","parent_1","calculateNewSizeFromDirection","val","resizeRatio","resizeRatioX","resizeRatioY","lockAspectRatio","lockAspectRatioExtraHeight","lockAspectRatioExtraWidth","newWidth","newHeight","extraHeight","extraWidth","calculateNewSizeFromAspectRatio","computedMinWidth","computedMaxWidth","computedMinHeight","computedMaxHeight","extraMinWidth","extraMaxWidth","extraMinHeight","extraMaxHeight","lockedMinWidth","lockedMaxWidth","lockedMinHeight","lockedMaxHeight","setBoundingClientRect","adjustedScale","parent_2","parentRect","targetRect","top_1","nativeEvent","isMouseEvent","parent_3","flexDirection","flexDir","TouchEvent","stopPropagation","calculateNewMax","boundaryMax","newGridWidth","newGridHeight","vw","vh","widthChanged","heightChanged","flexBaseChanged","changed","flushSync","onResize","onResizeStop","updateSize","renderResizer","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","handleComponent","resizers","extendsProps","acc","sizeStyle","boxSizing","flexShrink","Wrapper","as","_jsxs","PureComponent","resizableStyle","Rnd","resizingPosition","offsetFromParent","resizableElement","originalPosition","resizing","getMaxSizesFromProps","updateOffsetFromParent","getDraggablePosition","forceUpdate","getParent","MAX_SAFE_INTEGER","getSelfElement","getOffsetHeight","boundary","getOffsetWidth","parentRect_1","parentLeft_1","parentTop_1","bodyRect","left_1","parentRect_2","parentLeft_2","parentTop_2","left_2","top_2","boundaryRect","boundaryLeft","boundaryTop","dragAxis","elementRef","self_1","Element","selfRect","selfLeft","selfTop","hasLeft","hasRight","hasTop","hasBottom","newPos","includes","draggableState","updatePosition","disableDragging","dragHandleClassName","dragGrid","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","dragPositionOffset","resizableProps","__rest","draggablePosition","cursorStyle","innerStyle","flag","dragAxisOrUndefined","toPixels","dimension","LineRenderer","selectedLineId","canvasWidth","canvasHeight","defaultThickness","defaultColor","gutterMode","onLineClick","handleLineClick","lineId","startX","start_x","startY","start_y","endX","end_x","endY","end_y","thickness","isSelected","strokeColor","baseWidth","strokeWidth","line_type","pathD","control1X","control1Y","control2X","control2Y","bezierPath","control1_x","control1_y","control2_x","control2_y","onClick","strokeLinecap","toPercent","pixels","BezierHandles","onControlPointChange","setDragging","useState","handleMouseDown","controlPoint","handleMouseMove","svg","currentTarget","closest","xPercent","yPercent","clampedX","clampedY","handleMouseUp","onMouseLeave","strokeDasharray","pointerEvents","verticesToPoints","vertices","PanelRegionOverlay","panels","selectedPanelId","onPanelClick","showLabels","panelArtwork","panel","points","labelX","centroid","labelY","artworkUrl","boundsX","boundsY","boundsWidth","boundsHeight","preserveAspectRatio","clipPath","transition","onMouseEnter","Fragment","textAnchor","dominantBaseline","fontFamily","DrawingCanvas","onLineCreate","onLineUpdate","onLineDelete","onLineSelect","onPanelSelect","onPanelsComputed","showPanelOverlay","externalSelectedPanelId","showPanelLabels","svgRef","useRef","drawingState","setDrawingState","isDrawing","startPoint","currentPoint","previewLine","hoverPoint","setHoverPoint","computedPanels","setComputedPanels","internalSelectedPanelId","setInternalSelectedPanelId","useEffect","dividerLines","computePanelRegions","getMousePosition","getSnappedPoint","point","pointPercent","existingLines","thresholdPercent","findSnapPoint","snappedPoint","startPercent","endPercent","generateDefaultControlPoints","control1","control2","dx","dy","sqrt","handleCanvasClick","handlePanelClick","panelId","handleControlPointChange","handleKeyDown","previewLineForRender","ORIENTATION_PRESETS","portrait","landscape","square","webtoon","manga_b5","social_square","social_story","LINE_TEMPLATES","buttonBase","alignItems","justifyContent","LineBasedEditor","forwardRef","orientation","defaultGutterWidth","defaultLineColor","onApplyTemplate","onOrientationChange","onGutterModeChange","onGutterWidthChange","onLineColorChange","canEdit","showPanelNumbers","maxCanvasWidth","maxCanvasHeight","setMode","setSelectedLineId","showTemplates","setShowTemplates","showSettings","setShowSettings","canvasContainerRef","orientationConfig","maxDisplayWidth","maxDisplayHeight","canvasSize","aspectRatio","displayWidth","displayHeight","useImperativeHandle","getCanvasRect","getCanvasSize","handleLineSelect","handleApplyTemplate","template","confirm","handleDeleteSelected","borderBottom","title","Grid3X3","Settings","Trash2","X","gridTemplateColumns","toFixed","step","accentColor","checked","onMouseOver","borderColor","onMouseOut","overflow","viewBox","boxShadow","borderTop","BUBBLE_TYPES","PANEL_TEMPLATES","w","h","CollaborativeComicEditor","project","currentUser","onProjectUpdate","pages","setPages","selectedPageIndex","setSelectedPageIndex","setSelectedPanelId","selectedComputedPanelId","setSelectedComputedPanelId","panelArtworkMap","setPanelArtworkMap","selectedBubbleId","setSelectedBubbleId","loading","setLoading","saving","setSaving","setError","newBubbleType","setNewBubbleType","lastSaved","setLastSaved","issues","setIssues","selectedIssueId","setSelectedIssueId","showIssueDropdown","setShowIssueDropdown","creatingIssue","setCreatingIssue","editingIssueId","setEditingIssueId","editingIssueTitle","setEditingIssueTitle","canvasRef","fileInputRef","lineEditorRef","isReloadingRef","lastPageIdRef","isInitialLoadRunningRef","hasInitializedRef","canvasDimensions","setCanvasDimensions","availableCanvasSpace","setAvailableCanvasSpace","stableCanvasSize","setStableCanvasSize","guides","setGuides","vertical","horizontal","draggingPanelId","setDraggingPanelId","currentUserRole","collaborators","user","isCreator","created_by","canEditPanels","can_edit","can_edit_images","canEditText","can_edit_text","currentPage","loadIssuesAndPages","async","loadedIssues","collaborationApi","getComicIssues","firstIssueId","loadPagesForIssue","newIssue","createComicIssue","issue_number","page_count","newPage","createComicPage","issue","loadPages","issueId","normalizedPages","getComicIssuePages","page","updateIssuePageCount","handleSaveIssueTitle","updateComicIssue","pageCount","prevIssues","currentIssue","canvasDimensionsRef","timeoutId","updateDimensions","widthDiff","heightDiff","debouncedUpdate","resizeObserver","ResizeObserver","updateAvailableSpace","availableWidth","availableHeight","updateStableSize","intervalId","setInterval","clearInterval","handleDeleteBubble","getComicPages","handleDeletePanel","deleteComicPanel","updatedPages","toDividerLineData","currentDividerLines","divider_lines","roundCoord","useLineBasedLayout","layout_version","calculateGuides","SNAP_THRESHOLD","newGuides","panelRight","panelBottom","panelCenterX","panelCenterY","otherX","x_percent","otherY","y_percent","otherWidth","width_percent","otherHeight","height_percent","otherRight","otherBottom","otherCenterX","otherCenterY","clearGuides","handlePanelPositionChange","widthPercent","heightPercent","panelIndex","findIndex","updateComicPanel","handleArtworkUpload","file","updatedPanel","uploadPanelArtwork","calculateBoundsOverlap","bounds1","bounds2","intersection","union","handlePanelsComputed","retryTimeout","newArtworkMap","artwork","panelBounds","bestMatch","computedPanel","iou","bubbleId","deleteSpeechBubble","speech_bubbles","handleBubbleTextChange","bubbleIndex","updateSpeechBubble","handleBubblePositionChange","panelWidth","panelHeight","handleBubbleMove","panelIdx","bubbleIdx","handleBubbleResize","clampedW","clampedH","Loader2","animation","BookOpen","ChevronDown","autoFocus","outline","Check","handleSelectIssue","handleStartEditIssue","nextIssueNumber","newIssueWithCount","Plus","pageData","newPages","default_line_color","default_gutter_width","flatMap","bubble_type","background_color","border_color","ry","border_width","border_radius","rotation","skew_x","skew_y","transformOrigin","icon","Layout","Type","Icon","toLocaleTimeString","ChevronLeft","ChevronRight","bt","newBubble","createSpeechBubble","handleAddBubble","MessageCircle","gutter_mode","lineData","newLine","createDividerLine","updates","roundedUpdates","updatedLine","updateDividerLine","deleteDividerLine","batchCreateDividerLines","created","updateComicPage","bubbleX","bubbleY","bubbleW","bubbleH","newXPercent","newYPercent","_delta","newWidthPercent","newHeightPercent","resize","text_align","font_family","wordBreak","outlineOffset","PanelComponent","isDragging","onSelect","onPositionChange","onDragEnd","onDelete","onUploadArtwork","onSelectBubble","onBubbleTextChange","onBubblePositionChange","onDeleteBubble","backgroundSize","selectedPanel","hasArtwork","displayIndex","accept","computedPanelId","targetPanel","createComicPanel","border_style","handleComputedPanelArtworkUpload","matchingComicPanel","updatePanelStyle","deleteComicPage","newPanels","newPanel","skewX","skewY","applyTemplate","parentRef","panelDimensions","setPanelDimensions","stableCanvasDimensions","setStableCanvasDimensions","stableDimensionsRef","effectiveCanvasWidth","effectiveCanvasHeight","pixelX","pixelY","pixelWidth","pixelHeight","gridX","gridY","z_index","alt","objectFit","artwork_fit","BubbleComponent","onTextChange","hasValidDimensions","effectivePanelWidth","effectivePanelHeight","angle","PI","cos","sin","getBubblePath","pointer_direction","pointer_position","font_size","font_color","font_weight","font_style"],"mappings":";;;;;;GASA,MAUMA,EAAeC,EAAiB,gBAVnB,CACjB,CAAC,OAAQ,CAAEC,EAAG,uBAAwBC,IAAK,WAC3C,CACE,OACA,CACED,EAAG,+IACHC,IAAK,aCDLC,EAAgBH,EAAiB,kBALpB,CACjB,CAAC,OAAQ,CAAEI,MAAO,KAAMC,OAAQ,KAAMC,EAAG,IAAKC,EAAG,IAAKC,GAAI,IAAKN,IAAK,WACpE,CAAC,OAAQ,CAAED,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAED,EAAG,UAAWC,IAAK,aCO1BO,EAAST,EAAiB,SAVb,CACjB,CACE,OACA,CACEC,EAAG,mIACHC,IAAK,WAGT,CAAC,OAAQ,CAAED,EAAG,YAAaC,IAAK,aCU5BQ,EAASV,EAAiB,SAlBb,CACjB,CACE,OACA,CACEC,EAAG,4FACHC,IAAK,WAGT,CACE,OACA,CACED,EAAG,kGACHC,IAAK,WAGT,CAAC,OAAQ,CAAED,EAAG,yCAA0CC,IAAK,WAC7D,CAAC,OAAQ,CAAED,EAAG,0CAA2CC,IAAK,YCL1DS,EAAOX,EAAiB,OAXX,CACjB,CACE,OACA,CACEC,EAAG,qGACHC,IAAK,WAGT,CAAC,OAAQ,CAAED,EAAG,4CAA6CC,IAAK,WAChE,CAAC,OAAQ,CAAED,EAAG,yBAA0BC,IAAK,aCJzCU,EAASZ,EAAiB,SALb,CACjB,CAAC,SAAU,CAAEa,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKb,IAAK,WAC7C,CAAC,SAAU,CAAEW,GAAI,IAAKC,GAAI,KAAMC,EAAG,IAAKb,IAAK,WAC7C,CAAC,OAAQ,CAAED,EAAG,yBAA0BC,IAAK,aCEzCc,EAAShB,EAAiB,SALb,CACjB,CAAC,OAAQ,CAAEC,EAAG,WAAYC,IAAK,WAC/B,CAAC,OAAQ,CAAED,EAAG,gBAAiBC,IAAK,WACpC,CAAC,OAAQ,CAAED,EAAG,4CAA6CC,IAAK,ocCDlEe,EAF2B,+ECA3B,IAAIC,EAAuBC,KAE3B,SAASC,IAAgB,CACzB,SAASC,IAAyB,QAClCA,EAAuBC,kBAAoBF,EAE3CG,EAAiB,WACf,SAASC,EAAKC,EAAOC,EAAUC,EAAeC,EAAUC,EAAcC,GACpE,GAAIA,IAAWZ,EAAf,CAIA,IAAIa,EAAM,IAAIC,MACZ,mLAKF,MADAD,EAAIE,KAAO,sBACLF,CAPV,CAQA,CAEE,SAASG,IACP,OAAOV,CACX,CAHEA,EAAKW,WAAaX,EAMlB,IAAIY,EAAiB,CACnBC,MAAOb,EACPc,OAAQd,EACRe,KAAMf,EACNgB,KAAMhB,EACNiB,OAAQjB,EACRkB,OAAQlB,EACRmB,OAAQnB,EACRoB,OAAQpB,EAERqB,IAAKrB,EACLsB,QAASZ,EACTa,QAASvB,EACTwB,YAAaxB,EACbyB,WAAYf,EACZgB,KAAM1B,EACN2B,SAAUjB,EACVkB,MAAOlB,EACPmB,UAAWnB,EACXoB,MAAOpB,EACPqB,MAAOrB,EAEPsB,eAAgBnC,EAChBC,kBAAmBF,GAKrB,OAFAgB,EAAeqB,UAAYrB,EAEpBA,CACT,+BC/CEsB,GAAAC,kECmBFC,EAJA,SAAYC,EAAOC,GACjB,OAAOD,IAAUC,GAAUD,GAAUA,GAASC,GAAUA,CAC1D,kCClCA,IAAIC,EAAK5C,YAoBT6C,EAVA,SAAsB3B,EAAOnC,GAE3B,IADA,IAAI+D,EAAS5B,EAAM4B,OACZA,KACL,GAAIF,EAAG1B,EAAM4B,GAAQ,GAAI/D,GACvB,OAAO+D,EAGX,OAAO,CACT,qCClBA,IAAIC,WCYJC,EALA,WACEC,KAAKC,SAAW,GAChBD,KAAKE,KAAO,CACd,GDTIC,+BEDJ,IAAIC,EAAerD,KAMfsD,EAHaC,MAAMC,UAGCF,cA4BxBG,EAjBA,SAAyB1E,GACvB,IAAI2E,EAAOT,KAAKC,SACZS,EAAQN,EAAaK,EAAM3E,GAE/B,QAAI4E,EAAQ,IAIRA,GADYD,EAAKZ,OAAS,EAE5BY,EAAKE,MAELN,EAAOO,KAAKH,EAAMC,EAAO,KAEzBV,KAAKE,KACA,GACT,EF/BsBW,GAClBC,+BGFJ,IAAIV,EAAerD,YAkBnBgE,EAPA,SAAsBjF,GACpB,IAAI2E,EAAOT,KAAKC,SACZS,EAAQN,EAAaK,EAAM3E,GAE/B,OAAO4E,EAAQ,OAAI,EAAYD,EAAKC,GAAO,EAC7C,EHdmBM,GACfC,+BIHJ,IAAIb,EAAerD,YAenBmE,EAJA,SAAsBpF,GACpB,OAAOsE,EAAaJ,KAAKC,SAAUnE,IAAO,CAC5C,EJVmBqF,GACfC,+BKJJ,IAAIhB,EAAerD,YAyBnBsE,EAbA,SAAsBvF,EAAK2D,GACzB,IAAIgB,EAAOT,KAAKC,SACZS,EAAQN,EAAaK,EAAM3E,GAQ/B,OANI4E,EAAQ,KACRV,KAAKE,KACPO,EAAKa,KAAK,CAACxF,EAAK2D,KAEhBgB,EAAKC,GAAO,GAAKjB,EAEZO,IACT,ELnBmBuB,GASnB,SAASC,EAAUC,GACjB,IAAIf,GAAQ,EACRb,EAAoB,MAAX4B,EAAkB,EAAIA,EAAQ5B,OAG3C,IADAG,KAAK0B,UACIhB,EAAQb,GAAQ,CACvB,IAAI8B,EAAQF,EAAQf,GACpBV,KAAK4B,IAAID,EAAM,GAAIA,EAAM,GAC7B,CACA,QAGAH,EAAUjB,UAAUmB,MAAQ5B,EAC5B0B,EAAUjB,UAAkB,OAAIJ,EAChCqB,EAAUjB,UAAUsB,IAAMf,EAC1BU,EAAUjB,UAAUuB,IAAMb,EAC1BO,EAAUjB,UAAUqB,IAAMR,EAE1BW,GAAiBP,qCM9BjB,IAAIQ,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAOC,SAAWA,QAAUD,SAEpFE,GAAiBH,qCCHjB,IAAIA,EAAajF,KAGbqF,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKH,SAAWA,QAAUG,KAGxEC,EAAON,GAAcI,GAAYG,SAAS,cAATA,UAErCC,GAAiBF,qCCRjB,IAGIG,EAHO1F,KAGO0F,cAElBC,GAAiBD,qCCLjB,IAAIA,EAAS1F,KACT4F,kCCDJ,IAAIF,EAAS1F,KAGT6F,EAAcV,OAAO3B,UAGrBsC,EAAiBD,EAAYC,eAO7BC,EAAuBF,EAAYG,SAGnCC,EAAiBP,EAASA,EAAOQ,iBAAc,SA6BnDC,GApBA,SAAmBzD,GACjB,IAAI0D,EAAQN,EAAejC,KAAKnB,EAAOuD,GACnCI,EAAM3D,EAAMuD,GAEhB,IACEvD,EAAMuD,QAAkB,EACxB,IAAIK,GAAW,CACnB,OAAWC,GAAG,CAEZ,IAAIC,EAAST,EAAqBlC,KAAKnB,GAQvC,OAPI4D,IACEF,EACF1D,EAAMuD,GAAkBI,SAEjB3D,EAAMuD,IAGVO,CACT,ED1CgB1C,GACZ2C,kCEDJ,IAOIV,EAPcZ,OAAO3B,UAOcwC,gBAavCU,GAJA,SAAwBhE,GACtB,OAAOqD,EAAqBlC,KAAKnB,EACnC,EFjBqBuB,GAOjBgC,EAAiBP,EAASA,EAAOQ,iBAAc,SAkBnDS,GATA,SAAoBjE,GAClB,OAAa,MAATA,OACe,IAAVA,EAdQ,qBADL,gBAiBJuD,GAAkBA,KAAkBd,OAAOzC,GAC/CkD,EAAUlD,GACV+D,EAAe/D,EACrB,4CGKAkE,GALA,SAAkBlE,GAChB,IAAImE,SAAcnE,EAClB,OAAgB,MAATA,IAA0B,UAARmE,GAA4B,YAARA,EAC/C,qCC5BA,IAAIC,EAAa9G,KACb+G,EAAWjD,YAmCfkD,GAVA,SAAoBtE,GAClB,IAAKqE,EAASrE,GACZ,OAAO,EAIT,IAAI2D,EAAMS,EAAWpE,GACrB,MA5BY,qBA4BL2D,GA3BI,8BA2BcA,GA7BZ,0BA6B6BA,GA1B7B,kBA0BgDA,CAC/D,qCClCA,IAIMY,EAJFC,kCCAJ,IAGIA,EAHOlH,KAGW,6BAEtBmH,GAAiBD,EDLAlH,GAGboH,GACEH,EAAM,SAASI,KAAKH,GAAcA,EAAWI,MAAQJ,EAAWI,KAAKC,UAAY,KACvE,iBAAmBN,EAAO,UAc1CO,GAJA,SAAkBnG,GAChB,QAAS+F,GAAeA,KAAc/F,CACxC,qCEhBA,IAGIoG,EAHYjC,SAAShC,UAGIwC,gBAqB7B0B,GAZA,SAAkBrG,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOoG,EAAa5D,KAAKxC,EAC/B,OAAakF,GAAG,CACZ,IACE,OAAQlF,EAAO,EACrB,OAAakF,GAAG,CAChB,CACE,MAAO,EACT,qCCvBA,IAAIoB,kCCAJ,IAAIC,EAAa5H,KACb6H,EAAW/D,KACXiD,EAAW9C,KACX6D,EAAW1D,KASX2D,EAAe,8BAGfC,EAAYxC,SAAShC,UACrBqC,EAAcV,OAAO3B,UAGrBiE,EAAeO,EAAUhC,SAGzBF,EAAiBD,EAAYC,eAG7BmC,EAAaC,OAAO,IACtBT,EAAa5D,KAAKiC,GAAgBqC,QAjBjB,sBAiBuC,QACvDA,QAAQ,yDAA0D,SAAW,YAmBhFC,GARA,SAAsB1F,GACpB,SAAKqE,EAASrE,IAAUmF,EAASnF,MAGnBkF,EAAWlF,GAASuF,EAAaF,GAChCM,KAAKP,EAASpF,GAC/B,ED5CmB1C,GACfsI,cEWJC,GAJA,SAAkBhH,EAAQxC,GACxB,OAAiB,MAAVwC,OAAiB,EAAYA,EAAOxC,EAC7C,UFMAyJ,GALA,SAAmBjH,EAAQxC,GACzB,IAAI2D,EAAQ4F,EAAS/G,EAAQxC,GAC7B,OAAO4I,EAAajF,GAASA,OAAQ,CACvC,qCGdA,IAII+F,EAJYzI,IAIN0I,CAHC5E,KAGe,cAE1B6E,GAAiBF,qCCNjB,IAGIG,EAHY5I,IAGG0I,CAAUvD,OAAQ,iBAErC0D,GAAiBD,qCCLjB,IAAIE,kCCAJ,IAAIF,EAAe5I,YAcnB+I,GALA,WACE9F,KAAKC,SAAW0F,EAAeA,EAAa,MAAQ,CAAA,EACpD3F,KAAKE,KAAO,CACd,EDZgBnD,GACZgJ,cEeJC,GANA,SAAoBlK,GAClB,IAAIyH,EAASvD,KAAK8B,IAAIhG,WAAekE,KAAKC,SAASnE,GAEnD,OADAkE,KAAKE,MAAQqD,EAAS,EAAI,EACnBA,CACT,GFZI0C,kCGFJ,IAAIN,EAAe5I,KASf8F,EAHcX,OAAO3B,UAGQsC,sBAoBjCqD,GATA,SAAiBpK,GACf,IAAI2E,EAAOT,KAAKC,SAChB,GAAI0F,EAAc,CAChB,IAAIpC,EAAS9C,EAAK3E,GAClB,MArBiB,8BAqBVyH,OAA4B,EAAYA,CACnD,CACE,OAAOV,EAAejC,KAAKH,EAAM3E,GAAO2E,EAAK3E,QAAO,CACtD,EHzBckF,GACVmF,kCIHJ,IAAIR,EAAe5I,KAMf8F,EAHcX,OAAO3B,UAGQsC,sBAgBjCuD,GALA,SAAiBtK,GACf,IAAI2E,EAAOT,KAAKC,SAChB,OAAO0F,OAA8B,IAAdlF,EAAK3E,GAAsB+G,EAAejC,KAAKH,EAAM3E,EAC9E,EJjBcqF,GACVkF,kCKJJ,IAAIV,EAAe5I,YAsBnBuJ,GAPA,SAAiBxK,EAAK2D,GACpB,IAAIgB,EAAOT,KAAKC,SAGhB,OAFAD,KAAKE,MAAQF,KAAK8B,IAAIhG,GAAO,EAAI,EACjC2E,EAAK3E,GAAQ6J,QAA0B,IAAVlG,EAfV,4BAekDA,EAC9DO,IACT,ELhBcuB,GASd,SAASgF,EAAK9E,GACZ,IAAIf,GAAQ,EACRb,EAAoB,MAAX4B,EAAkB,EAAIA,EAAQ5B,OAG3C,IADAG,KAAK0B,UACIhB,EAAQb,GAAQ,CACvB,IAAI8B,EAAQF,EAAQf,GACpBV,KAAK4B,IAAID,EAAM,GAAIA,EAAM,GAC7B,CACA,QAGA4E,EAAKhG,UAAUmB,MAAQmE,EACvBU,EAAKhG,UAAkB,OAAIwF,EAC3BQ,EAAKhG,UAAUsB,IAAMoE,EACrBM,EAAKhG,UAAUuB,IAAMqE,EACrBI,EAAKhG,UAAUqB,IAAMyE,EAErBG,GAAiBD,qCM/BjB,IAAIE,cCcJC,GAPA,SAAmBjH,GACjB,IAAImE,SAAcnE,EAClB,MAAgB,UAARmE,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVnE,EACU,OAAVA,CACP,UDKAkH,GAPA,SAAoBC,EAAK9K,GACvB,IAAI2E,EAAOmG,EAAI3G,SACf,OAAOwG,EAAU3K,GACb2E,EAAmB,iBAAP3E,EAAkB,SAAW,QACzC2E,EAAKmG,GACX,qCEfA,IAAIC,kCCAJ,IAAIN,EAAOxJ,KACPyE,EAAYX,KACZ2E,EAAMxE,YAkBV8F,GATA,WACE9G,KAAKE,KAAO,EACZF,KAAKC,SAAW,CACd8G,KAAQ,IAAIR,EACZK,IAAO,IAAKpB,GAAOhE,GACnBjD,OAAU,IAAIgI,EAElB,EDlBoBxJ,GAChBiK,kCEDJ,IAAIC,EAAalK,YAiBjBmK,GANA,SAAwBpL,GACtB,IAAIyH,EAAS0D,EAAWjH,KAAMlE,GAAa,OAAEA,GAE7C,OADAkE,KAAKE,MAAQqD,EAAS,EAAI,EACnBA,CACT,EFdqB1C,GACjBsG,kCGFJ,IAAIF,EAAalK,YAejBqK,GAJA,SAAqBtL,GACnB,OAAOmL,EAAWjH,KAAMlE,GAAK+F,IAAI/F,EACnC,EHXkBkF,GACdqG,kCIHJ,IAAIJ,EAAalK,YAejBuK,GAJA,SAAqBxL,GACnB,OAAOmL,EAAWjH,KAAMlE,GAAKgG,IAAIhG,EACnC,EJVkBqF,GACdoG,kCKJJ,IAAIN,EAAalK,YAqBjByK,GATA,SAAqB1L,EAAK2D,GACxB,IAAIgB,EAAOwG,EAAWjH,KAAMlE,GACxBoE,EAAOO,EAAKP,KAIhB,OAFAO,EAAKmB,IAAI9F,EAAK2D,GACdO,KAAKE,MAAQO,EAAKP,MAAQA,EAAO,EAAI,EAC9BF,IACT,ELfkBuB,GASlB,SAASkG,EAAShG,GAChB,IAAIf,GAAQ,EACRb,EAAoB,MAAX4B,EAAkB,EAAIA,EAAQ5B,OAG3C,IADAG,KAAK0B,UACIhB,EAAQb,GAAQ,CACvB,IAAI8B,EAAQF,EAAQf,GACpBV,KAAK4B,IAAID,EAAM,GAAIA,EAAM,GAC7B,CACA,QAGA8F,EAASlH,UAAUmB,MAAQmF,EAC3BY,EAASlH,UAAkB,OAAIyG,EAC/BS,EAASlH,UAAUsB,IAAMsF,EACzBM,EAASlH,UAAUuB,IAAMuF,EACzBI,EAASlH,UAAUqB,IAAM2F,EAEzBG,GAAiBD,qCM/BjB,IAAIjG,EAAYzE,KACZ4K,kCCDJ,IAAInG,EAAYzE,YAchB6K,GALA,WACE5H,KAAKC,SAAW,IAAIuB,EACpBxB,KAAKE,KAAO,CACd,EDXiBW,GACbgH,cEeJC,GARA,SAAqBhM,GACnB,IAAI2E,EAAOT,KAAKC,SACZsD,EAAS9C,EAAa,OAAE3E,GAG5B,OADAkE,KAAKE,KAAOO,EAAKP,KACVqD,CACT,GFZIwE,cGUJC,GAJA,SAAkBlM,GAChB,OAAOkE,KAAKC,SAAS4B,IAAI/F,EAC3B,GHPImM,cISJC,GAJA,SAAkBpM,GAChB,OAAOkE,KAAKC,SAAS6B,IAAIhG,EAC3B,GJNIqM,kCKLJ,IAAI3G,EAAYzE,KACZyI,EAAM3E,KACN4G,EAAWzG,YA+BfoH,GAhBA,SAAkBtM,EAAK2D,GACrB,IAAIgB,EAAOT,KAAKC,SAChB,GAAIQ,aAAgBe,EAAW,CAC7B,IAAI6G,EAAQ5H,EAAKR,SACjB,IAAKuF,GAAQ6C,EAAMxI,OAASyI,IAG1B,OAFAD,EAAM/G,KAAK,CAACxF,EAAK2D,IACjBO,KAAKE,OAASO,EAAKP,KACZF,KAETS,EAAOT,KAAKC,SAAW,IAAIwH,EAASY,EACxC,CAGE,OAFA5H,EAAKmB,IAAI9F,EAAK2D,GACdO,KAAKE,KAAOO,EAAKP,KACVF,IACT,EL1BeuI,GASf,SAASC,EAAM/G,GACb,IAAIhB,EAAOT,KAAKC,SAAW,IAAIuB,EAAUC,GACzCzB,KAAKE,KAAOO,EAAKP,IACnB,QAGAsI,EAAMjI,UAAUmB,MAAQiG,EACxBa,EAAMjI,UAAkB,OAAIsH,EAC5BW,EAAMjI,UAAUsB,IAAMkG,EACtBS,EAAMjI,UAAUuB,IAAMmG,EACtBO,EAAMjI,UAAUqB,IAAMuG,EAEtBM,GAAiBD,qCM1BjB,IAAIf,EAAW1K,KACX2L,cCiBJC,GALA,SAAqBlJ,GAEnB,OADAO,KAAKC,SAAS2B,IAAInC,EAbC,6BAcZO,IACT,GDdI4I,cEWJC,GAJA,SAAqBpJ,GACnB,OAAOO,KAAKC,SAAS6B,IAAIrC,EAC3B,GFCA,SAASqJ,EAASC,GAChB,IAAIrI,GAAQ,EACRb,EAAmB,MAAVkJ,EAAiB,EAAIA,EAAOlJ,OAGzC,IADAG,KAAKC,SAAW,IAAIwH,IACX/G,EAAQb,GACfG,KAAKgJ,IAAID,EAAOrI,GAEpB,QAGAoI,EAASvI,UAAUyI,IAAMF,EAASvI,UAAUe,KAAOoH,EACnDI,EAASvI,UAAUuB,IAAM8G,EAEzBK,GAAiBH,qCG1BjB,IAAIA,EAAW/L,KACXmM,cCqBJC,GAZA,SAAmBlL,EAAOmL,GAIxB,IAHA,IAAI1I,GAAQ,EACRb,EAAkB,MAAT5B,EAAgB,EAAIA,EAAM4B,SAE9Ba,EAAQb,GACf,GAAIuJ,EAAUnL,EAAMyC,GAAQA,EAAOzC,GACjC,OAAO,EAGX,OAAO,CACT,GDlBIoL,cEUJC,GAJA,SAAkBC,EAAOzN,GACvB,OAAOyN,EAAMzH,IAAIhG,EACnB,UFyEA0N,GA9DA,SAAqBvL,EAAOyB,EAAO+J,EAASC,EAAYC,EAAWC,GACjE,IAAIC,EAjBqB,EAiBTJ,EACZK,EAAY7L,EAAM4B,OAClBkK,EAAYrK,EAAMG,OAEtB,GAAIiK,GAAaC,KAAeF,GAAaE,EAAYD,GACvD,OAAO,EAGT,IAAIE,EAAaJ,EAAM/H,IAAI5D,GACvBgM,EAAaL,EAAM/H,IAAInC,GAC3B,GAAIsK,GAAcC,EAChB,OAAOD,GAActK,GAASuK,GAAchM,EAE9C,IAAIyC,KACA6C,GAAS,EACT2G,EA/BuB,EA+BfT,EAAoC,IAAIX,OAAW,EAM/D,IAJAc,EAAMhI,IAAI3D,EAAOyB,GACjBkK,EAAMhI,IAAIlC,EAAOzB,KAGRyC,EAAQoJ,GAAW,CAC1B,IAAIK,EAAWlM,EAAMyC,GACjB0J,EAAW1K,EAAMgB,GAErB,GAAIgJ,EACF,IAAIW,EAAWR,EACXH,EAAWU,EAAUD,EAAUzJ,EAAOhB,EAAOzB,EAAO2L,GACpDF,EAAWS,EAAUC,EAAU1J,EAAOzC,EAAOyB,EAAOkK,GAE1D,QAAiB,IAAbS,EAAwB,CAC1B,GAAIA,EACF,SAEF9G,GAAS,EACT,KACN,CAEI,GAAI2G,GACF,IAAKhB,EAAUxJ,EAAO,SAAS0K,EAAUE,GACnC,IAAKjB,EAASa,EAAMI,KACfH,IAAaC,GAAYT,EAAUQ,EAAUC,EAAUX,EAASC,EAAYE,IAC/E,OAAOM,EAAK5I,KAAKgJ,EAE/B,GAAc,CACN/G,GAAS,EACT,KACR,OACA,GACU4G,IAAaC,IACXT,EAAUQ,EAAUC,EAAUX,EAASC,EAAYE,GACpD,CACLrG,GAAS,EACT,KACN,CACA,CAGE,OAFAqG,EAAc,OAAE3L,GAChB2L,EAAc,OAAElK,GACT6D,CACT,qCGjFA,IAAId,EAAS1F,KACTwN,kCCDJ,IAGIA,EAHOxN,KAGWwN,kBAEtBC,GAAiBD,EDJA1J,GACblB,EAAKqB,KACLyJ,EAActJ,KACduJ,cEaJC,GAVA,SAAoB/D,GAClB,IAAIlG,GAAQ,EACR6C,EAASjD,MAAMsG,EAAI1G,MAKvB,OAHA0G,EAAIgE,QAAQ,SAASnL,EAAO3D,GAC1ByH,IAAS7C,GAAS,CAAC5E,EAAK2D,EAC5B,GACS8D,CACT,GFVIsH,cGYJC,GAVA,SAAoBlJ,GAClB,IAAIlB,GAAQ,EACR6C,EAASjD,MAAMsB,EAAI1B,MAKvB,OAHA0B,EAAIgJ,QAAQ,SAASnL,GACnB8D,IAAS7C,GAASjB,CACtB,GACS8D,CACT,GHWIwH,EAActI,EAASA,EAAOlC,eAAY,EAC1CyK,EAAgBD,EAAcA,EAAYE,aAAU,SAoFxDC,GAjEA,SAAoB5M,EAAQoB,EAAO0D,EAAKqG,EAASC,EAAYC,EAAWC,GACtE,OAAQxG,GACN,IAzBc,oBA0BZ,GAAK9E,EAAO6M,YAAczL,EAAMyL,YAC3B7M,EAAO8M,YAAc1L,EAAM0L,WAC9B,OAAO,EAET9M,EAASA,EAAO+M,OAChB3L,EAAQA,EAAM2L,OAEhB,IAlCiB,uBAmCf,QAAK/M,EAAO6M,YAAczL,EAAMyL,aAC3BxB,EAAU,IAAIY,EAAWjM,GAAS,IAAIiM,EAAW7K,KAKxD,IAnDU,mBAoDV,IAnDU,gBAoDV,IAjDY,kBAoDV,OAAOC,GAAIrB,GAASoB,GAEtB,IAxDW,iBAyDT,OAAOpB,EAAOT,MAAQ6B,EAAM7B,MAAQS,EAAOgN,SAAW5L,EAAM4L,QAE9D,IAxDY,kBAyDZ,IAvDY,kBA2DV,OAAOhN,GAAWoB,EAAQ,GAE5B,IAjES,eAkEP,IAAI6L,EAAUb,EAEhB,IAjES,eAkEP,IAAIb,EA5EiB,EA4ELJ,EAGhB,GAFA8B,IAAYA,EAAUV,GAElBvM,EAAO4B,MAAQR,EAAMQ,OAAS2J,EAChC,OAAO,EAGT,IAAI2B,EAAU5B,EAAM/H,IAAIvD,GACxB,GAAIkN,EACF,OAAOA,GAAW9L,EAEpB+J,GAtFuB,EAyFvBG,EAAMhI,IAAItD,EAAQoB,GAClB,IAAI6D,EAASkH,EAAYc,EAAQjN,GAASiN,EAAQ7L,GAAQ+J,EAASC,EAAYC,EAAWC,GAE1F,OADAA,EAAc,OAAEtL,GACTiF,EAET,IAnFY,kBAoFV,GAAIyH,EACF,OAAOA,EAAcpK,KAAKtC,IAAW0M,EAAcpK,KAAKlB,GAG9D,OAAO,CACT,qCItFA,IAAI+L,EAAUnL,MAAMmL,eAEpBC,GAAiBD,qCCzBjB,IAAIE,cCmBJC,GAXA,SAAmB3N,EAAO8K,GAKxB,IAJA,IAAIrI,GAAQ,EACRb,EAASkJ,EAAOlJ,OAChBgM,EAAS5N,EAAM4B,SAEVa,EAAQb,GACf5B,EAAM4N,EAASnL,GAASqI,EAAOrI,GAEjC,OAAOzC,CACT,GDhBIwN,EAAU5K,YAkBdiL,GALA,SAAwBxN,EAAQyN,EAAUC,GACxC,IAAIzI,EAASwI,EAASzN,GACtB,OAAOmN,EAAQnN,GAAUiF,EAASoI,EAAUpI,EAAQyI,EAAY1N,GAClE,qCEjBA,IAAI2N,cCwBJC,GAfA,SAAqBjO,EAAOmL,GAM1B,IALA,IAAI1I,GAAQ,EACRb,EAAkB,MAAT5B,EAAgB,EAAIA,EAAM4B,OACnCsM,EAAW,EACX5I,EAAS,KAEJ7C,EAAQb,GAAQ,CACvB,IAAIJ,EAAQxB,EAAMyC,GACd0I,EAAU3J,EAAOiB,EAAOzC,KAC1BsF,EAAO4I,KAAc1M,EAE3B,CACE,OAAO8D,CACT,GDrBI6I,cEqBJC,GAJA,WACE,MAAO,EACT,GFbIC,EAHcpK,OAAO3B,UAGc+L,qBAGnCC,EAAmBrK,OAAOsK,6BAmB9BC,GAVkBF,EAA+B,SAASjO,GACxD,OAAc,MAAVA,EACK,IAETA,EAAS4D,OAAO5D,GACT2N,EAAYM,EAAiBjO,GAAS,SAASE,GACpD,OAAO8N,EAAqB1L,KAAKtC,EAAQE,EAC7C,GACA,EARqC4N,4CGSrCM,GAJA,SAAsBjN,GACpB,OAAgB,MAATA,GAAiC,iBAATA,CACjC,qCC1BA,IAAIkN,kCCAJ,IAAI9I,EAAa9G,KACb6P,EAAe/L,YAgBnBgM,GAJA,SAAyBpN,GACvB,OAAOmN,EAAanN,IAVR,sBAUkBoE,EAAWpE,EAC3C,EDfsB1C,GAClB6P,EAAe/L,KAGf+B,EAAcV,OAAO3B,UAGrBsC,EAAiBD,EAAYC,eAG7ByJ,EAAuB1J,EAAY0J,qBAoBnCQ,EAAcH,EAAgB,WAAa,OAAOI,SAAU,CAA9B,IAAsCJ,EAAkB,SAASlN,GACjG,OAAOmN,EAAanN,IAAUoD,EAAejC,KAAKnB,EAAO,YACtD6M,EAAqB1L,KAAKnB,EAAO,SACtC,SAEAuN,GAAiBF,wGEnCbxK,EAAOvF,KACPkQ,cCgBJC,GAJA,WACE,OAAO,CACT,GDXIC,EAA4C5N,IAAYA,EAAQ6N,UAAY7N,EAG5E8N,EAAaF,GAA4CG,IAAWA,EAAOF,UAAYE,EAMvFC,EAHgBF,GAAcA,EAAW9N,UAAY4N,EAG5B7K,EAAKiL,YAAS,EAsBvCC,GAnBiBD,EAASA,EAAOC,cAAW,IAmBfP,EAEjCK,EAAA/N,QAAiBiO,sBArCblL,EACA2K,EAGAE,EAGAE,EAMAE,EAsBAC,4CEDJC,GALA,SAAkBhO,GAChB,MAAuB,iBAATA,GACZA,MAAcA,EAAQ,GAAK,GAAKA,GA9Bb,gBA+BvB,wKChCA,IAAIiO,kCCAJ,IAAI7J,EAAa9G,KACb4Q,EAAW9M,KACX+L,EAAe5L,KA8Bf4M,EAAiB,CAAA,SACrBA,EAZiB,yBAYYA,EAXZ,yBAYjBA,EAXc,sBAWYA,EAVX,uBAWfA,EAVe,uBAUYA,EATZ,uBAUfA,EATsB,8BASYA,EARlB,wBAShBA,EARgB,yBAQY,EAC5BA,EAjCc,sBAiCYA,EAhCX,kBAiCfA,EApBqB,wBAoBYA,EAhCnB,oBAiCdA,EApBkB,qBAoBYA,EAhChB,iBAiCdA,EAhCe,kBAgCYA,EA/Bb,qBAgCdA,EA/Ba,gBA+BYA,EA9BT,mBA+BhBA,EA9BgB,mBA8BYA,EA7BZ,mBA8BhBA,EA7Ba,gBA6BYA,EA5BT,mBA6BhBA,EA5BiB,qBA4BY,EAc7BC,GALA,SAA0BpO,GACxB,OAAOmN,EAAanN,IAClBkO,EAASlO,EAAMI,WAAa+N,EAAe/J,EAAWpE,GAC1D,EDzDuB1C,GACnB+Q,cEYJC,GANA,SAAmB3P,GACjB,OAAO,SAASqB,GACd,OAAOrB,EAAKqB,EAChB,CACA,GFTIuO,gDGFAhM,EAAajF,KAGboQ,EAA4C5N,IAAYA,EAAQ6N,UAAY7N,EAG5E8N,EAAaF,GAA4CG,IAAWA,EAAOF,UAAYE,EAMvFW,EAHgBZ,GAAcA,EAAW9N,UAAY4N,GAGtBnL,EAAWkM,QAG1CF,aACF,IAIE,OAFYX,GAAcA,EAAWc,SAAWd,EAAWc,QAAQ,QAAQC,OAOpEH,GAAeA,EAAYI,SAAWJ,EAAYI,QAAQ,OACrE,OAAW/K,GAAG,CACd,IAEAgK,EAAA/N,QAAiByO,sBA7BbhM,EAGAmL,EAGAE,EAMAY,EAGAD,EHbWhN,GAGXsN,EAAmBN,GAAYA,EAASO,aAmBxCA,EAAeD,EAAmBR,EAAUQ,GAAoBZ,SAEpEc,GAAiBD,qCI1BjB,IAAIE,cCmBJC,GAVA,SAAmBC,EAAGC,GAIpB,IAHA,IAAIlO,GAAQ,EACR6C,EAASjD,MAAMqO,KAEVjO,EAAQiO,GACfpL,EAAO7C,GAASkO,EAASlO,GAE3B,OAAO6C,CACT,GDhBIuJ,EAAcjM,KACd4K,EAAUzK,KACVwM,EAAWrM,KACX0N,kCEHJ,IAGIC,EAAW,0BAoBfC,GAVA,SAAiBtP,EAAOI,GACtB,IAAI+D,SAAcnE,EAGlB,SAFAI,EAAmB,MAAVA,EAfY,iBAewBA,KAGlC,UAAR+D,GACU,UAARA,GAAoBkL,EAAS1J,KAAK3F,KAChCA,GAAQ,GAAMA,EAAQ,GAAK,GAAKA,EAAQI,CACjD,EFlBc0B,GACVgN,EAAehG,KAMf1F,EAHcX,OAAO3B,UAGQsC,sBAqCjCmM,GA3BA,SAAuBvP,EAAOwP,GAC5B,IAAIC,EAAQzD,EAAQhM,GAChB0P,GAASD,GAASpC,EAAYrN,GAC9B2P,GAAUF,IAAUC,GAAS3B,EAAS/N,GACtC4P,GAAUH,IAAUC,IAAUC,GAAUb,EAAa9O,GACrD6P,EAAcJ,GAASC,GAASC,GAAUC,EAC1C9L,EAAS+L,EAAcb,EAAUhP,EAAMI,OAAQ0P,QAAU,GACzD1P,EAAS0D,EAAO1D,OAEpB,IAAA,IAAS/D,KAAO2D,GACTwP,IAAapM,EAAejC,KAAKnB,EAAO3D,IACvCwT,IAEQ,UAAPxT,GAECsT,IAAkB,UAAPtT,GAA0B,UAAPA,IAE9BuT,IAAkB,UAAPvT,GAA0B,cAAPA,GAA8B,cAAPA,IAEtD+S,EAAQ/S,EAAK+D,KAElB0D,EAAOjC,KAAKxF,GAGhB,OAAOyH,CACT,qCG9CA,IAGIiM,eCWJC,GANA,SAAiBrR,EAAMsR,GACrB,OAAO,SAASC,GACd,OAAOvR,EAAKsR,EAAUC,GAC1B,CACA,IDTyBzN,OAAOmC,KAAMnC,eAEtC0N,GAAiBJ,qCELjB,IAAIK,kCCCJ,IAAIjN,EAAcV,OAAO3B,iBAgBzBuP,GAPA,SAAqBrQ,GACnB,IAAIsQ,EAAOtQ,GAASA,EAAMuQ,YAG1B,OAAOvQ,KAFqB,mBAARsQ,GAAsBA,EAAKxP,WAAcqC,EAG/D,EDfkB7F,GACdyS,EAAa3O,KAMbgC,EAHcX,OAAO3B,UAGQsC,sBAsBjCoN,GAbA,SAAkB3R,GAChB,IAAKuR,EAAYvR,GACf,OAAOkR,EAAWlR,GAEpB,IAAIiF,EAAS,GACb,IAAA,IAASzH,KAAOoG,OAAO5D,GACjBuE,EAAejC,KAAKtC,EAAQxC,IAAe,eAAPA,GACtCyH,EAAOjC,KAAKxF,GAGhB,OAAOyH,CACT,qCE3BA,IAAI2M,EAAgBnT,KAChBoT,EAAWtP,KACXuP,kCCFJ,IAAIzL,EAAa5H,KACb4Q,EAAW9M,YA+BfwP,GAJA,SAAqB5Q,GACnB,OAAgB,MAATA,GAAiBkO,EAASlO,EAAMI,UAAY8E,EAAWlF,EAChE,ED5BkBuB,UAkClBsP,GAJA,SAAchS,GACZ,OAAO8R,EAAY9R,GAAU4R,EAAc5R,GAAU6R,EAAS7R,EAChE,qCElCA,IAAIiS,kCCAJ,IAAIC,EAAiBzT,KACjB0T,EAAa5P,KACbwD,EAAOrD,YAaX0P,GAJA,SAAoBpS,GAClB,OAAOkS,EAAelS,EAAQ+F,EAAMoM,EACtC,EDbiB1T,GASb8F,EAHcX,OAAO3B,UAGQsC,sBAgFjC8N,GAjEA,SAAsBrS,EAAQoB,EAAO+J,EAASC,EAAYC,EAAWC,GACnE,IAAIC,EAtBqB,EAsBTJ,EACZmH,EAAWL,EAAWjS,GACtBuS,EAAYD,EAAS/Q,OAIzB,GAAIgR,GAHWN,EAAW7Q,GACDG,SAEMgK,EAC7B,OAAO,EAGT,IADA,IAAInJ,EAAQmQ,EACLnQ,KAAS,CACd,IAAI5E,EAAM8U,EAASlQ,GACnB,KAAMmJ,EAAY/N,KAAO4D,EAAQmD,EAAejC,KAAKlB,EAAO5D,IAC1D,OAAO,CAEb,CAEE,IAAIgV,EAAalH,EAAM/H,IAAIvD,GACvB2L,EAAaL,EAAM/H,IAAInC,GAC3B,GAAIoR,GAAc7G,EAChB,OAAO6G,GAAcpR,GAASuK,GAAc3L,EAE9C,IAAIiF,GAAS,EACbqG,EAAMhI,IAAItD,EAAQoB,GAClBkK,EAAMhI,IAAIlC,EAAOpB,GAGjB,IADA,IAAIyS,EAAWlH,IACNnJ,EAAQmQ,GAAW,CAE1B,IAAIG,EAAW1S,EADfxC,EAAM8U,EAASlQ,IAEX0J,EAAW1K,EAAM5D,GAErB,GAAI4N,EACF,IAAIW,EAAWR,EACXH,EAAWU,EAAU4G,EAAUlV,EAAK4D,EAAOpB,EAAQsL,GACnDF,EAAWsH,EAAU5G,EAAUtO,EAAKwC,EAAQoB,EAAOkK,GAGzD,UAAmB,IAAbS,EACG2G,IAAa5G,GAAYT,EAAUqH,EAAU5G,EAAUX,EAASC,EAAYE,GAC7ES,GACD,CACL9G,GAAS,EACT,KACN,CACIwN,IAAaA,EAAkB,eAAPjV,EAC5B,CACE,GAAIyH,IAAWwN,EAAU,CACvB,IAAIE,EAAU3S,EAAO0R,YACjBkB,EAAUxR,EAAMsQ,YAGhBiB,GAAWC,KACV,gBAAiB5S,MAAU,gBAAiBoB,IACzB,mBAAXuR,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvD3N,GAAS,EAEf,CAGE,OAFAqG,EAAc,OAAEtL,GAChBsL,EAAc,OAAElK,GACT6D,CACT,qCEvFA,IAAI4N,kCCAJ,IAIIA,EAJYpU,IAID0I,CAHJ5E,KAGoB,mBAE/BuQ,GAAiBD,EDNFpU,GACXyI,EAAM3E,KACNwQ,kCEFJ,IAIIA,EAJYtU,IAIF0I,CAHH5E,KAGmB,kBAE9ByQ,GAAiBD,EFJHrQ,GACVuQ,kCGHJ,IAIIA,EAJYxU,IAIN0I,CAHC5E,KAGe,cAE1B2Q,GAAiBD,EHHPpQ,GACNsQ,kCIJJ,IAIIA,EAJY1U,IAIF0I,CAHH5E,KAGmB,kBAE9B6Q,GAAiBD,EJFHlQ,GACVsC,EAAa0E,KACb1D,EAAW8M,KAGXC,EAAS,eAETC,EAAa,mBACbC,EAAS,eACTC,EAAa,mBAEbC,EAAc,oBAGdC,EAAqBpN,EAASsM,GAC9Be,EAAgBrN,EAASW,GACzB2M,EAAoBtN,EAASwM,GAC7Be,EAAgBvN,EAAS0M,GACzBc,EAAoBxN,EAAS4M,GAS7Ba,EAASzO,SAGRsN,GAAYmB,EAAO,IAAInB,EAAS,IAAIoB,YAAY,MAAQP,GACxDxM,GAAO8M,EAAO,IAAI9M,IAAQoM,GAC1BP,GAAWiB,EAAOjB,EAAQmB,YAAcX,GACxCN,GAAOe,EAAO,IAAIf,IAAQO,GAC1BL,GAAWa,EAAO,IAAIb,IAAYM,KACrCO,EAAS,SAAS7S,GAChB,IAAI8D,EAASM,EAAWpE,GACpBsQ,EA/BQ,mBA+BDxM,EAAsB9D,EAAMuQ,iBAAc,EACjDyC,EAAa1C,EAAOlL,EAASkL,GAAQ,GAEzC,GAAI0C,EACF,OAAQA,GACN,KAAKR,EAAoB,OAAOD,EAChC,KAAKE,EAAe,OAAON,EAC3B,KAAKO,EAAmB,OAAON,EAC/B,KAAKO,EAAe,OAAON,EAC3B,KAAKO,EAAmB,OAAON,EAGnC,OAAOxO,CACX,GAGAmP,GAAiBJ,qCKzDjB,IAAIK,kCCAJ,IAAInK,EAAQzL,KACR0N,EAAc5J,KACd+R,EAAa5R,KACb6R,EAAe1R,KACfmR,EAAS/Q,KACTkK,EAAUlD,KACViF,EAAWmE,KACXpD,EAAeuE,KAMfC,EAAU,qBACVC,EAAW,iBACXC,EAAY,kBAMZpQ,EAHcX,OAAO3B,UAGQsC,sBA6DjCqQ,GA7CA,SAAyB5U,EAAQoB,EAAO+J,EAASC,EAAYC,EAAWC,GACtE,IAAIuJ,EAAW1H,EAAQnN,GACnB8U,EAAW3H,EAAQ/L,GACnB2T,EAASF,EAAWH,EAAWV,EAAOhU,GACtCgV,EAASF,EAAWJ,EAAWV,EAAO5S,GAKtC6T,GAHJF,EAASA,GAAUN,EAAUE,EAAYI,IAGhBJ,EACrBO,GAHJF,EAASA,GAAUP,EAAUE,EAAYK,IAGhBL,EACrBQ,EAAYJ,GAAUC,EAE1B,GAAIG,GAAajG,EAASlP,GAAS,CACjC,IAAKkP,EAAS9N,GACZ,OAAO,EAETyT,GAAW,EACXI,GAAW,CACf,CACE,GAAIE,IAAcF,EAEhB,OADA3J,IAAUA,EAAQ,IAAIpB,GACd2K,GAAY5E,EAAajQ,GAC7BmM,EAAYnM,EAAQoB,EAAO+J,EAASC,EAAYC,EAAWC,GAC3DgJ,EAAWtU,EAAQoB,EAAO2T,EAAQ5J,EAASC,EAAYC,EAAWC,GAExE,KArDyB,EAqDnBH,GAAiC,CACrC,IAAIiK,EAAeH,GAAY1Q,EAAejC,KAAKtC,EAAQ,eACvDqV,EAAeH,GAAY3Q,EAAejC,KAAKlB,EAAO,eAE1D,GAAIgU,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAepV,EAAOmB,QAAUnB,EAC/CuV,EAAeF,EAAejU,EAAMD,QAAUC,EAGlD,OADAkK,IAAUA,EAAQ,IAAIpB,GACfmB,EAAUiK,EAAcC,EAAcpK,EAASC,EAAYE,EACxE,CACA,CACE,QAAK6J,IAGL7J,IAAUA,EAAQ,IAAIpB,GACfqK,EAAavU,EAAQoB,EAAO+J,EAASC,EAAYC,EAAWC,GACrE,EDhFsB7M,GAClB6P,EAAe/L,YA0BnBiT,GAVA,SAASC,EAAYtU,EAAOC,EAAO+J,EAASC,EAAYE,GACtD,OAAInK,IAAUC,IAGD,MAATD,GAA0B,MAATC,IAAmBkN,EAAanN,KAAWmN,EAAalN,GACpED,GAAUA,GAASC,GAAUA,EAE/BiT,EAAgBlT,EAAOC,EAAO+J,EAASC,EAAYqK,EAAanK,GACzE,2EEVmB,oBAATvH,MAAuBA,KATgB2R,EASH,WAC9C,OAAA,SAA0BC,GAEhB,IAAIC,EAAmB,CAAA,EAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAU7U,QAGnC,IAAI+N,EAAS4G,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACH/U,QAAS,CAAA,GAUV,OANA0U,EAAQG,GAAUxT,KAAK0M,EAAO/N,QAAS+N,EAAQA,EAAO/N,QAAS4U,GAG/D7G,EAAOgH,GAAI,EAGJhH,EAAO/N,OACzB,CAoCU,OAhCA4U,EAAoBI,EAAIN,EAGxBE,EAAoBK,EAAIN,EAGxBC,EAAoBtY,EAAI,SAAS0D,EAAS1B,EAAM4W,GAC3CN,EAAoBO,EAAEnV,EAAS1B,IAClCqE,OAAOyS,eAAepV,EAAS1B,EAAM,CACpC+W,cAAc,EACdC,YAAY,EACZhT,IAAK4S,GAGlB,EAGUN,EAAoBxF,EAAI,SAASrB,GAChC,IAAImH,EAASnH,GAAUA,EAAOwH,WAAA,WACL,OAAOxH,EAAgB,OAAE,EAAA,WACnB,OAAOA,CAAO,EAE7C,OADA6G,EAAoBtY,EAAE4Y,EAAQ,IAAKA,GAC5BA,CAClB,EAGUN,EAAoBO,EAAI,SAASpW,EAAQyW,GAAY,OAAO7S,OAAO3B,UAAUsC,eAAejC,KAAKtC,EAAQyW,EAAU,EAGnHZ,EAAoBa,EAAI,GAGjBb,EAAoBA,EAAoBc,EAAI,IAC7D,CA/DA,CAiEU,CAAA,SAEM3H,EAAQ/N,EAAS4U,GAIjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIyV,EAAcf,EAAoB,IAClCgB,EAAWhB,EAAoB,IAC/BiB,EAASjB,EAAoB,IAC7BkB,EAAWlB,EAAoB,IAC/BmB,EAAWnB,EAAoB,IAC/BoB,EAAUpB,EAAoB,IAC9BqB,EAAUrB,EAAoB,IAC9BsB,EAAStB,EAAoB,IAC7BuB,EAAevB,EAAoB,IACnCwB,EAAUxB,EAAoB,IAC9ByB,EAAUzB,EAAoB,IAC9B0B,EAAU1B,EAAoB,IAC9B2B,EAAW3B,EAAoB,GAC/B4B,EAAY,CACZC,MAAOF,EAASE,MAChBC,OAAQH,EAASG,OACjBC,KAAMJ,EAASI,KACfC,MAAOL,EAASK,MAChBC,SAAUN,EAASM,SACnBC,UAAWnB,EAAYoB,QACvBC,OAAQpB,EAASmB,QACjBE,KAAMpB,EAAOkB,QACbG,MAAOjB,EAAQc,QACfI,OAAQrB,EAASiB,QACjBK,MAAOpB,EAAQe,QACfM,OAAQtB,EAASgB,QACjBO,KAAMpB,EAAOa,QACbQ,WAAY,CACRC,UAAWrB,EAAaY,QACxBU,MAAOrB,EAAQW,QACfW,MAAOrB,EAAQU,QACfY,MAAOrB,EAAQS,UAGvB/W,EAAQ+W,QAAUP,CAGlB,EAAA,SAEgBzI,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIgY,EAAA,SAA0CC,GAE1C,SAASD,EAAenM,GACpB,IAAIqM,EAAQ3X,KAKZ,OAJAsL,EAAU,eAAiBA,GAC3BqM,EAAQD,EAAO9W,KAAKZ,KAAMsL,IAAYtL,MAChCsL,QAAUA,EAChBqM,EAAM9Z,KAAO8Z,EAAM3H,YAAYnS,KACxB8Z,CACf,CACI,OATAP,EAAUK,EAAgBC,GASnBD,EAVP,CAWF7Z,OACF2B,EAAQkY,eAAiBA,EACzB,IAKIzB,EACOA,EANP4B,EAAa,CAAA,EACbC,EAAU,CAAA,EACVC,EAAO,CAAA,EACP1J,EAAQ,CAAA,EAwCZ,SAAS+H,EAAMA,EAAO4B,GAElB,IAAIC,EACJ,QAFc,IAAVD,IAAoBA,EAAQ/B,EAAMiC,KAEjB,iBAAV9B,EACP6B,EAAQ5J,EAAM+H,IAAUyB,EAAWzB,WAG9BA,aAAiBU,MAAQV,EAAgB,WAAM+B,KAAKC,UACzDH,EAAQ5J,EAAY,UAC5B,GAC8B,iBAAV+H,EACRA,EAAQH,EAAMoC,MAAQpC,EAAMqC,MAC5BL,EAAQ5J,EAAa,MAEhB+H,EAAQH,EAAMoC,MAAQpC,EAAMsC,SACjCN,EAAQ5J,EAAc,aAElC,GACa+H,aAAiBoC,YAAa,CACnC,IAAIC,GAASrC,EAAMsC,aAAa,UAAY,IAAIC,MAAM,OACtD,IAAA,IAASrE,KAAKmE,EAEV,GADAR,EAAQH,EAAQW,EAAMnE,IAElB,MAER2D,EAAQA,GAASF,EAAK3B,EAAMwC,QACpC,CACI,OAAa,MAATX,EACO,KAEPD,EAAQ/B,EAAMoC,MAAQJ,EAAMD,OAASA,EAAQ/B,EAAM4C,KAAOZ,EAAMD,MACzDC,EACJ,IACX,CAxEAzY,EAAQsZ,SAAW,UAER7C,EAYRA,EAAQzW,EAAQyW,QAAUzW,EAAQyW,MAAQ,CAAA,IAXnCA,EAAY,KAAI,GAAK,OAC3BA,EAAMA,EAAa,MAAI,IAAM,QAC7BA,EAAMA,EAAiB,UAAI,IAAM,YACjCA,EAAMA,EAAY,KAAI,IAAM,OAC5BA,EAAMA,EAAc,OAAI,GAAK,SAC7BA,EAAMA,EAAa,MAAI,IAAM,QAC7BA,EAAMA,EAAkB,WAAI,IAAM,aAClCA,EAAMA,EAAmB,YAAI,GAAK,cAClCA,EAAMA,EAAuB,gBAAI,GAAK,kBACtCA,EAAMA,EAAwB,iBAAI,GAAK,mBACvCA,EAAMA,EAAW,IAAI,IAAM,MAa/BzW,EAAQ0W,OAXR,SAAgB6C,EAAOrZ,GACnB,IAAIuY,EAAQ7B,EAAM2C,GAClB,GAAa,MAATd,EACA,MAAM,IAAIP,EAAe,oBAAsBqB,EAAQ,SAE3D,IAAIC,EAAYf,EACZlZ,EAEJga,aAAiBZ,MAAQY,EAAgB,WAAMZ,KAAKC,UAAYW,EAAQC,EAAU9C,OAAOxW,GACzF,OAAO,IAAIsZ,EAAUja,EAAMW,EAC/B,EAaAF,EAAQ2W,KAXR,SAASA,EAAKpX,EAAMka,GAEhB,YADe,IAAXA,IAAqBA,GAAS,GACtB,MAARla,EACO,KAEmB,MAA1BA,EAAKS,EAAQsZ,UACN/Z,EAAKS,EAAQsZ,UAAUI,KAC9BD,EACO9C,EAAKpX,EAAKoa,WAAYF,GAC1B,IACX,EAoCAzZ,EAAQ4W,MAAQA,EA6ChB5W,EAAQ6W,SA5CR,SAASA,IAEL,IADA,IAAI+C,EAAc,GACTC,EAAK,EAAGA,EAAKrM,UAAUlN,OAAQuZ,IACpCD,EAAYC,GAAMrM,UAAUqM,GAEhC,GAAID,EAAYtZ,OAAS,EACrB,OAAOsZ,EAAYvS,IAAI,SAAU/K,GAC7B,OAAOua,EAASva,EAC5B,GAEI,IAAIwd,EAAaF,EAAY,GAC7B,GAAmC,iBAAxBE,EAAWC,UAAwD,iBAAxBD,EAAWE,SAC7D,MAAM,IAAI9B,EAAe,sBACjC,GACqC,aAAxB4B,EAAWC,SAChB,MAAM,IAAI7B,EAAe,kCA2B7B,OAzBArJ,EAAMiL,EAAWC,UAAYD,EAAWE,UAAYF,EAClB,iBAAvBA,EAAWG,QAClB5B,EAAWyB,EAAWG,SAAWH,GAGL,MAAxBA,EAAWI,YACX5B,EAAQwB,EAAWI,WAAaJ,GAEV,MAAtBA,EAAWV,UACPrY,MAAMmL,QAAQ4N,EAAWV,SACzBU,EAAWV,QAAUU,EAAWV,QAAQ/R,IAAI,SAAU+R,GAClD,OAAOA,EAAQe,aACnC,GAGgBL,EAAWV,QAAUU,EAAWV,QAAQe,eAE7BpZ,MAAMmL,QAAQ4N,EAAWV,SAAWU,EAAWV,QAAU,CAACU,EAAWV,UAC3E/N,QAAQ,SAAUxH,GACN,MAAb0U,EAAK1U,IAAwC,MAAxBiW,EAAWI,YAChC3B,EAAK1U,GAAOiW,EAEhC,KAGWA,CACX,CAIA,EAAA,SAEgB/L,EAAQ/N,EAAS4U,GAEjC,IAAIwF,EAAOxF,EAAoB,IAC3ByF,EAAQzF,EAAoB,IAC5B0F,EAAS1F,EAAoB,GAC7B2F,EAAK3F,EAAoB,IAGzB4F,EAAiBxK,OAAOyK,aAAa,GAGrCC,EAAQ,SAAUC,GAEhB5Z,MAAMmL,QAAQyO,GAChBla,KAAKka,IAAMA,EACK,MAAPA,GAAe5Z,MAAMmL,QAAQyO,EAAIA,KAC1Cla,KAAKka,IAAMA,EAAIA,IAEfla,KAAKka,IAAM,EAEf,EAGAD,EAAM1Z,UAAU4Z,OAAS,SAAUC,EAAMxC,GACvC,IAAIyC,EAAQ,CAAA,EACZ,OAAoB,IAAhBD,EAAKva,OAAqBG,MAC9Bqa,EAAMF,OAASC,EACG,MAAdxC,GAA4C,iBAAfA,GAA2B1V,OAAOmC,KAAKuT,GAAY/X,OAAS,IAC3Fwa,EAAMzC,WAAaA,GAEd5X,KAAKsB,KAAK+Y,GACnB,EAEAJ,EAAM1Z,UAAkB,OAAI,SAAUV,GACpC,OAAIA,GAAU,EAAUG,KACjBA,KAAKsB,KAAK,CAAEgZ,OAAUza,GAC/B,EAEAoa,EAAM1Z,UAAUga,OAAS,SAAU1a,EAAQ+X,GACzC,GAAI/X,GAAU,EAAG,OAAOG,KACxB,IAAIqa,EAAQ,CAAEE,OAAQ1a,GAItB,OAHkB,MAAd+X,GAA4C,iBAAfA,GAA2B1V,OAAOmC,KAAKuT,GAAY/X,OAAS,IAC3Fwa,EAAMzC,WAAaA,GAEd5X,KAAKsB,KAAK+Y,EACnB,EAEAJ,EAAM1Z,UAAUe,KAAO,SAAU+Y,GAC/B,IAAI3Z,EAAQV,KAAKka,IAAIra,OACjB2a,EAASxa,KAAKka,IAAIxZ,EAAQ,GAE9B,GADA2Z,EAAQR,GAAO,EAAM,CAAA,EAAIQ,GACH,iBAAXG,EAAqB,CAC9B,GAA+B,iBAApBH,EAAc,QAA8C,iBAArBG,EAAe,OAE/D,OADAxa,KAAKka,IAAIxZ,EAAQ,GAAK,CAAE4Z,OAAUE,EAAe,OAAIH,EAAc,QAC5Dra,KAIT,GAAgC,iBAArBwa,EAAe,QAAkC,MAAhBH,EAAMF,SAChDzZ,GAAS,EAEa,iBADtB8Z,EAASxa,KAAKka,IAAIxZ,EAAQ,KAGxB,OADAV,KAAKka,IAAIO,QAAQJ,GACVra,KAGX,GAAI4Z,EAAMS,EAAMzC,WAAY4C,EAAO5C,YAAa,CAC9C,GAA4B,iBAAjByC,EAAMF,QAAgD,iBAAlBK,EAAOL,OAGpD,OAFAna,KAAKka,IAAIxZ,EAAQ,GAAK,CAAEyZ,OAAQK,EAAOL,OAASE,EAAMF,QACtB,iBAArBE,EAAMzC,aAAyB5X,KAAKka,IAAIxZ,EAAQ,GAAGkX,WAAayC,EAAMzC,YAC1E5X,KACf,GAAyC,iBAAjBqa,EAAME,QAAgD,iBAAlBC,EAAOD,OAG3D,OAFAva,KAAKka,IAAIxZ,EAAQ,GAAK,CAAE6Z,OAAQC,EAAOD,OAASF,EAAME,QACtB,iBAArBF,EAAMzC,aAAyB5X,KAAKka,IAAIxZ,EAAQ,GAAGkX,WAAayC,EAAMzC,YAC1E5X,IAEf,CACA,CAME,OALIU,IAAUV,KAAKka,IAAIra,OACrBG,KAAKka,IAAI5Y,KAAK+Y,GAEdra,KAAKka,IAAI7Z,OAAOK,EAAO,EAAG2Z,GAErBra,IACT,EAEAia,EAAM1Z,UAAUma,KAAO,WACrB,IAAIF,EAASxa,KAAKka,IAAIla,KAAKka,IAAIra,OAAS,GAIxC,OAHI2a,GAAUA,EAAOD,SAAWC,EAAO5C,YACrC5X,KAAKka,IAAIvZ,MAEJX,IACT,EAEAia,EAAM1Z,UAAUoa,OAAS,SAAUvR,GACjC,OAAOpJ,KAAKka,IAAIS,OAAOvR,EACzB,EAEA6Q,EAAM1Z,UAAUqK,QAAU,SAAUxB,GAClCpJ,KAAKka,IAAItP,QAAQxB,EACnB,EAEA6Q,EAAM1Z,UAAUqG,IAAM,SAAUwC,GAC9B,OAAOpJ,KAAKka,IAAItT,IAAIwC,EACtB,EAEA6Q,EAAM1Z,UAAUqa,UAAY,SAAUxR,GACpC,IAAIyR,EAAS,GAAIC,EAAS,GAK1B,OAJA9a,KAAK4K,QAAQ,SAASkP,IACP1Q,EAAU0Q,GAAMe,EAASC,GAC/BxZ,KAAKwY,EAChB,GACS,CAACe,EAAQC,EAClB,EAEAb,EAAM1Z,UAAUwa,OAAS,SAAU3R,EAAW4R,GAC5C,OAAOhb,KAAKka,IAAIa,OAAO3R,EAAW4R,EACpC,EAEAf,EAAM1Z,UAAU0a,aAAe,WAC7B,OAAOjb,KAAK+a,OAAO,SAAUlb,EAAQqb,GACnC,OAAIA,EAAKf,OACAta,EAASia,EAAGja,OAAOqb,GACjBA,EAAKZ,OACPza,EAASqb,EAAKZ,OAEhBza,CACX,EAAK,EACL,EAEAoa,EAAM1Z,UAAUV,OAAS,WACvB,OAAOG,KAAK+a,OAAO,SAAUlb,EAAQqb,GACnC,OAAOrb,EAASia,EAAGja,OAAOqb,EAC9B,EAAK,EACL,EAEAjB,EAAM1Z,UAAU4a,MAAQ,SAAUC,EAAOC,GACvCD,EAAQA,GAAS,EACE,iBAARC,IAAkBA,EAAMC,KAInC,IAHA,IAAIpB,EAAM,GACNqB,EAAOzB,EAAG0B,SAASxb,KAAKka,KACxBxZ,EAAQ,EACLA,EAAQ2a,GAAOE,EAAKE,WAAW,CACpC,IAAIC,EACAhb,EAAQ0a,EACVM,EAASH,EAAKI,KAAKP,EAAQ1a,IAE3Bgb,EAASH,EAAKI,KAAKN,EAAM3a,GACzBwZ,EAAI5Y,KAAKoa,IAEXhb,GAASoZ,EAAGja,OAAO6b,EACvB,CACE,OAAO,IAAIzB,EAAMC,EACnB,EAGAD,EAAM1Z,UAAUqb,QAAU,SAAUlc,GAClC,IAAImc,EAAW/B,EAAG0B,SAASxb,KAAKka,KAC5B4B,EAAYhC,EAAG0B,SAAS9b,EAAMwa,KAC9BA,EAAM,GACN6B,EAAaD,EAAUE,OAC3B,GAAkB,MAAdD,GAAmD,iBAAtBA,EAAWxB,QAAgD,MAAzBwB,EAAWnE,WAAoB,CAEhG,IADA,IAAIqE,EAAYF,EAAWxB,OACI,WAAxBsB,EAASK,YAA2BL,EAASM,cAAgBF,GAClEA,GAAaJ,EAASM,aACtBjC,EAAI5Y,KAAKua,EAASF,QAEhBI,EAAWxB,OAAS0B,EAAY,GAClCH,EAAUH,KAAKI,EAAWxB,OAAS0B,EAEzC,CAEE,IADA,IAAIG,EAAQ,IAAInC,EAAMC,GACf2B,EAASJ,WAAaK,EAAUL,WACrC,GAA6B,WAAzBK,EAAUI,WACZE,EAAM9a,KAAKwa,EAAUH,aAC3B,GAAuC,WAAxBE,EAASK,WAClBE,EAAM9a,KAAKua,EAASF,YACf,CACL,IAAI9b,EAASwc,KAAKC,IAAIT,EAASM,aAAcL,EAAUK,cACnDI,EAASV,EAASF,KAAK9b,GACvB2c,EAAUV,EAAUH,KAAK9b,GAC7B,GAA8B,iBAAnB2c,EAAQjC,OAAqB,CACtC,IAAIF,EAAQ,CAAA,EACiB,iBAAlBkC,EAAOhC,OAChBF,EAAME,OAAS1a,EAEfwa,EAAMF,OAASoC,EAAOpC,OAGxB,IAAIvC,EAAakC,EAAGlC,WAAWgE,QAAQW,EAAO3E,WAAY4E,EAAQ5E,WAAqC,iBAAlB2E,EAAOhC,QAK5F,GAJI3C,MAAkBA,WAAaA,GACnCwE,EAAM9a,KAAK+Y,IAGNyB,EAAUL,WAAa7B,EAAMwC,EAAMlC,IAAIkC,EAAMlC,IAAIra,OAAS,GAAIwa,GAAQ,CACzE,IAAIoC,EAAO,IAAIxC,EAAM4B,EAASY,QAC9B,OAAOL,EAAMM,OAAOD,GAAM/B,MACpC,CAIA,KAA8C,iBAAtB8B,EAAgB,QAA2C,iBAAlBD,EAAOhC,QAChE6B,EAAM9a,KAAKkb,EAEnB,CAEE,OAAOJ,EAAM1B,MACf,EAEAT,EAAM1Z,UAAUmc,OAAS,SAAUhd,GACjC,IAAI0c,EAAQ,IAAInC,EAAMja,KAAKka,IAAIiB,SAK/B,OAJIzb,EAAMwa,IAAIra,OAAS,IACrBuc,EAAM9a,KAAK5B,EAAMwa,IAAI,IACrBkC,EAAMlC,IAAMkC,EAAMlC,IAAIwC,OAAOhd,EAAMwa,IAAIiB,MAAM,KAExCiB,CACT,EAEAnC,EAAM1Z,UAAUoZ,KAAO,SAAUja,EAAOgB,GACtC,GAAIV,KAAKka,MAAQxa,EAAMwa,IACrB,OAAO,IAAID,EAEb,IAAI0C,EAAU,CAAC3c,KAAMN,GAAOkH,IAAI,SAAUwV,GACxC,OAAOA,EAAMxV,IAAI,SAAUkT,GACzB,GAAiB,MAAbA,EAAGK,OACL,MAA4B,iBAAdL,EAAGK,OAAsBL,EAAGK,OAASJ,EAGrD,MAAM,IAAInc,MAAM,kBADJwe,IAAU1c,EAAS,KAAO,QACI,gBAChD,GAAOkd,KAAK,GACZ,GACMR,EAAQ,IAAInC,EACZ4C,EAAalD,EAAKgD,EAAQ,GAAIA,EAAQ,GAAIjc,GAC1Cmb,EAAW/B,EAAG0B,SAASxb,KAAKka,KAC5B4B,EAAYhC,EAAG0B,SAAS9b,EAAMwa,KA6BlC,OA5BA2C,EAAWjS,QAAQ,SAAUkS,GAE3B,IADA,IAAIjd,EAASid,EAAU,GAAGjd,OACnBA,EAAS,GAAG,CACjB,IAAIkd,EAAW,EACf,OAAQD,EAAU,IAChB,KAAKnD,EAAKqD,OACRD,EAAWV,KAAKC,IAAIR,EAAUK,aAActc,GAC5Cuc,EAAM9a,KAAKwa,EAAUH,KAAKoB,IAC1B,MACF,KAAKpD,EAAKsD,OACRF,EAAWV,KAAKC,IAAIzc,EAAQgc,EAASM,cACrCN,EAASF,KAAKoB,GACdX,EAAc,OAAEW,GAChB,MACF,KAAKpD,EAAKuD,MACRH,EAAWV,KAAKC,IAAIT,EAASM,aAAcL,EAAUK,aAActc,GACnE,IAAI0c,EAASV,EAASF,KAAKoB,GACvBP,EAAUV,EAAUH,KAAKoB,GACzBnD,EAAM2C,EAAOpC,OAAQqC,EAAQrC,QAC/BiC,EAAM7B,OAAOwC,EAAUjD,EAAGlC,WAAW+B,KAAK4C,EAAO3E,WAAY4E,EAAQ5E,aAErEwE,EAAM9a,KAAKkb,GAAiB,OAAEO,GAIpCld,GAAUkd,CAChB,CACA,GACSX,EAAM1B,MACf,EAEAT,EAAM1Z,UAAU4c,SAAW,SAAU/T,EAAWgU,GAC9CA,EAAUA,GAAW,KAIrB,IAHA,IAAI7B,EAAOzB,EAAG0B,SAASxb,KAAKka,KACxBmD,EAAO,IAAIpD,EACX5F,EAAI,EACDkH,EAAKE,WAAW,CACrB,GAAwB,WAApBF,EAAKW,WAAyB,OAClC,IAAIK,EAAShB,EAAKS,OACdZ,EAAQtB,EAAGja,OAAO0c,GAAUhB,EAAKY,aACjCzb,EAAiC,iBAAlB6b,EAAOpC,OACxBoC,EAAOpC,OAAOmD,QAAQF,EAAShC,GAASA,GAAQ,EAClD,GAAI1a,EAAQ,EACV2c,EAAK/b,KAAKia,EAAKI,aACrB,GAAejb,EAAQ,EACjB2c,EAAK/b,KAAKia,EAAKI,KAAKjb,QACf,CACL,IAA0D,IAAtD0I,EAAUiU,EAAM9B,EAAKI,KAAK,GAAG/D,YAAc,CAAA,EAAIvD,GACjD,OAEFA,GAAK,EACLgJ,EAAO,IAAIpD,CACjB,CACA,CACMoD,EAAKxd,SAAW,GAClBuJ,EAAUiU,EAAM,CAAA,EAAIhJ,EAExB,EAEA4F,EAAM1Z,UAAUmP,UAAY,SAAUhQ,EAAO6d,GAE3C,GADAA,IAAaA,EACQ,iBAAV7d,EACT,OAAOM,KAAKwd,kBAAkB9d,EAAO6d,GAKvC,IAHA,IAAI1B,EAAW/B,EAAG0B,SAASxb,KAAKka,KAC5B4B,EAAYhC,EAAG0B,SAAS9b,EAAMwa,KAC9BkC,EAAQ,IAAInC,EACT4B,EAASJ,WAAaK,EAAUL,WACrC,GAA4B,WAAxBI,EAASK,aAA4BqB,GAAqC,WAAzBzB,EAAUI,WAEnE,GAAwC,WAAzBJ,EAAUI,WACnBE,EAAM9a,KAAKwa,EAAUH,YAChB,CACL,IAAI9b,EAASwc,KAAKC,IAAIT,EAASM,aAAcL,EAAUK,cACnDI,EAASV,EAASF,KAAK9b,GACvB2c,EAAUV,EAAUH,KAAK9b,GAC7B,GAAI0c,EAAe,OAEjB,SACSC,EAAgB,OACzBJ,EAAM9a,KAAKkb,GAGXJ,EAAM7B,OAAO1a,EAAQia,EAAGlC,WAAWlI,UAAU6M,EAAO3E,WAAY4E,EAAQ5E,WAAY2F,GAE5F,MAhBMnB,EAAM7B,OAAOT,EAAGja,OAAOgc,EAASF,SAkBpC,OAAOS,EAAM1B,MACf,EAEAT,EAAM1Z,UAAUid,kBAAoB,SAAU9c,EAAO6c,GACnDA,IAAaA,EAGb,IAFA,IAAI1B,EAAW/B,EAAG0B,SAASxb,KAAKka,KAC5BrO,EAAS,EACNgQ,EAASJ,WAAa5P,GAAUnL,GAAO,CAC5C,IAAIb,EAASgc,EAASM,aAClBsB,EAAW5B,EAASK,WACxBL,EAASF,OACQ,WAAb8B,GAGoB,WAAbA,IAA0B5R,EAASnL,IAAU6c,KACtD7c,GAASb,GAEXgM,GAAUhM,GALRa,GAAS2b,KAAKC,IAAIzc,EAAQa,EAAQmL,EAMxC,CACE,OAAOnL,CACT,EAGA4M,EAAO/N,QAAU0a,CAGjB,EAAA,SAEgB3M,EAAQ/N,GAIxB,IAAIme,EAASxb,OAAO3B,UAAUsC,eAC1B8a,EAAQzb,OAAO3B,UAAUwC,SACzB4R,EAAiBzS,OAAOyS,eACxBiJ,EAAO1b,OAAO2b,yBAEdpS,EAAU,SAAiBqS,GAC9B,MAA6B,mBAAlBxd,MAAMmL,QACTnL,MAAMmL,QAAQqS,GAGK,mBAApBH,EAAM/c,KAAKkd,EACnB,EAEIC,EAAgB,SAAuBC,GAC1C,IAAKA,GAA2B,oBAApBL,EAAM/c,KAAKod,GACtB,OAAO,EAGR,IASIliB,EATAmiB,EAAoBP,EAAO9c,KAAKod,EAAK,eACrCE,EAAmBF,EAAIhO,aAAegO,EAAIhO,YAAYzP,WAAamd,EAAO9c,KAAKod,EAAIhO,YAAYzP,UAAW,iBAE9G,GAAIyd,EAAIhO,cAAgBiO,IAAsBC,EAC7C,OAAO,EAMR,IAAKpiB,KAAOkiB,GAEZ,YAAsB,IAARliB,GAAuB4hB,EAAO9c,KAAKod,EAAKliB,EACvD,EAGIqiB,EAAc,SAAqBC,EAAQC,GAC1C1J,GAAmC,cAAjB0J,EAAQxgB,KAC7B8W,EAAeyJ,EAAQC,EAAQxgB,KAAM,CACpCgX,YAAY,EACZD,cAAc,EACdnV,MAAO4e,EAAQC,SACfC,UAAU,IAGXH,EAAOC,EAAQxgB,MAAQwgB,EAAQC,QAEjC,EAGIE,EAAc,SAAqBR,EAAKngB,GAC3C,GAAa,cAATA,EAAsB,CACzB,IAAK6f,EAAO9c,KAAKod,EAAKngB,GACrB,UACU+f,EAGV,OAAOA,EAAKI,EAAKngB,GAAM4B,KAE1B,CAEC,OAAOue,EAAIngB,EACZ,EAEAyP,EAAO/N,QAAU,SAASsa,IACzB,IAAIwE,EAASxgB,EAAM4gB,EAAKC,EAAMC,EAAaC,EACvCR,EAASrR,UAAU,GACnBsH,EAAI,EACJxU,EAASkN,UAAUlN,OACnBgf,GAAO,EAaX,IAVsB,kBAAXT,IACVS,EAAOT,EACPA,EAASrR,UAAU,IAAM,CAAA,EAEzBsH,EAAI,IAES,MAAV+J,GAAqC,iBAAXA,GAAyC,mBAAXA,KAC3DA,EAAS,CAAA,GAGH/J,EAAIxU,IAAUwU,EAGpB,GAAe,OAFfgK,EAAUtR,UAAUsH,IAInB,IAAKxW,KAAQwgB,EACZI,EAAMD,EAAYJ,EAAQvgB,GAItBugB,KAHJM,EAAOF,EAAYH,EAASxgB,MAKvBghB,GAAQH,IAASX,EAAcW,KAAUC,EAAclT,EAAQiT,MAC9DC,GACHA,GAAc,EACdC,EAAQH,GAAOhT,EAAQgT,GAAOA,EAAM,IAEpCG,EAAQH,GAAOV,EAAcU,GAAOA,EAAM,CAAA,EAI3CN,EAAYC,EAAQ,CAAEvgB,OAAYygB,SAAUzE,EAAOgF,EAAMD,EAAOF,WAGtC,IAATA,GACjBP,EAAYC,EAAQ,CAAEvgB,OAAYygB,SAAUI,KAQjD,OAAON,CACR,CAGA,EAAA,SAEgB9Q,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQuf,WAAavf,EAAQwf,mBAAgB,EAE/D,IAAIC,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeI,EAAWC,EAFDzL,EAAoB,IAM9B0L,EAAeD,EAFDzL,EAAoB,IAMlC2L,EAAcF,EAFDzL,EAAoB,IAMjC4L,EAAUH,EAFDzL,EAAoB,KAM7B6L,EAAWJ,EAFDzL,EAAoB,IAM9B8L,EAASL,EAFDzL,EAAoB,IAIhC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAEI3B,EAAA,SAAuB4B,GAGzB,SAAS5B,IAGP,OAFAoB,EAAgBlgB,KAAM8e,GAEfuB,EAA2BrgB,MAAO8e,EAAWxH,WAAapV,OAAOwd,eAAeZ,IAAa6B,MAAM3gB,KAAM+M,WACpH,CAuCE,OA7CAwT,EAAUzB,EAAY4B,GAQtB1B,EAAaF,EAAY,CAAC,CACxBhjB,IAAK,SACL2D,MAAO,WACL6f,EAAKR,EAAWve,UAAU+W,WAAapV,OAAOwd,eAAeZ,EAAWve,WAAY,SAAUP,MAAMY,KAAKZ,MACzGA,KAAK4X,WAAa,IAAIkI,EAAYxJ,QAAQQ,WAAWI,MAAMlX,KAAK4gB,QACtE,GACK,CACD9kB,IAAK,QACL2D,MAAO,WACL,OAAO,IAAIogB,EAAavJ,SAAU6D,OAAOna,KAAKP,WAAakgB,EAASrJ,SAAStW,KAAK6gB,UAAW7gB,KAAK4X,WAAW7O,UACnH,GACK,CACDjN,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GAC3B,IAAIqhB,EAAYhB,EAAYxJ,QAAQH,MAAMtY,EAAMiiB,EAAYxJ,QAAQN,MAAM+K,iBACzD,MAAbD,GACF9gB,KAAK4X,WAAWkJ,UAAUA,EAAWrhB,EAE7C,GACK,CACD3D,IAAK,WACL2D,MAAO,SAAkBiB,EAAOb,EAAQhC,EAAM4B,GAC5CO,KAAKghB,OAAOnjB,EAAM4B,EACxB,GACK,CACD3D,IAAK,WACL2D,MAAO,SAAkBiB,EAAOjB,EAAOwhB,GACrC,GAAqB,iBAAVxhB,GAAsBA,EAAMyhB,SAAS,MAAO,CACrD,IAAIC,EAAQrB,EAAYxJ,QAAQL,OAAOU,EAAM2C,UAC7CtZ,KAAKyf,OAAO2B,aAAaD,EAAiB,IAAVzgB,EAAcV,KAAOA,KAAK2b,MAC1DwF,EAAME,SAAS,EAAG5hB,EAAM0b,MAAM,MACtC,MACQmE,EAAKR,EAAWve,UAAU+W,WAAapV,OAAOwd,eAAeZ,EAAWve,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAOjB,EAAOwhB,EAEvI,KAGSnC,CACT,CA/CI,CA+CFgB,EAAYxJ,QAAQG,OAEtBqI,EAAW/G,MAAQ+H,EAAYxJ,QAAQN,MAAMsL,WAI7C,IAAI3K,EAAA,SAAkB4K,GAGpB,SAAS5K,EAAMiK,GACbV,EAAgBlgB,KAAM2W,GAEtB,IAAI6K,EAASnB,EAA2BrgB,MAAO2W,EAAMW,WAAapV,OAAOwd,eAAe/I,IAAQ/V,KAAKZ,KAAM4gB,IAG3G,OADAY,EAAOjY,MAAQ,CAAA,EACRiY,CACX,CAwHE,OAjIAjB,EAAU5J,EAAO4K,GAWjBvC,EAAarI,EAAO,CAAC,CACnB7a,IAAK,QACL2D,MAAO,WAUL,OATwB,MAApBO,KAAKuJ,MAAM6S,QACbpc,KAAKuJ,MAAM6S,MAAQpc,KAAKyhB,YAAY3B,EAAYxJ,QAAQE,MAAMuE,OAAO,SAAUqB,EAAOsF,GACpF,OAAsB,IAAlBA,EAAK7hB,SACAuc,EAEAA,EAAMjC,OAAOuH,EAAKjiB,QAASsf,EAAc2C,GAE5D,EAAW,IAAI7B,EAAavJ,SAAW6D,OAAO,KAAM4E,EAAc/e,QAErDA,KAAKuJ,MAAM6S,KACxB,GACK,CACDtgB,IAAK,WACL2D,MAAO,SAAkBiB,EAAOb,GAC9Byf,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAOb,GAC9GG,KAAKuJ,MAAQ,CAAA,CACnB,GACK,CACDzN,IAAK,WACL2D,MAAO,SAAkBiB,EAAOb,EAAQhC,EAAM4B,GACxCI,GAAU,IACVigB,EAAYxJ,QAAQH,MAAMtY,EAAMiiB,EAAYxJ,QAAQN,MAAMqC,OACxD3X,EAAQb,IAAWG,KAAKH,UAC1BG,KAAKghB,OAAOnjB,EAAM4B,GAGpB6f,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAO2b,KAAKC,IAAIzc,EAAQG,KAAKH,SAAWa,EAAQ,GAAI7C,EAAM4B,GAEnKO,KAAKuJ,MAAQ,CAAA,EACnB,GACK,CACDzN,IAAK,WACL2D,MAAO,SAAkBiB,EAAOjB,EAAOwhB,GACrC,GAAW,MAAPA,EAAa,OAAO3B,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAOjB,EAAOwhB,GAC7I,GAAqB,IAAjBxhB,EAAMI,OAAV,CACA,IAAI8hB,EAAQliB,EAAMiZ,MAAM,MACpB0B,EAAOuH,EAAMC,QACbxH,EAAKva,OAAS,IACZa,EAAQV,KAAKH,SAAW,GAA2B,MAAtBG,KAAK6hB,SAASC,KAC7CxC,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMqc,KAAKC,IAAI5b,EAAOV,KAAKH,SAAW,GAAIua,GAE3Ipa,KAAK6hB,SAASC,KAAKT,SAASrhB,KAAK6hB,SAASC,KAAKjiB,SAAUua,GAE3Dpa,KAAKuJ,MAAQ,CAAA,GAEf,IAAI4X,EAAQnhB,KACZ2hB,EAAM5G,OAAO,SAAUra,EAAO2c,GAG5B,OAFA8D,EAAQA,EAAMzI,MAAMhY,GAAO,IACrB2gB,SAAS,EAAGhE,GACXA,EAAKxd,MACpB,EAASa,EAAQ0Z,EAAKva,OAhBQ,CAiB9B,GACK,CACD/D,IAAK,eACL2D,MAAO,SAAsBwZ,EAAM8I,GACjC,IAAIC,EAAOhiB,KAAK6hB,SAASG,KACzB1C,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,eAAgBP,MAAMY,KAAKZ,KAAMiZ,EAAM8I,GAC7GC,aAAgBjC,EAAQzJ,SAC1B0L,EAAKC,SAEPjiB,KAAKuJ,MAAQ,CAAA,CACnB,GACK,CACDzN,IAAK,SACL2D,MAAO,WAIL,OAHyB,MAArBO,KAAKuJ,MAAM1J,SACbG,KAAKuJ,MAAM1J,OAASyf,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,SAAUP,MAAMY,KAAKZ,MAxItG,GA0IRA,KAAKuJ,MAAM1J,MACxB,GACK,CACD/D,IAAK,eACL2D,MAAO,SAAsB2e,EAAQ2D,GACnCzC,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,eAAgBP,MAAMY,KAAKZ,KAAMoe,EAAQ2D,GACnH/hB,KAAKuJ,MAAQ,CAAA,CACnB,GACK,CACDzN,IAAK,WACL2D,MAAO,SAAkByiB,GACvB5C,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMkiB,GACvGliB,KAAKuJ,MAAQ,CAAA,CACnB,GACK,CACDzN,IAAK,OACL2D,MAAO,SAAciB,GACnB,OAAO4e,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,OAAQP,MAAMY,KAAKZ,KAAMU,GAAO,EACvH,GACK,CACD5E,IAAK,cACL2D,MAAO,SAAqB0iB,GAC1B7C,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,cAAeP,MAAMY,KAAKZ,KAAMmiB,GAC1GniB,KAAKuJ,MAAQ,CAAA,CACnB,GACK,CACDzN,IAAK,QACL2D,MAAO,SAAeiB,GACpB,IAAI0hB,EAAQrV,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,GAE3E,GAAIqV,IAAoB,IAAV1hB,GAAeA,GAASV,KAAKH,SAxK5B,GAwKwD,CACrE,IAAI+e,EAAQ5e,KAAK4e,QACjB,OAAc,IAAVle,GACFV,KAAKyf,OAAO2B,aAAaxC,EAAO5e,MACzBA,OAEPA,KAAKyf,OAAO2B,aAAaxC,EAAO5e,KAAK2b,MAC9BiD,EAEjB,CACQ,IAAIjD,EAAO2D,EAAK3I,EAAMpW,UAAU+W,WAAapV,OAAOwd,eAAe/I,EAAMpW,WAAY,QAASP,MAAMY,KAAKZ,KAAMU,EAAO0hB,GAEtH,OADApiB,KAAKuJ,MAAQ,CAAA,EACNoS,CAEf,KAGShF,CACT,CAnII,CAmIFmJ,EAAYxJ,QAAQK,OAOtB,SAASoI,EAAc9F,GACrB,IAAI4H,EAAU9T,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAElF,OAAY,MAARkM,EAAqB4H,GACG,mBAAjB5H,EAAK4H,UACdA,GAAA,EAAclB,EAASrJ,SAASuK,EAAS5H,EAAK4H,YAE7B,MAAf5H,EAAKwG,QAA0C,UAAxBxG,EAAKwG,OAAOnG,UAAwBL,EAAKwG,OAAO4C,QAAQtK,QAAUkB,EAAKoJ,QAAQtK,MACjG8I,EAEF9B,EAAc9F,EAAKwG,OAAQoB,GACpC,CAhBAlK,EAAM2C,SAAW,QACjB3C,EAAMgC,QAAU,IAChBhC,EAAM2L,aAAe,QACrB3L,EAAM4L,gBAAkB,CAACvC,EAAS1J,QAASwJ,EAAYxJ,QAAQG,MAAOwJ,EAAO3J,SAe7E/W,EAAQwf,cAAgBA,EACxBxf,EAAQuf,WAAaA,EACrBvf,EAAQ+W,QAAUK,CAElB,EAAA,SAEgBrJ,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQijB,SAAWjjB,EAAQkjB,kBAAe,EAE5D,IAAIC,EAA4B,mBAAXjgB,QAAoD,iBAApBA,OAAO+Y,SAAwB,SAAUwC,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,GAAyB,mBAAXvb,QAAyBub,EAAIhO,cAAgBvN,QAAUub,IAAQvb,OAAOlC,UAAY,gBAAkByd,CAAI,EAEtQ2E,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEnBhL,EAAoB,IAEpB,IAEI0L,EAAeD,EAFDzL,EAAoB,IAMlCgP,EAAWvD,EAFDzL,EAAoB,KAM9BiP,EAAYxD,EAFAzL,EAAoB,IAMhCkP,EAAWzD,EAFDzL,EAAoB,IAM9B2L,EAAcF,EAFDzL,EAAoB,IAIjCmP,EAAanP,EAAoB,IAEjCoP,EAAc3D,EAAuB0D,GAIrC3D,EAAWC,EAFDzL,EAAoB,IAM9BqP,EAAW5D,EAFDzL,EAAoB,KAM9BsP,EAAU7D,EAFDzL,EAAoB,KAIjC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAAS0F,EAAgB1F,EAAKliB,EAAK2D,GAAiK,OAApJ3D,KAAOkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,CAAI,CAI/M,IAAI2F,GAAA,EAAYH,EAASlN,SAAS,SAE9BsN,aAqDF,SAASA,EAAMC,GACb,IAAIrC,EAASxhB,KAETqe,EAAUtR,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAMlF,GAlEJ,SAAyBoT,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CA8DnJF,CAAgBlgB,KAAM4jB,GAEtB5jB,KAAKqe,QAAUoE,EAAaoB,EAAWxF,GACvCre,KAAK6jB,UAAY7jB,KAAKqe,QAAQwF,UACR,MAAlB7jB,KAAK6jB,UACP,OAAOF,EAAMG,MAAM,0BAA2BD,GAE5C7jB,KAAKqe,QAAQsF,OACfC,EAAMD,MAAM3jB,KAAKqe,QAAQsF,OAE3B,IAAII,EAAO/jB,KAAK6jB,UAAUG,UAAUC,OACpCjkB,KAAK6jB,UAAUK,UAAUlb,IAAI,gBAC7BhJ,KAAK6jB,UAAUG,UAAY,GAC3BhkB,KAAK6jB,UAAUM,QAAUnkB,KACzBA,KAAKsC,KAAOtC,KAAKokB,aAAa,aAC9BpkB,KAAKsC,KAAK4hB,UAAUlb,IAAI,YACxBhJ,KAAKsC,KAAK+hB,aAAa,cAAc,GACrCrkB,KAAKskB,mBAAqBtkB,KAAKqe,QAAQiG,oBAAsBtkB,KAAKsC,KAClEtC,KAAKukB,QAAU,IAAInB,EAAU9M,QAC7BtW,KAAKwkB,OAAS1E,EAAYxJ,QAAQL,OAAOjW,KAAKsC,KAAM,CAClDiiB,QAASvkB,KAAKukB,QACdE,UAAWzkB,KAAKqe,QAAQwC,UAE1B7gB,KAAK0kB,OAAS,IAAIvB,EAAS7M,QAAQtW,KAAKwkB,QACxCxkB,KAAK2kB,UAAY,IAAIpB,EAAYjN,QAAQtW,KAAKwkB,OAAQxkB,KAAKukB,SAC3DvkB,KAAK4kB,MAAQ,IAAI5kB,KAAKqe,QAAQuG,MAAM5kB,KAAMA,KAAKqe,SAC/Cre,KAAK6kB,SAAW7kB,KAAK4kB,MAAME,UAAU,YACrC9kB,KAAK+kB,UAAY/kB,KAAK4kB,MAAME,UAAU,aACtC9kB,KAAKglB,QAAUhlB,KAAK4kB,MAAME,UAAU,WACpC9kB,KAAK4kB,MAAMK,OACXjlB,KAAKukB,QAAQW,GAAG9B,EAAU9M,QAAQ6O,OAAOC,cAAe,SAAUxhB,GAC5DA,IAASwf,EAAU9M,QAAQ6O,OAAOE,aACpC7D,EAAOlf,KAAK4hB,UAAUoB,OAAO,WAAY9D,EAAOkD,OAAOa,UAE/D,GACIvlB,KAAKukB,QAAQW,GAAG9B,EAAU9M,QAAQ6O,OAAOK,cAAe,SAAUC,EAAQC,GACxE,IAAIC,EAAQnE,EAAOmD,UAAUiB,UACzBllB,EAAQilB,GAA0B,IAAjBA,EAAM9lB,OAAe8lB,EAAMjlB,WAAQ,EACxDmlB,EAAOjlB,KAAK4gB,EAAQ,WAClB,OAAOA,EAAOkD,OAAOoB,OAAO,KAAMJ,EAAWhlB,EACrD,EAAS+kB,EACT,GACI,IAAIM,EAAW/lB,KAAK+kB,UAAUxZ,QAAQ,yDAA2DwY,EAAO,qBACxG/jB,KAAKgmB,YAAYD,GACjB/lB,KAAKglB,QAAQtjB,QACT1B,KAAKqe,QAAQ4H,aACfjmB,KAAKsC,KAAK+hB,aAAa,mBAAoBrkB,KAAKqe,QAAQ4H,aAEtDjmB,KAAKqe,QAAQ6H,UACflmB,KAAKmmB,SAEX,CAiYE,OA7eAnH,EAAa4E,EAAO,KAAM,CAAC,CACzB9nB,IAAK,QACL2D,MAAO,SAAe2mB,IACN,IAAVA,IACFA,EAAQ,OAEV5C,EAASlN,QAAQ+P,MAAMD,EAC7B,GACK,CACDtqB,IAAK,OACL2D,MAAO,SAAcX,GACnB,OAAOA,EAAKqlB,SAAWrE,EAAYxJ,QAAQJ,KAAKpX,EACtD,GACK,CACDhD,IAAK,SACL2D,MAAO,SAAiB5B,GAItB,OAH0B,MAAtBmC,KAAKsmB,QAAQzoB,IACf8lB,EAAMG,MAAM,iBAAmBjmB,EAAO,qCAEjCmC,KAAKsmB,QAAQzoB,EAC1B,GACK,CACD/B,IAAK,WACL2D,MAAO,SAAkB8mB,EAAMnI,GAC7B,IAAIzG,EAAQ3X,KAERwmB,EAAYzZ,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,GAE/E,GAAoB,iBAATwZ,EAAmB,CAC5B,IAAI1oB,EAAO0oB,EAAKhN,UAAYgN,EAAKjN,SACb,iBAATzb,EAETmC,KAAKoW,SAAS,WAAavY,EAAM0oB,EAAMnI,GAEvClc,OAAOmC,KAAKkiB,GAAM3b,QAAQ,SAAU9O,GAClC6b,EAAMvB,SAASta,EAAKyqB,EAAKzqB,GAAMsiB,EAC3C,EAEA,MACkC,MAAtBpe,KAAKsmB,QAAQC,IAAkBC,GACjC7C,EAAM8C,KAAK,eAAiBF,EAAO,QAASnI,GAE9Cpe,KAAKsmB,QAAQC,GAAQnI,GAChBmI,EAAKG,WAAW,WAAaH,EAAKG,WAAW,cAAoC,aAApBtI,EAAO9E,SACvEwG,EAAYxJ,QAAQF,SAASgI,GACpBmI,EAAKG,WAAW,YAAyC,mBAApBtI,EAAOhI,UACrDgI,EAAOhI,UAGjB,KA6DE4I,EAAa4E,EAAO,CAAC,CACnB9nB,IAAK,eACL2D,MAAO,SAAsBokB,GAC3B,IAAI8C,EAAU5Z,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,KAElF,GAAyB,iBAAd8W,EAAwB,CACjC,IAAIpK,EAAYoK,GAChBA,EAAY+C,SAASC,cAAc,QACzB3C,UAAUlb,IAAIyQ,EAChC,CAEM,OADAzZ,KAAK6jB,UAAUzC,aAAayC,EAAW8C,GAChC9C,CACb,GACK,CACD/nB,IAAK,OACL2D,MAAO,WACLO,KAAK2kB,UAAUmC,SAAS,KAC9B,GACK,CACDhrB,IAAK,aACL2D,MAAO,SAAoBiB,EAAOb,EAAQ4lB,GACxC,IAAIsB,EAAS/mB,KAETgnB,EAAYxE,EAAS9hB,EAAOb,EAAQ4lB,GAEpCwB,EAAatE,EAAeqE,EAAW,GAM3C,OAJAtmB,EAAQumB,EAAW,GACnBpnB,EAASonB,EAAW,GACpBxB,EAASwB,EAAW,GAEbpB,EAAOjlB,KAAKZ,KAAM,WACvB,OAAO+mB,EAAOrC,OAAOwC,WAAWxmB,EAAOb,EAC/C,EAAS4lB,EAAQ/kB,GAAO,EAAKb,EAC7B,GACK,CACD/D,IAAK,UACL2D,MAAO,WACLO,KAAKmnB,QAAO,EAClB,GACK,CACDrrB,IAAK,SACL2D,MAAO,WACL,IAAI2nB,IAAUra,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,KAAmBA,UAAU,GAE7E/M,KAAKwkB,OAAO2C,OAAOC,GACnBpnB,KAAK6jB,UAAUK,UAAUoB,OAAO,eAAgB8B,EACtD,GACK,CACDtrB,IAAK,QACL2D,MAAO,WACL,IAAI4nB,EAAYrnB,KAAKskB,mBAAmB+C,UACxCrnB,KAAK2kB,UAAU2C,QACftnB,KAAKskB,mBAAmB+C,UAAYA,EACpCrnB,KAAKunB,gBACX,GACK,CACDzrB,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GAC3B,IAAI+nB,EAASxnB,KAETylB,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqW,EAAU9M,QAAQmR,QAAQC,IAE3G,OAAO7B,EAAOjlB,KAAKZ,KAAM,WACvB,IAAI2lB,EAAQ6B,EAAOG,cAAa,GAC5BC,EAAS,IAAI/H,EAAavJ,QAC9B,GAAa,MAATqP,EACF,OAAOiC,EACjB,GAAmB9H,EAAYxJ,QAAQH,MAAMtY,EAAMiiB,EAAYxJ,QAAQN,MAAMqC,OACnEuP,EAASJ,EAAO9C,OAAOmD,WAAWlC,EAAMjlB,MAAOilB,EAAM9lB,OAAQ6jB,EAAgB,CAAA,EAAI7lB,EAAM4B,QACjG,IAAoC,IAAjBkmB,EAAM9lB,OAEf,OADA2nB,EAAO7C,UAAU3D,OAAOnjB,EAAM4B,GACvBmoB,EAEPA,EAASJ,EAAO9C,OAAOoD,WAAWnC,EAAMjlB,MAAOilB,EAAM9lB,OAAQ6jB,EAAgB,CAAA,EAAI7lB,EAAM4B,GACjG,CAEQ,OADA+nB,EAAOO,aAAapC,EAAOvC,EAAU9M,QAAQmR,QAAQO,QAC9CJ,CACf,EAASnC,EACT,GACK,CACD3pB,IAAK,aACL2D,MAAO,SAAoBiB,EAAOb,EAAQhC,EAAM4B,EAAOgmB,GACrD,IAEI5E,EAFAoH,EAASjoB,KAITkoB,EAAa1F,EAAS9hB,EAAOb,EAAQhC,EAAM4B,EAAOgmB,GAElD0C,EAAaxF,EAAeuF,EAAY,GAO5C,OALAxnB,EAAQynB,EAAW,GACnBtoB,EAASsoB,EAAW,GACpBtH,EAAUsH,EAAW,GACrB1C,EAAS0C,EAAW,GAEbtC,EAAOjlB,KAAKZ,KAAM,WACvB,OAAOioB,EAAOvD,OAAOmD,WAAWnnB,EAAOb,EAAQghB,EACvD,EAAS4E,EAAQ/kB,EAAO,EACxB,GACK,CACD5E,IAAK,aACL2D,MAAO,SAAoBiB,EAAOb,EAAQhC,EAAM4B,EAAOgmB,GACrD,IAEI5E,EAFAuH,EAASpoB,KAITqoB,EAAa7F,EAAS9hB,EAAOb,EAAQhC,EAAM4B,EAAOgmB,GAElD6C,EAAa3F,EAAe0F,EAAY,GAO5C,OALA3nB,EAAQ4nB,EAAW,GACnBzoB,EAASyoB,EAAW,GACpBzH,EAAUyH,EAAW,GACrB7C,EAAS6C,EAAW,GAEbzC,EAAOjlB,KAAKZ,KAAM,WACvB,OAAOooB,EAAO1D,OAAOoD,WAAWpnB,EAAOb,EAAQghB,EACvD,EAAS4E,EAAQ/kB,EAAO,EACxB,GACK,CACD5E,IAAK,YACL2D,MAAO,SAAmBiB,GACxB,IAAIb,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAE7Ewb,OAAS,EAEXA,EADmB,iBAAV7nB,EACAV,KAAK2kB,UAAU6D,UAAU9nB,EAAOb,GAEhCG,KAAK2kB,UAAU6D,UAAU9nB,EAAMA,MAAOA,EAAMb,QAEvD,IAAI4oB,EAAkBzoB,KAAK6jB,UAAU6E,wBACrC,MAAO,CACLC,OAAQJ,EAAOI,OAASF,EAAgBG,IACxC3sB,OAAQssB,EAAOtsB,OACf4sB,KAAMN,EAAOM,KAAOJ,EAAgBI,KACpCC,MAAOP,EAAOO,MAAQL,EAAgBI,KACtCD,IAAKL,EAAOK,IAAMH,EAAgBG,IAClC5sB,MAAOusB,EAAOvsB,MAEtB,GACK,CACDF,IAAK,cACL2D,MAAO,WACL,IAAIiB,EAAQqM,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAC5ElN,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK/M,KAAK+oB,YAAcroB,EAEhGsoB,EAAaxG,EAAS9hB,EAAOb,GAE7BopB,EAAatG,EAAeqG,EAAY,GAK5C,OAHAtoB,EAAQuoB,EAAW,GACnBppB,EAASopB,EAAW,GAEbjpB,KAAK0kB,OAAOwE,YAAYxoB,EAAOb,EAC5C,GACK,CACD/D,IAAK,YACL2D,MAAO,WACL,IAAIiB,EAAQqM,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK/M,KAAK2nB,cAAa,GAC9F9nB,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAEjF,MAAqB,iBAAVrM,EACFV,KAAK0kB,OAAOyE,UAAUzoB,EAAOb,GAE7BG,KAAK0kB,OAAOyE,UAAUzoB,EAAMA,MAAOA,EAAMb,OAExD,GACK,CACD/D,IAAK,WACL2D,MAAO,SAAkBwZ,GACvB,OAAOA,EAAKpN,OAAO7L,KAAKwkB,OAC9B,GACK,CACD1oB,IAAK,YACL2D,MAAO,WACL,OAAOO,KAAKwkB,OAAO3kB,QACzB,GACK,CACD/D,IAAK,UACL2D,MAAO,SAAiBiB,GACtB,OAAOV,KAAKwkB,OAAO9C,KAAKhhB,EAC9B,GACK,CACD5E,IAAK,UACL2D,MAAO,SAAiBiB,GACtB,OAAOV,KAAKwkB,OAAOnH,KAAK3c,EAC9B,GACK,CACD5E,IAAK,WACL2D,MAAO,WACL,IAAIiB,EAAQqM,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAC5ElN,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqc,OAAOC,UAExF,MAAqB,iBAAV3oB,EACFV,KAAKwkB,OAAO7C,MAAMjhB,EAAMA,MAAOA,EAAMb,QAErCG,KAAKwkB,OAAO7C,MAAMjhB,EAAOb,EAExC,GACK,CACD/D,IAAK,YACL2D,MAAO,SAAmB5B,GACxB,OAAOmC,KAAK4kB,MAAM3Q,QAAQpW,EAChC,GACK,CACD/B,IAAK,eACL2D,MAAO,WAKL,OAJYsN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,SAE3Dua,QAChBtnB,KAAK8lB,SACE9lB,KAAK2kB,UAAU2E,WAAW,EACvC,GACK,CACDxtB,IAAK,UACL2D,MAAO,WACL,IAAIiB,EAAQqM,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAC5ElN,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK/M,KAAK+oB,YAAcroB,EAEhG6oB,EAAa/G,EAAS9hB,EAAOb,GAE7B2pB,EAAc7G,EAAe4G,EAAY,GAK7C,OAHA7oB,EAAQ8oB,EAAY,GACpB3pB,EAAS2pB,EAAY,GAEdxpB,KAAK0kB,OAAO+E,QAAQ/oB,EAAOb,EACxC,GACK,CACD/D,IAAK,WACL2D,MAAO,WACL,OAAOO,KAAK2kB,UAAU+E,UAC5B,GACK,CACD5tB,IAAK,cACL2D,MAAO,SAAqBiB,EAAOipB,EAAOlqB,GACxC,IAAImqB,EAAS5pB,KAETylB,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK6W,EAAM6D,QAAQC,IAE/F,OAAO7B,EAAOjlB,KAAKZ,KAAM,WACvB,OAAO4pB,EAAOlF,OAAOmF,YAAYnpB,EAAOipB,EAAOlqB,EACvD,EAASgmB,EAAQ/kB,EACjB,GACK,CACD5E,IAAK,aACL2D,MAAO,SAAoBiB,EAAO0Z,EAAMvc,EAAM4B,EAAOgmB,GACnD,IAEI5E,EAFAiJ,EAAS9pB,KAIT+pB,EAAcvH,EAAS9hB,EAAO,EAAG7C,EAAM4B,EAAOgmB,GAE9CuE,EAAcrH,EAAeoH,EAAa,GAM9C,OAJArpB,EAAQspB,EAAY,GACpBnJ,EAAUmJ,EAAY,GACtBvE,EAASuE,EAAY,GAEdnE,EAAOjlB,KAAKZ,KAAM,WACvB,OAAO8pB,EAAOpF,OAAOuF,WAAWvpB,EAAO0Z,EAAMyG,EACrD,EAAS4E,EAAQ/kB,EAAO0Z,EAAKva,OAC7B,GACK,CACD/D,IAAK,YACL2D,MAAO,WACL,OAAQO,KAAK6jB,UAAUK,UAAUgG,SAAS,cAChD,GACK,CACDpuB,IAAK,MACL2D,MAAO,WACL,OAAOO,KAAKukB,QAAQ4F,IAAIxJ,MAAM3gB,KAAKukB,QAASxX,UAClD,GACK,CACDjR,IAAK,KACL2D,MAAO,WACL,OAAOO,KAAKukB,QAAQW,GAAGvE,MAAM3gB,KAAKukB,QAASxX,UACjD,GACK,CACDjR,IAAK,OACL2D,MAAO,WACL,OAAOO,KAAKukB,QAAQ6F,KAAKzJ,MAAM3gB,KAAKukB,QAASxX,UACnD,GACK,CACDjR,IAAK,YACL2D,MAAO,SAAmBiB,EAAOqjB,EAAM0B,GACrCzlB,KAAK+kB,UAAUsF,qBAAqB3pB,EAAOqjB,EAAM0B,EACvD,GACK,CACD3pB,IAAK,eACL2D,MAAO,SAAsBiB,EAAOb,EAAQ4lB,GAC1C,IAAI6E,EAAStqB,KAETuqB,EAAc/H,EAAS9hB,EAAOb,EAAQ4lB,GAEtC+E,EAAc7H,EAAe4H,EAAa,GAM9C,OAJA7pB,EAAQ8pB,EAAY,GACpB3qB,EAAS2qB,EAAY,GACrB/E,EAAS+E,EAAY,GAEd3E,EAAOjlB,KAAKZ,KAAM,WACvB,OAAOsqB,EAAO5F,OAAO+F,aAAa/pB,EAAOb,EACjD,EAAS4lB,EAAQ/kB,EACjB,GACK,CACD5E,IAAK,iBACL2D,MAAO,WACLO,KAAK2kB,UAAU4C,eAAevnB,KAAKskB,mBACzC,GACK,CACDxoB,IAAK,cACL2D,MAAO,SAAqB2c,GAC1B,IAAIsO,EAAU1qB,KAEVylB,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqW,EAAU9M,QAAQmR,QAAQC,IAE3G,OAAO7B,EAAOjlB,KAAKZ,KAAM,WACvBoc,EAAQ,IAAIyD,EAAavJ,QAAQ8F,GACjC,IAAIvc,EAAS6qB,EAAQ3B,YACjB4B,EAAUD,EAAQhG,OAAOwC,WAAW,EAAGrnB,GACvC+qB,EAAUF,EAAQhG,OAAOmG,WAAWzO,GACpC5B,EAASoQ,EAAQ1Q,IAAI0Q,EAAQ1Q,IAAIra,OAAS,GAM9C,OALc,MAAV2a,GAA2C,iBAAlBA,EAAOL,QAAmE,OAA5CK,EAAOL,OAAOK,EAAOL,OAAOta,OAAS,KAC9F6qB,EAAQhG,OAAOwC,WAAWwD,EAAQ3B,YAAc,EAAG,GACnD6B,EAAQtQ,OAAO,IAEPqQ,EAAQ/O,QAAQgP,EAElC,EAASnF,EACT,GACK,CACD3pB,IAAK,eACL2D,MAAO,SAAsBiB,EAAOb,EAAQ4lB,GAC1C,GAAa,MAAT/kB,EACFV,KAAK2kB,UAAUmC,SAAS,KAAMjnB,GAAU+jB,EAAM6D,QAAQC,SACjD,CACL,IAAIoD,EAActI,EAAS9hB,EAAOb,EAAQ4lB,GAEtCsF,EAAcpI,EAAemI,EAAa,GAE9CpqB,EAAQqqB,EAAY,GACpBlrB,EAASkrB,EAAY,GACrBtF,EAASsF,EAAY,GAErB/qB,KAAK2kB,UAAUmC,SAAS,IAAIxD,EAAW0H,MAAMtqB,EAAOb,GAAS4lB,GACzDA,IAAWrC,EAAU9M,QAAQmR,QAAQO,QACvChoB,KAAK2kB,UAAU4C,eAAevnB,KAAKskB,mBAE7C,CACA,GACK,CACDxoB,IAAK,UACL2D,MAAO,SAAiB2a,GACtB,IAAIqL,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqW,EAAU9M,QAAQmR,QAAQC,IAEvGtL,GAAQ,IAAIyD,EAAavJ,SAAU6D,OAAOC,GAC9C,OAAOpa,KAAKgmB,YAAY5J,EAAOqJ,EACrC,GACK,CACD3pB,IAAK,SACL2D,MAAO,WACL,IAAIgmB,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqW,EAAU9M,QAAQmR,QAAQwD,KAEvGrD,EAAS5nB,KAAKwkB,OAAOsB,OAAOL,GAEhC,OADAzlB,KAAK2kB,UAAUmB,OAAOL,GACfmC,CACb,GACK,CACD9rB,IAAK,iBACL2D,MAAO,SAAwB2c,GAC7B,IAAI8O,EAAUlrB,KAEVylB,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqW,EAAU9M,QAAQmR,QAAQC,IAE3G,OAAO7B,EAAOjlB,KAAKZ,KAAM,WAEvB,OADAoc,EAAQ,IAAIyD,EAAavJ,QAAQ8F,GAC1B8O,EAAQxG,OAAOmG,WAAWzO,EAAOqJ,EAChD,EAASA,GAAQ,EACjB,KAGS7B,CACT,IAwBA,SAASnB,EAAaoB,EAAWsH,GAS/B,IARAA,GAAA,EAAiBxL,EAASrJ,UAAS,EAAM,CACvCuN,YACA5P,QAAS,CACP8Q,WAAW,EACXF,UAAU,EACVG,SAAS,IAEVmG,IACavG,OAASuG,EAAWvG,QAAUhB,EAAMwH,SAASxG,OAI3D,GADAuG,EAAWvG,MAAQhB,EAAMyH,OAAO,UAAYF,EAAWvG,OAC/B,MAApBuG,EAAWvG,MACb,MAAM,IAAIhnB,MAAM,iBAAmButB,EAAWvG,MAAQ,+BAJxDuG,EAAWvG,MAAQnB,EAAQnN,QAO7B,IAAIgV,GAAA,EAAkB3L,EAASrJ,UAAS,EAAM,GAAI6U,EAAWvG,MAAMwG,UACnE,CAACE,EAAaH,GAAYvgB,QAAQ,SAAU2gB,GAC1CA,EAAOtX,QAAUsX,EAAOtX,SAAW,CAAA,EACnC/R,OAAOmC,KAAKknB,EAAOtX,SAASrJ,QAAQ,SAAU0C,IACb,IAA3Bie,EAAOtX,QAAQ3G,KACjBie,EAAOtX,QAAQ3G,GAAU,CAAA,EAEjC,EACA,GACE,IACIke,EADctpB,OAAOmC,KAAKinB,EAAYrX,SAASyI,OAAOxa,OAAOmC,KAAK8mB,EAAWlX,UAClD8G,OAAO,SAAUwQ,EAAQ1tB,GACtD,IAAI4tB,EAAc7H,EAAMyH,OAAO,WAAaxtB,GAM5C,OALmB,MAAf4tB,EACF9H,EAAMG,MAAM,eAAiBjmB,EAAO,4CAEpC0tB,EAAO1tB,GAAQ4tB,EAAYL,UAAY,CAAA,EAElCG,CACX,EAAK,CAAA,GAmBH,OAjB0B,MAAtBJ,EAAWlX,SAAmBkX,EAAWlX,QAAQyX,SAAWP,EAAWlX,QAAQyX,QAAQ1b,cAAgB9N,SACzGipB,EAAWlX,QAAQyX,QAAU,CAC3B7H,UAAWsH,EAAWlX,QAAQyX,UAGlCP,GAAA,EAAiBxL,EAASrJ,UAAS,EAAM,CAAA,EAAIsN,EAAMwH,SAAU,CAAEnX,QAASuX,GAAgBF,EAAaH,GACrG,CAAC,SAAU,YAAa,sBAAsBvgB,QAAQ,SAAU9O,GAC/B,iBAApBqvB,EAAWrvB,KACpBqvB,EAAWrvB,GAAO8qB,SAAS+E,cAAcR,EAAWrvB,IAE1D,GACEqvB,EAAWlX,QAAU/R,OAAOmC,KAAK8mB,EAAWlX,SAAS8G,OAAO,SAAUwQ,EAAQ1tB,GAI5E,OAHIstB,EAAWlX,QAAQpW,KACrB0tB,EAAO1tB,GAAQstB,EAAWlX,QAAQpW,IAE7B0tB,CACX,EAAK,CAAA,GACIJ,CACT,CAIA,SAAStF,EAAO+F,EAAUnG,EAAQ/kB,EAAOkhB,GACvC,GAAI5hB,KAAKqe,QAAQwN,SAAW7rB,KAAK8rB,aAAerG,IAAWrC,EAAU9M,QAAQmR,QAAQwD,KACnF,OAAO,IAAIpL,EAAavJ,QAE1B,IAAIqP,EAAiB,MAATjlB,EAAgB,KAAOV,KAAK2nB,eACpCoE,EAAW/rB,KAAK0kB,OAAOtI,MACvBwL,EAASgE,IAUb,GATa,MAATjG,KACY,IAAVjlB,IAAgBA,EAAQilB,EAAMjlB,OACrB,MAATkhB,EACF+D,EAAQqG,EAAWrG,EAAOiC,EAAQnC,GACf,IAAV7D,IACT+D,EAAQqG,EAAWrG,EAAOjlB,EAAOkhB,EAAO6D,IAE1CzlB,KAAK+nB,aAAapC,EAAOvC,EAAU9M,QAAQmR,QAAQO,SAEjDJ,EAAO/nB,SAAW,EAAG,CACvB,IAAIosB,EAKEC,EAHFC,EAAO,CAAC/I,EAAU9M,QAAQ6O,OAAOE,YAAauC,EAAQmE,EAAUtG,IACnEwG,EAAWjsB,KAAKukB,SAAS6H,KAAKzL,MAAMsL,EAAU,CAAC7I,EAAU9M,QAAQ6O,OAAOC,eAAe1I,OAAOyP,IAC3F1G,IAAWrC,EAAU9M,QAAQmR,QAAQO,SAGtCkE,EAAYlsB,KAAKukB,SAAS6H,KAAKzL,MAAMuL,EAAWC,EAEvD,CACE,OAAOvE,CACT,CAEA,SAASpF,EAAS9hB,EAAOb,EAAQhC,EAAM4B,EAAOgmB,GAC5C,IAAI5E,EAAU,CAAA,EAwBd,MAvB2B,iBAAhBngB,EAAMA,OAA8C,iBAAjBA,EAAMb,OAE5B,iBAAXA,GACT4lB,EAAShmB,EAAOA,EAAQ5B,EAAMA,EAAOgC,EAAQA,EAASa,EAAMb,OAAQa,EAAQA,EAAMA,QAElFb,EAASa,EAAMb,OAAQa,EAAQA,EAAMA,OAEZ,iBAAXb,IAChB4lB,EAAShmB,EAAOA,EAAQ5B,EAAMA,EAAOgC,EAAQA,EAAS,GAGY,iBAA/C,IAAThC,EAAuB,YAAc6kB,EAAQ7kB,KACvDgjB,EAAUhjB,EACV4nB,EAAShmB,GACgB,iBAAT5B,IACH,MAAT4B,EACFohB,EAAQhjB,GAAQ4B,EAEhBgmB,EAAS5nB,GAKN,CAAC6C,EAAOb,EAAQghB,EADvB4E,EAASA,GAAUrC,EAAU9M,QAAQmR,QAAQC,IAE/C,CAEA,SAASsE,EAAWrG,EAAOjlB,EAAOb,EAAQ4lB,GACxC,GAAa,MAATE,EAAe,OAAO,KAC1B,IAAIvK,OAAQ,EACRC,OAAM,EACV,GAAI3a,aAAiBmf,EAAavJ,QAAS,CACzC,IAAI+V,EAAO,CAAC1G,EAAMjlB,MAAOilB,EAAMjlB,MAAQilB,EAAM9lB,QAAQ+G,IAAI,SAAU0lB,GACjE,OAAO5rB,EAAM8c,kBAAkB8O,EAAK7G,IAAWrC,EAAU9M,QAAQmR,QAAQwD,KAC/E,GAEQsB,EAAQ5J,EAAe0J,EAAM,GAEjCjR,EAAQmR,EAAM,GACdlR,EAAMkR,EAAM,EAChB,KAAS,CACL,IAAIC,EAAQ,CAAC7G,EAAMjlB,MAAOilB,EAAMjlB,MAAQilB,EAAM9lB,QAAQ+G,IAAI,SAAU0lB,GAClE,OAAIA,EAAM5rB,GAAS4rB,IAAQ5rB,GAAS+kB,IAAWrC,EAAU9M,QAAQmR,QAAQwD,KAAaqB,EAClFzsB,GAAU,EACLysB,EAAMzsB,EAENwc,KAAKoQ,IAAI/rB,EAAO4rB,EAAMzsB,EAErC,GAEQ6sB,EAAQ/J,EAAe6J,EAAO,GAElCpR,EAAQsR,EAAM,GACdrR,EAAMqR,EAAM,EAChB,CACE,OAAO,IAAIpJ,EAAW0H,MAAM5P,EAAOC,EAAMD,EAC3C,CAxKAwI,EAAMwH,SAAW,CACf7C,OAAQ,KACR1H,QAAS,KACT5M,QAAS,CAAA,EACTgS,YAAa,GACbC,UAAU,EACV5B,mBAAoB,KACpBuH,QAAQ,EACRjH,MAAO,WAEThB,EAAMuB,OAAS/B,EAAU9M,QAAQ6O,OACjCvB,EAAM6D,QAAUrE,EAAU9M,QAAQmR,QAElC7D,EAAM+I,QAA2B,QAEjC/I,EAAM0C,QAAU,CACdlK,MAASyD,EAAavJ,QACtBsW,UAAa9M,EAAYxJ,QACzB,cAAe+M,EAAS/M,QACxB,aAAcmN,EAAQnN,SAuJxB/W,EAAQkjB,aAAeA,EACvBljB,EAAQijB,SAAWA,EACnBjjB,EAAQ+W,QAAUsN,CAElB,EAAA,SAEgBtW,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIuf,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeU,EAASL,EAFDzL,EAAoB,IAM5B2L,EAAcF,EAFDzL,EAAoB,IAIrC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAQ7F,IAAIpH,EAAA,SAAmBiW,GAGrB,SAASjW,IAGP,OAZJ,SAAyBuJ,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAM4W,GAR1B,SAAoCvU,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAO4W,EAAOU,WAAapV,OAAOwd,eAAe9I,IAAS+J,MAAM3gB,KAAM+M,WAC5G,CAyCE,OAlDF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAU3J,EAAQiW,GAQlB7N,EAAapI,EAAQ,CAAC,CACpB9a,IAAK,WACL2D,MAAO,SAAkBiB,EAAOb,EAAQhC,EAAM4B,GAC5C,GAAImX,EAAOkW,QAAQ9sB,KAAKqiB,QAAQ/I,SAAUzb,GAAQ,GAAKiiB,EAAYxJ,QAAQH,MAAMtY,EAAMiiB,EAAYxJ,QAAQN,MAAM+W,MAAO,CACtH,IAAI9T,EAAOjZ,KAAKgtB,QAAQtsB,EAAOb,GAC3BJ,GACFwZ,EAAKgU,KAAKpvB,EAAM4B,EAE1B,MACQ6f,EAAK1I,EAAOrW,UAAU+W,WAAapV,OAAOwd,eAAe9I,EAAOrW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAOb,EAAQhC,EAAM4B,EAEtI,GACK,CACD3D,IAAK,WACL2D,MAAO,SAAkByiB,GAEvB,GADA5C,EAAK1I,EAAOrW,UAAU+W,WAAapV,OAAOwd,eAAe9I,EAAOrW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMkiB,GACrGliB,KAAKyf,kBAAkB7I,GAAUA,EAAOkW,QAAQ9sB,KAAKqiB,QAAQ/I,SAAUtZ,KAAKyf,OAAO4C,QAAQ/I,UAAY,EAAG,CAC5G,IAAImG,EAASzf,KAAKyf,OAAOuN,QAAQhtB,KAAK6L,SAAU7L,KAAKH,UACrDG,KAAKktB,aAAazN,GAClBA,EAAOwN,KAAKjtB,KACpB,CACA,IACM,CAAC,CACHlE,IAAK,UACL2D,MAAO,SAAiB4C,EAAM3C,GAC5B,IAAIytB,EAAYvW,EAAOwW,MAAM9P,QAAQjb,GACjCgrB,EAAazW,EAAOwW,MAAM9P,QAAQ5d,GACtC,OAAIytB,GAAa,GAAKE,GAAc,EAC3BF,EAAYE,EACVhrB,IAAS3C,EACX,EACE2C,EAAO3C,GACT,EAEA,CAEf,KAGSkX,CACT,CAjDI,CAiDFkJ,EAAYxJ,QAAQM,QAEtBA,EAAO2L,gBAAkB,CAAC3L,EAAQkJ,EAAYxJ,QAAQG,MAAOwJ,EAAO3J,SAEpEM,EAAOwW,MAAQ,CAAC,SAAU,SAC1B,YAAa,SAAU,SAAU,OAAQ,SAAU,OAAQ,QAG3D7tB,EAAQ+W,QAAUM,CAElB,EAAA,SAEgBtJ,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAIgCue,EAJ5BsP,EAAanZ,EAAoB,GAYjCoZ,EAAA,SAAqBC,GAGvB,SAASD,IAGP,OAZJ,SAAyBpN,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMutB,GAR1B,SAAoClrB,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOutB,EAASjW,WAAapV,OAAOwd,eAAe6N,IAAW5M,MAAM3gB,KAAM+M,WAChH,CAEE,OAXF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUgN,EAAUC,GAQbD,CACT,CAVI,GAR4BvP,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAkBzE1H,QAAQO,MAEtBtX,EAAQ+W,QAAUiX,CAElB,EAAA,SAEgBjgB,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIuf,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpekO,EAAiB7N,EAFDzL,EAAoB,KAQxC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAQ7F,IAAI2F,GAAA,EAVW/D,EAFDzL,EAAoB,KAYTmC,SAAS,gBAErB,CAAC,kBAAmB,YAAa,UAAW,SAElD1L,QAAQ,SAAU8iB,GACvB9G,SAAS+G,iBAAiBD,EAAW,WACnC,IAAA,IAASE,EAAO7gB,UAAUlN,OAAQssB,EAAO7rB,MAAMstB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC3E1B,EAAK0B,GAAQ9gB,UAAU8gB,GAGzB,GAAG1S,MAAMva,KAAKgmB,SAASkH,iBAAiB,kBAAkBljB,QAAQ,SAAU9L,GAGxE,IAAIivB,EADFjvB,EAAKqlB,SAAWrlB,EAAKqlB,QAAQI,UAG9BwJ,EAAwBjvB,EAAKqlB,QAAQI,SAASyJ,UAAUrN,MAAMoN,EAAuB5B,EAE9F,EACA,EACA,GAEA,IAAI8B,EAAA,SAAoBC,GAGtB,SAASD,KA9BX,SAAyB9N,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CA+BnJF,CAAgBlgB,KAAMiuB,GAEtB,IAAItW,EA/BR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CA+B9Nyf,CAA2BrgB,MAAOiuB,EAAQ3W,WAAapV,OAAOwd,eAAeuO,IAAUrtB,KAAKZ,OAIxG,OAFA2X,EAAMwW,UAAY,CAAA,EAClBxW,EAAMuN,GAAG,QAASvB,EAAMG,OACjBnM,CACX,CAkCE,OApEF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAwB1eF,CAAU0N,EAASC,GAYnBlP,EAAaiP,EAAS,CAAC,CACrBnyB,IAAK,OACL2D,MAAO,WACLkkB,EAAMyK,IAAIzN,MAAMgD,EAAO5W,WACvBuS,EAAK2O,EAAQ1tB,UAAU+W,WAAapV,OAAOwd,eAAeuO,EAAQ1tB,WAAY,OAAQP,MAAM2gB,MAAM3gB,KAAM+M,UAC9G,GACK,CACDjR,IAAK,YACL2D,MAAO,SAAmB4uB,GACxB,IAAA,IAASC,EAAQvhB,UAAUlN,OAAQssB,EAAO7rB,MAAMguB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACpGpC,EAAKoC,EAAQ,GAAKxhB,UAAUwhB,IAG7BvuB,KAAKmuB,UAAUE,EAAMzqB,OAAS,IAAIgH,QAAQ,SAAU4jB,GACnD,IAAI1vB,EAAO0vB,EAAK1vB,KACZ2vB,EAAUD,EAAKC,SAEfJ,EAAMjQ,SAAWtf,GAAQA,EAAKorB,SAASmE,EAAMjQ,UAC/CqQ,EAAQ9N,WAAM,EAAW,CAAC0N,GAAO3R,OAAOyP,GAElD,EACA,GACK,CACDrwB,IAAK,YACL2D,MAAO,SAAmBiuB,EAAW5uB,EAAM2vB,GACpCzuB,KAAKmuB,UAAUT,KAClB1tB,KAAKmuB,UAAUT,GAAa,IAE9B1tB,KAAKmuB,UAAUT,GAAWpsB,KAAK,CAAExC,OAAY2vB,WACnD,KAGSR,CACT,CA9CI,CA8CFR,EAAenX,SAEjB2X,EAAQ9I,OAAS,CACfC,cAAe,gBACfsJ,qBAAsB,uBACtBC,gBAAiB,kBACjBnJ,cAAe,gBACfoJ,iBAAkB,mBAClBvJ,YAAa,eAEf4I,EAAQxG,QAAU,CAChBC,IAAK,MACLM,OAAQ,SACRiD,KAAM,QAGR1rB,EAAQ+W,QAAU2X,CAElB,EAAA,SAEgB3gB,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAKT,IAAIovB,EAAS,SAASA,EAAOC,GAC3B,IAAIzQ,EAAUtR,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,GAHpF,SAAyBoT,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAKrJF,CAAgBlgB,KAAM6uB,GAEtB7uB,KAAK8uB,MAAQA,EACb9uB,KAAKqe,QAAUA,CACjB,EAEAwQ,EAAOzD,SAAW,CAAA,EAElB7rB,EAAQ+W,QAAUuY,CAElB,EAAA,SAEgBvhB,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAET,IAAIsvB,EAAS,CAAC,QAAS,OAAQ,MAAO,QAClC1I,EAAQ,OAEZ,SAAS1C,EAAMqL,GACb,GAAID,EAAOzR,QAAQ0R,IAAWD,EAAOzR,QAAQ+I,GAAQ,CAGnD,IAFA,IAAI4I,EAEKrB,EAAO7gB,UAAUlN,OAAQssB,EAAO7rB,MAAMstB,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAC9F1B,EAAK0B,EAAO,GAAK9gB,UAAU8gB,IAG5BoB,EAAWC,SAASF,GAAQrO,MAAMsO,EAAU9C,EACjD,CACA,CAEA,SAASgD,EAAUC,GACjB,OAAOL,EAAOhU,OAAO,SAAUsU,EAAQL,GAErC,OADAK,EAAOL,GAAUrL,EAAM2L,KAAKJ,QAASF,EAAQI,GACtCC,CACX,EAAK,CAAA,EACL,CAEA1L,EAAM0C,MAAQ8I,EAAU9I,MAAQ,SAAUkJ,GACxClJ,EAAQkJ,CACV,EAEAhwB,EAAQ+W,QAAU6Y,CAElB,EAAA,SAEgB7hB,EAAQ/N,EAAS4U,GAEjC,IAAIqb,EAASlvB,MAAMC,UAAU4a,MACzBsU,EAAatb,EAAoB,IACjCrH,EAAcqH,EAAoB,IAElCub,EAAYpiB,EAAO/N,QAAU,SAAUowB,EAAQC,EAAUC,GAG3D,OAFKA,IAAMA,EAAO,CAAA,GAEdF,IAAWC,IAGJD,aAAkBG,MAAQF,aAAoBE,KAChDH,EAAOI,YAAcH,EAASG,WAI3BJ,IAAWC,GAA6B,iBAAVD,GAAyC,iBAAZC,EAC9DC,EAAKhE,OAAS8D,IAAWC,EAAWD,GAAUC,EA0BzD,SAAkBI,EAAGzY,EAAGsY,GACtB,IAAIxb,EAAGvY,EACP,GAAIm0B,EAAkBD,IAAMC,EAAkB1Y,GAC5C,OAAO,EAET,GAAIyY,EAAEzvB,YAAcgX,EAAEhX,UAAW,OAAO,EAGxC,GAAIuM,EAAYkjB,GACd,QAAKljB,EAAYyK,KAGjByY,EAAIR,EAAO5uB,KAAKovB,GAChBzY,EAAIiY,EAAO5uB,KAAK2W,GACTmY,EAAUM,EAAGzY,EAAGsY,IAEzB,GAAIriB,EAASwiB,GAAI,CACf,IAAKxiB,EAAS+J,GACZ,OAAO,EAET,GAAIyY,EAAEnwB,SAAW0X,EAAE1X,OAAQ,OAAO,EAClC,IAAKwU,EAAI,EAAGA,EAAI2b,EAAEnwB,OAAQwU,IACxB,GAAI2b,EAAE3b,KAAOkD,EAAElD,GAAI,OAAO,EAE5B,OAAO,CACX,CACE,IACE,IAAI6b,EAAKT,EAAWO,GAChBG,EAAKV,EAAWlY,EACxB,OAAWjU,GACP,OAAO,CACX,CAGE,GAAI4sB,EAAGrwB,QAAUswB,EAAGtwB,OAClB,OAAO,EAKT,IAHAqwB,EAAGE,OACHD,EAAGC,OAEE/b,EAAI6b,EAAGrwB,OAAS,EAAGwU,GAAK,EAAGA,IAC9B,GAAI6b,EAAG7b,IAAM8b,EAAG9b,GACd,OAAO,EAIX,IAAKA,EAAI6b,EAAGrwB,OAAS,EAAGwU,GAAK,EAAGA,IAE9B,GADAvY,EAAMo0B,EAAG7b,IACJqb,EAAUM,EAAEl0B,GAAMyb,EAAEzb,GAAM+zB,GAAO,OAAO,EAE/C,cAAcG,UAAazY,CAC7B,CApEW8Y,CAASV,EAAQC,EAAUC,GAEtC,EAEA,SAASI,EAAkBxwB,GACzB,OAAOA,OACT,CAEA,SAAS+N,EAAUtR,GACjB,SAAKA,GAAkB,iBAANA,GAAsC,iBAAbA,EAAE2D,QACtB,mBAAX3D,EAAEwiB,MAA0C,mBAAZxiB,EAAEif,OAGzCjf,EAAE2D,OAAS,GAAqB,iBAAT3D,EAAE,GAE/B,CAwDA,EAAA,SAEgBoR,EAAQ/N,EAAS4U,GAIjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIqW,EAAW3B,EAAoB,GAC/B2C,EAAA,WACA,SAASA,EAAWyC,EAAUC,EAAS6E,QACnB,IAAZA,IAAsBA,EAAU,CAAA,GACpCre,KAAKuZ,SAAWA,EAChBvZ,KAAKwZ,QAAUA,EACf,IAAI8W,EAAexa,EAASE,MAAM4C,KAAO9C,EAASE,MAAMua,UACnC,MAAjBlS,EAAQtG,MAER/X,KAAK+X,MAASsG,EAAQtG,MAAQjC,EAASE,MAAMoC,MAASkY,EAGtDtwB,KAAK+X,MAAQjC,EAASE,MAAMua,UAEP,MAArBlS,EAAQoG,YACRzkB,KAAKykB,UAAYpG,EAAQoG,UACrC,CAmCI,OAlCA3N,EAAWzS,KAAO,SAAUvF,GACxB,MAAO,GAAG8H,IAAIhG,KAAK9B,EAAK8Y,WAAY,SAAU4Y,GAC1C,OAAOA,EAAK3yB,IACxB,EACA,EACIiZ,EAAWvW,UAAUyI,IAAM,SAAUlK,EAAMW,GACvC,QAAKO,KAAKywB,OAAO3xB,EAAMW,KAEvBX,EAAKulB,aAAarkB,KAAKwZ,QAAS/Z,IACzB,EACf,EACIqX,EAAWvW,UAAUkwB,OAAS,SAAU3xB,EAAMW,GAE1C,OAAa,MADDqW,EAASK,MAAMrX,EAAMgX,EAASE,MAAM+W,MAAQ/sB,KAAK+X,MAAQjC,EAASE,MAAM4C,SAG9D,MAAlB5Y,KAAKykB,YAEY,iBAAVhlB,EACAO,KAAKykB,UAAUnH,QAAQ7d,EAAMyF,QAAQ,QAAS,MAAO,EAGrDlF,KAAKykB,UAAUnH,QAAQ7d,IAAS,GAEnD,EACIqX,EAAWvW,UAAU0hB,OAAS,SAAUnjB,GACpCA,EAAK4xB,gBAAgB1wB,KAAKwZ,QAClC,EACI1C,EAAWvW,UAAUd,MAAQ,SAAUX,GACnC,IAAIW,EAAQX,EAAK2Z,aAAazY,KAAKwZ,SACnC,OAAIxZ,KAAKywB,OAAO3xB,EAAMW,IAAUA,EACrBA,EAEJ,EACf,EACWqX,CACX,CAnDI,GAoDJvX,EAAQ+W,QAAUQ,CAGlB,EAAA,SAEgBxJ,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQoxB,UAAO,EAEjC,IAAIhO,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeM,EAAeD,EAFDzL,EAAoB,IAMlC2L,EAAcF,EAFDzL,EAAoB,IAMjCyc,EAAUhR,EAFDzL,EAAoB,IAM7B6L,EAAWJ,EAFDzL,EAAoB,IAM9B8L,EAASL,EAFDzL,EAAoB,IAIhC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAAIkQ,EAAA,SAAiBE,GAGnB,SAASF,IAGP,OAFAzQ,EAAgBlgB,KAAM2wB,GAEftQ,EAA2BrgB,MAAO2wB,EAAKrZ,WAAapV,OAAOwd,eAAeiR,IAAOhQ,MAAM3gB,KAAM+M,WACxG,CAEE,OARAwT,EAAUoQ,EAAME,GAQTF,CACT,CAVI,CAUF3Q,EAAS1J,SAEXqa,EAAKrX,SAAW,OAChBqX,EAAKhY,QAAU,OAEf,IAAImY,EAAA,SAAsBC,GAGxB,SAASD,IAGP,OAFA5Q,EAAgBlgB,KAAM8wB,GAEfzQ,EAA2BrgB,MAAO8wB,EAAUxZ,WAAapV,OAAOwd,eAAeoR,IAAYnQ,MAAM3gB,KAAM+M,WAClH,CA4HE,OAlIAwT,EAAUuQ,EAAWC,GAQrB/R,EAAa8R,EAAW,CAAC,CACvBh1B,IAAK,QACL2D,MAAO,WACL,IAAIsnB,EAAS/mB,KAEToa,EAAOpa,KAAK4gB,QAAQoQ,YAKxB,OAJI5W,EAAK8G,SAAS,QAEhB9G,EAAOA,EAAKe,MAAM,GAAG,IAEhBf,EAAK1B,MAAM,MAAMqC,OAAO,SAAUqB,EAAO6U,GAC9C,OAAO7U,EAAMjC,OAAO8W,GAAM9W,OAAO,KAAM4M,EAAOlG,UACtD,EAAS,IAAIhB,EAAavJ,QAC1B,GACK,CACDxa,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GAC3B,GAAI5B,IAASmC,KAAKqiB,QAAQ/I,WAAY7Z,EAAtC,CAEA,IAAIyxB,EAAclxB,KAAKmxB,WAAWlR,EAAO3J,QAAStW,KAAKH,SAAW,GAE9Dua,EADeuI,EAAeuO,EAAa,GACvB,GAEZ,MAAR9W,GACFA,EAAKgX,SAAShX,EAAKva,SAAW,EAAG,GAEnCyf,EAAKwR,EAAUvwB,UAAU+W,WAAapV,OAAOwd,eAAeoR,EAAUvwB,WAAY,SAAUP,MAAMY,KAAKZ,KAAMnC,EAAM4B,EATtE,CAUnD,GACK,CACD3D,IAAK,WACL2D,MAAO,SAAkBiB,EAAOb,EAAQhC,EAAM4B,GAC5C,GAAe,IAAXI,GACoE,MAApEigB,EAAYxJ,QAAQH,MAAMtY,EAAMiiB,EAAYxJ,QAAQN,MAAMqC,SAAkBxa,IAASmC,KAAKqiB,QAAQ/I,UAAY7Z,IAAUO,KAAKqiB,QAAQxB,QAAQ7gB,KAAK4gB,UAAtJ,CAGA,IAAIyQ,EAAcrxB,KAAKsxB,aAAa5wB,GACpC,KAAI2wB,EAAc,GAAKA,GAAe3wB,EAAQb,GAA9C,CACA,IAAI0xB,EAAcvxB,KAAKsxB,aAAa5wB,GAAO,GAAQ,EAC/C8wB,EAAgBH,EAAcE,EAAc,EAC5CtY,EAAOjZ,KAAKgtB,QAAQuE,EAAaC,GACjC7V,EAAO1C,EAAK0C,KAChB1C,EAAK+H,OAAOnjB,EAAM4B,GACdkc,aAAgBmV,GAClBnV,EAAK8V,SAAS,EAAG/wB,EAAQ6wB,EAAc1xB,EAAS2xB,EAAe3zB,EAAM4B,EAPjB,CAF5D,CAWA,GACK,CACD3D,IAAK,WACL2D,MAAO,SAAkBiB,EAAOjB,EAAOwhB,GACrC,GAAW,MAAPA,EAAJ,CAEA,IAAIyQ,EAAe1xB,KAAKmxB,WAAWlR,EAAO3J,QAAS5V,GAC/CixB,EAAehP,EAAe+O,EAAc,GAC5CtX,EAAOuX,EAAa,GACpB9lB,EAAS8lB,EAAa,GAE1BvX,EAAKiH,SAASxV,EAAQpM,EAPL,CAQvB,GACK,CACD3D,IAAK,SACL2D,MAAO,WACL,IAAII,EAASG,KAAK4gB,QAAQoQ,YAAYnxB,OACtC,OAAKG,KAAK4gB,QAAQoQ,YAAY9P,SAAS,MAGhCrhB,EAFEA,EAAS,CAGxB,GACK,CACD/D,IAAK,eACL2D,MAAO,SAAsBmyB,GAG3B,GAFc7kB,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,GAM3E,OAAO/M,KAAK4gB,QAAQoQ,YAAY7V,MAAM,EAAGyW,GAAaC,YAAY,MAHlE,IAAIhmB,EAAS7L,KAAK4gB,QAAQoQ,YAAY7V,MAAMyW,GAAatU,QAAQ,MACjE,OAAOzR,GAAS,EAAK+lB,EAAc/lB,GAAS,CAIpD,GACK,CACD/P,IAAK,WACL2D,MAAO,SAAkByiB,GAClBliB,KAAK4gB,QAAQoQ,YAAY9P,SAAS,OACrClhB,KAAK8xB,YAAYhS,EAAYxJ,QAAQL,OAAO,OAAQ,OAEtDqJ,EAAKwR,EAAUvwB,UAAU+W,WAAapV,OAAOwd,eAAeoR,EAAUvwB,WAAY,WAAYP,MAAMY,KAAKZ,KAAMkiB,GAC/G,IAAIvG,EAAO3b,KAAK2b,KACJ,MAARA,GAAgBA,EAAKoW,OAAS/xB,MAAQ2b,EAAK0G,QAAQ/I,WAAatZ,KAAKqiB,QAAQ/I,UAAYtZ,KAAKqiB,QAAQxB,QAAQ7gB,KAAK4gB,WAAajF,EAAK0G,QAAQxB,QAAQlF,EAAKiF,WAC5JjF,EAAKqW,SAAS9P,GACdvG,EAAKuR,aAAaltB,MAClB2b,EAAKsG,SAEb,GACK,CACDnmB,IAAK,UACL2D,MAAO,SAAiB2e,GACtBkB,EAAKwR,EAAUvwB,UAAU+W,WAAapV,OAAOwd,eAAeoR,EAAUvwB,WAAY,UAAWP,MAAMY,KAAKZ,KAAMoe,GAC9G,GAAGjD,MAAMva,KAAKZ,KAAK4gB,QAAQkN,iBAAiB,MAAMljB,QAAQ,SAAU9L,GAClE,IAAIma,EAAO6G,EAAYxJ,QAAQJ,KAAKpX,GACxB,MAARma,EACFna,EAAKoa,WAAW+Y,YAAYnzB,GACnBma,aAAgB6G,EAAYxJ,QAAQG,MAC7CwC,EAAKgJ,SAELhJ,EAAKiZ,QAEf,EACA,IACM,CAAC,CACHp2B,IAAK,SACL2D,MAAO,SAAgBA,GACrB,IAAImhB,EAAUtB,EAAKwR,EAAUxZ,WAAapV,OAAOwd,eAAeoR,GAAY,SAAU9wB,MAAMY,KAAKZ,KAAMP,GAEvG,OADAmhB,EAAQyD,aAAa,cAAc,GAC5BzD,CACb,GACK,CACD9kB,IAAK,UACL2D,MAAO,WACL,OAAO,CACb,KAGSqxB,CACT,CApII,CAoIFF,EAAQta,SAEVwa,EAAUxX,SAAW,aACrBwX,EAAUnY,QAAU,MACpBmY,EAAUqB,IAAM,KAEhB5yB,EAAQoxB,KAAOA,EACfpxB,EAAQ+W,QAAUwa,CAElB,EAAA,SAEgBxjB,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIijB,EAA4B,mBAAXjgB,QAAoD,iBAApBA,OAAO+Y,SAAwB,SAAUwC,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,GAAyB,mBAAXvb,QAAyBub,EAAIhO,cAAgBvN,QAAUub,IAAQvb,OAAOlC,UAAY,gBAAkByd,CAAI,EAEtQ2E,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfU,EAAeD,EAFDzL,EAAoB,IAMlCie,EAAOxS,EAFDzL,EAAoB,KAM1B2L,EAAcF,EAFDzL,EAAoB,IAMjCke,EAASzS,EAFDzL,EAAoB,KAM5Bme,EAAW1S,EAFDzL,EAAoB,KAI9Boe,EAASpe,EAAoB,GAE7Byc,EAAUhR,EAAuB2S,GAIjCxS,EAAUH,EAFDzL,EAAoB,KAM7Bqe,EAAU5S,EAFDzL,EAAoB,KAM7Bse,EAAc7S,EAFDzL,EAAoB,KAMjCwL,EAAWC,EAFDzL,EAAoB,IAIlC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAM7F,IAAI0U,EAAQ,WAERC,aACF,SAASA,EAAOnO,IALlB,SAAyBrE,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAMnJF,CAAgBlgB,KAAM2yB,GAEtB3yB,KAAKwkB,OAASA,EACdxkB,KAAKoc,MAAQpc,KAAK4yB,UACtB,CA4PE,OA1PA5T,EAAa2T,EAAQ,CAAC,CACpB72B,IAAK,aACL2D,MAAO,SAAoB2c,GACzB,IAAIzE,EAAQ3X,KAER6yB,GAAqB,EACzB7yB,KAAKwkB,OAAOsB,SACZ,IAAIgN,EAAe9yB,KAAKwkB,OAAO3kB,SAoD/B,OAnDAG,KAAKwkB,OAAOuO,cACZ3W,EAoQN,SAAwBA,GACtB,OAAOA,EAAMrB,OAAO,SAAUqB,EAAOtC,GACnC,GAAkB,IAAdA,EAAGK,OAAc,CACnB,IAAIvC,GAAA,EAAiB4a,EAAQlc,SAASwD,EAAGlC,YAEzC,cADOA,EAAkB,MAClBwE,EAAMjC,OAAO,CAAE6Y,MAAOlZ,EAAGlC,WAAWob,OAASpb,EAC1D,CAUI,GATqB,MAAjBkC,EAAGlC,aAA8C,IAAvBkC,EAAGlC,WAAWqb,OAA0C,IAAzBnZ,EAAGlC,WAAWsb,UACzEpZ,GAAA,EAAS0Y,EAAQlc,SAASwD,IACnBlC,WAAWqb,KAChBnZ,EAAGlC,WAAWqb,KAAO,WAErBnZ,EAAGlC,WAAWqb,KAAO,gBACdnZ,EAAGlC,WAAWsb,SAGA,iBAAdpZ,EAAGK,OAAqB,CACjC,IAAIC,EAAON,EAAGK,OAAOjV,QAAQ,QAAS,MAAMA,QAAQ,MAAO,MAC3D,OAAOkX,EAAMjC,OAAOC,EAAMN,EAAGlC,WACnC,CACI,OAAOwE,EAAM9a,KAAKwY,EACtB,EAAK,IAAI+F,EAAavJ,QACtB,CA1Rc6c,CAAe/W,IACjBrB,OAAO,SAAUra,EAAOoZ,GAC5B,IAAIja,EAASia,EAAGS,QAAUT,EAAGQ,QAAUR,EAAGK,OAAOta,QAAU,EACvD+X,EAAakC,EAAGlC,YAAc,CAAA,EAClC,GAAiB,MAAbkC,EAAGK,OAAgB,CACrB,GAAyB,iBAAdL,EAAGK,OAAqB,CACjC,IAAIC,EAAON,EAAGK,OACVC,EAAK8G,SAAS,OAAS2R,IACzBA,GAAqB,EACrBzY,EAAOA,EAAKe,MAAM,GAAG,IAEnBza,GAASoyB,IAAiB1Y,EAAK8G,SAAS,QAC1C2R,GAAqB,GAEvBlb,EAAM6M,OAAOnD,SAAS3gB,EAAO0Z,GAE7B,IAAIgZ,EAAezb,EAAM6M,OAAOnH,KAAK3c,GACjC2yB,EAAgB1Q,EAAeyQ,EAAc,GAC7C/V,EAAOgW,EAAc,GACrBxnB,EAASwnB,EAAc,GAEvBxS,GAAA,EAAclB,EAASrJ,SAAS,CAAA,KAAQic,EAAOxT,eAAe1B,IAClE,GAAIA,aAAgBuT,EAAQta,QAAS,CACnC,IAAIgd,EAAmBjW,EAAK8T,WAAWrR,EAAYxJ,QAAQE,KAAM3K,GAE7D6V,EADoBiB,EAAe2Q,EAAkB,GAC5B,GAE7BzS,GAAA,EAAclB,EAASrJ,SAASuK,GAAA,EAAa0R,EAAOxT,eAAe2C,GACjF,CACY9J,EAAawa,EAAK9b,QAAQsB,WAAW+B,KAAKkH,EAASjJ,IAAe,CAAA,CAC9E,MAAA,GAA4C,WAAvB8K,EAAQ5I,EAAGK,QAAsB,CAC1C,IAAIre,EAAMoG,OAAOmC,KAAKyV,EAAGK,QAAQ,GACjC,GAAW,MAAPre,EAAa,OAAO4E,EACxBiX,EAAM6M,OAAOnD,SAAS3gB,EAAO5E,EAAKge,EAAGK,OAAOre,GACxD,CACUg3B,GAAgBjzB,CAC1B,CAIQ,OAHAqC,OAAOmC,KAAKuT,GAAYhN,QAAQ,SAAU/M,GACxC8Z,EAAM6M,OAAOiN,SAAS/wB,EAAOb,EAAQhC,EAAM+Z,EAAW/Z,GAChE,GACe6C,EAAQb,CACvB,EAAS,GACHuc,EAAMrB,OAAO,SAAUra,EAAOoZ,GAC5B,MAAyB,iBAAdA,EAAGQ,QACZ3C,EAAM6M,OAAO4M,SAAS1wB,EAAOoZ,EAAGQ,QACzB5Z,GAEFA,GAASoZ,EAAGS,QAAUT,EAAGK,OAAOta,QAAU,EACzD,EAAS,GACHG,KAAKwkB,OAAO+O,WACLvzB,KAAK8lB,OAAO1J,EACzB,GACK,CACDtgB,IAAK,aACL2D,MAAO,SAAoBiB,EAAOb,GAEhC,OADAG,KAAKwkB,OAAO4M,SAAS1wB,EAAOb,GACrBG,KAAK8lB,QAAO,IAAIjG,EAAavJ,SAAUiE,OAAO7Z,GAAO4Z,OAAOza,GACzE,GACK,CACD/D,IAAK,aACL2D,MAAO,SAAoBiB,EAAOb,GAChC,IAAI2hB,EAASxhB,KAET6gB,EAAU9T,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAoBlF,OAlBA/M,KAAKwkB,OAAOsB,SACZ5jB,OAAOmC,KAAKwc,GAASjW,QAAQ,SAAUoW,GACrC,GAA+B,MAA3BQ,EAAOgD,OAAOC,WAAsBjD,EAAOgD,OAAOC,UAAUzD,GAAhE,CACA,IAAIW,EAAQH,EAAOgD,OAAO7C,MAAMjhB,EAAO2b,KAAKoQ,IAAI5sB,EAAQ,IACpD2zB,EAAkB3zB,EACtB8hB,EAAM/W,QAAQ,SAAUyS,GACtB,IAAIoW,EAAapW,EAAKxd,SACtB,GAAMwd,aAAgBgV,EAAO/b,QAEtB,CACL,IAAIod,EAAYhzB,EAAQ2c,EAAKxR,OAAO2V,EAAOgD,QACvCmP,EAAatW,EAAKiU,aAAaoC,EAAYF,GAAmBE,EAAY,EAC9ErW,EAAKoU,SAASiC,EAAWC,EAAY3S,EAAQH,EAAQG,GACjE,MALY3D,EAAK2D,OAAOA,EAAQH,EAAQG,IAM9BwS,GAAmBC,CAC7B,EAbiF,CAcjF,GACMzzB,KAAKwkB,OAAOwN,WACLhyB,KAAK8lB,QAAO,IAAIjG,EAAavJ,SAAUiE,OAAO7Z,GAAO6Z,OAAO1a,KAAY2yB,EAAQlc,SAASuK,IACtG,GACK,CACD/kB,IAAK,aACL2D,MAAO,SAAoBiB,EAAOb,GAChC,IAAIknB,EAAS/mB,KAET6gB,EAAU9T,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAKlF,OAHA7K,OAAOmC,KAAKwc,GAASjW,QAAQ,SAAUoW,GACrC+F,EAAOvC,OAAOiN,SAAS/wB,EAAOb,EAAQmhB,EAAQH,EAAQG,GAC9D,GACahhB,KAAK8lB,QAAO,IAAIjG,EAAavJ,SAAUiE,OAAO7Z,GAAO6Z,OAAO1a,KAAY2yB,EAAQlc,SAASuK,IACtG,GACK,CACD/kB,IAAK,cACL2D,MAAO,SAAqBiB,EAAOb,GACjC,OAAOG,KAAKoc,MAAMjB,MAAMza,EAAOA,EAAQb,EAC7C,GACK,CACD/D,IAAK,WACL2D,MAAO,WACL,OAAOO,KAAKwkB,OAAO7C,QAAQ5G,OAAO,SAAUqB,EAAOiB,GACjD,OAAOjB,EAAMM,OAAOW,EAAKjB,QACjC,EAAS,IAAIyD,EAAavJ,QAC1B,GACK,CACDxa,IAAK,YACL2D,MAAO,SAAmBiB,GACxB,IAAIb,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAE7E4U,EAAQ,GACRiS,EAAS,GACE,IAAX/zB,EACFG,KAAKwkB,OAAO+B,KAAK7lB,GAAOkK,QAAQ,SAAU2b,GACxC,IACItN,EADQ0J,EAAe4D,EAAM,GAChB,GAEbtN,aAAgB2X,EAAQta,QAC1BqL,EAAMrgB,KAAK2X,GACFA,aAAgB6G,EAAYxJ,QAAQE,MAC7Cod,EAAOtyB,KAAK2X,EAExB,IAEQ0I,EAAQ3hB,KAAKwkB,OAAO7C,MAAMjhB,EAAOb,GACjC+zB,EAAS5zB,KAAKwkB,OAAO/C,YAAY3B,EAAYxJ,QAAQE,KAAM9V,EAAOb,IAEpE,IAAIg0B,EAAa,CAAClS,EAAOiS,GAAQhtB,IAAI,SAAUktB,GAC7C,GAAqB,IAAjBA,EAAMj0B,OAAc,MAAO,CAAA,EAE/B,IADA,IAAIghB,KAAc0R,EAAOxT,eAAe+U,EAAMlS,SACvC1f,OAAOmC,KAAKwc,GAAShhB,OAAS,GAAG,CACtC,IAAIoZ,EAAO6a,EAAMlS,QACjB,GAAY,MAAR3I,EAAc,OAAO4H,EACzBA,EAAUkT,KAAmBxB,EAAOxT,eAAe9F,GAAO4H,EACpE,CACQ,OAAOA,CACf,GACM,OAAOlB,EAASrJ,QAAQqK,MAAMhB,EAASrJ,QAASud,EACtD,GACK,CACD/3B,IAAK,UACL2D,MAAO,SAAiBiB,EAAOb,GAC7B,OAAOG,KAAKkpB,YAAYxoB,EAAOb,GAAQ8a,OAAO,SAAUb,GACtD,MAA4B,iBAAdA,EAAGK,MACzB,GAASvT,IAAI,SAAUkT,GACf,OAAOA,EAAGK,MAClB,GAASyC,KAAK,GACd,GACK,CACD9gB,IAAK,cACL2D,MAAO,SAAqBiB,EAAOipB,EAAOlqB,GAExC,OADAO,KAAKwkB,OAAOnD,SAAS3gB,EAAOipB,EAAOlqB,GAC5BO,KAAK8lB,QAAO,IAAIjG,EAAavJ,SAAUiE,OAAO7Z,GAAOyZ,OAnLlE,SAAyB6D,EAAKliB,EAAK2D,GAAiK,OAApJ3D,KAAOkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,CAAI,CAmLtI0F,CAAgB,CAAA,EAAIiG,EAAOlqB,IACpG,GACK,CACD3D,IAAK,aACL2D,MAAO,SAAoBiB,EAAO0Z,GAChC,IAAIoN,EAASxnB,KAET6gB,EAAU9T,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAOlF,OALAqN,EAAOA,EAAKlV,QAAQ,QAAS,MAAMA,QAAQ,MAAO,MAClDlF,KAAKwkB,OAAOnD,SAAS3gB,EAAO0Z,GAC5BlY,OAAOmC,KAAKwc,GAASjW,QAAQ,SAAUoW,GACrCwG,EAAOhD,OAAOiN,SAAS/wB,EAAO0Z,EAAKva,OAAQmhB,EAAQH,EAAQG,GACnE,GACahhB,KAAK8lB,QAAO,IAAIjG,EAAavJ,SAAUiE,OAAO7Z,GAAOyZ,OAAOC,KAAUoY,EAAQlc,SAASuK,IACpG,GACK,CACD/kB,IAAK,UACL2D,MAAO,WACL,GAAmC,GAA/BO,KAAKwkB,OAAO3C,SAAShiB,OAAa,OAAO,EAC7C,GAAIG,KAAKwkB,OAAO3C,SAAShiB,OAAS,EAAG,OAAO,EAC5C,IAAIshB,EAAQnhB,KAAKwkB,OAAO3C,SAASG,KACjC,OAAIb,EAAMkB,QAAQ/I,WAAasX,EAAQta,QAAQgD,YAC3C6H,EAAMU,SAAShiB,OAAS,IACrBshB,EAAMU,SAASG,gBAAgBjC,EAAQzJ,OACpD,GACK,CACDxa,IAAK,eACL2D,MAAO,SAAsBiB,EAAOb,GAClC,IAAIua,EAAOpa,KAAKypB,QAAQ/oB,EAAOb,GAE3Bm0B,EAAgBh0B,KAAKwkB,OAAOnH,KAAK3c,EAAQb,GACzCo0B,EAAgBtR,EAAeqR,EAAe,GAC9C3W,EAAO4W,EAAc,GACrBpoB,EAASooB,EAAc,GAEvBC,EAAe,EACfC,EAAS,IAAItU,EAAavJ,QAClB,MAAR+G,IAIA6W,EAHI7W,aAAgBgV,EAAO/b,QAGZ+G,EAAKiU,aAAazlB,GAAUA,EAAS,EAFrCwR,EAAKxd,SAAWgM,EAIjCsoB,EAAS9W,EAAKjB,QAAQjB,MAAMtP,EAAQA,EAASqoB,EAAe,GAAG/Z,OAAO,OAExE,IACIR,EADW3Z,KAAKkpB,YAAYxoB,EAAOb,EAASq0B,GAC5Bva,MAAK,IAAIkG,EAAavJ,SAAU6D,OAAOC,GAAMsC,OAAOyX,IACpE/X,GAAQ,IAAIyD,EAAavJ,SAAUiE,OAAO7Z,GAAOgc,OAAO/C,GAC5D,OAAO3Z,KAAK6qB,WAAWzO,EAC7B,GACK,CACDtgB,IAAK,SACL2D,MAAO,SAAgBmoB,GACrB,IAAIlC,EAAY3Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,GAChFqnB,EAAcrnB,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,QAAK,EAElFgf,EAAW/rB,KAAKoc,MACpB,GAAyB,IAArBsJ,EAAU7lB,QAAsC,kBAAtB6lB,EAAU,GAAG9hB,MAA4B8hB,EAAU,GAAGtH,OAAO3d,KAAKuX,MAAM0a,IAAU5S,EAAYxJ,QAAQJ,KAAKwP,EAAU,GAAGtH,QAAS,CAE7J,IAAIiW,EAAWvU,EAAYxJ,QAAQJ,KAAKwP,EAAU,GAAGtH,QACjDyC,GAAA,EAAc0R,EAAOxT,eAAesV,GACpC3zB,EAAQ2zB,EAASxoB,OAAO7L,KAAKwkB,QAC7B8P,EAAW5O,EAAU,GAAG4O,SAASpvB,QAAQotB,EAAShc,QAAQie,SAAU,IACpEC,GAAU,IAAI3U,EAAavJ,SAAU6D,OAAOma,GAC5CG,GAAU,IAAI5U,EAAavJ,SAAU6D,OAAOka,EAAS50B,SAEzDmoB,GADgB,IAAI/H,EAAavJ,SAAUiE,OAAO7Z,GAAOgc,OAAO8X,EAAQ7a,KAAK8a,EAASL,IACnErZ,OAAO,SAAUqB,EAAOtC,GACzC,OAAIA,EAAGK,OACEiC,EAAMjC,OAAOL,EAAGK,OAAQ0G,GAExBzE,EAAM9a,KAAKwY,EAE9B,EAAW,IAAI+F,EAAavJ,SACpBtW,KAAKoc,MAAQ2P,EAASnQ,QAAQgM,EACtC,MACQ5nB,KAAKoc,MAAQpc,KAAK4yB,WACbhL,IAAU,EAAK6K,EAAYnc,SAASyV,EAASnQ,QAAQgM,GAAS5nB,KAAKoc,SACtEwL,EAASmE,EAASpS,KAAK3Z,KAAKoc,MAAOgY,IAGvC,OAAOxM,CACb,KAGS+K,CACT,IAEA,SAASoB,EAAelT,EAAS6T,GAC/B,OAAOxyB,OAAOmC,KAAKqwB,GAAU3Z,OAAO,SAAU4Z,EAAQ92B,GACpD,OAAqB,MAAjBgjB,EAAQhjB,KACR62B,EAAS72B,KAAUgjB,EAAQhjB,GAC7B82B,EAAO92B,GAAQ62B,EAAS72B,GACfyC,MAAMmL,QAAQipB,EAAS72B,IAC5B62B,EAAS72B,GAAMyf,QAAQuD,EAAQhjB,IAAS,IAC1C82B,EAAO92B,GAAQ62B,EAAS72B,GAAM6e,OAAO,CAACmE,EAAQhjB,MAGhD82B,EAAO92B,GAAQ,CAAC62B,EAAS72B,GAAOgjB,EAAQhjB,KARR82B,CAWtC,EAAK,CAAA,EACL,CA0BAp1B,EAAQ+W,QAAUqc,CAElB,EAAA,SAEgBrlB,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQyrB,WAAQ,EAElC,IAAIrI,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfW,EAAcF,EAFDzL,EAAoB,IAMjCqe,EAAU5S,EAFDzL,EAAoB,KAM7Bse,EAAc7S,EAFDzL,EAAoB,KAMjCiP,EAAYxD,EAFAzL,EAAoB,IAQpC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAAS4W,EAAmB9W,GAAO,GAAIxd,MAAMmL,QAAQqS,GAAM,CAAE,IAAA,IAASzJ,EAAI,EAAGwgB,EAAOv0B,MAAMwd,EAAIje,QAASwU,EAAIyJ,EAAIje,OAAQwU,IAAOwgB,EAAKxgB,GAAKyJ,EAAIzJ,GAAM,OAAOwgB,CAAK,CAAU,OAAOv0B,MAAMw0B,KAAKhX,EAAO,CAEjM,SAASoC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,IAAIuD,GAAA,EARW/D,EAFDzL,EAAoB,KAUTmC,SAAS,mBAE9B0U,EAAQ,SAASA,EAAMtqB,GACzB,IAAIb,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAEjFmT,EAAgBlgB,KAAMgrB,GAEtBhrB,KAAKU,MAAQA,EACbV,KAAKH,OAASA,CAChB,EAEIk1B,aACF,SAASA,EAAUvQ,EAAQD,GACzB,IAAI5M,EAAQ3X,KAEZkgB,EAAgBlgB,KAAM+0B,GAEtB/0B,KAAKukB,QAAUA,EACfvkB,KAAKwkB,OAASA,EACdxkB,KAAKg1B,WAAY,EACjBh1B,KAAKi1B,WAAY,EACjBj1B,KAAKsC,KAAOtC,KAAKwkB,OAAO5D,QACxB5gB,KAAKk1B,OAASpV,EAAYxJ,QAAQL,OAAO,SAAUjW,MAEnDA,KAAK4lB,UAAY5lB,KAAKm1B,WAAa,IAAInK,EAAM,EAAG,GAChDhrB,KAAKo1B,oBACLp1B,KAAKq1B,iBACLr1B,KAAKukB,QAAQ+Q,UAAU,kBAAmB1O,SAAU,WAC7CjP,EAAMsd,WACTM,WAAW5d,EAAMmO,OAAOwJ,KAAK3X,EAAOyL,EAAU9M,QAAQmR,QAAQwD,MAAO,EAE7E,GACIjrB,KAAKukB,QAAQW,GAAG9B,EAAU9M,QAAQ6O,OAAOC,cAAe,SAAUxhB,EAAMwY,GAClExY,IAASwf,EAAU9M,QAAQ6O,OAAOE,aAAejJ,EAAMvc,SAAW,GACpE8X,EAAMmO,OAAO1C,EAAU9M,QAAQmR,QAAQO,OAE/C,GACIhoB,KAAKukB,QAAQW,GAAG9B,EAAU9M,QAAQ6O,OAAOuJ,qBAAsB,WAC7D,GAAK/W,EAAM+R,WAAX,CACA,IAAI8L,EAAS7d,EAAM8d,iBACL,MAAVD,GACAA,EAAOpa,MAAMtc,OAAS6Y,EAAMud,OAAOQ,UAEvC/d,EAAM4M,QAAQ6F,KAAKhH,EAAU9M,QAAQ6O,OAAOK,cAAe,WACzD,IACE7N,EAAMge,eAAeH,EAAOpa,MAAMtc,KAAM02B,EAAOpa,MAAMvP,OAAQ2pB,EAAOna,IAAIvc,KAAM02B,EAAOna,IAAIxP,OACnG,OAAiB+pB,GAAS,CAC1B,EAT6B,CAU7B,GACI51B,KAAKukB,QAAQW,GAAG9B,EAAU9M,QAAQ6O,OAAOwJ,gBAAiB,SAAUjJ,EAAWxD,GAC7E,GAAIA,EAAQyD,MAAO,CACjB,IAAIkQ,EAAiB3T,EAAQyD,MACzBmQ,EAAYD,EAAeC,UAC3BC,EAAcF,EAAeE,YAC7BC,EAAUH,EAAeG,QACzBC,EAAYJ,EAAeI,UAE/Bte,EAAMge,eAAeG,EAAWC,EAAaC,EAASC,EAC9D,CACA,GACIj2B,KAAK8lB,OAAO1C,EAAU9M,QAAQmR,QAAQO,OAC1C,CA6WE,OA3WAhJ,EAAa+V,EAAW,CAAC,CACvBj5B,IAAK,oBACL2D,MAAO,WACL,IAAI+hB,EAASxhB,KAEbA,KAAKsC,KAAKqrB,iBAAiB,mBAAoB,WAC7CnM,EAAOwT,WAAY,CAC3B,GACMh1B,KAAKsC,KAAKqrB,iBAAiB,iBAAkB,WAE3C,GADAnM,EAAOwT,WAAY,EACfxT,EAAO0T,OAAOzV,OAAQ,CACxB,IAAIkG,EAAQnE,EAAO0T,OAAOgB,UAC1B,IAAKvQ,EAAO,OACZ4P,WAAW,WACT/T,EAAOmU,eAAehQ,EAAMmQ,UAAWnQ,EAAMoQ,YAAapQ,EAAMqQ,QAASrQ,EAAMsQ,UAC3F,EAAa,EACb,CACA,EACA,GACK,CACDn6B,IAAK,iBACL2D,MAAO,WACL,IAAIsnB,EAAS/mB,KAEbA,KAAKukB,QAAQ+Q,UAAU,YAAa1O,SAASuP,KAAM,WACjDpP,EAAOkO,WAAY,CAC3B,GACMj1B,KAAKukB,QAAQ+Q,UAAU,UAAW1O,SAASuP,KAAM,WAC/CpP,EAAOkO,WAAY,EACnBlO,EAAOjB,OAAO1C,EAAU9M,QAAQmR,QAAQwD,KAChD,EACA,GACK,CACDnvB,IAAK,QACL2D,MAAO,WACDO,KAAK0pB,aACT1pB,KAAKsC,KAAKglB,QACVtnB,KAAK8mB,SAAS9mB,KAAKm1B,YACzB,GACK,CACDr5B,IAAK,SACL2D,MAAO,SAAgB22B,EAAS32B,GAC9B,GAA6B,MAAzBO,KAAKwkB,OAAOC,WAAsBzkB,KAAKwkB,OAAOC,UAAU2R,GAA5D,CACAp2B,KAAKwkB,OAAOsB,SACZ,IAAIuQ,EAAcr2B,KAAKy1B,iBACvB,GAAmB,MAAfY,GAAwBA,EAAYb,OAAOc,YAAaxW,EAAYxJ,QAAQH,MAAMigB,EAAStW,EAAYxJ,QAAQN,MAAMqC,OAAzH,CACA,GAAIge,EAAYjb,MAAMtc,OAASkB,KAAKk1B,OAAOQ,SAAU,CACnD,IAAIzc,EAAO6G,EAAYxJ,QAAQJ,KAAKmgB,EAAYjb,MAAMtc,MAAM,GAC5D,GAAY,MAARma,EAAc,OAElB,GAAIA,aAAgB6G,EAAYxJ,QAAQE,KAAM,CAC5C,IAAI+f,EAAQtd,EAAKP,MAAM2d,EAAYjb,MAAMvP,QACzCoN,EAAKwG,OAAO2B,aAAaphB,KAAKk1B,OAAQqB,EAChD,MACUtd,EAAKmI,aAAaphB,KAAKk1B,OAAQmB,EAAYjb,MAAMtc,MAEnDkB,KAAKk1B,OAAOsB,QACpB,CACMx2B,KAAKk1B,OAAOlU,OAAOoV,EAAS32B,GAC5BO,KAAKwkB,OAAOwN,WACZhyB,KAAK21B,eAAe31B,KAAKk1B,OAAOQ,SAAU11B,KAAKk1B,OAAOQ,SAASj1B,KAAKZ,QACpEG,KAAK8lB,QAhB4H,CAH3D,CAoB5E,GACK,CACDhqB,IAAK,YACL2D,MAAO,SAAmBiB,GACxB,IAAIb,EAASkN,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EAE7E+lB,EAAe9yB,KAAKwkB,OAAO3kB,SAC/Ba,EAAQ2b,KAAKC,IAAI5b,EAAOoyB,EAAe,GACvCjzB,EAASwc,KAAKC,IAAI5b,EAAQb,EAAQizB,EAAe,GAAKpyB,EACtD,IAAI5B,OAAO,EACP23B,EAAez2B,KAAKwkB,OAAO9C,KAAKhhB,GAChCg2B,EAAgB/T,EAAe8T,EAAc,GAC7C/U,EAAOgV,EAAc,GACrB7qB,EAAS6qB,EAAc,GAC3B,GAAY,MAARhV,EAAc,OAAO,KAEzB,IAAIiV,EAAiBjV,EAAKkV,SAAS/qB,GAAQ,GAEvCgrB,EAAkBlU,EAAegU,EAAgB,GAErD73B,EAAO+3B,EAAgB,GACvBhrB,EAASgrB,EAAgB,GAEzB,IAAIlR,EAAQiB,SAASkQ,cACrB,GAAIj3B,EAAS,EAAG,CACd8lB,EAAMoR,SAASj4B,EAAM+M,GAErB,IAAImrB,EAAgBh3B,KAAKwkB,OAAO9C,KAAKhhB,EAAQb,GAEzCo3B,EAAgBtU,EAAeqU,EAAe,GAKlD,GAHAtV,EAAOuV,EAAc,GACrBprB,EAASorB,EAAc,GAEX,MAARvV,EAAc,OAAO,KAEzB,IAAIwV,EAAkBxV,EAAKkV,SAAS/qB,GAAQ,GAExCsrB,EAAkBxU,EAAeuU,EAAiB,GAMtD,OAJAp4B,EAAOq4B,EAAgB,GACvBtrB,EAASsrB,EAAgB,GAEzBxR,EAAMyR,OAAOt4B,EAAM+M,GACZ8Z,EAAM+C,uBACrB,CACQ,IAAI2O,EAAO,OACPC,OAAO,EAeX,OAdIx4B,aAAgB+X,MACdhL,EAAS/M,EAAK2B,KAAKZ,QACrB8lB,EAAMoR,SAASj4B,EAAM+M,GACrB8Z,EAAMyR,OAAOt4B,EAAM+M,EAAS,KAE5B8Z,EAAMoR,SAASj4B,EAAM+M,EAAS,GAC9B8Z,EAAMyR,OAAOt4B,EAAM+M,GACnBwrB,EAAO,SAETC,EAAO3R,EAAM+C,0BAEb4O,EAAO5V,EAAKd,QAAQ8H,wBAChB7c,EAAS,IAAGwrB,EAAO,UAElB,CACL1O,OAAQ2O,EAAK1O,IAAM0O,EAAKr7B,OACxBA,OAAQq7B,EAAKr7B,OACb4sB,KAAMyO,EAAKD,GACXvO,MAAOwO,EAAKD,GACZzO,IAAK0O,EAAK1O,IACV5sB,MAAO,EAGjB,GACK,CACDF,IAAK,iBACL2D,MAAO,WACL,IAAIklB,EAAYiC,SAASe,eACzB,GAAiB,MAAbhD,GAAqBA,EAAU4S,YAAc,EAAG,OAAO,KAC3D,IAAIlB,EAAc1R,EAAU6S,WAAW,GACvC,GAAmB,MAAfnB,EAAqB,OAAO,KAChC,IAAI1Q,EAAQ3lB,KAAKy3B,gBAAgBpB,GAEjC,OADA1S,EAAM+T,KAAK,iBAAkB/R,GACtBA,CACb,GACK,CACD7pB,IAAK,WACL2D,MAAO,WACL,IAAIk4B,EAAa33B,KAAKy1B,iBACtB,OAAkB,MAAdkC,EAA2B,CAAC,KAAM,MAE/B,CADK33B,KAAK43B,kBAAkBD,GACpBA,EACrB,GACK,CACD77B,IAAK,WACL2D,MAAO,WACL,OAAOmnB,SAASiR,gBAAkB73B,KAAKsC,IAC7C,GACK,CACDxG,IAAK,oBACL2D,MAAO,SAA2BkmB,GAChC,IAAI6B,EAASxnB,KAET83B,EAAY,CAAC,CAACnS,EAAMvK,MAAMtc,KAAM6mB,EAAMvK,MAAMvP,SAC3C8Z,EAAM6P,OAAOc,WAChBwB,EAAUx2B,KAAK,CAACqkB,EAAMtK,IAAIvc,KAAM6mB,EAAMtK,IAAIxP,SAE5C,IAAIksB,EAAUD,EAAUlxB,IAAI,SAAUgwB,GACpC,IAAIoB,EAAYrV,EAAeiU,EAAU,GACrC93B,EAAOk5B,EAAU,GACjBnsB,EAASmsB,EAAU,GAEnB/e,EAAO6G,EAAYxJ,QAAQJ,KAAKpX,GAAM,GACtC4B,EAAQuY,EAAKpN,OAAO2b,EAAOhD,QAC/B,OAAe,IAAX3Y,EACKnL,EACEuY,aAAgB6G,EAAYxJ,QAAQD,UACtC3V,EAAQuY,EAAKpZ,SAEba,EAAQuY,EAAKvY,MAAM5B,EAAM+M,EAE1C,GACUwP,EAAMgB,KAAKC,IAAID,KAAKoQ,IAAI9L,MAAMtE,KAAMuY,EAAmBmD,IAAW/3B,KAAKwkB,OAAO3kB,SAAW,GACzFub,EAAQiB,KAAKC,IAAIqE,MAAMtE,KAAM,CAAChB,GAAKqB,OAAOkY,EAAmBmD,KACjE,OAAO,IAAI/M,EAAM5P,EAAOC,EAAMD,EACpC,GACK,CACDtf,IAAK,kBACL2D,MAAO,SAAyB42B,GAC9B,IAAKnM,EAASlqB,KAAKsC,KAAM+zB,EAAY4B,kBAAoB5B,EAAYC,YAAcpM,EAASlqB,KAAKsC,KAAM+zB,EAAY6B,cACjH,OAAO,KAET,IAAIvS,EAAQ,CACVvK,MAAO,CAAEtc,KAAMu3B,EAAY4B,eAAgBpsB,OAAQwqB,EAAYN,aAC/D1a,IAAK,CAAEvc,KAAMu3B,EAAY6B,aAAcrsB,OAAQwqB,EAAYJ,WAC3DT,OAAQa,GAkBV,MAhBA,CAAC1Q,EAAMvK,MAAOuK,EAAMtK,KAAKzQ,QAAQ,SAAUgsB,GAGzC,IAFA,IAAI93B,EAAO83B,EAAS93B,KAChB+M,EAAS+qB,EAAS/qB,SACb/M,aAAgB+X,OAAS/X,EAAKq5B,WAAWt4B,OAAS,GACzD,GAAIf,EAAKq5B,WAAWt4B,OAASgM,EAC3B/M,EAAOA,EAAKq5B,WAAWtsB,GACvBA,EAAS,MACrB,IAAqB/M,EAAKq5B,WAAWt4B,SAAWgM,EAIpC,MAFAA,GADA/M,EAAOA,EAAKs5B,qBACavhB,KAAO/X,EAAK2B,KAAKZ,OAASf,EAAKq5B,WAAWt4B,OAAS,CAGxF,CAEQ+2B,EAAS93B,KAAOA,EAAM83B,EAAS/qB,OAASA,CAChD,GACa8Z,CACb,GACK,CACD7pB,IAAK,gBACL2D,MAAO,SAAuBkmB,GAC5B,IAAIsC,EAASjoB,KAET+3B,EAAUpS,EAAM2Q,UAAY,CAAC3Q,EAAMjlB,OAAS,CAACilB,EAAMjlB,MAAOilB,EAAMjlB,MAAQilB,EAAM9lB,QAC9EssB,EAAO,GACP2G,EAAe9yB,KAAKwkB,OAAO3kB,SAoB/B,OAnBAk4B,EAAQntB,QAAQ,SAAUlK,EAAO2T,GAC/B3T,EAAQ2b,KAAKC,IAAIwW,EAAe,EAAGpyB,GACnC,IAAI5B,EACAu5B,EAAgBpQ,EAAOzD,OAAO9C,KAAKhhB,GACnC43B,EAAgB3V,EAAe0V,EAAe,GAC9C3W,EAAO4W,EAAc,GACrBzsB,EAASysB,EAAc,GACvBC,EAAkB7W,EAAKkV,SAAS/qB,EAAc,IAANwI,GAExCmkB,EAAkB7V,EAAe4V,EAAiB,GAEtDz5B,EAAO05B,EAAgB,GACvB3sB,EAAS2sB,EAAgB,GAEzBrM,EAAK7qB,KAAKxC,EAAM+M,EACxB,GACUsgB,EAAKtsB,OAAS,IAChBssB,EAAOA,EAAKzP,OAAOyP,IAEdA,CACb,GACK,CACDrwB,IAAK,iBACL2D,MAAO,SAAwB6kB,GAC7B,IAAIqB,EAAQ3lB,KAAK4lB,UACjB,GAAa,MAATD,EAAJ,CACA,IAAI4C,EAASvoB,KAAKwoB,UAAU7C,EAAMjlB,MAAOilB,EAAM9lB,QAC/C,GAAc,MAAV0oB,EAAJ,CACA,IAAInC,EAAQpmB,KAAKwkB,OAAO3kB,SAAW,EAE/BuzB,EAAepzB,KAAKwkB,OAAOnH,KAAKhB,KAAKC,IAAIqJ,EAAMjlB,MAAO0lB,IAEtDqS,EADgB9V,EAAeyQ,EAAc,GACvB,GAEtBsF,EAAOD,EACX,GAAI9S,EAAM9lB,OAAS,EAAG,CACpB,IAAIm0B,EAAgBh0B,KAAKwkB,OAAOnH,KAAKhB,KAAKC,IAAIqJ,EAAMjlB,MAAQilB,EAAM9lB,OAAQumB,IAI1EsS,EAFoB/V,EAAeqR,EAAe,GAE7B,EAC7B,CACM,GAAa,MAATyE,GAAyB,MAARC,EAArB,CACA,IAAIC,EAAerU,EAAmBoE,wBAClCH,EAAOK,IAAM+P,EAAa/P,IAC5BtE,EAAmB+C,WAAasR,EAAa/P,IAAML,EAAOK,IACjDL,EAAOI,OAASgQ,EAAahQ,SACtCrE,EAAmB+C,WAAakB,EAAOI,OAASgQ,EAAahQ,OAL5B,CAff,CAFD,CAwBzB,GACK,CACD7sB,IAAK,iBACL2D,MAAO,SAAwBq2B,EAAWC,GACxC,IAAIC,EAAUjpB,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK+oB,EAC9EG,EAAYlpB,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKgpB,EAChF3T,EAAQrV,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,GAG3E,GADA4W,EAAM+T,KAAK,iBAAkB5B,EAAWC,EAAaC,EAASC,GAC7C,MAAbH,GAA8C,MAAxB91B,KAAKsC,KAAK4W,YAA8C,MAAxB4c,EAAU5c,YAA4C,MAAtB8c,EAAQ9c,WAAlG,CAGA,IAAIyL,EAAYiC,SAASe,eACzB,GAAiB,MAAbhD,EACJ,GAAiB,MAAbmR,EAAmB,CAChB91B,KAAK0pB,YAAY1pB,KAAKsC,KAAKglB,QAChC,IAAIkO,GAAUx1B,KAAKy1B,kBAAoB,CAAA,GAAID,OAC3C,GAAc,MAAVA,GAAkBpT,GAAS0T,IAAcN,EAAOyC,gBAAkBlC,IAAgBP,EAAOO,aAAeC,IAAYR,EAAO0C,cAAgBjC,IAAcT,EAAOS,UAAW,CAEpJ,MAArBH,EAAUnd,UACZod,EAAc,GAAGzY,QAAQ1c,KAAKk1B,EAAU5c,WAAWif,WAAYrC,GAC/DA,EAAYA,EAAU5c,YAED,MAAnB8c,EAAQrd,UACVsd,EAAY,GAAG3Y,QAAQ1c,KAAKo1B,EAAQ9c,WAAWif,WAAYnC,GAC3DA,EAAUA,EAAQ9c,YAEpB,IAAIyM,EAAQiB,SAASkQ,cACrBnR,EAAMoR,SAASjB,EAAWC,GAC1BpQ,EAAMyR,OAAOpB,EAASC,GACtBtR,EAAUiU,kBACVjU,EAAUkU,SAASlT,EAC7B,CACA,MACQhB,EAAUiU,kBACV54B,KAAKsC,KAAKw2B,OACVlS,SAASuP,KAAK7O,OAzBtB,CA2BA,GACK,CACDxrB,IAAK,WACL2D,MAAO,SAAkBkmB,GACvB,IAAIvD,EAAQrV,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,GACvE0Y,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqW,EAAU9M,QAAQmR,QAAQC,IAO3G,GALqB,iBAAVtF,IACTqD,EAASrD,EACTA,GAAQ,GAEVuB,EAAM+T,KAAK,WAAY/R,GACV,MAATA,EAAe,CACjB,IAAIwG,EAAOnsB,KAAK+4B,cAAcpT,GAC9B3lB,KAAK21B,eAAehV,MAAM3gB,KAAM40B,EAAmBzI,GAAMzP,OAAO,CAAC0F,IACzE,MACQpiB,KAAK21B,eAAe,MAEtB31B,KAAK8lB,OAAOL,EAClB,GACK,CACD3pB,IAAK,SACL2D,MAAO,WACL,IAAIgmB,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqW,EAAU9M,QAAQmR,QAAQwD,KAEvG+N,EAAWh5B,KAAK4lB,UAEhBqT,EAAYj5B,KAAKspB,WACjB4P,EAAavW,EAAesW,EAAW,GACvCrT,EAAYsT,EAAW,GACvB7C,EAAc6C,EAAW,GAM7B,GAJAl5B,KAAK4lB,UAAYA,EACK,MAAlB5lB,KAAK4lB,YACP5lB,KAAKm1B,WAAan1B,KAAK4lB,eAEhB6M,EAAYnc,SAAS0iB,EAAUh5B,KAAK4lB,WAAY,CACvD,IAAIqG,GAECjsB,KAAKg1B,WAA4B,MAAfqB,GAAuBA,EAAYb,OAAOc,WAAaD,EAAYjb,MAAMtc,OAASkB,KAAKk1B,OAAOQ,UACnH11B,KAAKk1B,OAAOgB,UAEd,IAGMhK,EAHFC,EAAO,CAAC/I,EAAU9M,QAAQ6O,OAAOyJ,oBAAsB4D,EAAQlc,SAAStW,KAAK4lB,YAAS,EAAO4M,EAAQlc,SAAS0iB,GAAWvT,IAC5HwG,EAAWjsB,KAAKukB,SAAS6H,KAAKzL,MAAMsL,EAAU,CAAC7I,EAAU9M,QAAQ6O,OAAOC,eAAe1I,OAAOyP,IAC3F1G,IAAWrC,EAAU9M,QAAQmR,QAAQO,SAGtCkE,EAAYlsB,KAAKukB,SAAS6H,KAAKzL,MAAMuL,EAAWC,EAE3D,CACA,KAGS4I,CACT,IAEA,SAAS7K,EAASzK,EAAQ0R,GACxB,IAEEA,EAAWjY,UACf,OAAW5V,GACP,OAAO,CACX,CAME,OAHI6tB,aAAsBta,OACxBsa,EAAaA,EAAWjY,YAEnBuG,EAAOyK,SAASiH,EACzB,CAEA5xB,EAAQyrB,MAAQA,EAChBzrB,EAAQ+W,QAAUye,CAElB,EAAA,SAEgBznB,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAQgCue,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpe+N,EAAanZ,EAAoB,GAYjCglB,EAAA,SAAkBzY,GAGpB,SAASyY,IAGP,OAZJ,SAAyBhZ,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMm5B,GAR1B,SAAoC92B,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOm5B,EAAM7hB,WAAapV,OAAOwd,eAAeyZ,IAAQxY,MAAM3gB,KAAM+M,WAC1G,CA4BE,OArCF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAU4Y,EAAOzY,GAQjB1B,EAAama,EAAO,CAAC,CACnBr9B,IAAK,aACL2D,MAAO,SAAoBggB,EAAQsC,GACF,IAA3BtC,EAAOoC,SAAShiB,OAClByf,EAAK6Z,EAAM54B,UAAU+W,WAAapV,OAAOwd,eAAeyZ,EAAM54B,WAAY,aAAcP,MAAMY,KAAKZ,KAAMyf,EAAQsC,GAEjH/hB,KAAKiiB,QAEb,GACK,CACDnmB,IAAK,SACL2D,MAAO,WACL,OAAO,CACb,GACK,CACD3D,IAAK,QACL2D,MAAO,WACL,MAAO,EACb,IACM,CAAC,CACH3D,IAAK,QACL2D,MAAO,WAEX,KAGS05B,CACT,CApCI,GAR4Bnb,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IA4CzE1H,QAAQG,OAEtB0iB,EAAM7f,SAAW,QACjB6f,EAAMxgB,QAAU,KAEhBpZ,EAAQ+W,QAAU6iB,CAElB,EAAA,SAEgB7rB,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAI25B,EAAgBjlB,EAAoB,IACpCklB,EAAWllB,EAAoB,IAC/B2B,EAAW3B,EAAoB,GAC/BmlB,EAAA,SAAyC5hB,GAEzC,SAAS4hB,EAAc1Y,GACnB,IAAIjJ,EAAQD,EAAO9W,KAAKZ,KAAM4gB,IAAY5gB,KAE1C,OADA2X,EAAM4hB,QACC5hB,CACf,CAuNI,OA5NAP,EAAUkiB,EAAe5hB,GAMzB4hB,EAAc/4B,UAAUuxB,YAAc,SAAUpyB,GAC5CM,KAAKohB,aAAa1hB,EAC1B,EACI45B,EAAc/4B,UAAUi2B,OAAS,WAC7B9e,EAAOnX,UAAUi2B,OAAO51B,KAAKZ,MAC7BA,KAAK6hB,SAASjX,QAAQ,SAAUuX,GAC5BA,EAAMqU,QAClB,EACA,EACI8C,EAAc/4B,UAAUg5B,MAAQ,WAC5B,IAAI5hB,EAAQ3X,KACZA,KAAK6hB,SAAW,IAAIuX,EAAc9iB,QAElC,GAAG6E,MACEva,KAAKZ,KAAK4gB,QAAQuX,YAClBqB,UACA5uB,QAAQ,SAAU9L,GACnB,IACI,IAAIqjB,EAAQsX,EAAS36B,GACrB6Y,EAAMyJ,aAAae,EAAOxK,EAAMkK,SAASG,WAAQ,EACjE,OACmBrkB,GACH,GAAIA,aAAemY,EAAS2B,eACxB,OAEA,MAAM9Z,CAC1B,CACA,EACA,EACI27B,EAAc/4B,UAAU6wB,SAAW,SAAU1wB,EAAOb,GAChD,GAAc,IAAVa,GAAeb,IAAWG,KAAKH,SAC/B,OAAOG,KAAKiiB,SAEhBjiB,KAAK6hB,SAAS6X,UAAUh5B,EAAOb,EAAQ,SAAUsiB,EAAOtW,EAAQhM,GAC5DsiB,EAAMiP,SAASvlB,EAAQhM,EACnC,EACA,EACIy5B,EAAc/4B,UAAU4wB,WAAa,SAAUwI,EAAUj5B,GACrD,IAAIk5B,EAAK55B,KAAK6hB,SAAS3L,KAAKxV,GAAQyhB,EAAQyX,EAAG,GAAI/tB,EAAS+tB,EAAG,GAC/D,OAA0B,MAArBD,EAASrgB,UAAoBqgB,EAASxX,IACjB,MAArBwX,EAASrgB,UAAoB6I,aAAiBwX,EACxC,CAACxX,EAAOtW,GAEVsW,aAAiBmX,EACfnX,EAAMgP,WAAWwI,EAAU9tB,GAG3B,CAAC,MAAM,EAE1B,EACIytB,EAAc/4B,UAAUkhB,YAAc,SAAUkY,EAAUj5B,EAAOb,QAC/C,IAAVa,IAAoBA,EAAQ,QACjB,IAAXb,IAAqBA,EAASupB,OAAOC,WACzC,IAAI5H,EAAc,GACdoY,EAAah6B,EAWjB,OAVAG,KAAK6hB,SAAS6X,UAAUh5B,EAAOb,EAAQ,SAAUsiB,EAAOzhB,EAAOb,IACjC,MAArB85B,EAASrgB,UAAoBqgB,EAASxX,IACjB,MAArBwX,EAASrgB,UAAoB6I,aAAiBwX,IAC/ClY,EAAYngB,KAAK6gB,GAEjBA,aAAiBmX,IACjB7X,EAAcA,EAAY/E,OAAOyF,EAAMV,YAAYkY,EAAUj5B,EAAOm5B,KAExEA,GAAch6B,CAC1B,GACe4hB,CACf,EACI6X,EAAc/4B,UAAUu5B,OAAS,WAC7B95B,KAAK6hB,SAASjX,QAAQ,SAAUuX,GAC5BA,EAAM2X,QAClB,GACQpiB,EAAOnX,UAAUu5B,OAAOl5B,KAAKZ,KACrC,EACIs5B,EAAc/4B,UAAUkxB,SAAW,SAAU/wB,EAAOb,EAAQhC,EAAM4B,GAC9DO,KAAK6hB,SAAS6X,UAAUh5B,EAAOb,EAAQ,SAAUsiB,EAAOtW,EAAQhM,GAC5DsiB,EAAMsP,SAAS5lB,EAAQhM,EAAQhC,EAAM4B,EACjD,EACA,EACI65B,EAAc/4B,UAAU8gB,SAAW,SAAU3gB,EAAOjB,EAAOwhB,GACvD,IAAI2Y,EAAK55B,KAAK6hB,SAAS3L,KAAKxV,GAAQyhB,EAAQyX,EAAG,GAAI/tB,EAAS+tB,EAAG,GAC/D,GAAIzX,EACAA,EAAMd,SAASxV,EAAQpM,EAAOwhB,OAE7B,CACD,IAAIhI,EAAc,MAAPgI,EAAcnL,EAASG,OAAO,OAAQxW,GAASqW,EAASG,OAAOxW,EAAOwhB,GACjFjhB,KAAK8xB,YAAY7Y,EAC7B,CACA,EACIqgB,EAAc/4B,UAAU6gB,aAAe,SAAU2Y,EAAWC,GACxD,GAAoC,MAAhCh6B,KAAKqiB,QAAQE,kBACZviB,KAAKqiB,QAAQE,gBAAgB0X,KAAK,SAAU9X,GACzC,OAAO4X,aAAqB5X,CAC5C,GACY,MAAM,IAAIrM,EAAS2B,eAAe,iBAAmBsiB,EAAU1X,QAAQ/I,SAAW,SAAWtZ,KAAKqiB,QAAQ/I,UAE9GygB,EAAUG,WAAWl6B,KAAMg6B,EACnC,EACIV,EAAc/4B,UAAUV,OAAS,WAC7B,OAAOG,KAAK6hB,SAAS9G,OAAO,SAAUof,EAAMhY,GACxC,OAAOgY,EAAOhY,EAAMtiB,QAChC,EAAW,EACX,EACIy5B,EAAc/4B,UAAU2sB,aAAe,SAAUkN,EAAczT,GAC3D3mB,KAAK6hB,SAASjX,QAAQ,SAAUuX,GAC5BiY,EAAahZ,aAAae,EAAOwE,EAC7C,EACA,EACI2S,EAAc/4B,UAAUyxB,SAAW,SAAU9P,GAEzC,GADAxK,EAAOnX,UAAUyxB,SAASpxB,KAAKZ,KAAMkiB,GACR,IAAzBliB,KAAK6hB,SAAShiB,OACd,GAAiC,MAA7BG,KAAKqiB,QAAQC,aAAsB,CACnC,IAAIH,EAAQrM,EAASG,OAAOjW,KAAKqiB,QAAQC,cACzCtiB,KAAK8xB,YAAY3P,GACjBA,EAAM6P,SAAS9P,EAC/B,MAEgBliB,KAAKiiB,QAGrB,EACIqX,EAAc/4B,UAAUgmB,KAAO,SAAU7lB,EAAO25B,QAC1B,IAAdA,IAAwBA,GAAY,GACxC,IAAIT,EAAK55B,KAAK6hB,SAAS3L,KAAKxV,EAAO25B,GAAYlY,EAAQyX,EAAG,GAAI/tB,EAAS+tB,EAAG,GACtEhD,EAAW,CAAC,CAAC52B,KAAMU,IACvB,OAAIyhB,aAAiBmX,EACV1C,EAASla,OAAOyF,EAAMoE,KAAK1a,EAAQwuB,KAE5B,MAATlY,GACLyU,EAASt1B,KAAK,CAAC6gB,EAAOtW,IAEnB+qB,EACf,EACI0C,EAAc/4B,UAAU0xB,YAAc,SAAU9P,GAC5CniB,KAAK6hB,SAASI,OAAOE,EAC7B,EACImX,EAAc/4B,UAAU2E,QAAU,SAAUkZ,GACpCA,aAAkBkb,GAClBlb,EAAO8O,aAAaltB,MAExB0X,EAAOnX,UAAU2E,QAAQtE,KAAKZ,KAAMoe,EAC5C,EACIkb,EAAc/4B,UAAUmY,MAAQ,SAAUhY,EAAO0hB,GAE7C,QADc,IAAVA,IAAoBA,GAAQ,IAC3BA,EAAO,CACR,GAAc,IAAV1hB,EACA,OAAOV,KACX,GAAIU,IAAUV,KAAKH,SACf,OAAOG,KAAK2b,IAC5B,CACQ,IAAI4a,EAAQv2B,KAAK4e,QAMjB,OALA5e,KAAKyf,OAAO2B,aAAamV,EAAOv2B,KAAK2b,MACrC3b,KAAK6hB,SAAS6X,UAAUh5B,EAAOV,KAAKH,SAAU,SAAUsiB,EAAOtW,EAAQhM,GACnEsiB,EAAQA,EAAMzJ,MAAM7M,EAAQuW,GAC5BmU,EAAMzE,YAAY3P,EAC9B,GACeoU,CACf,EACI+C,EAAc/4B,UAAU2xB,OAAS,WAC7BlyB,KAAKktB,aAAaltB,KAAKyf,OAAQzf,KAAK2b,MACpC3b,KAAKiiB,QACb,EACIqX,EAAc/4B,UAAUulB,OAAS,SAAUJ,EAAWxD,GAClD,IAAIvK,EAAQ3X,KACRs6B,EAAa,GACbC,EAAe,GACnB7U,EAAU9a,QAAQ,SAAU4vB,GACpBA,EAASpc,SAAWzG,EAAMiJ,SAA6B,cAAlB4Z,EAAS52B,OAC9C02B,EAAWh5B,KAAKqf,MAAM2Z,EAAYE,EAASF,YAC3CC,EAAaj5B,KAAKqf,MAAM4Z,EAAcC,EAASD,cAE/D,GACQA,EAAa3vB,QAAQ,SAAU9L,GAI3B,KAAuB,MAAnBA,EAAKoa,YAEY,WAAjBpa,EAAK6Z,SACLiO,SAASuP,KAAKsE,wBAAwB37B,GAAQoZ,KAAKwiB,gCAHvD,CAMA,IAAIzhB,EAAOnD,EAASI,KAAKpX,GACb,MAARma,IAE2B,MAA3BA,EAAK2H,QAAQ1H,YAAsBD,EAAK2H,QAAQ1H,aAAevB,EAAMiJ,SACrE3H,EAAK6gB,SALrB,CAOA,GACQQ,EACK3f,OAAO,SAAU7b,GAClB,OAAOA,EAAKoa,YAAcvB,EAAMiJ,OAC5C,GACawP,KAAK,SAAUJ,EAAGzY,GACnB,OAAIyY,IAAMzY,EACC,EACPyY,EAAEyK,wBAAwBljB,GAAKW,KAAKyiB,4BAC7B,GAEJ,CACnB,GACa/vB,QAAQ,SAAU9L,GACnB,IAAIk7B,EAAU,KACU,MAApBl7B,EAAK87B,cACLZ,EAAUlkB,EAASI,KAAKpX,EAAK87B,cAEjC,IAAI3hB,EAAOwgB,EAAS36B,GAChBma,EAAK0C,MAAQqe,GAAwB,MAAb/gB,EAAK0C,OACV,MAAf1C,EAAKwG,QACLxG,EAAKwG,OAAOwS,YAAYta,GAE5BA,EAAMyJ,aAAanI,EAAM+gB,QAAW,GAEpD,EACA,EACWV,CACX,CA9NI,CA8NFD,EAAS/iB,SACX,SAASmjB,EAAS36B,GACd,IAAIma,EAAOnD,EAASI,KAAKpX,GACzB,GAAY,MAARma,EACA,IACIA,EAAOnD,EAASG,OAAOnX,EACnC,OACewE,GACH2V,EAAOnD,EAASG,OAAOH,EAASE,MAAMsC,QACtC,GAAG6C,MAAMva,KAAK9B,EAAKq5B,YAAYvtB,QAAQ,SAAUuX,GAE7ClJ,EAAK2H,QAAQkR,YAAY3P,EACzC,GACgBrjB,EAAKoa,YACLpa,EAAKoa,WAAW2hB,aAAa5hB,EAAK2H,QAAS9hB,GAE/Cma,EAAKud,QACjB,CAEI,OAAOvd,CACX,CACA1Z,EAAQ+W,QAAUgjB,CAGlB,EAAA,SAEgBhsB,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIiW,EAAevB,EAAoB,IACnC0B,EAAU1B,EAAoB,IAC9Be,EAAcf,EAAoB,IAClC2B,EAAW3B,EAAoB,GAC/B2mB,EAAA,SAAsCpjB,GAEtC,SAASojB,EAAWla,GAChB,IAAIjJ,EAAQD,EAAO9W,KAAKZ,KAAM4gB,IAAY5gB,KAE1C,OADA2X,EAAMC,WAAa,IAAI/B,EAAQS,QAAQqB,EAAMiJ,SACtCjJ,CACf,CAkDI,OAvDAP,EAAU0jB,EAAYpjB,GAMtBojB,EAAWja,QAAU,SAAUD,GAC3B,MAA4B,iBAAjB5gB,KAAK2Y,UAGPrY,MAAMmL,QAAQzL,KAAK2Y,SACjBiI,EAAQjI,QAAQoiB,mBAFnC,EAKA,EACID,EAAWv6B,UAAUygB,OAAS,SAAUnjB,EAAM4B,GAC1C,IAAIuhB,EAASlL,EAASK,MAAMtY,GACxBmjB,aAAkBtL,EAAaY,QAC/BtW,KAAK4X,WAAWkJ,UAAUE,EAAQvhB,GAE7BA,IACS,MAAVuhB,GAAmBnjB,IAASmC,KAAKqiB,QAAQ/I,UAAYtZ,KAAK6gB,UAAUhjB,KAAU4B,GAC9EO,KAAKg7B,YAAYn9B,EAAM4B,GAGvC,EACIq7B,EAAWv6B,UAAUsgB,QAAU,WAC3B,IAAIA,EAAU7gB,KAAK4X,WAAW7O,SAC1BiY,EAAShhB,KAAKqiB,QAAQxB,QAAQ7gB,KAAK4gB,SAIvC,OAHc,MAAVI,IACAH,EAAQ7gB,KAAKqiB,QAAQ/I,UAAY0H,GAE9BH,CACf,EACIia,EAAWv6B,UAAUy6B,YAAc,SAAUn9B,EAAM4B,GAC/C,IAAIw7B,EAAcvjB,EAAOnX,UAAUy6B,YAAYp6B,KAAKZ,KAAMnC,EAAM4B,GAEhE,OADAO,KAAK4X,WAAW8G,KAAKuc,GACdA,CACf,EACIH,EAAWv6B,UAAUulB,OAAS,SAAUJ,EAAWxD,GAC/C,IAAIvK,EAAQ3X,KACZ0X,EAAOnX,UAAUulB,OAAOllB,KAAKZ,KAAM0lB,EAAWxD,GAC1CwD,EAAUuU,KAAK,SAAUO,GACzB,OAAOA,EAASpc,SAAWzG,EAAMiJ,SAA6B,eAAlB4Z,EAAS52B,IACjE,IACY5D,KAAK4X,WAAW2hB,OAE5B,EACIuB,EAAWv6B,UAAU0sB,KAAO,SAAUpvB,EAAM4B,GACxC,IAAIy7B,EAAUxjB,EAAOnX,UAAU0sB,KAAKrsB,KAAKZ,KAAMnC,EAAM4B,GAIrD,OAHIy7B,aAAmBJ,GAAcI,EAAQ7Y,QAAQtK,QAAU/X,KAAKqiB,QAAQtK,OACxE/X,KAAK4X,WAAWujB,KAAKD,GAElBA,CACf,EACWJ,CACX,CAzDI,CAyDF5lB,EAAYoB,SACd/W,EAAQ+W,QAAUwkB,CAGlB,EAAA,SAEgBxtB,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAI45B,EAAWllB,EAAoB,IAC/B2B,EAAW3B,EAAoB,GAC/BinB,EAAA,SAAoC1jB,GAEpC,SAAS0jB,IACL,OAAkB,OAAX1jB,GAAmBA,EAAOiJ,MAAM3gB,KAAM+M,YAAc/M,IACnE,CAsBI,OAzBAoX,EAAUgkB,EAAU1jB,GAIpB0jB,EAAS37B,MAAQ,SAAUmhB,GACvB,OAAO,CACf,EACIwa,EAAS76B,UAAUG,MAAQ,SAAU5B,EAAM+M,GACvC,OAAI7L,KAAK4gB,UAAY9hB,GACjBkB,KAAK4gB,QAAQ6Z,wBAAwB37B,GAAQoZ,KAAKwiB,+BAC3Cre,KAAKC,IAAIzQ,EAAQ,IAErB,CACf,EACIuvB,EAAS76B,UAAUq2B,SAAW,SAAUl2B,EAAO25B,GAC3C,IAAIxuB,EAAS,GAAGyR,QAAQ1c,KAAKZ,KAAKyf,OAAOmB,QAAQuX,WAAYn4B,KAAK4gB,SAGlE,OAFIlgB,EAAQ,IACRmL,GAAU,GACP,CAAC7L,KAAKyf,OAAOmB,QAAS/U,EACrC,EACIuvB,EAAS76B,UAAUd,MAAQ,WACvB,IAAIm6B,EACJ,OAAOA,EAAK,CAAA,GAAO55B,KAAKqiB,QAAQ/I,UAAYtZ,KAAKqiB,QAAQ5iB,MAAMO,KAAK4gB,WAAY,EAAMgZ,CAC9F,EACIwB,EAASrjB,MAAQjC,EAASE,MAAMqlB,YACzBD,CACX,CA3BI,CA2BF/B,EAAS/iB,SACX/W,EAAQ+W,QAAU8kB,CAGlB,EAAA,SAEgB9tB,EAAQ/N,EAAS4U,GAEjC,IAAIyF,EAAQzF,EAAoB,IAC5B0F,EAAS1F,EAAoB,GAG7BmnB,EAAM,CACR1jB,WAAY,CACVgE,QAAS,SAAUoU,EAAGzY,EAAGgkB,GACN,iBAANvL,IAAgBA,EAAI,CAAA,GACd,iBAANzY,IAAgBA,EAAI,CAAA,GAC/B,IAAIK,EAAaiC,GAAO,EAAM,CAAA,EAAItC,GASlC,IAAA,IAASzb,KARJy/B,IACH3jB,EAAa1V,OAAOmC,KAAKuT,GAAYmD,OAAO,SAAU2D,EAAM5iB,GAI1D,OAHuB,MAAnB8b,EAAW9b,KACb4iB,EAAK5iB,GAAO8b,EAAW9b,IAElB4iB,CACjB,EAAW,CAAA,IAEWsR,OACC,IAAXA,EAAEl0B,SAAiC,IAAXyb,EAAEzb,KAC5B8b,EAAW9b,GAAOk0B,EAAEl0B,IAGxB,OAAOoG,OAAOmC,KAAKuT,GAAY/X,OAAS,EAAI+X,OAAa,CAC/D,EAEI+B,KAAM,SAASqW,EAAGzY,GACC,iBAANyY,IAAgBA,EAAI,CAAA,GACd,iBAANzY,IAAgBA,EAAI,CAAA,GAC/B,IAAIK,EAAa1V,OAAOmC,KAAK2rB,GAAGtT,OAAOxa,OAAOmC,KAAKkT,IAAIwD,OAAO,SAAUnD,EAAY9b,GAIlF,OAHK8d,EAAMoW,EAAEl0B,GAAMyb,EAAEzb,MACnB8b,EAAW9b,QAAkB,IAAXyb,EAAEzb,GAAqB,KAAOyb,EAAEzb,IAE7C8b,CACf,EAAS,CAAA,GACH,OAAO1V,OAAOmC,KAAKuT,GAAY/X,OAAS,EAAI+X,OAAa,CAC/D,EAEIlI,UAAW,SAAUsgB,EAAGzY,EAAGgG,GACzB,GAAiB,iBAANyS,EAAgB,OAAOzY,EAClC,GAAiB,iBAANA,EAAX,CACA,IAAKgG,EAAU,OAAOhG,EACtB,IAAIK,EAAa1V,OAAOmC,KAAKkT,GAAGwD,OAAO,SAAUnD,EAAY9b,GAE3D,YADe,IAAXk0B,EAAEl0B,KAAoB8b,EAAW9b,GAAOyb,EAAEzb,IACvC8b,CACf,EAAS,CAAA,GACH,OAAO1V,OAAOmC,KAAKuT,GAAY/X,OAAS,EAAI+X,OAAa,CANvB,CAOxC,GAGE4D,SAAU,SAAUtB,GAClB,OAAO,IAAIshB,EAASthB,EACxB,EAEEra,OAAQ,SAAUia,GAChB,MAA4B,iBAAjBA,EAAW,OACbA,EAAW,OACY,iBAAdA,EAAGS,OACZT,EAAGS,OAEkB,iBAAdT,EAAGK,OAAsBL,EAAGK,OAAOta,OAAS,CAEhE,GAIA,SAAS27B,EAASthB,GAChBla,KAAKka,IAAMA,EACXla,KAAKU,MAAQ,EACbV,KAAK6L,OAAS,CAChB,CAEA2vB,EAASj7B,UAAUkb,QAAU,WAC3B,OAAOzb,KAAKmc,aAAeb,GAC7B,EAEAkgB,EAASj7B,UAAUob,KAAO,SAAU9b,GAC7BA,IAAQA,EAASyb,KACtB,IAAII,EAAS1b,KAAKka,IAAIla,KAAKU,OAC3B,GAAIgb,EAAQ,CACV,IAAI7P,EAAS7L,KAAK6L,OACdkR,EAAWue,EAAIz7B,OAAO6b,GAQ1B,GAPI7b,GAAUkd,EAAWlR,GACvBhM,EAASkd,EAAWlR,EACpB7L,KAAKU,OAAS,EACdV,KAAK6L,OAAS,GAEd7L,KAAK6L,QAAUhM,EAEe,iBAArB6b,EAAe,OACxB,MAAO,CAAEpB,OAAUza,GAEnB,IAAI47B,EAAQ,CAAA,EAYZ,OAXI/f,EAAO9D,aACT6jB,EAAM7jB,WAAa8D,EAAO9D,YAEC,iBAAlB8D,EAAOnB,OAChBkhB,EAAMlhB,OAAS1a,EACmB,iBAAlB6b,EAAOvB,OACvBshB,EAAMthB,OAASuB,EAAOvB,OAAOuhB,OAAO7vB,EAAQhM,GAG5C47B,EAAMthB,OAASuB,EAAOvB,OAEjBshB,CAEb,CACI,MAAO,CAAElhB,OAAQe,IAErB,EAEAkgB,EAASj7B,UAAUyb,KAAO,WACxB,OAAOhc,KAAKka,IAAIla,KAAKU,MACvB,EAEA86B,EAASj7B,UAAU4b,WAAa,WAC9B,OAAInc,KAAKka,IAAIla,KAAKU,OAET46B,EAAIz7B,OAAOG,KAAKka,IAAIla,KAAKU,QAAUV,KAAK6L,OAExCyP,GAEX,EAEAkgB,EAASj7B,UAAU2b,SAAW,WAC5B,OAAIlc,KAAKka,IAAIla,KAAKU,OAC8B,iBAAnCV,KAAKka,IAAIla,KAAKU,OAAe,OAC/B,SACyC,iBAAhCV,KAAKka,IAAIla,KAAKU,OAAO6Z,OAC9B,SAEA,SAGJ,QACT,EAEAihB,EAASj7B,UAAUkc,KAAO,WACxB,GAAKzc,KAAKyb,UAEZ,IAA6B,IAAhBzb,KAAK6L,OACd,OAAO7L,KAAKka,IAAIiB,MAAMnb,KAAKU,OAE3B,IAAImL,EAAS7L,KAAK6L,OACdnL,EAAQV,KAAKU,MACbib,EAAO3b,KAAK2b,OACZc,EAAOzc,KAAKka,IAAIiB,MAAMnb,KAAKU,OAG/B,OAFAV,KAAK6L,OAASA,EACd7L,KAAKU,MAAQA,EACN,CAACib,GAAMe,OAAOD,EACzB,CAXI,MAAO,EAYX,EAGAnP,EAAO/N,QAAU+7B,CAGjB,EAAA,SAEgBhuB,EAAQ/N,GAExB,IAAIqf,aAGJ,SAAS+c,EAAY3d,EAAKpa,GACxB,OAAe,MAARA,GAAgBoa,aAAepa,CACxC,CAEA,IAAIg4B,EASAC,EAOAC,EAfJ,IACEF,EAAYp2B,GACd,OAAQu2B,GAGNH,EAAY,WAAW,CACzB,CAGA,IACEC,EAAYtqB,GACd,OAAQwqB,GACNF,EAAY,WAAW,CACzB,CAGA,IACEC,EAAgBzqB,OAClB,OAAQ0qB,GACND,EAAgB,WAAW,CAC7B,CAuBA,SAASld,EAAMa,EAAQuc,EAAUC,EAAO17B,EAAW27B,GACzB,iBAAbF,IACTC,EAAQD,EAASC,MACjB17B,EAAYy7B,EAASz7B,UACrB27B,EAAuBF,EAASE,qBAChCF,EAAWA,EAASA,UAItB,IAAIG,EAAa,GACbC,EAAc,GAEdC,OAA6B,IAAV9uB,EA0IvB,YAxIuB,IAAZyuB,IACTA,GAAW,QAEO,IAATC,IACTA,EAAQ3gB,KAGV,SAASghB,EAAO7c,EAAQwc,GAEtB,GAAe,OAAXxc,EACF,OAAO,KAET,GAAc,IAAVwc,EACF,OAAOxc,EAET,IAAI0C,EACAoa,EACJ,GAAqB,iBAAV9c,EACT,OAAOA,EAGT,GAAIkc,EAAYlc,EAAQmc,GACtBzZ,EAAQ,IAAIyZ,OAClB,GAAeD,EAAYlc,EAAQoc,GAC7B1Z,EAAQ,IAAI0Z,OAClB,GAAeF,EAAYlc,EAAQqc,GAC7B3Z,EAAQ,IAAI2Z,EAAc,SAAUtpB,EAASgqB,GAC3C/c,EAAOgd,KAAK,SAASh9B,GACnB+S,EAAQ8pB,EAAO78B,EAAOw8B,EAAQ,GACxC,EAAW,SAASt+B,GACV6+B,EAAOF,EAAO3+B,EAAKs+B,EAAQ,GACrC,EACA,QACA,GAAerd,EAAM8d,UAAUjd,GACzB0C,EAAQ,QACd,GAAevD,EAAM+d,WAAWld,GAC1B0C,EAAQ,IAAIld,OAAOwa,EAAOgG,OAAQmX,EAAiBnd,IAC/CA,EAAOod,YAAW1a,EAAM0a,UAAYpd,EAAOod,gBACrD,GAAeje,EAAMke,SAASrd,GACxB0C,EAAQ,IAAI2N,KAAKrQ,EAAOsQ,eAC9B,IAAesM,GAAa9uB,EAAOC,SAASiS,GAStC,OANE0C,EAFE5U,EAAOwvB,YAEDxvB,EAAOwvB,YAAYtd,EAAO5f,QAG1B,IAAI0N,EAAOkS,EAAO5f,QAE5B4f,EAAOf,KAAKyD,GACLA,EACEwZ,EAAYlc,EAAQ7hB,OAC7BukB,EAAQjgB,OAAO+T,OAAOwJ,QAEE,IAAblf,GACTg8B,EAAQr6B,OAAOwd,eAAeD,GAC9B0C,EAAQjgB,OAAO+T,OAAOsmB,KAGtBpa,EAAQjgB,OAAO+T,OAAO1V,GACtBg8B,EAAQh8B,EAEhB,CAEI,GAAIy7B,EAAU,CACZ,IAAIt7B,EAAQy7B,EAAW7e,QAAQmC,GAE/B,IAAa,GAAT/e,EACF,OAAO07B,EAAY17B,GAErBy7B,EAAW76B,KAAKme,GAChB2c,EAAY96B,KAAK6gB,EACvB,CAgBI,IAAA,IAAS9N,KAdLsnB,EAAYlc,EAAQmc,IACtBnc,EAAO7U,QAAQ,SAASnL,EAAO3D,GAC7B,IAAIkhC,EAAWV,EAAOxgC,EAAKmgC,EAAQ,GAC/BgB,EAAaX,EAAO78B,EAAOw8B,EAAQ,GACvC9Z,EAAMvgB,IAAIo7B,EAAUC,EAC5B,GAEQtB,EAAYlc,EAAQoc,IACtBpc,EAAO7U,QAAQ,SAASnL,GACtB,IAAIy9B,EAAaZ,EAAO78B,EAAOw8B,EAAQ,GACvC9Z,EAAMnZ,IAAIk0B,EAClB,GAGkBzd,EAAQ,CACpB,IAAI0d,EACAZ,IACFY,EAAQj7B,OAAO2b,yBAAyB0e,EAAOloB,IAG7C8oB,GAAsB,MAAbA,EAAMv7B,MAGnBugB,EAAM9N,GAAKioB,EAAO7c,EAAOpL,GAAI4nB,EAAQ,GAC3C,CAEI,GAAI/5B,OAAOsK,sBACT,KAAI4wB,EAAUl7B,OAAOsK,sBAAsBiT,GAC3C,IAASpL,EAAI,EAAGA,EAAI+oB,EAAQv9B,OAAQwU,IAAK,CAGvC,IAAI7V,EAAS4+B,EAAQ/oB,MACjB6K,EAAahd,OAAO2b,yBAAyB4B,EAAQjhB,KACtC0gB,EAAWrK,YAAeqnB,KAG7C/Z,EAAM3jB,GAAU89B,EAAO7c,EAAOjhB,GAASy9B,EAAQ,GAC1C/c,EAAWrK,YACd3S,OAAOyS,eAAewN,EAAO3jB,EAAQ,CACnCqW,YAAY,IAGxB,CAfuD,CAkBnD,GAAIqnB,EACF,KAAImB,EAAmBn7B,OAAOo7B,oBAAoB7d,GAClD,IAASpL,EAAI,EAAGA,EAAIgpB,EAAiBx9B,OAAQwU,IAAK,CAChD,IACI6K,EADAqe,EAAeF,EAAiBhpB,IAChC6K,EAAahd,OAAO2b,yBAAyB4B,EAAQ8d,KACvCre,EAAWrK,aAG7BsN,EAAMob,GAAgBjB,EAAO7c,EAAO8d,GAAetB,EAAQ,GAC3D/5B,OAAOyS,eAAewN,EAAOob,EAAc,CACzC1oB,YAAY,IAEtB,CAX8D,CAc1D,OAAOsN,CACX,CAESma,CAAO7c,EAAQwc,EACxB,CAoBA,SAASuB,EAAW9oB,GAClB,OAAOxS,OAAO3B,UAAUwC,SAASnC,KAAK8T,EACxC,CAkBA,SAASkoB,EAAiBa,GACxB,IAAIC,EAAQ,GAIZ,OAHID,EAAGx7B,SAAQy7B,GAAS,KACpBD,EAAGE,aAAYD,GAAS,KACxBD,EAAGG,YAAWF,GAAS,KACpBA,CACT,CAGA,OAxCA9e,EAAMif,eAAiB,SAAwBpe,GAC7C,GAAe,OAAXA,EACF,OAAO,KAET,IAAIjL,EAAI,WAAY,EAEpB,OADAA,EAAEjU,UAAYkf,EACP,IAAIjL,CACb,EAOAoK,EAAM4e,WAAaA,EAKnB5e,EAAMke,SAHN,SAAkBpoB,GAChB,MAAoB,iBAANA,GAAoC,kBAAlB8oB,EAAW9oB,EAC7C,EAMAkK,EAAM8d,UAHN,SAAmBhoB,GACjB,MAAoB,iBAANA,GAAoC,mBAAlB8oB,EAAW9oB,EAC7C,EAMAkK,EAAM+d,WAHN,SAAoBjoB,GAClB,MAAoB,iBAANA,GAAoC,oBAAlB8oB,EAAW9oB,EAC7C,EAUAkK,EAAMge,iBAAmBA,EAElBhe,CACP,IAEsB,iBAAXtR,GAAuBA,EAAO/N,UACvC+N,EAAO/N,QAAUqf,EAInB,EAAA,SAEgBtR,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIkjB,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeO,EAAcF,EAFDzL,EAAoB,IAMjC+X,EAAYtM,EAFDzL,EAAoB,IAI/Boe,EAASpe,EAAoB,GAE7Byc,EAAUhR,EAAuB2S,GAIjCxS,EAAUH,EAFDzL,EAAoB,KAM7Bke,EAASzS,EAFDzL,EAAoB,KAM5B2pB,EAAcle,EAFDzL,EAAoB,KAIrC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAQ7F,SAAS+f,EAAO9kB,GACd,OAAOA,aAAgB2X,EAAQta,SAAW2C,aAAgBsZ,EAAOzT,UACnE,CAEA,IAAIpI,EAAA,SAAmBsnB,GAGrB,SAAStnB,EAAOkK,EAAS2K,IAb3B,SAAyBpL,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAcnJF,CAAgBlgB,KAAM0W,GAEtB,IAAIiB,EAdR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAc9Nyf,CAA2BrgB,MAAO0W,EAAOY,WAAapV,OAAOwd,eAAehJ,IAAS9V,KAAKZ,KAAM4gB,IAa5G,OAXAjJ,EAAM4M,QAAUgH,EAAOhH,QACnBjkB,MAAMmL,QAAQ8f,EAAO9G,aACvB9M,EAAM8M,UAAY8G,EAAO9G,UAAU1J,OAAO,SAAU0J,EAAWzD,GAE7D,OADAyD,EAAUzD,IAAU,EACbyD,CACf,EAAS,CAAA,IAGL9M,EAAMiJ,QAAQ+M,iBAAiB,kBAAmB,WAAY,GAC9DhW,EAAMqa,WACNra,EAAMwP,SACCxP,CACX,CAyKE,OAnMF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAO1eF,CAAU7J,EAAQsnB,GAqBlBhf,EAAatI,EAAQ,CAAC,CACpB5a,IAAK,aACL2D,MAAO,WACLO,KAAKi+B,OAAQ,CACnB,GACK,CACDniC,IAAK,WACL2D,MAAO,WACLO,KAAKi+B,OAAQ,EACbj+B,KAAKgyB,UACX,GACK,CACDl2B,IAAK,WACL2D,MAAO,SAAkBiB,EAAOb,GAC9B,IAAIq+B,EAAQl+B,KAAKqd,KAAK3c,GAClBy9B,EAASxb,EAAeub,EAAO,GAC/BzF,EAAQ0F,EAAO,GACftyB,EAASsyB,EAAO,GAEhBC,EAASp+B,KAAKqd,KAAK3c,EAAQb,GAE3B64B,EADS/V,EAAeyb,EAAQ,GAClB,GAGlB,GADA9e,EAAK5I,EAAOnW,UAAU+W,WAAapV,OAAOwd,eAAehJ,EAAOnW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAOb,GACpG,MAAR64B,GAAgBD,IAAUC,GAAQ7sB,EAAS,EAAG,CAChD,GAAI4sB,aAAiBlG,EAAOzT,YAAc4Z,aAAgBnG,EAAOzT,WAE/D,YADA9e,KAAKgyB,WAGP,GAAIyG,aAAiBpG,EAAO/b,QAAS,CACnC,IAAIgb,EAAemH,EAAMnH,aAAamH,EAAM54B,UAAU,GACtD,GAAIyxB,GAAe,IACjBmH,EAAQA,EAAM/f,MAAM4Y,EAAe,MACrBoH,EAEZ,YADA14B,KAAKgyB,UAInB,MAAA,GAAmB0G,aAAgBrG,EAAO/b,QAAS,CACzC,IAAI+nB,EAAgB3F,EAAKpH,aAAa,GAClC+M,GAAgB,GAClB3F,EAAKhgB,MAAM2lB,EAAgB,EAEvC,CACQ,IAAItc,EAAM2W,EAAK7W,SAASG,gBAAgBjC,EAAQzJ,QAAU,KAAOoiB,EAAK7W,SAASG,KAC/EyW,EAAMvL,aAAawL,EAAM3W,GACzB0W,EAAMxW,QACd,CACMjiB,KAAKgyB,UACX,GACK,CACDl2B,IAAK,SACL2D,MAAO,WACL,IAAI2nB,IAAUra,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,KAAmBA,UAAU,GAE7E/M,KAAK4gB,QAAQyD,aAAa,kBAAmB+C,EACnD,GACK,CACDtrB,IAAK,WACL2D,MAAO,SAAkBiB,EAAOb,EAAQmhB,EAAQvhB,IACxB,MAAlBO,KAAKykB,WAAsBzkB,KAAKykB,UAAUzD,MAC9C1B,EAAK5I,EAAOnW,UAAU+W,WAAapV,OAAOwd,eAAehJ,EAAOnW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAOb,EAAQmhB,EAAQvhB,GAChIO,KAAKgyB,WACX,GACK,CACDl2B,IAAK,WACL2D,MAAO,SAAkBiB,EAAOjB,EAAOwhB,GACrC,GAAW,MAAPA,GAAiC,MAAlBjhB,KAAKykB,WAAsBzkB,KAAKykB,UAAUhlB,GAA7D,CACA,GAAIiB,GAASV,KAAKH,SAChB,GAAW,MAAPohB,GAAoF,MAArEnB,EAAYxJ,QAAQH,MAAM1W,EAAOqgB,EAAYxJ,QAAQN,MAAMqC,OAAgB,CAC5F,IAAIY,EAAO6G,EAAYxJ,QAAQL,OAAOjW,KAAKqiB,QAAQC,cACnDtiB,KAAK8xB,YAAY7Y,GACN,MAAPgI,GAAexhB,EAAMyhB,SAAS,QAChCzhB,EAAQA,EAAM0b,MAAM,GAAG,IAEzBlC,EAAKoI,SAAS,EAAG5hB,EAAOwhB,EAClC,KAAe,CACL,IAAI0I,EAAQ7J,EAAYxJ,QAAQL,OAAOxW,EAAOwhB,GAC9CjhB,KAAK8xB,YAAYnI,EAC3B,MAEQrK,EAAK5I,EAAOnW,UAAU+W,WAAapV,OAAOwd,eAAehJ,EAAOnW,WAAY,WAAYP,MAAMY,KAAKZ,KAAMU,EAAOjB,EAAOwhB,GAEzHjhB,KAAKgyB,UAhBgE,CAiB3E,GACK,CACDl2B,IAAK,eACL2D,MAAO,SAAsBwZ,EAAM8I,GACjC,GAAI9I,EAAKoJ,QAAQtK,QAAU+H,EAAYxJ,QAAQN,MAAMqlB,YAAa,CAChE,IAAIH,EAAUpb,EAAYxJ,QAAQL,OAAOjW,KAAKqiB,QAAQC,cACtD4Y,EAAQpJ,YAAY7Y,GACpBA,EAAOiiB,CACf,CACM5b,EAAK5I,EAAOnW,UAAU+W,WAAapV,OAAOwd,eAAehJ,EAAOnW,WAAY,eAAgBP,MAAMY,KAAKZ,KAAMiZ,EAAM8I,EACzH,GACK,CACDjmB,IAAK,OACL2D,MAAO,SAAciB,GACnB,OAAOV,KAAKumB,KAAK7lB,GAAOC,OAAS,CAAC,MAAM,EAC9C,GACK,CACD7E,IAAK,OACL2D,MAAO,SAAciB,GACnB,OAAIA,IAAUV,KAAKH,SACVG,KAAKqd,KAAK3c,EAAQ,GAEpBV,KAAKmxB,WAAW4M,EAAQr9B,EACrC,GACK,CACD5E,IAAK,QACL2D,MAAO,WAiBL,OAbe,SAAS6+B,EAASrlB,EAAMvY,EAAOb,GAC5C,IAAI8hB,EAAQ,GACRkY,EAAah6B,EASjB,OARAoZ,EAAK4I,SAAS6X,UAAUh5B,EAAOb,EAAQ,SAAUsiB,EAAOzhB,EAAOb,GACzDk+B,EAAO5b,GACTR,EAAMrgB,KAAK6gB,GACFA,aAAiBrC,EAAYxJ,QAAQD,YAC9CsL,EAAQA,EAAMjF,OAAO4hB,EAASnc,EAAOzhB,EAAOm5B,KAE9CA,GAAch6B,CACxB,GACe8hB,CACf,CACa2c,CAASt+B,KAhBJ+M,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,EACnEA,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAKqc,OAAOC,UAgB9F,GACK,CACDvtB,IAAK,WACL2D,MAAO,WACL,IAAIimB,EAAY3Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,GAChFmV,EAAUnV,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,GAE/D,IAAf/M,KAAKi+B,QACT3e,EAAK5I,EAAOnW,UAAU+W,WAAapV,OAAOwd,eAAehJ,EAAOnW,WAAY,WAAYP,MAAMY,KAAKZ,KAAM0lB,EAAWxD,GAChHwD,EAAU7lB,OAAS,GACrBG,KAAKukB,QAAQ6H,KAAKF,EAAU5V,QAAQ6O,OAAOwJ,gBAAiBjJ,EAAWxD,GAE/E,GACK,CACDpmB,IAAK,OACL2D,MAAO,SAAciB,GACnB,OAAO4e,EAAK5I,EAAOnW,UAAU+W,WAAapV,OAAOwd,eAAehJ,EAAOnW,WAAY,OAAQP,MAAMY,KAAKZ,KAAMU,GAAOya,MAAM,EAC/H,GACK,CACDrf,IAAK,SACL2D,MAAO,SAAgBimB,GACrB,IAAmB,IAAf1lB,KAAKi+B,MAAT,CACA,IAAIxY,EAASyG,EAAU5V,QAAQmR,QAAQwD,KACd,iBAAdvF,IACTD,EAASC,GAENplB,MAAMmL,QAAQia,KACjBA,EAAY1lB,KAAKu+B,SAASC,eAExB9Y,EAAU7lB,OAAS,GACrBG,KAAKukB,QAAQ6H,KAAKF,EAAU5V,QAAQ6O,OAAOuJ,qBAAsBjJ,EAAQC,GAE3EpG,EAAK5I,EAAOnW,UAAU+W,WAAapV,OAAOwd,eAAehJ,EAAOnW,WAAY,SAAUP,MAAMY,KAAKZ,KAAM0lB,EAAUhJ,OAAO,KACpHgJ,EAAU7lB,OAAS,GACrBG,KAAKukB,QAAQ6H,KAAKF,EAAU5V,QAAQ6O,OAAOK,cAAeC,EAAQC,EAb3C,CAe/B,KAGShP,CACT,CA9LI,CA8LFoJ,EAAYxJ,QAAQI,QAEtBA,EAAO4C,SAAW,SAClB5C,EAAO+C,UAAY,YACnB/C,EAAOiC,QAAU,MACjBjC,EAAO4L,aAAe,QACtB5L,EAAO6L,gBAAkB,CAACqO,EAAQta,QAASic,EAAOzT,WAAYgf,EAAYxnB,SAE1E/W,EAAQ+W,QAAUI,CAElB,EAAA,SAEgBpJ,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQk/B,SAAWl/B,EAAQ+W,aAAU,EAErC,IAAIoM,EAA4B,mBAAXjgB,QAAoD,iBAApBA,OAAO+Y,SAAwB,SAAUwC,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,GAAyB,mBAAXvb,QAAyBub,EAAIhO,cAAgBvN,QAAUub,IAAQvb,OAAOlC,UAAY,gBAAkByd,CAAI,EAEtQ2E,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfqT,EAAU5S,EAFDzL,EAAoB,KAM7Bse,EAAc7S,EAFDzL,EAAoB,KAMjCwL,EAAWC,EAFDzL,EAAoB,IAM9B0L,EAAeD,EAFDzL,EAAoB,IAMlCie,EAAOxS,EAFDzL,EAAoB,KAM1B2L,EAAcF,EAFDzL,EAAoB,IAMjCuqB,EAAU9e,EAFDzL,EAAoB,IAM7BqP,EAAW5D,EAFDzL,EAAoB,KAM9BkP,EAAWzD,EAFDzL,EAAoB,IAIlC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAAS0F,EAAgB1F,EAAKliB,EAAK2D,GAAiK,OAApJ3D,KAAOkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,CAAI,CAQ/M,IAAI2F,GAAA,EAAYH,EAASlN,SAAS,kBAE9BmoB,EAAW,OAAOr5B,KAAKu5B,UAAUC,UAAY,UAAY,UAEzDC,EAAA,SAAqBC,GAgBvB,SAASD,EAAS/P,EAAOzQ,IA1B3B,SAAyB8B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CA2BnJF,CAAgBlgB,KAAM6+B,GAEtB,IAAIlnB,EA3BR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CA2B9Nyf,CAA2BrgB,MAAO6+B,EAASvnB,WAAapV,OAAOwd,eAAemf,IAAWj+B,KAAKZ,KAAM8uB,EAAOzQ,IAyBvH,OAvBA1G,EAAMonB,SAAW,CAAA,EACjB78B,OAAOmC,KAAKsT,EAAM0G,QAAQ0gB,UAAUn0B,QAAQ,SAAU/M,IACvC,kBAATA,GAAsD,MAA1BixB,EAAMtK,OAAOC,WAAsBqK,EAAMtK,OAAOC,UAAgB,OAG5F9M,EAAM0G,QAAQ0gB,SAASlhC,IACzB8Z,EAAMqnB,WAAWrnB,EAAM0G,QAAQ0gB,SAASlhC,GAEhD,GACI8Z,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAK46B,MAAOC,SAAU,MAAQC,GAC/DxnB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAK46B,MAAOG,QAAS,KAAMC,QAAS,KAAMC,OAAQ,MAAQ,WAAY,GACnG,WAAWl6B,KAAKu5B,UAAUY,YAE5B5nB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAKm7B,WAAa,CAAElJ,WAAW,GAAQmJ,GACxE9nB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAK4Y,QAAU,CAAEqZ,WAAW,GAAQoJ,KAErE/nB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAKm7B,WAAa,CAAElJ,WAAW,EAAMqJ,OAAQ,QAAUF,GACxF9nB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAK4Y,QAAU,CAAEqZ,WAAW,EAAMnC,OAAQ,QAAUuL,IAEvF/nB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAKm7B,WAAa,CAAElJ,WAAW,GAASsJ,GACzEjoB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAK4Y,QAAU,CAAEqZ,WAAW,GAASsJ,GACtEjoB,EAAMqnB,WAAW,CAAEljC,IAAK+iC,EAASx6B,KAAKm7B,UAAWF,OAAQ,KAAMD,QAAS,KAAMD,QAAS,KAAMF,SAAU,MAAQ,CAAE5I,WAAW,EAAMzqB,OAAQ,GAAK4zB,GAC/I9nB,EAAMkoB,SACCloB,CACX,CA8FE,OAjJF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAO1eF,CAAUse,EAAUC,GAEpB9f,EAAa6f,EAAU,KAAM,CAAC,CAC5B/iC,IAAK,QACL2D,MAAO,SAAeqgC,EAAKzxB,GAEzB,OADAA,EAAU0xB,EAAU1xB,IAChB,CAAC,SAAU,UAAW,UAAW,YAAY4rB,KAAK,SAAUn+B,GAC9D,QAASuS,EAAQvS,KAASgkC,EAAIhkC,IAAyB,OAAjBuS,EAAQvS,EACtD,IAGauS,EAAQvS,OAASgkC,EAAIE,OAASF,EAAIG,QAC/C,KAkCEjhB,EAAa6f,EAAU,CAAC,CACtB/iC,IAAK,aACL2D,MAAO,SAAoB3D,GACzB,IAAIomB,EAAUnV,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAC9E0hB,EAAU1hB,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAE9EsB,EAAU0xB,EAAUjkC,GACxB,GAAe,MAAXuS,GAAkC,MAAfA,EAAQvS,IAC7B,OAAO6nB,EAAM8C,KAAK,4CAA6CpY,GAE1C,mBAAZ6T,IACTA,EAAU,CAAEuM,QAASvM,IAEA,mBAAZuM,IACTA,EAAU,CAAEA,YAEdpgB,GAAA,EAAcsR,EAASrJ,SAASjI,EAAS6T,EAASuM,GAClDzuB,KAAK++B,SAAS1wB,EAAQvS,KAAOkE,KAAK++B,SAAS1wB,EAAQvS,MAAQ,GAC3DkE,KAAK++B,SAAS1wB,EAAQvS,KAAKwF,KAAK+M,EACtC,GACK,CACDvS,IAAK,SACL2D,MAAO,WACL,IAAI+hB,EAASxhB,KAEbA,KAAK8uB,MAAMxsB,KAAKqrB,iBAAiB,UAAW,SAAUmS,GACpD,IAAIA,EAAII,iBAAR,CACA,IAAIF,EAAQF,EAAIE,OAASF,EAAIG,QACzBlB,GAAYvd,EAAOud,SAASiB,IAAU,IAAIrlB,OAAO,SAAUtM,GAC7D,OAAOwwB,EAAS7mB,MAAM8nB,EAAKzxB,EACrC,GACQ,GAAwB,IAApB0wB,EAASl/B,OAAb,CACA,IAAI8lB,EAAQnE,EAAOsN,MAAMnH,eACzB,GAAa,MAAThC,GAAkBnE,EAAOsN,MAAMpF,WAAnC,CAEA,IAAIyW,EAAiB3e,EAAOsN,MAAMsR,QAAQza,EAAMjlB,OAC5C2/B,EAAkB1d,EAAewd,EAAgB,GACjD9iB,EAAOgjB,EAAgB,GACvBx0B,EAASw0B,EAAgB,GAEzBC,EAAiB9e,EAAOsN,MAAMyR,QAAQ5a,EAAMjlB,OAC5C8/B,EAAkB7d,EAAe2d,EAAgB,GACjDG,EAAYD,EAAgB,GAC5BE,EAAcF,EAAgB,GAE9BhS,EAAwB,IAAjB7I,EAAM9lB,OAAe,CAAC4gC,EAAWC,GAAelf,EAAOsN,MAAMyR,QAAQ5a,EAAMjlB,MAAQilB,EAAM9lB,QAChG8gC,EAAQhe,EAAe6L,EAAM,GAC7BoS,EAAUD,EAAM,GAChBE,EAAYF,EAAM,GAElBG,EAAaL,aAAqB3gB,EAAYxJ,QAAQO,KAAO4pB,EAAUhhC,QAAQ0b,MAAM,EAAGulB,GAAe,GACvGK,EAAaH,aAAmB9gB,EAAYxJ,QAAQO,KAAO+pB,EAAQnhC,QAAQ0b,MAAM0lB,GAAa,GAC9FG,EAAa,CACf1K,UAA4B,IAAjB3Q,EAAM9lB,OACjBohC,MAAwB,IAAjBtb,EAAM9lB,QAAgBwd,EAAKxd,UAAY,EAC9CmhB,OAAQQ,EAAOsN,MAAM3F,UAAUxD,GAC/B9Z,SACA8zB,OAAQmB,EACR3M,OAAQ4M,GAEMhC,EAAS9E,KAAK,SAAU5rB,GACtC,GAAyB,MAArBA,EAAQioB,WAAqBjoB,EAAQioB,YAAc0K,EAAW1K,UAAW,OAAO,EACpF,GAAqB,MAAjBjoB,EAAQ4yB,OAAiB5yB,EAAQ4yB,QAAUD,EAAWC,MAAO,OAAO,EACxE,GAAsB,MAAlB5yB,EAAQxC,QAAkBwC,EAAQxC,SAAWm1B,EAAWn1B,OAAQ,OAAO,EAC3E,GAAIvL,MAAMmL,QAAQ4C,EAAQ2S,SAExB,GAAI3S,EAAQ2S,OAAOkgB,MAAM,SAAUrjC,GACjC,OAAkC,MAA3BmjC,EAAWhgB,OAAOnjB,EACvC,GACc,OAAO,OAErB,GAAiD,WAA5B6kB,EAAQrU,EAAQ2S,UAEpB9e,OAAOmC,KAAKgK,EAAQ2S,QAAQkgB,MAAM,SAAUrjC,GAC/C,OAA6B,IAAzBwQ,EAAQ2S,OAAOnjB,GAAkD,MAA3BmjC,EAAWhgB,OAAOnjB,IAC/B,IAAzBwQ,EAAQ2S,OAAOnjB,GAAmD,MAA3BmjC,EAAWhgB,OAAOnjB,IAC7D,EAAW40B,EAAYnc,SAASjI,EAAQ2S,OAAOnjB,GAAOmjC,EAAWhgB,OAAOnjB,GACtF,GACc,OAAO,EAGX,QAAsB,MAAlBwQ,EAAQsxB,SAAmBtxB,EAAQsxB,OAAOv6B,KAAK47B,EAAWrB,SACxC,MAAlBtxB,EAAQ8lB,SAAmB9lB,EAAQ8lB,OAAO/uB,KAAK47B,EAAW7M,UACH,IAApD9lB,EAAQogB,QAAQ7tB,KAAK4gB,EAAQmE,EAAOqb,GACrD,IAEUlB,EAAIqB,gBArDyC,CAFpB,CALD,CA8DlC,EACA,KAGStC,CACT,CA5II,CA4IFxb,EAAS/M,SAqLX,SAAS8qB,EAAsBtlC,EAAKojC,GAClC,IAAImC,EAEAC,EAAQxlC,IAAQ+iC,EAASx6B,KAAKk9B,KAAO,SAAW,SACpD,OAIG7d,EAJI2d,EAAQ,CACbvlC,MACAojC,WACAI,OAAQ,MACgBgC,EAAO,MAAO5d,EAAgB2d,EAAO,UAAW,SAAiB1b,GACzF,IAAIjlB,EAAQilB,EAAMjlB,MACd5E,IAAQ+iC,EAASx6B,KAAKm9B,QACxB9gC,GAASilB,EAAM9lB,OAAS,GAG1B,IAAI4hC,EAAkBzhC,KAAK8uB,MAAMyR,QAAQ7/B,GAIzC,QAHsBiiB,EAAe8e,EAAiB,GAC3B,aAEL3hB,EAAYxJ,QAAQG,QACtC3a,IAAQ+iC,EAASx6B,KAAKk9B,KACpBrC,EACFl/B,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQ,EAAGilB,EAAM9lB,OAAS,EAAG6+B,EAAQpoB,QAAQmR,QAAQwD,MAEnFjrB,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQ,EAAGg+B,EAAQpoB,QAAQmR,QAAQwD,MAG/DiU,EACFl/B,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAOilB,EAAM9lB,OAAS,EAAG6+B,EAAQpoB,QAAQmR,QAAQwD,MAE/EjrB,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQilB,EAAM9lB,OAAS,EAAG6+B,EAAQpoB,QAAQmR,QAAQwD,MAG7E,GACX,GAAMoW,CACN,CAEA,SAAS5B,EAAgB9Z,EAAOzD,GAC9B,KAAoB,IAAhByD,EAAMjlB,OAAeV,KAAK8uB,MAAM/F,aAAe,GAAnD,CAEA,IAAI2Y,EAAmB1hC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,OAE5C2c,EADmBsF,EAAe+e,EAAkB,GAC5B,GAExB7gB,EAAU,CAAA,EACd,GAAuB,IAAnBqB,EAAQrW,OAAc,CACxB,IAAI81B,EAAmB3hC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,MAAQ,GAEpDqxB,EADmBpP,EAAegf,EAAkB,GAC5B,GAE5B,GAAY,MAAR5P,GAAgBA,EAAKlyB,SAAW,EAAG,CACrC,IAAI+hC,EAAavkB,EAAKwD,UAClBghB,EAAc7hC,KAAK8uB,MAAM3F,UAAUxD,EAAMjlB,MAAQ,EAAG,GACxDmgB,EAAUuR,EAAK9b,QAAQsB,WAAW+B,KAAKioB,EAAYC,IAAgB,CAAA,CACzE,CACA,CAEE,IAAIhiC,EAAS,kCAAkCuF,KAAK8c,EAAQyd,QAAU,EAAI,EAC1E3/B,KAAK8uB,MAAM5H,WAAWvB,EAAMjlB,MAAQb,EAAQA,EAAQ6+B,EAAQpoB,QAAQmR,QAAQwD,MACxE/oB,OAAOmC,KAAKwc,GAAShhB,OAAS,GAChCG,KAAK8uB,MAAMjH,WAAWlC,EAAMjlB,MAAQb,EAAQA,EAAQghB,EAAS6d,EAAQpoB,QAAQmR,QAAQwD,MAEvFjrB,KAAK8uB,MAAMxH,OAxB2C,CAyBxD,CAEA,SAASoY,EAAa/Z,EAAOzD,GAE3B,IAAIriB,EAAS,kCAAkCuF,KAAK8c,EAAQiS,QAAU,EAAI,EAC1E,KAAIxO,EAAMjlB,OAASV,KAAK8uB,MAAM/F,YAAclpB,GAA5C,CACA,IAAIghB,EAAU,CAAA,EACVihB,EAAa,EAEbC,EAAmB/hC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,OAE5C2c,EADmBsF,EAAeof,EAAkB,GAC5B,GAE5B,GAAI7f,EAAQrW,QAAUwR,EAAKxd,SAAW,EAAG,CACvC,IAAImiC,EAAmBhiC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,MAAQ,GAEpDib,EADmBgH,EAAeqf,EAAkB,GAC5B,GAE5B,GAAIrmB,EAAM,CACR,IAAIimB,EAAavkB,EAAKwD,UAClBohB,EAAcjiC,KAAK8uB,MAAM3F,UAAUxD,EAAMjlB,MAAO,GACpDmgB,EAAUuR,EAAK9b,QAAQsB,WAAW+B,KAAKioB,EAAYK,IAAgB,CAAA,EACnEH,EAAanmB,EAAK9b,QACxB,CACA,CACEG,KAAK8uB,MAAM5H,WAAWvB,EAAMjlB,MAAOb,EAAQ6+B,EAAQpoB,QAAQmR,QAAQwD,MAC/D/oB,OAAOmC,KAAKwc,GAAShhB,OAAS,GAChCG,KAAK8uB,MAAMjH,WAAWlC,EAAMjlB,MAAQohC,EAAa,EAAGjiC,EAAQghB,EAAS6d,EAAQpoB,QAAQmR,QAAQwD,KAtB3C,CAwBtD,CAEA,SAAS2U,EAAkBja,GACzB,IAAIhE,EAAQ3hB,KAAK8uB,MAAMwP,SAAS3Y,GAC5B9E,EAAU,CAAA,EACd,GAAIc,EAAM9hB,OAAS,EAAG,CACpB,IAAIqiC,EAAevgB,EAAM,GAAGd,UACxBshB,EAAcxgB,EAAMA,EAAM9hB,OAAS,GAAGghB,UAC1CA,EAAUuR,EAAK9b,QAAQsB,WAAW+B,KAAKwoB,EAAaD,IAAiB,CAAA,CACzE,CACEliC,KAAK8uB,MAAM5H,WAAWvB,EAAO+Y,EAAQpoB,QAAQmR,QAAQwD,MACjD/oB,OAAOmC,KAAKwc,GAAShhB,OAAS,GAChCG,KAAK8uB,MAAMjH,WAAWlC,EAAMjlB,MAAO,EAAGmgB,EAAS6d,EAAQpoB,QAAQmR,QAAQwD,MAEzEjrB,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAOg+B,EAAQpoB,QAAQmR,QAAQO,QAC7DhoB,KAAK8uB,MAAMxH,OACb,CAEA,SAAS6X,EAAYxZ,EAAOzD,GAC1B,IAAI6E,EAAS/mB,KAET2lB,EAAM9lB,OAAS,GACjBG,KAAK8uB,MAAMtK,OAAO4M,SAASzL,EAAMjlB,MAAOilB,EAAM9lB,QAEhD,IAAIuiC,EAAclgC,OAAOmC,KAAK6d,EAAQlB,QAAQjG,OAAO,SAAUqnB,EAAaphB,GAI1E,OAHIlB,EAAYxJ,QAAQH,MAAM6K,EAAQlB,EAAYxJ,QAAQN,MAAMqC,SAAW/X,MAAMmL,QAAQyW,EAAQlB,OAAOA,MACtGohB,EAAYphB,GAAUkB,EAAQlB,OAAOA,IAEhCohB,CACX,EAAK,CAAA,GACHpiC,KAAK8uB,MAAM7E,WAAWtE,EAAMjlB,MAAO,KAAM0hC,EAAa1D,EAAQpoB,QAAQmR,QAAQwD,MAG9EjrB,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQ,EAAGg+B,EAAQpoB,QAAQmR,QAAQO,QACjEhoB,KAAK8uB,MAAMxH,QACXplB,OAAOmC,KAAK6d,EAAQlB,QAAQpW,QAAQ,SAAU/M,GACnB,MAArBukC,EAAYvkC,KACZyC,MAAMmL,QAAQyW,EAAQlB,OAAOnjB,KACpB,SAATA,GACJkpB,EAAO+H,MAAM9N,OAAOnjB,EAAMqkB,EAAQlB,OAAOnjB,GAAO6gC,EAAQpoB,QAAQmR,QAAQwD,MAC5E,EACA,CAEA,SAASoX,EAAqBC,GAC5B,MAAO,CACLxmC,IAAK+iC,EAASx6B,KAAK8tB,IACnB+M,UAAWoD,EACXthB,OAAQ,CAAE,cAAc,GACxByN,QAAS,SAAiB9I,GACxB,IAAImL,EAAYhR,EAAYxJ,QAAQH,MAAM,cACtCzV,EAAQilB,EAAMjlB,MACdb,EAAS8lB,EAAM9lB,OAEf0iC,EAAwBviC,KAAK8uB,MAAMtK,OAAO2M,WAAWL,EAAWpwB,GAChE8hC,EAAyB7f,EAAe4f,EAAuB,GAC/DphB,EAAQqhB,EAAuB,GAC/B32B,EAAS22B,EAAuB,GAEpC,GAAa,MAATrhB,EAAJ,CACA,IAAIshB,EAAcziC,KAAK8uB,MAAM4T,SAASvhB,GAClC/F,EAAQ+F,EAAMmQ,aAAazlB,GAAQ,GAAQ,EAC3CwP,EAAM8F,EAAMmQ,aAAamR,EAAc52B,EAAShM,GAChD8hB,EAAQR,EAAMP,QAAQoQ,YAAY7V,MAAMC,EAAOC,GAAK3C,MAAM,MAC9D7M,EAAS,EACT8V,EAAM/W,QAAQ,SAAUyS,EAAMhJ,GACxBiuB,GACFnhB,EAAME,SAASjG,EAAQvP,EAAQilB,EAAUqB,KACzCtmB,GAAUilB,EAAUqB,IAAItyB,OACd,IAANwU,EACF3T,GAASowB,EAAUqB,IAAItyB,OAEvBA,GAAUixB,EAAUqB,IAAItyB,QAEjBwd,EAAKqJ,WAAWoK,EAAUqB,OACnChR,EAAMiQ,SAAShW,EAAQvP,EAAQilB,EAAUqB,IAAItyB,QAC7CgM,GAAUilB,EAAUqB,IAAItyB,OACd,IAANwU,EACF3T,GAASowB,EAAUqB,IAAItyB,OAEvBA,GAAUixB,EAAUqB,IAAItyB,QAG5BgM,GAAUwR,EAAKxd,OAAS,CAChC,GACMG,KAAK8uB,MAAMhJ,OAAO4Y,EAAQpoB,QAAQmR,QAAQwD,MAC1CjrB,KAAK8uB,MAAM/G,aAAarnB,EAAOb,EAAQ6+B,EAAQpoB,QAAQmR,QAAQO,OA3B5C,CA4BzB,EAEA,CAEA,SAAS2a,EAAkB3hB,GACzB,MAAO,CACLllB,IAAKklB,EAAO,GAAGtH,cACfkpB,UAAU,EACVnU,QAAS,SAAiB9I,EAAOzD,GAC/BliB,KAAK8uB,MAAM9N,OAAOA,GAASkB,EAAQlB,OAAOA,GAAS0d,EAAQpoB,QAAQmR,QAAQwD,KACjF,EAEA,CAEA,SAAS8U,EAAU1xB,GACjB,GAAuB,iBAAZA,GAA2C,iBAAZA,EACxC,OAAO0xB,EAAU,CAAEjkC,IAAKuS,IAK1B,GAH0E,iBAAlD,IAAZA,EAA0B,YAAcqU,EAAQrU,MAC1DA,GAAA,EAAcmkB,EAAQlc,SAASjI,GAAS,IAEf,iBAAhBA,EAAQvS,IACjB,GAAgD,MAA5C+iC,EAASx6B,KAAKgK,EAAQvS,IAAI4d,eAC5BrL,EAAQvS,IAAM+iC,EAASx6B,KAAKgK,EAAQvS,IAAI4d,mBAC9C,IAAsC,IAAvBrL,EAAQvS,IAAI+D,OAGrB,OAAO,KAFPwO,EAAQvS,IAAMuS,EAAQvS,IAAI4d,cAAcmpB,WAAW,EAGzD,CAME,OAJIx0B,EAAQu0B,WACVv0B,EAAQowB,GAAYpwB,EAAQu0B,gBACrBv0B,EAAQu0B,UAEVv0B,CACT,CAvYAwwB,EAASx6B,KAAO,CACdm7B,UAAW,EACXrN,IAAK,EACL8M,MAAO,GACP6D,OAAQ,GACRvB,KAAM,GACNwB,GAAI,GACJvB,MAAO,GACPwB,KAAM,GACN/lB,OAAQ,IAGV4hB,EAASzT,SAAW,CAClB2T,SAAU,CACRkE,KAAQN,EAAkB,QAC1BO,OAAUP,EAAkB,UAC5BQ,UAAaR,EAAkB,aAC/BL,OAAU,CAERxmC,IAAK+iC,EAASx6B,KAAK8tB,IACnBnR,OAAQ,CAAC,aAAc,SAAU,QACjCyN,QAAS,SAAiB9I,EAAOzD,GAC/B,GAAIA,EAAQoU,WAAgC,IAAnBpU,EAAQrW,OAAc,OAAO,EACtD7L,KAAK8uB,MAAM9N,OAAO,SAAU,KAAM0d,EAAQpoB,QAAQmR,QAAQwD,KAClE,GAEImY,QAAW,CACTtnC,IAAK+iC,EAASx6B,KAAK8tB,IACnB+M,UAAU,EACVle,OAAQ,CAAC,aAAc,SAAU,QAEjCyN,QAAS,SAAiB9I,EAAOzD,GAC/B,GAAIA,EAAQoU,WAAgC,IAAnBpU,EAAQrW,OAAc,OAAO,EACtD7L,KAAK8uB,MAAM9N,OAAO,SAAU,KAAM0d,EAAQpoB,QAAQmR,QAAQwD,KAClE,GAEI,oBAAqB,CACnBnvB,IAAK+iC,EAASx6B,KAAKm7B,UACnBlJ,WAAW,EACX4I,SAAU,KACVE,QAAS,KACTC,QAAS,KACTC,OAAQ,KACRte,OAAQ,CAAC,SAAU,QACnBnV,OAAQ,EACR4iB,QAAS,SAAiB9I,EAAOzD,GACF,MAAzBA,EAAQlB,OAAOshB,OACjBtiC,KAAK8uB,MAAM9N,OAAO,SAAU,KAAM0d,EAAQpoB,QAAQmR,QAAQwD,MAC1B,MAAvB/I,EAAQlB,OAAOiS,MACxBjzB,KAAK8uB,MAAM9N,OAAO,QAAQ,EAAO0d,EAAQpoB,QAAQmR,QAAQwD,KAEnE,GAEI,oBAAqBoX,GAAqB,GAC1C,qBAAsBA,GAAqB,GAC3C,aAAc,CACZvmC,IAAK+iC,EAASx6B,KAAK8tB,IACnB+M,UAAU,EACV5I,WAAW,EACXqJ,OAAQ,MACRlR,QAAS,SAAiB9I,GACxB3lB,KAAK8uB,MAAM5H,WAAWvB,EAAMjlB,MAAQ,EAAG,EAAGg+B,EAAQpoB,QAAQmR,QAAQwD,KAC1E,GAEIoY,IAAO,CACLvnC,IAAK+iC,EAASx6B,KAAK8tB,IACnB1D,QAAS,SAAiB9I,GACxB3lB,KAAK8uB,MAAM9J,QAAQse,SACnB,IAAIlnB,GAAQ,IAAIyD,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,OAAO4Z,OAAOqL,EAAM9lB,QAAQsa,OAAO,MACvFna,KAAK8uB,MAAMyU,eAAennB,EAAOsiB,EAAQpoB,QAAQmR,QAAQwD,MACzDjrB,KAAK8uB,MAAM9J,QAAQse,SACnBtjC,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQ,EAAGg+B,EAAQpoB,QAAQmR,QAAQO,OACzE,GAEI,mBAAoB,CAClBlsB,IAAK+iC,EAASx6B,KAAK46B,MACnB3I,WAAW,EACXtV,OAAQ,CAAC,QACTigB,OAAO,EACPxS,QAAS,SAAiB9I,EAAOzD,GAC/BliB,KAAK8uB,MAAM9N,OAAO,QAAQ,EAAO0d,EAAQpoB,QAAQmR,QAAQwD,MACrD/I,EAAQlB,OAAOshB,QACjBtiC,KAAK8uB,MAAM9N,OAAO,UAAU,EAAO0d,EAAQpoB,QAAQmR,QAAQwD,KAErE,GAEI,kBAAmB,CACjBnvB,IAAK+iC,EAASx6B,KAAK46B,MACnB3I,WAAW,EACXtV,OAAQ,CAAEiS,KAAM,WAChBxE,QAAS,SAAiB9I,GACxB,IAAI6d,EAAkBxjC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,OAC3C+iC,EAAkB9gB,EAAe6gB,EAAiB,GAClDnmB,EAAOomB,EAAgB,GACvB53B,EAAS43B,EAAgB,GAEzB5iB,GAAA,EAAclB,EAASrJ,SAAS,CAAA,EAAI+G,EAAKwD,UAAW,CAAEoS,KAAM,YAC5D7W,GAAQ,IAAIyD,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,OAAOyZ,OAAO,KAAM0G,GAAStG,OAAO8C,EAAKxd,SAAWgM,EAAS,GAAG0O,OAAO,EAAG,CAAE0Y,KAAM,cACtIjzB,KAAK8uB,MAAMyU,eAAennB,EAAOsiB,EAAQpoB,QAAQmR,QAAQwD,MACzDjrB,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQ,EAAGg+B,EAAQpoB,QAAQmR,QAAQO,QACjEhoB,KAAK8uB,MAAMvH,gBACnB,GAEI,eAAgB,CACdzrB,IAAK+iC,EAASx6B,KAAK46B,MACnB3I,WAAW,EACXtV,OAAQ,CAAC,UACTmT,OAAQ,KACR1F,QAAS,SAAiB9I,EAAOzD,GAC/B,IAAIwhB,EAAkB1jC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,OAC3CijC,EAAkBhhB,EAAe+gB,EAAiB,GAClDrmB,EAAOsmB,EAAgB,GACvB93B,EAAS83B,EAAgB,GAEzBvnB,GAAQ,IAAIyD,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,OAAOyZ,OAAO,KAAM+H,EAAQlB,QAAQzG,OAAO8C,EAAKxd,SAAWgM,EAAS,GAAG0O,OAAO,EAAG,CAAEqpB,OAAQ,OAC/I5jC,KAAK8uB,MAAMyU,eAAennB,EAAOsiB,EAAQpoB,QAAQmR,QAAQwD,MACzDjrB,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQ,EAAGg+B,EAAQpoB,QAAQmR,QAAQO,QACjEhoB,KAAK8uB,MAAMvH,gBACnB,GAEI,gBAAiB,CACfzrB,IAAK,IACLw6B,WAAW,EACXtV,OAAQ,CAAEiS,MAAM,GAChB0M,OAAQ,kCACRlR,QAAS,SAAiB9I,EAAOzD,GAC/B,IAAIriB,EAASqiB,EAAQyd,OAAO9/B,OAExBgkC,EAAkB7jC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,OAC3CojC,EAAkBnhB,EAAekhB,EAAiB,GAClDxmB,EAAOymB,EAAgB,GACvBj4B,EAASi4B,EAAgB,GAE7B,GAAIj4B,EAAShM,EAAQ,OAAO,EAC5B,IAAIJ,OAAQ,EACZ,OAAQyiB,EAAQyd,OAAO1b,QACrB,IAAK,KAAK,IAAK,MACbxkB,EAAQ,YACR,MACF,IAAK,MACHA,EAAQ,UACR,MACF,IAAK,IAAI,IAAK,IACZA,EAAQ,SACR,MACF,QACEA,EAAQ,UAEZO,KAAK8uB,MAAM7E,WAAWtE,EAAMjlB,MAAO,IAAKg+B,EAAQpoB,QAAQmR,QAAQwD,MAChEjrB,KAAK8uB,MAAM9J,QAAQse,SACnB,IAAIlnB,GAAQ,IAAIyD,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,MAAQmL,GAAQyO,OAAOza,EAAS,GAAG0a,OAAO8C,EAAKxd,SAAW,EAAIgM,GAAQ0O,OAAO,EAAG,CAAE0Y,KAAMxzB,IAC5IO,KAAK8uB,MAAMyU,eAAennB,EAAOsiB,EAAQpoB,QAAQmR,QAAQwD,MACzDjrB,KAAK8uB,MAAM9J,QAAQse,SACnBtjC,KAAK8uB,MAAM/G,aAAapC,EAAMjlB,MAAQb,EAAQ6+B,EAAQpoB,QAAQmR,QAAQO,OAC9E,GAEI,YAAa,CACXlsB,IAAK+iC,EAASx6B,KAAK46B,MACnB3I,WAAW,EACXtV,OAAQ,CAAC,cACT2e,OAAQ,QACRxL,OAAQ,QACR1F,QAAS,SAAiB9I,GACxB,IAAIoe,EAAkB/jC,KAAK8uB,MAAMsR,QAAQza,EAAMjlB,OAC3CsjC,EAAmBrhB,EAAeohB,EAAiB,GACnD1mB,EAAO2mB,EAAiB,GACxBn4B,EAASm4B,EAAiB,GAE1B5nB,GAAQ,IAAIyD,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,MAAQ2c,EAAKxd,SAAWgM,EAAS,GAAG0O,OAAO,EAAG,CAAE,aAAc,OAAQD,OAAO,GACjIta,KAAK8uB,MAAMyU,eAAennB,EAAOsiB,EAAQpoB,QAAQmR,QAAQwD,KACjE,GAEI,aAAcmW,EAAsBvC,EAASx6B,KAAKk9B,MAAM,GACxD,mBAAoBH,EAAsBvC,EAASx6B,KAAKk9B,MAAM,GAC9D,cAAeH,EAAsBvC,EAASx6B,KAAKm9B,OAAO,GAC1D,oBAAqBJ,EAAsBvC,EAASx6B,KAAKm9B,OAAO,KA0NpEjiC,EAAQ+W,QAAUuoB,EAClBt/B,EAAQk/B,SAAWA,CAEnB,EAAA,SAEgBnxB,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIkjB,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBd,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpeP,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfW,EAAcF,EAFDzL,EAAoB,IAMjC8L,EAASL,EAFDzL,EAAoB,IAIhC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAQ7F,IAAIimB,EAAA,SAAmBvjB,GAUrB,SAASujB,EAAOrjB,EAAS+D,IAhB3B,SAAyBxE,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAiBnJF,CAAgBlgB,KAAMikC,GAEtB,IAAItsB,EAjBR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAiB9Nyf,CAA2BrgB,MAAOikC,EAAO3sB,WAAapV,OAAOwd,eAAeukB,IAASrjC,KAAKZ,KAAM4gB,IAM5G,OAJAjJ,EAAMgN,UAAYA,EAClBhN,EAAM+d,SAAW9O,SAASsd,eAAeD,EAAO1P,UAChD5c,EAAMiJ,QAAQkR,YAAYna,EAAM+d,UAChC/d,EAAMwsB,QAAU,EACTxsB,CACX,CAuHE,OA7IF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAU0jB,EAAQvjB,GAElB1B,EAAailB,EAAQ,KAAM,CAAC,CAC1BnoC,IAAK,QACL2D,MAAO,WAEX,KAeEuf,EAAailB,EAAQ,CAAC,CACpBnoC,IAAK,SACL2D,MAAO,WAEc,MAAfO,KAAKyf,QAAgBzf,KAAKyf,OAAOwS,YAAYjyB,KACvD,GACK,CACDlE,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GAC3B,GAAqB,IAAjBO,KAAKmkC,QACP,OAAO7kB,EAAK2kB,EAAO1jC,UAAU+W,WAAapV,OAAOwd,eAAeukB,EAAO1jC,WAAY,SAAUP,MAAMY,KAAKZ,KAAMnC,EAAM4B,GAItH,IAFA,IAAI2e,EAASpe,KACTU,EAAQ,EACK,MAAV0d,GAAkBA,EAAOiE,QAAQtK,QAAU+H,EAAYxJ,QAAQN,MAAMsL,YAC1E5gB,GAAS0d,EAAOvS,OAAOuS,EAAOqB,QAC9BrB,EAASA,EAAOqB,OAEJ,MAAVrB,IACFpe,KAAKmkC,QAAUF,EAAO1P,SAAS10B,OAC/Bue,EAAO4T,WACP5T,EAAOqT,SAAS/wB,EAAOujC,EAAO1P,SAAS10B,OAAQhC,EAAM4B,GACrDO,KAAKmkC,QAAU,EAEvB,GACK,CACDroC,IAAK,QACL2D,MAAO,SAAeX,EAAM+M,GAC1B,OAAI/M,IAASkB,KAAK01B,SAAiB,EAC5BpW,EAAK2kB,EAAO1jC,UAAU+W,WAAapV,OAAOwd,eAAeukB,EAAO1jC,WAAY,QAASP,MAAMY,KAAKZ,KAAMlB,EAAM+M,EACzH,GACK,CACD/P,IAAK,SACL2D,MAAO,WACL,OAAOO,KAAKmkC,OAClB,GACK,CACDroC,IAAK,WACL2D,MAAO,WACL,MAAO,CAACO,KAAK01B,SAAU11B,KAAK01B,SAASj1B,KAAKZ,OAChD,GACK,CACD/D,IAAK,SACL2D,MAAO,WACL6f,EAAK2kB,EAAO1jC,UAAU+W,WAAapV,OAAOwd,eAAeukB,EAAO1jC,WAAY,SAAUP,MAAMY,KAAKZ,MACjGA,KAAKyf,OAAS,IACpB,GACK,CACD3jB,IAAK,UACL2D,MAAO,WACL,IAAIO,KAAK2kB,UAAUqQ,WAA4B,MAAfh1B,KAAKyf,OAArC,CACA,IAAIiW,EAAW11B,KAAK01B,SAChB/P,EAAQ3lB,KAAK2kB,UAAU8Q,iBACvB2O,OAAc,EACdhpB,OAAQ,EACRC,OAAM,EACV,GAAa,MAATsK,GAAiBA,EAAMvK,MAAMtc,OAAS42B,GAAY/P,EAAMtK,IAAIvc,OAAS42B,EAAU,CACjF,IAAIlH,EAAO,CAACkH,EAAU/P,EAAMvK,MAAMvP,OAAQ8Z,EAAMtK,IAAIxP,QACpDu4B,EAAc5V,EAAK,GACnBpT,EAAQoT,EAAK,GACbnT,EAAMmT,EAAK,EACnB,CAEM,KAAiC,MAA1BxuB,KAAK4gB,QAAQwX,WAAqBp4B,KAAK4gB,QAAQwX,YAAcp4B,KAAK01B,UACvE11B,KAAK4gB,QAAQ1H,WAAWkI,aAAaphB,KAAK4gB,QAAQwX,UAAWp4B,KAAK4gB,SAEpE,GAAI5gB,KAAK01B,SAASj1B,OAASwjC,EAAO1P,SAAU,CAC1C,IAAIna,EAAOpa,KAAK01B,SAASj1B,KAAKiY,MAAMurB,EAAO1P,UAAU3X,KAAK,IACtD5c,KAAK2b,gBAAgBsE,EAAO3J,SAC9B8tB,EAAcpkC,KAAK2b,KAAKiF,QACxB5gB,KAAK2b,KAAK0F,SAAS,EAAGjH,GACtBpa,KAAK01B,SAASj1B,KAAOwjC,EAAO1P,WAE5Bv0B,KAAK01B,SAASj1B,KAAO2Z,EACrBpa,KAAKyf,OAAO2B,aAAatB,EAAYxJ,QAAQL,OAAOjW,KAAK01B,UAAW11B,MACpEA,KAAK01B,SAAW9O,SAASsd,eAAeD,EAAO1P,UAC/Cv0B,KAAK4gB,QAAQkR,YAAY9xB,KAAK01B,UAExC,CAEM,GADA11B,KAAKiiB,SACQ,MAAT7G,EAAe,CACjB,IAAIiR,EAAO,CAACjR,EAAOC,GAAKzU,IAAI,SAAUiF,GACpC,OAAOwQ,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI8nB,EAAY3jC,KAAKZ,OAAQgM,EAAS,GACxE,GAEY0gB,EAAQ5J,EAAe0J,EAAM,GAKjC,OAHAjR,EAAQmR,EAAM,GACdlR,EAAMkR,EAAM,GAEL,CACLuJ,UAAWsO,EACXrO,YAAa3a,EACb4a,QAASoO,EACTnO,UAAW5a,EAErB,CA9C2D,CA+C3D,GACK,CACDvf,IAAK,SACL2D,MAAO,SAAgBimB,EAAWxD,GAChC,IAAIV,EAASxhB,KAEb,GAAI0lB,EAAUuU,KAAK,SAAUO,GAC3B,MAAyB,kBAAlBA,EAAS52B,MAA4B42B,EAASpc,SAAWoD,EAAOkU,QAC/E,GAAU,CACF,IAAI/P,EAAQ3lB,KAAKk2B,UACbvQ,MAAeA,MAAQA,EACnC,CACA,GACK,CACD7pB,IAAK,QACL2D,MAAO,WACL,MAAO,EACb,KAGSwkC,CACT,CA5II,CA4IFnkB,EAAYxJ,QAAQG,OAEtBwtB,EAAO3qB,SAAW,SAClB2qB,EAAOxqB,UAAY,YACnBwqB,EAAOtrB,QAAU,OACjBsrB,EAAO1P,SAAW,SAGlBh1B,EAAQ+W,QAAU2tB,CAElB,EAAA,SAEgB32B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAEIqgB,EAAcF,EAFDzL,EAAoB,IAIjCoe,EAASpe,EAAoB,GAE7Byc,EAAUhR,EAAuB2S,GAErC,SAAS3S,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAQ7F,IAAI3H,EAAA,SAAsBguB,GAGxB,SAAShuB,IAGP,OAZJ,SAAyB8J,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMqW,GAR1B,SAAoChU,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOqW,EAAUiB,WAAapV,OAAOwd,eAAerJ,IAAYsK,MAAM3gB,KAAM+M,WAClH,CAEE,OAXF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUlK,EAAWguB,GAQdhuB,CACT,CAVI,CAUFyJ,EAAYxJ,QAAQD,WAEtBA,EAAUkM,gBAAkB,CAACqO,EAAQta,QAASic,EAAOzT,WAAYzI,GAEjE9W,EAAQ+W,QAAUD,CAElB,EAAA,SAEgB/I,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+kC,WAAa/kC,EAAQglC,WAAahlC,EAAQilC,qBAAkB,EAEpE,IAQgCxmB,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpe+N,EAAanZ,EAAoB,GAEjC2L,GAE4B9B,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAQnFwmB,EAAA,SAA4BC,GAG9B,SAASD,IAGP,OAZJ,SAAyBrkB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMwkC,GAR1B,SAAoCniC,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOwkC,EAAgBltB,WAAapV,OAAOwd,eAAe8kB,IAAkB7jB,MAAM3gB,KAAM+M,WAC9H,CAcE,OAvBF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUikB,EAAiBC,GAQ3BzlB,EAAawlB,EAAiB,CAAC,CAC7B1oC,IAAK,QACL2D,MAAO,SAAemhB,GACpB,IAAInhB,EAAQ6f,EAAKklB,EAAgBjkC,UAAU+W,WAAapV,OAAOwd,eAAe8kB,EAAgBjkC,WAAY,QAASP,MAAMY,KAAKZ,KAAM4gB,GACpI,OAAKnhB,EAAMinB,WAAW,QAEf,KADPjnB,EAAQA,EAAMyF,QAAQ,UAAW,IAAIA,QAAQ,UAAW,KACrCwT,MAAM,KAAK9R,IAAI,SAAUkW,GAC1C,OAAQ,KAAO4nB,SAAS5nB,GAAW/Z,SAAS,KAAKoY,OAAM,EAC/D,GAASyB,KAAK,IAJ8Bnd,CAK5C,KAGS+kC,CACT,CAtBI,CAsBF1kB,EAAYxJ,QAAQQ,WAAWG,OAE7BstB,EAAa,IAAIzkB,EAAYxJ,QAAQQ,WAAWE,MAAM,QAAS,WAAY,CAC7Ee,MAAO+H,EAAYxJ,QAAQN,MAAMsC,SAE/BgsB,EAAa,IAAIE,EAAgB,QAAS,QAAS,CACrDzsB,MAAO+H,EAAYxJ,QAAQN,MAAMsC,SAGnC/Y,EAAQilC,gBAAkBA,EAC1BjlC,EAAQglC,WAAaA,EACrBhlC,EAAQ+kC,WAAaA,CAErB,EAAA,SAEgBh3B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQolC,SAAWplC,EAAQ+W,aAAU,EAErC,IAQgC0H,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpeqlB,EAAUzwB,EAAoB,GAY9B0wB,EAAA,SAAiBhU,GAGnB,SAASgU,IAGP,OAZJ,SAAyB1kB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAM6kC,GAR1B,SAAoCxiC,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAO6kC,EAAKvtB,WAAapV,OAAOwd,eAAemlB,IAAOlkB,MAAM3gB,KAAM+M,WACxG,CA+BE,OAxCF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUskB,EAAMhU,GAQhB7R,EAAa6lB,EAAM,CAAC,CAClB/oC,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GAC3B,GAAI5B,IAASmC,KAAKqiB,QAAQ/I,WAAa7Z,EAAO,OAAO6f,EAAKulB,EAAKtkC,UAAU+W,WAAapV,OAAOwd,eAAemlB,EAAKtkC,WAAY,SAAUP,MAAMY,KAAKZ,KAAMnC,EAAM4B,GAC9JA,EAAQO,KAAKgQ,YAAY20B,SAASllC,GAClCO,KAAK4gB,QAAQyD,aAAa,OAAQ5kB,EACxC,IACM,CAAC,CACH3D,IAAK,SACL2D,MAAO,SAAgBA,GACrB,IAAIX,EAAOwgB,EAAKulB,EAAKvtB,WAAapV,OAAOwd,eAAemlB,GAAO,SAAU7kC,MAAMY,KAAKZ,KAAMP,GAK1F,OAJAA,EAAQO,KAAK2kC,SAASllC,GACtBX,EAAKulB,aAAa,OAAQ5kB,GAC1BX,EAAKulB,aAAa,MAAO,uBACzBvlB,EAAKulB,aAAa,SAAU,UACrBvlB,CACb,GACK,CACDhD,IAAK,UACL2D,MAAO,SAAiBmhB,GACtB,OAAOA,EAAQnI,aAAa,OAClC,GACK,CACD3c,IAAK,WACL2D,MAAO,SAAkBqlC,GACvB,OAAOC,EAAUD,EAAK9kC,KAAKglC,oBAAsBF,EAAM9kC,KAAKilC,aAClE,KAGSJ,CACT,CAvCI,GAR4B7mB,EAFM4mB,IAEe5mB,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IA+C5E1H,SAOX,SAASyuB,EAAUD,EAAKI,GACtB,IAAIC,EAASve,SAASC,cAAc,KACpCse,EAAOC,KAAON,EACd,IAAIO,EAAWF,EAAOC,KAAKjqB,MAAM,EAAGgqB,EAAOC,KAAK9nB,QAAQ,MACxD,OAAO4nB,EAAU5nB,QAAQ+nB,IAAY,CACvC,CAVAR,EAAKvrB,SAAW,OAChBurB,EAAKlsB,QAAU,IACfksB,EAAKI,cAAgB,cACrBJ,EAAKG,mBAAqB,CAAC,OAAQ,QAAS,SAAU,OAStDzlC,EAAQ+W,QAAUuuB,EAClBtlC,EAAQolC,SAAWI,CAEnB,EAAA,SAEgBz3B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIijB,EAA4B,mBAAXjgB,QAAoD,iBAApBA,OAAO+Y,SAAwB,SAAUwC,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,GAAyB,mBAAXvb,QAAyBub,EAAIhO,cAAgBvN,QAAUub,IAAQvb,OAAOlC,UAAY,gBAAkByd,CAAI,EAEtQgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfmmB,EAAa1lB,EAFDzL,EAAoB,KAMhCoxB,EAAa3lB,EAFDzL,EAAoB,MAIpC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAI7F,IAAIwnB,EAAiB,EAErB,SAASC,EAAoB9mC,EAASmiB,GACpCniB,EAAQ0lB,aAAavD,IAAiD,SAApCniB,EAAQ8Z,aAAaqI,IACzD,CAEA,IAAI4kB,aACF,SAASA,EAAOC,GACd,IAAIhuB,EAAQ3X,MAVhB,SAAyBmgB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAYnJF,CAAgBlgB,KAAM0lC,GAEtB1lC,KAAK2lC,OAASA,EACd3lC,KAAK6jB,UAAY+C,SAASC,cAAc,QACxC7mB,KAAK4lC,cACL5lC,KAAK2lC,OAAOE,MAAMC,QAAU,OAC5B9lC,KAAK2lC,OAAOzsB,WAAWkI,aAAaphB,KAAK6jB,UAAW7jB,KAAK2lC,QAEzD3lC,KAAK+lC,MAAMpY,iBAAiB,YAAa,WACvChW,EAAMquB,cACZ,GACIhmC,KAAK+lC,MAAMpY,iBAAiB,UAAW,SAAUU,GAC/C,OAAQA,EAAM4R,SAEZ,KAAKqF,EAAWhvB,QAAQjS,KAAK46B,MAC3BtnB,EAAMquB,eACN,MAGF,KAAKV,EAAWhvB,QAAQjS,KAAKy+B,OAC3BnrB,EAAMsuB,SACN5X,EAAM8S,iBAIhB,GACInhC,KAAK2lC,OAAOhY,iBAAiB,SAAU3tB,KAAK8lB,OAAOwJ,KAAKtvB,MAC5D,CA2KE,OAzKAgf,EAAa0mB,EAAQ,CAAC,CACpB5pC,IAAK,eACL2D,MAAO,WACLO,KAAK6jB,UAAUK,UAAUoB,OAAO,eAEhCmgB,EAAoBzlC,KAAK+lC,MAAO,iBAChCN,EAAoBzlC,KAAKqe,QAAS,cACxC,GACK,CACDviB,IAAK,YACL2D,MAAO,SAAmBymC,GACxB,IAAI1kB,EAASxhB,KAETwwB,EAAO5J,SAASC,cAAc,QA+BlC,OA9BA2J,EAAK2V,SAAW,IAChB3V,EAAKnM,aAAa,OAAQ,UAE1BmM,EAAKtM,UAAUlb,IAAI,kBACfk9B,EAAOE,aAAa,UACtB5V,EAAKnM,aAAa,aAAc6hB,EAAOztB,aAAa,UAElDytB,EAAOlV,aACTR,EAAKnM,aAAa,aAAc6hB,EAAOlV,aAEzCR,EAAK7C,iBAAiB,QAAS,WAC7BnM,EAAO6kB,WAAW7V,GAAM,EAChC,GACMA,EAAK7C,iBAAiB,UAAW,SAAUU,GACzC,OAAQA,EAAM4R,SAEZ,KAAKqF,EAAWhvB,QAAQjS,KAAK46B,MAC3Bzd,EAAO6kB,WAAW7V,GAAM,GACxBnC,EAAM8S,iBACN,MAGF,KAAKmE,EAAWhvB,QAAQjS,KAAKy+B,OAC3BthB,EAAOykB,SACP5X,EAAM8S,iBAIlB,GAEa3Q,CACb,GACK,CACD10B,IAAK,aACL2D,MAAO,WACL,IAAIsmC,EAAQnf,SAASC,cAAc,QAOnC,OANAkf,EAAM7hB,UAAUlb,IAAI,mBACpB+8B,EAAM/hB,UAAYuhB,EAAWjvB,QAC7ByvB,EAAMI,SAAW,IACjBJ,EAAM1hB,aAAa,OAAQ,UAC3B0hB,EAAM1hB,aAAa,gBAAiB,SACpCrkB,KAAK6jB,UAAUiO,YAAYiU,GACpBA,CACb,GACK,CACDjqC,IAAK,eACL2D,MAAO,WACL,IAAIsnB,EAAS/mB,KAETqe,EAAUuI,SAASC,cAAc,QACrCxI,EAAQ6F,UAAUlb,IAAI,qBAGtBqV,EAAQgG,aAAa,cAAe,QACpChG,EAAQ8nB,SAAW,KAGnB9nB,EAAQioB,GAAK,qBAAuBd,EACpCA,GAAkB,EAClBxlC,KAAK+lC,MAAM1hB,aAAa,gBAAiBhG,EAAQioB,IAEjDtmC,KAAKqe,QAAUA,EAEf,GAAGlD,MAAMva,KAAKZ,KAAK2lC,OAAOtnB,SAASzT,QAAQ,SAAUs7B,GACnD,IAAI1V,EAAOzJ,EAAOwf,UAAUL,GAC5B7nB,EAAQyT,YAAYtB,IACI,IAApB0V,EAAOM,UACTzf,EAAOsf,WAAW7V,EAE5B,GACMxwB,KAAK6jB,UAAUiO,YAAYzT,EACjC,GACK,CACDviB,IAAK,cACL2D,MAAO,WACL,IAAI+nB,EAASxnB,KAEb,GAAGmb,MAAMva,KAAKZ,KAAK2lC,OAAO/tB,YAAYhN,QAAQ,SAAU4lB,GACtDhJ,EAAO3D,UAAUQ,aAAamM,EAAK3yB,KAAM2yB,EAAK/wB,MACtD,GACMO,KAAK6jB,UAAUK,UAAUlb,IAAI,aAC7BhJ,KAAK+lC,MAAQ/lC,KAAKymC,aAClBzmC,KAAK0mC,cACX,GACK,CACD5qC,IAAK,SACL2D,MAAO,WACL,IAAIwoB,EAASjoB,KAGbA,KAAK2mC,QAGLpR,WAAW,WACT,OAAOtN,EAAO8d,MAAMze,OAC5B,EAAS,EACT,GACK,CACDxrB,IAAK,QACL2D,MAAO,WACLO,KAAK6jB,UAAUK,UAAUjC,OAAO,eAChCjiB,KAAK+lC,MAAM1hB,aAAa,gBAAiB,SACzCrkB,KAAKqe,QAAQgG,aAAa,cAAe,OAC/C,GACK,CACDvoB,IAAK,aACL2D,MAAO,SAAoB+wB,GACzB,IAAIoW,EAAU75B,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,GAEzEy5B,EAAWxmC,KAAK6jB,UAAU8H,cAAc,gBAC5C,GAAI6E,IAASgW,IACG,MAAZA,GACFA,EAAStiB,UAAUjC,OAAO,eAEhB,MAARuO,IACJA,EAAKtM,UAAUlb,IAAI,eACnBhJ,KAAK2lC,OAAOkB,cAAgB,GAAGvpB,QAAQ1c,KAAK4vB,EAAKtX,WAAW2I,SAAU2O,GAClEA,EAAK4V,aAAa,cACpBpmC,KAAK+lC,MAAM1hB,aAAa,aAAcmM,EAAK/X,aAAa,eAExDzY,KAAK+lC,MAAMrV,gBAAgB,cAEzBF,EAAK4V,aAAa,cACpBpmC,KAAK+lC,MAAM1hB,aAAa,aAAcmM,EAAK/X,aAAa,eAExDzY,KAAK+lC,MAAMrV,gBAAgB,cAEzBkW,IAAS,CACX,GAAqB,mBAAVE,MACT9mC,KAAK2lC,OAAOoB,cAAc,IAAID,MAAM,gBAC9C,GAAqF,YAAhD,oBAAVA,MAAwB,YAAcpkB,EAAQokB,QAAsB,CAErF,IAAIzY,EAAQzH,SAASogB,YAAY,SACjC3Y,EAAM4Y,UAAU,UAAU,GAAM,GAChCjnC,KAAK2lC,OAAOoB,cAAc1Y,EACpC,CACQruB,KAAK2mC,OACb,CACA,GACK,CACD7qC,IAAK,SACL2D,MAAO,WACL,IAAIymC,OAAS,EACb,GAAIlmC,KAAK2lC,OAAOkB,eAAgB,EAAI,CAClC,IAAIrW,EAAOxwB,KAAK6jB,UAAU8H,cAAc,sBAAsB9J,SAAS7hB,KAAK2lC,OAAOkB,eACnFX,EAASlmC,KAAK2lC,OAAOtnB,QAAQre,KAAK2lC,OAAOkB,eACzC7mC,KAAKqmC,WAAW7V,EACxB,MACQxwB,KAAKqmC,WAAW,MAElB,IAAIa,EAAqB,MAAVhB,GAAkBA,IAAWlmC,KAAK2lC,OAAOha,cAAc,oBACtE3rB,KAAK+lC,MAAM7hB,UAAUoB,OAAO,YAAa4hB,EAC/C,KAGSxB,CACT,IAEAnmC,EAAQ+W,QAAUovB,CAElB,EAAA,SAEgBp4B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAEIqgB,EAAcF,EAFDzL,EAAoB,IAMjCuqB,EAAU9e,EAFDzL,EAAoB,IAI7Boe,EAASpe,EAAoB,GAE7Byc,EAAUhR,EAAuB2S,GAIjCxS,EAAUH,EAFDzL,EAAoB,KAM7B2pB,EAAcle,EAFDzL,EAAoB,KAMjCme,EAAW1S,EAFDzL,EAAoB,KAM9BgzB,EAAUvnB,EAFDzL,EAAoB,KAM7B6L,EAAWJ,EAFDzL,EAAoB,IAM9BizB,EAAWxnB,EAFDzL,EAAoB,KAM9B8L,EAASL,EAFDzL,EAAoB,IAM5BkzB,EAAcznB,EAFDzL,EAAoB,KAMjCmzB,EAAY1nB,EAFDzL,EAAoB,KAM/BmxB,EAAa1lB,EAFDzL,EAAoB,KAIpC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F0gB,EAAQpoB,QAAQF,SAAS,CACvB,cAAewa,EAAQta,QACvB,oBAAqBic,EAAOzT,WAC5B,cAAeiB,EAAQzJ,QACvB,kBAAmBwnB,EAAYxnB,QAC/B,eAAgBgc,EAAShc,QACzB,cAAe6wB,EAAQ7wB,QACvB,eAAgB0J,EAAS1J,QACzB,eAAgB8wB,EAAS9wB,QACzB,aAAc2J,EAAO3J,QAErB,oBAAqB+wB,EAAY/wB,QACjC,kBAAmBgxB,EAAUhxB,QAC7B,mBAAoBgvB,EAAWhvB,UAGjCwJ,EAAYxJ,QAAQF,SAASwa,EAAQta,QAASyJ,EAAQzJ,QAASgc,EAAShc,QAAS0J,EAAS1J,QAAS8wB,EAAS9wB,QAAS2J,EAAO3J,SAE5H/W,EAAQ+W,QAAUooB,EAAQpoB,OAE1B,EAAA,SAEgBhJ,EAAQ/N,EAAS4U,GAIjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIqW,EAAW3B,EAAoB,GAC/BozB,EAAA,WACA,SAASA,EAAW3mB,GAChB5gB,KAAK4gB,QAAUA,EAEf5gB,KAAK4gB,QAAQ9K,EAAS+C,UAAY,CAAEI,KAAMjZ,KAClD,CAiJI,OAhJAkC,OAAOyS,eAAe4yB,EAAWhnC,UAAW,UAAW,CAEnDsB,IAAK,WACD,OAAO7B,KAAKgQ,WACxB,EACQ6E,YAAY,EACZD,cAAc,IAElB2yB,EAAWtxB,OAAS,SAAUxW,GAC1B,GAAoB,MAAhBO,KAAK2Y,QACL,MAAM,IAAI7C,EAAS2B,eAAe,mCAEtC,IAAI3Y,EAwBJ,OAvBIwB,MAAMmL,QAAQzL,KAAK2Y,UACE,iBAAVlZ,IACPA,EAAQA,EAAMia,cACVgrB,SAASjlC,GAAOsD,aAAetD,IAC/BA,EAAQilC,SAASjlC,KAIrBX,EADiB,iBAAVW,EACAmnB,SAASC,cAAc7mB,KAAK2Y,QAAQlZ,EAAQ,IAE9CO,KAAK2Y,QAAQ2E,QAAQ7d,IAAS,EAC5BmnB,SAASC,cAAcpnB,GAGvBmnB,SAASC,cAAc7mB,KAAK2Y,QAAQ,KAI/C7Z,EAAO8nB,SAASC,cAAc7mB,KAAK2Y,SAEnC3Y,KAAKyZ,WACL3a,EAAKolB,UAAUlb,IAAIhJ,KAAKyZ,WAErB3a,CACf,EACIyoC,EAAWhnC,UAAUi2B,OAAS,WACP,MAAfx2B,KAAKyf,SACLzf,KAAKwkB,OAASxkB,KAAKyf,OAAO+E,OAEtC,EACI+iB,EAAWhnC,UAAUqe,MAAQ,WACzB,IAAIgC,EAAU5gB,KAAK4gB,QAAQ4mB,WAAU,GACrC,OAAO1xB,EAASG,OAAO2K,EAC/B,EACI2mB,EAAWhnC,UAAUu5B,OAAS,WACP,MAAf95B,KAAKyf,QACLzf,KAAKyf,OAAOwS,YAAYjyB,aAErBA,KAAK4gB,QAAQ9K,EAAS+C,SACrC,EACI0uB,EAAWhnC,UAAU6wB,SAAW,SAAU1wB,EAAOb,GAClCG,KAAKgtB,QAAQtsB,EAAOb,GAC1BoiB,QACb,EACIslB,EAAWhnC,UAAUkxB,SAAW,SAAU/wB,EAAOb,EAAQhC,EAAM4B,GAC3D,IAAIwZ,EAAOjZ,KAAKgtB,QAAQtsB,EAAOb,GAC/B,GAAiD,MAA7CiW,EAASK,MAAMtY,EAAMiY,EAASE,MAAM+W,OAAiBttB,EACrDwZ,EAAKgU,KAAKpvB,EAAM4B,QAC5B,GACmE,MAAlDqW,EAASK,MAAMtY,EAAMiY,EAASE,MAAMua,WAAoB,CAC7D,IAAI9Q,EAAS3J,EAASG,OAAOjW,KAAKqiB,QAAQtK,OAC1CkB,EAAKgU,KAAKxN,GACVA,EAAOuB,OAAOnjB,EAAM4B,EAChC,CACA,EACI8nC,EAAWhnC,UAAU8gB,SAAW,SAAU3gB,EAAOjB,EAAOwhB,GACpD,IAAIhI,EAAc,MAAPgI,EAAcnL,EAASG,OAAO,OAAQxW,GAASqW,EAASG,OAAOxW,EAAOwhB,GAC7Ec,EAAM/hB,KAAK0Y,MAAMhY,GACrBV,KAAKyf,OAAO2B,aAAanI,EAAM8I,EACvC,EACIwlB,EAAWhnC,UAAU25B,WAAa,SAAUuN,EAAYzN,QACpC,IAAZA,IAAsBA,EAAU,MACjB,MAAfh6B,KAAKyf,QACLzf,KAAKyf,OAAOoC,SAASI,OAAOjiB,MAEhC,IAAI0nC,EAAa,KACjBD,EAAW5lB,SAAST,aAAaphB,KAAMg6B,GACxB,MAAXA,IACA0N,EAAa1N,EAAQpZ,SAErB5gB,KAAK4gB,QAAQ1H,YAAcuuB,EAAW7mB,SACtC5gB,KAAK4gB,QAAQga,aAAe8M,GAC5BD,EAAW7mB,QAAQQ,aAAaphB,KAAK4gB,QAAS8mB,GAElD1nC,KAAKyf,OAASgoB,EACdznC,KAAKw2B,QACb,EACI+Q,EAAWhnC,UAAUysB,QAAU,SAAUtsB,EAAOb,GAC5C,IAAIue,EAASpe,KAAK0Y,MAAMhY,GAExB,OADA0d,EAAO1F,MAAM7Y,GACNue,CACf,EACImpB,EAAWhnC,UAAUV,OAAS,WAC1B,OAAO,CACf,EACI0nC,EAAWhnC,UAAUsL,OAAS,SAAUvJ,GAEpC,YADa,IAATA,IAAmBA,EAAOtC,KAAKyf,QAChB,MAAfzf,KAAKyf,QAAkBzf,MAAQsC,EACxB,EACJtC,KAAKyf,OAAOoC,SAAShW,OAAO7L,MAAQA,KAAKyf,OAAO5T,OAAOvJ,EACtE,EACIilC,EAAWhnC,UAAUyxB,SAAW,SAAU9P,GAGC,MAAnCliB,KAAK4gB,QAAQ9K,EAAS+C,kBAEf7Y,KAAK4gB,QAAQ9K,EAAS+C,UAAU6M,SAEnD,EACI6hB,EAAWhnC,UAAU0hB,OAAS,WACK,MAA3BjiB,KAAK4gB,QAAQ1H,YACblZ,KAAK4gB,QAAQ1H,WAAW+Y,YAAYjyB,KAAK4gB,SAE7C5gB,KAAK85B,QACb,EACIyN,EAAWhnC,UAAU2E,QAAU,SAAUkZ,GAChB,MAAjBA,EAAOqB,SAEXrB,EAAOqB,OAAO2B,aAAaphB,KAAMoe,EAAOzC,MACxCyC,EAAO6D,SACf,EACIslB,EAAWhnC,UAAUy6B,YAAc,SAAUn9B,EAAM4B,GAC/C,IAAIw7B,EAA8B,iBAATp9B,EAAoBiY,EAASG,OAAOpY,EAAM4B,GAAS5B,EAE5E,OADAo9B,EAAY/1B,QAAQlF,MACbi7B,CACf,EACIsM,EAAWhnC,UAAUmY,MAAQ,SAAUhY,EAAO0hB,GAC1C,OAAiB,IAAV1hB,EAAcV,KAAOA,KAAK2b,IACzC,EACI4rB,EAAWhnC,UAAUulB,OAAS,SAAUJ,EAAWxD,GAEvD,EACIqlB,EAAWhnC,UAAU0sB,KAAO,SAAUpvB,EAAM4B,GACxC,IAAIy7B,EAA0B,iBAATr9B,EAAoBiY,EAASG,OAAOpY,EAAM4B,GAAS5B,EAKxE,OAJmB,MAAfmC,KAAKyf,QACLzf,KAAKyf,OAAO2B,aAAa8Z,EAASl7B,KAAK2b,MAE3Cuf,EAAQpJ,YAAY9xB,MACbk7B,CACf,EACIqM,EAAWjuB,SAAW,WACfiuB,CACX,CAvJI,GAwJJhoC,EAAQ+W,QAAUixB,CAGlB,EAAA,SAEgBj6B,EAAQ/N,EAAS4U,GAIjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIiW,EAAevB,EAAoB,IACnCwB,EAAUxB,EAAoB,IAC9ByB,EAAUzB,EAAoB,IAC9B2B,EAAW3B,EAAoB,GAC/BwzB,EAAA,WACA,SAASA,EAAgB/mB,GACrB5gB,KAAK4X,WAAa,CAAA,EAClB5X,KAAK4gB,QAAUA,EACf5gB,KAAKu5B,OACb,CAwDI,OAvDAoO,EAAgBpnC,UAAUugB,UAAY,SAAUA,EAAWrhB,GAEnDA,EACIqhB,EAAU9X,IAAIhJ,KAAK4gB,QAASnhB,KACS,MAAjCqhB,EAAUrhB,MAAMO,KAAK4gB,SACrB5gB,KAAK4X,WAAWkJ,EAAUvH,UAAYuH,SAG/B9gB,KAAK4X,WAAWkJ,EAAUvH,YAKzCuH,EAAUmB,OAAOjiB,KAAK4gB,gBACf5gB,KAAK4X,WAAWkJ,EAAUvH,UAE7C,EACIouB,EAAgBpnC,UAAUg5B,MAAQ,WAC9B,IAAI5hB,EAAQ3X,KACZA,KAAK4X,WAAa,CAAA,EAClB,IAAIA,EAAalC,EAAaY,QAAQjS,KAAKrE,KAAK4gB,SAC5C/I,EAAUlC,EAAQW,QAAQjS,KAAKrE,KAAK4gB,SACpCgnB,EAAShyB,EAAQU,QAAQjS,KAAKrE,KAAK4gB,SACvChJ,EACK8E,OAAO7E,GACP6E,OAAOkrB,GACPh9B,QAAQ,SAAU/M,GACnB,IAAIgqC,EAAO/xB,EAASK,MAAMtY,EAAMiY,EAASE,MAAMua,WAC3CsX,aAAgBnyB,EAAaY,UAC7BqB,EAAMC,WAAWiwB,EAAKtuB,UAAYsuB,EAElD,EACA,EACIF,EAAgBpnC,UAAUme,KAAO,SAAUN,GACvC,IAAIzG,EAAQ3X,KACZkC,OAAOmC,KAAKrE,KAAK4X,YAAYhN,QAAQ,SAAU9O,GAC3C,IAAI2D,EAAQkY,EAAMC,WAAW9b,GAAK2D,MAAMkY,EAAMiJ,SAC9CxC,EAAO4C,OAAOllB,EAAK2D,EAC/B,EACA,EACIkoC,EAAgBpnC,UAAU46B,KAAO,SAAU/c,GACvC,IAAIzG,EAAQ3X,KACZA,KAAK0e,KAAKN,GACVlc,OAAOmC,KAAKrE,KAAK4X,YAAYhN,QAAQ,SAAU9O,GAC3C6b,EAAMC,WAAW9b,GAAKmmB,OAAOtK,EAAMiJ,QAC/C,GACQ5gB,KAAK4X,WAAa,CAAA,CAC1B,EACI+vB,EAAgBpnC,UAAUwI,OAAS,WAC/B,IAAI4O,EAAQ3X,KACZ,OAAOkC,OAAOmC,KAAKrE,KAAK4X,YAAYmD,OAAO,SAAUnD,EAAY/Z,GAE7D,OADA+Z,EAAW/Z,GAAQ8Z,EAAMC,WAAW/Z,GAAM4B,MAAMkY,EAAMiJ,SAC/ChJ,CACnB,EAAW,CAAA,EACX,EACW+vB,CACX,CA9DI,GA+DJpoC,EAAQ+W,QAAUqxB,CAGlB,EAAA,SAEgBr6B,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAIA,SAASQ,EAAMlZ,EAAM6gC,GAEjB,OADgB7gC,EAAK2Z,aAAa,UAAY,IAC7BC,MAAM,OAAOiC,OAAO,SAAU9c,GAC3C,OAAsC,IAA/BA,EAAKyf,QAAQqiB,EAAS,IACrC,EACA,CAPAz9B,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IAQtD,IAAIqoC,EAAA,SAA2CpwB,GAE3C,SAASowB,IACL,OAAkB,OAAXpwB,GAAmBA,EAAOiJ,MAAM3gB,KAAM+M,YAAc/M,IACnE,CA8BI,OAjCAoX,EAAU0wB,EAAiBpwB,GAI3BowB,EAAgBzjC,KAAO,SAAUvF,GAC7B,OAAQA,EAAK2Z,aAAa,UAAY,IAAIC,MAAM,OAAO9R,IAAI,SAAU/I,GACjE,OAAOA,EACF6a,MAAM,KACNyC,MAAM,GAAG,GACTyB,KAAK,IACtB,EACA,EACIkrB,EAAgBvnC,UAAUyI,IAAM,SAAUlK,EAAMW,GAC5C,QAAKO,KAAKywB,OAAO3xB,EAAMW,KAEvBO,KAAKiiB,OAAOnjB,GACZA,EAAKolB,UAAUlb,IAAIhJ,KAAKwZ,QAAU,IAAM/Z,IACjC,EACf,EACIqoC,EAAgBvnC,UAAU0hB,OAAS,SAAUnjB,GAC3BkZ,EAAMlZ,EAAMkB,KAAKwZ,SACvB5O,QAAQ,SAAU/M,GACtBiB,EAAKolB,UAAUjC,OAAOpkB,EAClC,GACsC,IAA1BiB,EAAKolB,UAAUrkB,QACff,EAAK4xB,gBAAgB,QAEjC,EACIoX,EAAgBvnC,UAAUd,MAAQ,SAAUX,GACxC,IACIW,GADSuY,EAAMlZ,EAAMkB,KAAKwZ,SAAS,IAAM,IAC1B2B,MAAMnb,KAAKwZ,QAAQ3Z,OAAS,GAC/C,OAAOG,KAAKywB,OAAO3xB,EAAMW,GAASA,EAAQ,EAClD,EACWqoC,CACX,CAnCI,CAPe3zB,EAAoB,IA0CxBmC,SACf/W,EAAQ+W,QAAUwxB,CAGlB,EAAA,SAEgBx6B,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAIA,SAASuwB,EAASlqC,GACd,IAAImqC,EAAQnqC,EAAK6a,MAAM,KACnB+D,EAAOurB,EACN7sB,MAAM,GACNvU,IAAI,SAAUqhC,GACf,OAAOA,EAAK,GAAGvuB,cAAgBuuB,EAAK9sB,MAAM,EAClD,GACSyB,KAAK,IACV,OAAOorB,EAAM,GAAKvrB,CACtB,CAXAva,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IAYtD,IAAIyoC,EAAA,SAA2CxwB,GAE3C,SAASwwB,IACL,OAAkB,OAAXxwB,GAAmBA,EAAOiJ,MAAM3gB,KAAM+M,YAAc/M,IACnE,CA0BI,OA7BAoX,EAAU8wB,EAAiBxwB,GAI3BwwB,EAAgB7jC,KAAO,SAAUvF,GAC7B,OAAQA,EAAK2Z,aAAa,UAAY,IAAIC,MAAM,KAAK9R,IAAI,SAAUnH,GAE/D,OADUA,EAAMiZ,MAAM,KACX,GAAGuL,MAC1B,EACA,EACIikB,EAAgB3nC,UAAUyI,IAAM,SAAUlK,EAAMW,GAC5C,QAAKO,KAAKywB,OAAO3xB,EAAMW,KAGvBX,EAAK+mC,MAAMkC,EAAS/nC,KAAKwZ,UAAY/Z,GAC9B,EACf,EACIyoC,EAAgB3nC,UAAU0hB,OAAS,SAAUnjB,GAEzCA,EAAK+mC,MAAMkC,EAAS/nC,KAAKwZ,UAAY,GAChC1a,EAAK2Z,aAAa,UACnB3Z,EAAK4xB,gBAAgB,QAEjC,EACIwX,EAAgB3nC,UAAUd,MAAQ,SAAUX,GAExC,IAAIW,EAAQX,EAAK+mC,MAAMkC,EAAS/nC,KAAKwZ,UACrC,OAAOxZ,KAAKywB,OAAO3xB,EAAMW,GAASA,EAAQ,EAClD,EACWyoC,CACX,CA/BI,CAXe/zB,EAAoB,IA0CxBmC,SACf/W,EAAQ+W,QAAU4xB,CAGlB,EAAA,SAEgB56B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIuf,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfgpB,aACF,SAASA,EAAMrZ,EAAOzQ,IAHxB,SAAyB8B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAInJF,CAAgBlgB,KAAMmoC,GAEtBnoC,KAAK8uB,MAAQA,EACb9uB,KAAKqe,QAAUA,EACfre,KAAKiU,QAAU,CAAA,CACnB,CAsBE,OApBA+K,EAAampB,EAAO,CAAC,CACnBrsC,IAAK,OACL2D,MAAO,WACL,IAAIkY,EAAQ3X,KAEZkC,OAAOmC,KAAKrE,KAAKqe,QAAQpK,SAASrJ,QAAQ,SAAU/M,GACvB,MAAvB8Z,EAAM1D,QAAQpW,IAChB8Z,EAAMmN,UAAUjnB,EAE1B,EACA,GACK,CACD/B,IAAK,YACL2D,MAAO,SAAmB5B,GACxB,IAAI4tB,EAAczrB,KAAK8uB,MAAM9e,YAAYqb,OAAO,WAAaxtB,GAE7D,OADAmC,KAAKiU,QAAQpW,GAAQ,IAAI4tB,EAAYzrB,KAAK8uB,MAAO9uB,KAAKqe,QAAQpK,QAAQpW,IAAS,CAAA,GACxEmC,KAAKiU,QAAQpW,EAC1B,KAGSsqC,CACT,IAEAA,EAAM/c,SAAW,CACfnX,QAAS,CAAA,GAEXk0B,EAAMC,OAAS,CACb9xB,QAAW6xB,GAGb5oC,EAAQ+W,QAAU6xB,CAElB,EAAA,SAEgB76B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIuf,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeO,EAAcF,EAFDzL,EAAoB,IAMjC8L,EAASL,EAFDzL,EAAoB,IAIhC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAQ7F,IAAIqqB,EAAa,SAEb5xB,EAAA,SAAkBiK,GAGpB,SAASjK,EAAM3X,IAXjB,SAAyBqhB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAYnJF,CAAgBlgB,KAAMyW,GAEtB,IAAIkB,EAZR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAY9Nyf,CAA2BrgB,MAAOyW,EAAMa,WAAapV,OAAOwd,eAAejJ,IAAQ7V,KAAKZ,KAAMlB,IAY1G,OAVA6Y,EAAM2wB,YAAc1hB,SAASC,cAAc,QAC3ClP,EAAM2wB,YAAYjkB,aAAa,mBAAmB,GAClD,GAAGlJ,MAAMva,KAAK+W,EAAMiJ,QAAQuX,YAAYvtB,QAAQ,SAAU29B,GACxD5wB,EAAM2wB,YAAYxW,YAAYyW,EACpC,GACI5wB,EAAM6wB,UAAY5hB,SAASsd,eAAemE,GAC1C1wB,EAAM8wB,WAAa7hB,SAASsd,eAAemE,GAC3C1wB,EAAMiJ,QAAQkR,YAAYna,EAAM6wB,WAChC7wB,EAAMiJ,QAAQkR,YAAYna,EAAM2wB,aAChC3wB,EAAMiJ,QAAQkR,YAAYna,EAAM8wB,YACzB9wB,CACX,CAgEE,OAvFF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAK1eF,CAAU9J,EAAOiK,GAoBjB1B,EAAavI,EAAO,CAAC,CACnB3a,IAAK,QACL2D,MAAO,SAAeX,EAAM+M,GAC1B,OAAI/M,IAASkB,KAAKwoC,UAAkB,EAChC1pC,IAASkB,KAAKyoC,WAAmB,EAC9BnpB,EAAK7I,EAAMlW,UAAU+W,WAAapV,OAAOwd,eAAejJ,EAAMlW,WAAY,QAASP,MAAMY,KAAKZ,KAAMlB,EAAM+M,EACvH,GACK,CACD/P,IAAK,UACL2D,MAAO,SAAiBX,GACtB,IAAI6mB,OAAQ,EACR+P,OAAW,EACXtb,EAAOtb,EAAK2B,KAAKiY,MAAM2vB,GAAYzrB,KAAK,IAC5C,GAAI9d,IAASkB,KAAKwoC,UAChB,GAAIxoC,KAAK+xB,gBAAgB9R,EAAO3J,QAAS,CACvC,IAAIoyB,EAAa1oC,KAAK+xB,KAAKlyB,SAC3BG,KAAK+xB,KAAK1Q,SAASqnB,EAAYtuB,GAC/BuL,EAAQ,CACNmQ,UAAW91B,KAAK+xB,KAAKnR,QACrBmV,YAAa2S,EAAatuB,EAAKva,OAE3C,MACU61B,EAAW9O,SAASsd,eAAe9pB,GACnCpa,KAAKyf,OAAO2B,aAAatB,EAAYxJ,QAAQL,OAAOyf,GAAW11B,MAC/D2lB,EAAQ,CACNmQ,UAAWJ,EACXK,YAAa3b,EAAKva,aAGbf,IAASkB,KAAKyoC,aACnBzoC,KAAK2b,gBAAgBsE,EAAO3J,SAC9BtW,KAAK2b,KAAK0F,SAAS,EAAGjH,GACtBuL,EAAQ,CACNmQ,UAAW91B,KAAK2b,KAAKiF,QACrBmV,YAAa3b,EAAKva,UAGpB61B,EAAW9O,SAASsd,eAAe9pB,GACnCpa,KAAKyf,OAAO2B,aAAatB,EAAYxJ,QAAQL,OAAOyf,GAAW11B,KAAK2b,MACpEgK,EAAQ,CACNmQ,UAAWJ,EACXK,YAAa3b,EAAKva,UAKxB,OADAf,EAAK2B,KAAO4nC,EACL1iB,CACb,GACK,CACD7pB,IAAK,SACL2D,MAAO,SAAgBimB,EAAWxD,GAChC,IAAIV,EAASxhB,KAEb0lB,EAAU9a,QAAQ,SAAU4vB,GAC1B,GAAsB,kBAAlBA,EAAS52B,OAA6B42B,EAASpc,SAAWoD,EAAOgnB,WAAahO,EAASpc,SAAWoD,EAAOinB,YAAa,CACxH,IAAI9iB,EAAQnE,EAAO0U,QAAQsE,EAASpc,QAChCuH,MAAeA,MAAQA,EACrC,CACA,EACA,KAGSlP,CACT,CApFI,CAoFFqJ,EAAYxJ,QAAQG,OAEtBlX,EAAQ+W,QAAUG,CAElB,EAAA,SAEgBnJ,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQopC,WAAappC,EAAQqpC,WAAarpC,EAAQspC,oBAAiB,EAEnE,IAIgC7qB,EAJ5BsP,EAAanZ,EAAoB,GAEjC2L,GAE4B9B,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAEnFuN,EAAS,CACXxT,MAAO+H,EAAYxJ,QAAQN,MAAMqC,MACjCoM,UAAW,CAAC,QAAS,SAAU,YAG7BokB,EAAiB,IAAI/oB,EAAYxJ,QAAQQ,WAAWC,UAAU,QAAS,QAASwU,GAChFqd,EAAa,IAAI9oB,EAAYxJ,QAAQQ,WAAWE,MAAM,QAAS,WAAYuU,GAC3Eod,EAAa,IAAI7oB,EAAYxJ,QAAQQ,WAAWG,MAAM,QAAS,aAAcsU,GAEjFhsB,EAAQspC,eAAiBA,EACzBtpC,EAAQqpC,WAAaA,EACrBrpC,EAAQopC,WAAaA,CAErB,EAAA,SAEgBr7B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQupC,gBAAkBvpC,EAAQwpC,qBAAkB,EAEpD,IAMgC/qB,EAN5BsP,EAAanZ,EAAoB,GAEjC2L,GAI4B9B,EAJSsP,IAIYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAFnFgrB,EAAS70B,EAAoB,IAI7B40B,EAAkB,IAAIjpB,EAAYxJ,QAAQQ,WAAWE,MAAM,aAAc,QAAS,CACpFe,MAAO+H,EAAYxJ,QAAQN,MAAMsC,SAE/BwwB,EAAkB,IAAIE,EAAOxE,gBAAgB,aAAc,mBAAoB,CACjFzsB,MAAO+H,EAAYxJ,QAAQN,MAAMsC,SAGnC/Y,EAAQwpC,gBAAkBA,EAC1BxpC,EAAQupC,gBAAkBA,CAE1B,EAAA,SAEgBx7B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ0pC,eAAiB1pC,EAAQ2pC,eAAiB3pC,EAAQ4pC,wBAAqB,EAE/E,IAIgCnrB,EAJ5BsP,EAAanZ,EAAoB,GAEjC2L,GAE4B9B,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAEnFuN,EAAS,CACXxT,MAAO+H,EAAYxJ,QAAQN,MAAMqC,MACjCoM,UAAW,CAAC,QAGV0kB,EAAqB,IAAIrpB,EAAYxJ,QAAQQ,WAAWC,UAAU,YAAa,MAAOwU,GACtF2d,EAAiB,IAAIppB,EAAYxJ,QAAQQ,WAAWE,MAAM,YAAa,eAAgBuU,GACvF0d,EAAiB,IAAInpB,EAAYxJ,QAAQQ,WAAWG,MAAM,YAAa,YAAasU,GAExFhsB,EAAQ4pC,mBAAqBA,EAC7B5pC,EAAQ2pC,eAAiBA,EACzB3pC,EAAQ0pC,eAAiBA,CAEzB,EAAA,SAEgB37B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ6pC,UAAY7pC,EAAQ8pC,eAAY,EAExC,IAQgCrrB,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpe+N,EAAanZ,EAAoB,GAEjC2L,GAE4B9B,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAQnFuN,EAAS,CACXxT,MAAO+H,EAAYxJ,QAAQN,MAAMsC,OACjCmM,UAAW,CAAC,QAAS,cAGnB2kB,EAAY,IAAItpB,EAAYxJ,QAAQQ,WAAWE,MAAM,OAAQ,UAAWuU,GAExE+d,EAAA,SAAgC7E,GAGlC,SAAS6E,IAGP,OAnBJ,SAAyBnpB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAiBnJF,CAAgBlgB,KAAMspC,GAf1B,SAAoCjnC,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAiBnOyf,CAA2BrgB,MAAOspC,EAAoBhyB,WAAapV,OAAOwd,eAAe4pB,IAAsB3oB,MAAM3gB,KAAM+M,WACtI,CASE,OAzBF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAU1eF,CAAU+oB,EAAqB7E,GAQ/BzlB,EAAasqB,EAAqB,CAAC,CACjCxtC,IAAK,QACL2D,MAAO,SAAeX,GACpB,OAAOwgB,EAAKgqB,EAAoB/oC,UAAU+W,WAAapV,OAAOwd,eAAe4pB,EAAoB/oC,WAAY,QAASP,MAAMY,KAAKZ,KAAMlB,GAAMoG,QAAQ,QAAS,GACpK,KAGSokC,CACT,CAjBI,CAiBFxpB,EAAYxJ,QAAQQ,WAAWG,OAE7BoyB,EAAY,IAAIC,EAAoB,OAAQ,cAAe/d,GAE/DhsB,EAAQ8pC,UAAYA,EACpB9pC,EAAQ6pC,UAAYA,CAEpB,EAAA,SAEgB97B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQgqC,UAAYhqC,EAAQiqC,eAAY,EAExC,IAIgCxrB,EAJ5BsP,EAAanZ,EAAoB,GAEjC2L,GAE4B9B,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAEnFwrB,EAAY,IAAI1pB,EAAYxJ,QAAQQ,WAAWE,MAAM,OAAQ,UAAW,CAC1Ee,MAAO+H,EAAYxJ,QAAQN,MAAMsC,OACjCmM,UAAW,CAAC,QAAS,QAAS,UAE5B8kB,EAAY,IAAIzpB,EAAYxJ,QAAQQ,WAAWG,MAAM,OAAQ,YAAa,CAC5Ec,MAAO+H,EAAYxJ,QAAQN,MAAMsC,OACjCmM,UAAW,CAAC,OAAQ,OAAQ,UAG9BllB,EAAQiqC,UAAYA,EACpBjqC,EAAQgqC,UAAYA,CAEpB,EAAA,SAEgBj8B,EAAQ/N,EAAS4U,GAKjC7G,EAAO/N,QAAU,CACfkqC,MAAS,CACP,GAAIt1B,EAAoB,IACxBu1B,OAAUv1B,EAAoB,IAC9B2U,MAAS3U,EAAoB,IAC7Bw1B,QAAWx1B,EAAoB,KAEjCy1B,WAAcz1B,EAAoB,IAClC01B,WAAc11B,EAAoB,IAClC8uB,KAAQ9uB,EAAoB,IAC5B21B,MAAS31B,EAAoB,IAC7B41B,KAAQ51B,EAAoB,IAC5B,aAAcA,EAAoB,IAClC61B,MAAS71B,EAAoB,IAC7B81B,UAAa,CACX,GAAI91B,EAAoB,IACxB+1B,IAAO/1B,EAAoB,KAE7Bg2B,MAAS,CACPT,OAAUv1B,EAAoB,IAC9Bi2B,KAAQj2B,EAAoB,IAC5B0U,KAAQ1U,EAAoB,IAC5B2U,MAAS3U,EAAoB,KAE/Bk2B,QAAWl2B,EAAoB,IAC/ByvB,OAAU,CACR,EAAKzvB,EAAoB,IACzB,EAAKA,EAAoB,KAE3B+uB,OAAU/uB,EAAoB,IAC9B6e,MAAS7e,EAAoB,IAC7BmuB,OAAU,CACR,KAAMnuB,EAAoB,IAC1B,KAAMA,EAAoB,KAE5Bm2B,KAAQn2B,EAAoB,IAC5B8e,KAAQ,CACNsX,QAAWp2B,EAAoB,IAC/B+e,OAAU/e,EAAoB,KAC9Bq2B,MAASr2B,EAAoB,MAE/Bs2B,OAAU,CACRC,IAAOv2B,EAAoB,KAC3Bw2B,MAASx2B,EAAoB,MAE/By2B,OAAUz2B,EAAoB,KAC9BgvB,UAAahvB,EAAoB,KACjC02B,MAAS12B,EAAoB,KAG/B,EAAA,SAEgB7G,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQurC,mBAAqBvrC,EAAQ+W,aAAU,EAE/C,IAAI0I,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfW,EAAcF,EAFDzL,EAAoB,IAMjCuqB,EAAU9e,EAFDzL,EAAoB,IAQjC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAQ7F,IAAI+sB,EAAA,SAAoBjM,GAGtB,SAASiM,EAAQjc,EAAOzQ,IAT1B,SAAyB8B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAM+qC,GAEtB,IAAIpzB,EAVR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAU9Nyf,CAA2BrgB,MAAO+qC,EAAQzzB,WAAapV,OAAOwd,eAAeqrB,IAAUnqC,KAAKZ,KAAM8uB,EAAOzQ,IAkBrH,OAhBA1G,EAAMqzB,aAAe,EACrBrzB,EAAMszB,cAAe,EACrBtzB,EAAMjW,QACNiW,EAAMmX,MAAM5J,GAAGwZ,EAAQpoB,QAAQ6O,OAAOC,cAAe,SAAUsI,EAAWtR,EAAO2P,EAAUtG,GACrFiI,IAAcgR,EAAQpoB,QAAQ6O,OAAOE,aAAe1N,EAAMszB,eACzDtzB,EAAM0G,QAAQ6sB,UAAYzlB,IAAWiZ,EAAQpoB,QAAQmR,QAAQwD,KAGhEtT,EAAMjI,UAAU0M,GAFhBzE,EAAMwzB,OAAO/uB,EAAO2P,GAI5B,GACIpU,EAAMmX,MAAMjK,SAASma,WAAW,CAAEljC,IAAK,IAAK8mC,UAAU,GAAQjrB,EAAMyzB,KAAK9b,KAAK3X,IAC9EA,EAAMmX,MAAMjK,SAASma,WAAW,CAAEljC,IAAK,IAAK8mC,UAAU,EAAM1D,UAAU,GAAQvnB,EAAM0zB,KAAK/b,KAAK3X,IAC1F,OAAOvS,KAAKu5B,UAAUC,WACxBjnB,EAAMmX,MAAMjK,SAASma,WAAW,CAAEljC,IAAK,IAAK8mC,UAAU,GAAQjrB,EAAM0zB,KAAK/b,KAAK3X,IAEzEA,CACX,CAuEE,OAlGF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUwqB,EAASjM,GA0BnB9f,EAAa+rB,EAAS,CAAC,CACrBjvC,IAAK,SACL2D,MAAO,SAAgBgmB,EAAQ6lB,GAC7B,GAAkC,IAA9BtrC,KAAK4J,MAAM6b,GAAQ5lB,OAAvB,CACA,IAAIuc,EAAQpc,KAAK4J,MAAM6b,GAAQ9kB,MAC/BX,KAAK4J,MAAM0hC,GAAMhqC,KAAK8a,GACtBpc,KAAKgrC,aAAe,EACpBhrC,KAAKirC,cAAe,EACpBjrC,KAAK8uB,MAAMyU,eAAennB,EAAMqJ,GAASiZ,EAAQpoB,QAAQmR,QAAQwD,MACjEjrB,KAAKirC,cAAe,EACpB,IAAIvqC,EAAQoqC,EAAmB1uB,EAAMqJ,IACrCzlB,KAAK8uB,MAAM/G,aAAarnB,EARa,CAS3C,GACK,CACD5E,IAAK,QACL2D,MAAO,WACLO,KAAK4J,MAAQ,CAAEwhC,KAAM,GAAIC,KAAM,GACrC,GACK,CACDvvC,IAAK,SACL2D,MAAO,WACLO,KAAKgrC,aAAe,CAC1B,GACK,CACDlvC,IAAK,SACL2D,MAAO,SAAgB8rC,EAAaxf,GAClC,GAA+B,IAA3Bwf,EAAYrxB,IAAIra,OAApB,CACAG,KAAK4J,MAAMyhC,KAAO,GAClB,IAAIG,EAAYxrC,KAAK8uB,MAAM5F,cAAcvP,KAAKoS,GAC1C0f,EAAY3b,KAAK4b,MACrB,GAAI1rC,KAAKgrC,aAAehrC,KAAKqe,QAAQstB,MAAQF,GAAazrC,KAAK4J,MAAMwhC,KAAKvrC,OAAS,EAAG,CACpF,IAAIuc,EAAQpc,KAAK4J,MAAMwhC,KAAKzqC,MAC5B6qC,EAAYA,EAAU5vB,QAAQQ,EAAMgvB,MACpCG,EAAcnvB,EAAMivB,KAAKzvB,QAAQ2vB,EACzC,MACQvrC,KAAKgrC,aAAeS,EAEtBzrC,KAAK4J,MAAMwhC,KAAK9pC,KAAK,CACnB+pC,KAAME,EACNH,KAAMI,IAEJxrC,KAAK4J,MAAMwhC,KAAKvrC,OAASG,KAAKqe,QAAQutB,UACxC5rC,KAAK4J,MAAMwhC,KAAKxpB,OAhBgB,CAkBxC,GACK,CACD9lB,IAAK,OACL2D,MAAO,WACLO,KAAK4nB,OAAO,OAAQ,OAC1B,GACK,CACD9rB,IAAK,YACL2D,MAAO,SAAmB2c,GACxBpc,KAAK4J,MAAMwhC,KAAKxgC,QAAQ,SAAUgd,GAChCA,EAAOwjB,KAAOhvB,EAAM1M,UAAUkY,EAAOwjB,MAAM,GAC3CxjB,EAAOyjB,KAAOjvB,EAAM1M,UAAUkY,EAAOyjB,MAAM,EACnD,GACMrrC,KAAK4J,MAAMyhC,KAAKzgC,QAAQ,SAAUgd,GAChCA,EAAOwjB,KAAOhvB,EAAM1M,UAAUkY,EAAOwjB,MAAM,GAC3CxjB,EAAOyjB,KAAOjvB,EAAM1M,UAAUkY,EAAOyjB,MAAM,EACnD,EACA,GACK,CACDvvC,IAAK,OACL2D,MAAO,WACLO,KAAK4nB,OAAO,OAAQ,OAC1B,KAGSmjB,CACT,CAjGI,CAVWnrB,EAFDzL,EAAoB,IA6GvBmC,SAsBX,SAASw0B,EAAmB1uB,GAC1B,IAAIyvB,EAAezvB,EAAMrB,OAAO,SAAUlb,EAAQia,GAEhD,OADAja,GAAUia,EAAGQ,QAAU,CAE3B,EAAK,GACCwxB,EAAc1vB,EAAMvc,SAAWgsC,EAInC,OAvBF,SAA+BzvB,GAC7B,IAAI5B,EAAS4B,EAAMlC,IAAIkC,EAAMlC,IAAIra,OAAS,GAC1C,OAAc,MAAV2a,IACiB,MAAjBA,EAAOL,OACuB,iBAAlBK,EAAOL,QAAuBK,EAAOL,OAAO+G,SAAS,MAE5C,MAArB1G,EAAO5C,YACF1V,OAAOmC,KAAKmW,EAAO5C,YAAYqiB,KAAK,SAAU4N,GACnD,OAA2E,MAApE/nB,EAAYxJ,QAAQH,MAAM0xB,EAAM/nB,EAAYxJ,QAAQN,MAAMqC,MACvE,GAGA,CAQM0zB,CAAsB3vB,KACxB0vB,GAAe,GAEVA,CACT,CA9BAf,EAAQ3f,SAAW,CACjBugB,MAAO,IACPC,SAAU,IACVV,UAAU,GA6BZ3rC,EAAQ+W,QAAUy0B,EAClBxrC,EAAQurC,mBAAqBA,CAE7B,EAAA,SAEgBx9B,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQysC,iBAAc,EAExC,IAAIhtB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeI,EAAWC,EAFDzL,EAAoB,IAM9B0L,EAAeD,EAFDzL,EAAoB,IAMlC+X,EAAYtM,EAFDzL,EAAoB,IAM/BmxB,EAAa1lB,EAFDzL,EAAoB,KAMhCsP,EAAU7D,EAFDzL,EAAoB,KAM7B83B,EAAgBrsB,EAFDzL,EAAoB,KAMnC+3B,EAAetsB,EAFDzL,EAAoB,KAMlCg4B,EAAWvsB,EAFDzL,EAAoB,KAM9Bi4B,EAAYxsB,EAFDzL,EAAoB,KAInC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAAI4rB,EAAS,EAAC,EAAO,SAAU,QAAS,WAEpCC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAEhYC,EAAQ,EAAC,EAAO,QAAS,aAEzBC,EAAU,CAAC,IAAK,IAAK,KAAK,GAE1BC,EAAQ,CAAC,SAAS,EAAO,QAAS,QAElCC,EAAA,SAAsBC,GAGxB,SAASD,EAAU5d,EAAOzQ,GACxB6B,EAAgBlgB,KAAM0sC,GAEtB,IAAI/0B,EAAQ0I,EAA2BrgB,MAAO0sC,EAAUp1B,WAAapV,OAAOwd,eAAegtB,IAAY9rC,KAAKZ,KAAM8uB,EAAOzQ,IAkBzH,OADAyQ,EAAMvK,QAAQ+Q,UAAU,QAAS1O,SAASuP,KAf3B,SAASyW,EAAStpC,GAC/B,IAAKsjB,SAASuP,KAAKjM,SAAS4E,EAAMxsB,MAChC,OAAOskB,SAASuP,KAAK0W,oBAAoB,QAASD,GAE/B,MAAjBj1B,EAAMm1B,SAAoBn1B,EAAMm1B,QAAQxqC,KAAK4nB,SAAS5mB,EAAE8a,SAAWwI,SAASiR,gBAAkBlgB,EAAMm1B,QAAQC,SAAYp1B,EAAMmX,MAAMpF,YACtI/R,EAAMm1B,QAAQE,OAEK,MAAjBr1B,EAAMs1B,SACRt1B,EAAMs1B,QAAQriC,QAAQ,SAAUsiC,GACzBA,EAAOrpB,UAAUqG,SAAS5mB,EAAE8a,SAC/B8uB,EAAOvG,OAEnB,EAEA,GAEWhvB,CACX,CAwEE,OAhGA4I,EAAUmsB,EAAWC,GA0BrB3tB,EAAa0tB,EAAW,CAAC,CACvB5wC,IAAK,YACL2D,MAAO,SAAmB5B,GACxB,IAAIyP,EAASgS,EAAKotB,EAAUnsC,UAAU+W,WAAapV,OAAOwd,eAAegtB,EAAUnsC,WAAY,YAAaP,MAAMY,KAAKZ,KAAMnC,GAI7H,MAHa,YAATA,GACFmC,KAAKmtC,cAAc7/B,GAEdA,CACb,GACK,CACDxR,IAAK,eACL2D,MAAO,SAAsB2tC,EAASC,GACpCD,EAAQxiC,QAAQ,SAAU0iC,IACRA,EAAO70B,aAAa,UAAY,IACtCC,MAAM,OAAO9N,QAAQ,SAAU/M,GACvC,GAAKA,EAAK6oB,WAAW,SACrB7oB,EAAOA,EAAKsd,MAAM,GACC,MAAfkyB,EAAMxvC,IACV,GAAa,cAATA,EACFyvC,EAAOtpB,UAAYqpB,EAAMxvC,GAAM,IAAMwvC,EAAMxvC,GAAW,SAClE,GAA4C,iBAAhBwvC,EAAMxvC,GACtByvC,EAAOtpB,UAAYqpB,EAAMxvC,OACpB,CACL,IAAI4B,EAAQ6tC,EAAO7tC,OAAS,GACf,MAATA,GAAiB4tC,EAAMxvC,GAAM4B,KAC/B6tC,EAAOtpB,UAAYqpB,EAAMxvC,GAAM4B,GAE7C,CACA,EACA,EACA,GACK,CACD3D,IAAK,eACL2D,MAAO,SAAsB8tC,EAASF,GACpC,IAAI7rB,EAASxhB,KAEbA,KAAKitC,QAAUM,EAAQ3mC,IAAI,SAAU++B,GACnC,GAAIA,EAAOzhB,UAAUgG,SAAS,YAI5B,OAHsC,MAAlCyb,EAAOha,cAAc,WACvB6hB,EAAW7H,EAAQ0G,GAEd,IAAIH,EAAa51B,QAAQqvB,EAAQ0H,EAAM5D,OACxD,GAAmB9D,EAAOzhB,UAAUgG,SAAS,kBAAoByb,EAAOzhB,UAAUgG,SAAS,YAAa,CAC9F,IAAIlJ,EAAS2kB,EAAOzhB,UAAUgG,SAAS,iBAAmB,aAAe,QAIzE,OAHsC,MAAlCyb,EAAOha,cAAc,WACvB6hB,EAAW7H,EAAQ2G,EAAmB,eAAXtrB,EAA0B,UAAY,WAE5D,IAAIirB,EAAc31B,QAAQqvB,EAAQ0H,EAAMrsB,GACzD,CAUU,OATsC,MAAlC2kB,EAAOha,cAAc,YACnBga,EAAOzhB,UAAUgG,SAAS,WAC5BsjB,EAAW7H,EAAQ4G,GACV5G,EAAOzhB,UAAUgG,SAAS,aACnCsjB,EAAW7H,EAAQ6G,GACV7G,EAAOzhB,UAAUgG,SAAS,YACnCsjB,EAAW7H,EAAQ8G,IAGhB,IAAIN,EAAS71B,QAAQqvB,EAEtC,GAMM3lC,KAAK8uB,MAAM5J,GAAGgH,EAAU5V,QAAQ6O,OAAOC,cAL1B,WACX5D,EAAOyrB,QAAQriC,QAAQ,SAAUsiC,GAC/BA,EAAOpnB,QACjB,EACA,EAEA,KAGS4mB,CACT,CAlGI,CAkGFjpB,EAAQnN,SAEVo2B,EAAUthB,UAAA,EAAezL,EAASrJ,UAAS,EAAM,GAAImN,EAAQnN,QAAQ8U,SAAU,CAC7EnX,QAAS,CACPyX,QAAS,CACP+hB,SAAU,CACRpD,QAAS,WACPrqC,KAAK8uB,MAAMlK,MAAMkoB,QAAQY,KAAK,UACxC,EACQ1a,MAAO,WACL,IAAIjM,EAAS/mB,KAET2tC,EAAY3tC,KAAK6jB,UAAU8H,cAAc,6BAC5B,MAAbgiB,KACFA,EAAY/mB,SAASC,cAAc,UACzBxC,aAAa,OAAQ,QAC/BspB,EAAUtpB,aAAa,SAAU,6DACjCspB,EAAUzpB,UAAUlb,IAAI,YACxB2kC,EAAUhgB,iBAAiB,SAAU,WACnC,GAAuB,MAAnBggB,EAAUC,OAAuC,MAAtBD,EAAUC,MAAM,GAAY,CACzD,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAUzqC,GACxB,IAAIqiB,EAAQoB,EAAO+H,MAAMnH,cAAa,GACtCZ,EAAO+H,MAAMyU,gBAAe,IAAI1jB,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,OAAO4Z,OAAOqL,EAAM9lB,QAAQsa,OAAO,CAAE6Y,MAAO1vB,EAAE8a,OAAO7a,SAAW2oB,EAAU5V,QAAQmR,QAAQwD,MAC9JlE,EAAO+H,MAAM/G,aAAapC,EAAMjlB,MAAQ,EAAGwrB,EAAU5V,QAAQmR,QAAQO,QACrE2lB,EAAUluC,MAAQ,EACpC,EACgBouC,EAAOG,cAAcL,EAAUC,MAAM,GACrD,CACA,GACY5tC,KAAK6jB,UAAUiO,YAAY6b,IAE7BA,EAAUM,OACpB,EACQpD,MAAO,WACL7qC,KAAK8uB,MAAMlK,MAAMkoB,QAAQY,KAAK,QACxC,OAMA,IAAI1B,EAAA,SAAwBkC,GAG1B,SAASlC,EAAYld,EAAOqf,GAC1BjuB,EAAgBlgB,KAAMgsC,GAEtB,IAAIxkB,EAASnH,EAA2BrgB,MAAOgsC,EAAY10B,WAAapV,OAAOwd,eAAessB,IAAcprC,KAAKZ,KAAM8uB,EAAOqf,IAI9H,OAFA3mB,EAAOulB,QAAUvlB,EAAOllB,KAAKqpB,cAAc,sBAC3CnE,EAAOqY,SACArY,CACX,CA0FE,OApGAjH,EAAUyrB,EAAakC,GAYvBlvB,EAAagtB,EAAa,CAAC,CACzBlwC,IAAK,SACL2D,MAAO,WACL,IAAIwoB,EAASjoB,KAEbA,KAAK+sC,QAAQpf,iBAAiB,UAAW,SAAUU,GAC7CiX,EAAWhvB,QAAQ0B,MAAMqW,EAAO,UAClCpG,EAAOmmB,OACP/f,EAAM8S,kBACGmE,EAAWhvB,QAAQ0B,MAAMqW,EAAO,YACzCpG,EAAOomB,SACPhgB,EAAM8S,iBAEhB,EACA,GACK,CACDrlC,IAAK,SACL2D,MAAO,WACLO,KAAKgtC,MACX,GACK,CACDlxC,IAAK,OACL2D,MAAO,WACL,IAAI6uC,EAAOvhC,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,OAC3EwhC,EAAUxhC,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,KAElF/M,KAAKsC,KAAK4hB,UAAUjC,OAAO,aAC3BjiB,KAAKsC,KAAK4hB,UAAUlb,IAAI,cACT,MAAXulC,EACFvuC,KAAK+sC,QAAQttC,MAAQ8uC,EACZD,IAAStuC,KAAKsC,KAAKmW,aAAa,eACzCzY,KAAK+sC,QAAQttC,MAAQ,IAEvBO,KAAK42B,SAAS52B,KAAK8uB,MAAMtG,UAAUxoB,KAAK8uB,MAAMnK,UAAUwQ,aACxDn1B,KAAK+sC,QAAQpH,SACb3lC,KAAK+sC,QAAQ1oB,aAAa,cAAerkB,KAAK+sC,QAAQt0B,aAAa,QAAU61B,IAAS,IACtFtuC,KAAKsC,KAAK+hB,aAAa,YAAaiqB,EAC1C,GACK,CACDxyC,IAAK,eACL2D,MAAO,WACL,IAAI4nB,EAAYrnB,KAAK8uB,MAAMxK,mBAAmB+C,UAC9CrnB,KAAK8uB,MAAMxH,QACXtnB,KAAK8uB,MAAMxK,mBAAmB+C,UAAYA,CAChD,GACK,CACDvrB,IAAK,OACL2D,MAAO,WACL,IA2CmBqlC,EACnB9sB,EA5CIvY,EAAQO,KAAK+sC,QAAQttC,MACzB,OAAQO,KAAKsC,KAAKmW,aAAa,cAC7B,IAAK,OAED,IAAI4O,EAAYrnB,KAAK8uB,MAAMxsB,KAAK+kB,UAC5BrnB,KAAKwuC,WACPxuC,KAAK8uB,MAAMhH,WAAW9nB,KAAKwuC,UAAW,OAAQ/uC,EAAOysB,EAAU5V,QAAQmR,QAAQwD,aACxEjrB,KAAKwuC,YAEZxuC,KAAKyuC,eACLzuC,KAAK8uB,MAAM9N,OAAO,OAAQvhB,EAAOysB,EAAU5V,QAAQmR,QAAQwD,OAE7DjrB,KAAK8uB,MAAMxsB,KAAK+kB,UAAYA,EAC5B,MAEJ,IAAK,QAED5nB,GA2BNuY,GADmB8sB,EA1BWrlC,GA2BlBuY,MAAM,+EAAiF8sB,EAAI9sB,MAAM,oEAEvGA,EAAM,IAAM,SAAW,4BAA8BA,EAAM,GAAK,eAEtEA,EAAQ8sB,EAAI9sB,MAAM,oDAEZA,EAAM,IAAM,SAAW,6BAA+BA,EAAM,GAAK,IAEpE8sB,EAjCD,IAAK,UAED,IAAKrlC,EAAO,MACZ,IAAIkmB,EAAQ3lB,KAAK8uB,MAAMnH,cAAa,GACpC,GAAa,MAAThC,EAAe,CACjB,IAAIjlB,EAAQilB,EAAMjlB,MAAQilB,EAAM9lB,OAChCG,KAAK8uB,MAAMjF,YAAYnpB,EAAOV,KAAKsC,KAAKmW,aAAa,aAAchZ,EAAOysB,EAAU5V,QAAQmR,QAAQwD,MACxD,YAAxCjrB,KAAKsC,KAAKmW,aAAa,cACzBzY,KAAK8uB,MAAM7E,WAAWvpB,EAAQ,EAAG,IAAKwrB,EAAU5V,QAAQmR,QAAQwD,MAElEjrB,KAAK8uB,MAAM/G,aAAarnB,EAAQ,EAAGwrB,EAAU5V,QAAQmR,QAAQwD,KAC3E,EAKMjrB,KAAK+sC,QAAQttC,MAAQ,GACrBO,KAAKgtC,MACX,KAGShB,CACT,CAtGI,CAsGFI,EAAU91B,SAcZ,SAASk3B,EAAW7H,EAAQ58B,GAC1B,IAAI2lC,EAAe3hC,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,IAAmBA,UAAU,GAElFhE,EAAO6B,QAAQ,SAAUnL,GACvB,IAAIymC,EAAStf,SAASC,cAAc,UAChCpnB,IAAUivC,EACZxI,EAAO7hB,aAAa,WAAY,YAEhC6hB,EAAO7hB,aAAa,QAAS5kB,GAE/BkmC,EAAO7T,YAAYoU,EACvB,EACA,CAEA3mC,EAAQysC,YAAcA,EACtBzsC,EAAQ+W,QAAUo2B,CAElB,EAAA,SAEgBp/B,EAAQ/N,EAAS4U,GAIjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIkvC,EAAA,WACA,SAASA,IACL3uC,KAAKgiB,KAAOhiB,KAAK8hB,KAAO,KACxB9hB,KAAKH,OAAS,CACtB,CA6HI,OA5HA8uC,EAAWpuC,UAAUquC,OAAS,WAE1B,IADA,IAAIC,EAAQ,GACHz1B,EAAK,EAAGA,EAAKrM,UAAUlN,OAAQuZ,IACpCy1B,EAAMz1B,GAAMrM,UAAUqM,GAE1BpZ,KAAKohB,aAAaytB,EAAM,GAAI,MACxBA,EAAMhvC,OAAS,GACfG,KAAK4uC,OAAOjuB,MAAM3gB,KAAM6uC,EAAM1zB,MAAM,GAEhD,EACIwzB,EAAWpuC,UAAU2pB,SAAW,SAAUprB,GAEtC,IADA,IAAIgwC,EAAKnzB,EAAO3b,KAAKwb,WACbszB,EAAMnzB,KACV,GAAImzB,IAAQhwC,EACR,OAAO,EAEf,OAAO,CACf,EACI6vC,EAAWpuC,UAAU6gB,aAAe,SAAUtiB,EAAM6nB,GAC3C7nB,IAELA,EAAK6c,KAAOgL,EACG,MAAXA,GACA7nB,EAAKizB,KAAOpL,EAAQoL,KACA,MAAhBpL,EAAQoL,OACRpL,EAAQoL,KAAKpW,KAAO7c,GAExB6nB,EAAQoL,KAAOjzB,EACX6nB,IAAY3mB,KAAKgiB,OACjBhiB,KAAKgiB,KAAOljB,IAGE,MAAbkB,KAAK8hB,MACV9hB,KAAK8hB,KAAKnG,KAAO7c,EACjBA,EAAKizB,KAAO/xB,KAAK8hB,KACjB9hB,KAAK8hB,KAAOhjB,IAGZA,EAAKizB,KAAO,KACZ/xB,KAAKgiB,KAAOhiB,KAAK8hB,KAAOhjB,GAE5BkB,KAAKH,QAAU,EACvB,EACI8uC,EAAWpuC,UAAUsL,OAAS,SAAUuS,GAEpC,IADA,IAAI1d,EAAQ,EAAGouC,EAAM9uC,KAAKgiB,KACZ,MAAP8sB,GAAa,CAChB,GAAIA,IAAQ1wB,EACR,OAAO1d,EACXA,GAASouC,EAAIjvC,SACbivC,EAAMA,EAAInzB,IACtB,CACQ,OAAO,CACf,EACIgzB,EAAWpuC,UAAU0hB,OAAS,SAAUnjB,GAC/BkB,KAAKkqB,SAASprB,KAEF,MAAbA,EAAKizB,OACLjzB,EAAKizB,KAAKpW,KAAO7c,EAAK6c,MACT,MAAb7c,EAAK6c,OACL7c,EAAK6c,KAAKoW,KAAOjzB,EAAKizB,MACtBjzB,IAASkB,KAAKgiB,OACdhiB,KAAKgiB,KAAOljB,EAAK6c,MACjB7c,IAASkB,KAAK8hB,OACd9hB,KAAK8hB,KAAOhjB,EAAKizB,MACrB/xB,KAAKH,QAAU,EACvB,EACI8uC,EAAWpuC,UAAUib,SAAW,SAAUuzB,GAGtC,YAFgB,IAAZA,IAAsBA,EAAU/uC,KAAKgiB,MAElC,WACH,IAAIgtB,EAAMD,EAGV,OAFe,MAAXA,IACAA,EAAUA,EAAQpzB,MACfqzB,CACnB,CACA,EACIL,EAAWpuC,UAAU2V,KAAO,SAAUxV,EAAO25B,QACvB,IAAdA,IAAwBA,GAAY,GAExC,IADA,IAAIyU,EAAKnzB,EAAO3b,KAAKwb,WACbszB,EAAMnzB,KAAS,CACnB,IAAI9b,EAASivC,EAAIjvC,SACjB,GAAIa,EAAQb,GACPw6B,GAAa35B,IAAUb,IAAuB,MAAZivC,EAAInzB,MAAsC,IAAtBmzB,EAAInzB,KAAK9b,UAChE,MAAO,CAACivC,EAAKpuC,GAEjBA,GAASb,CACrB,CACQ,MAAO,CAAC,KAAM,EACtB,EACI8uC,EAAWpuC,UAAUqK,QAAU,SAAUqkC,GAErC,IADA,IAAIH,EAAKnzB,EAAO3b,KAAKwb,WACbszB,EAAMnzB,KACVszB,EAASH,EAErB,EACIH,EAAWpuC,UAAUm5B,UAAY,SAAUh5B,EAAOb,EAAQovC,GACtD,KAAIpvC,GAAU,GAId,IAFA,IACIivC,EADAlV,EAAK55B,KAAKkW,KAAKxV,GAAQo1B,EAAY8D,EAAG,GACjCsV,EAAWxuC,EADmCk5B,EAAG,GACtBje,EAAO3b,KAAKwb,SAASsa,IACjDgZ,EAAMnzB,MAAWuzB,EAAWxuC,EAAQb,GAAQ,CAChD,IAAIsvC,EAAYL,EAAIjvC,SAChBa,EAAQwuC,EACRD,EAASH,EAAKpuC,EAAQwuC,EAAU7yB,KAAKC,IAAIzc,EAAQqvC,EAAWC,EAAYzuC,IAGxEuuC,EAASH,EAAK,EAAGzyB,KAAKC,IAAI6yB,EAAWzuC,EAAQb,EAASqvC,IAE1DA,GAAYC,CACxB,CACA,EACIR,EAAWpuC,UAAUqG,IAAM,SAAUqoC,GACjC,OAAOjvC,KAAK+a,OAAO,SAAUof,EAAM2U,GAE/B,OADA3U,EAAK74B,KAAK2tC,EAASH,IACZ3U,CACnB,EAAW,GACX,EACIwU,EAAWpuC,UAAUwa,OAAS,SAAUk0B,EAAU9U,GAE9C,IADA,IAAI2U,EAAKnzB,EAAO3b,KAAKwb,WACbszB,EAAMnzB,KACVwe,EAAO8U,EAAS9U,EAAM2U,GAE1B,OAAO3U,CACf,EACWwU,CACX,CAlII,GAmIJpvC,EAAQ+W,QAAUq4B,CAGlB,EAAA,SAEgBrhC,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAIyV,EAAcf,EAAoB,IAClC2B,EAAW3B,EAAoB,GAC/Bi7B,EAAkB,CAClBx3B,YAAY,EACZy3B,eAAe,EACfC,uBAAuB,EACvBC,WAAW,EACXC,SAAS,GAGTC,EAAA,SAAsC/3B,GAEtC,SAAS+3B,EAAW3wC,GAChB,IAAI6Y,EAAQD,EAAO9W,KAAKZ,KAAMlB,IAASkB,KAOvC,OANA2X,EAAM6M,OAAS7M,EACfA,EAAM4mB,SAAW,IAAImR,iBAAiB,SAAUhqB,GAC5C/N,EAAMmO,OAAOJ,EACzB,GACQ/N,EAAM4mB,SAASoR,QAAQh4B,EAAMiJ,QAASwuB,GACtCz3B,EAAM6e,SACC7e,CACf,CA6II,OAvJAP,EAAUq4B,EAAY/3B,GAWtB+3B,EAAWlvC,UAAUu5B,OAAS,WAC1BpiB,EAAOnX,UAAUu5B,OAAOl5B,KAAKZ,MAC7BA,KAAKu+B,SAASqR,YACtB,EACIH,EAAWlvC,UAAU6wB,SAAW,SAAU1wB,EAAOb,GAC7CG,KAAK8lB,SACS,IAAVplB,GAAeb,IAAWG,KAAKH,SAC/BG,KAAK6hB,SAASjX,QAAQ,SAAUuX,GAC5BA,EAAMF,QACtB,GAGYvK,EAAOnX,UAAU6wB,SAASxwB,KAAKZ,KAAMU,EAAOb,EAExD,EACI4vC,EAAWlvC,UAAUkxB,SAAW,SAAU/wB,EAAOb,EAAQhC,EAAM4B,GAC3DO,KAAK8lB,SACLpO,EAAOnX,UAAUkxB,SAAS7wB,KAAKZ,KAAMU,EAAOb,EAAQhC,EAAM4B,EAClE,EACIgwC,EAAWlvC,UAAU8gB,SAAW,SAAU3gB,EAAOjB,EAAOwhB,GACpDjhB,KAAK8lB,SACLpO,EAAOnX,UAAU8gB,SAASzgB,KAAKZ,KAAMU,EAAOjB,EAAOwhB,EAC3D,EACIwuB,EAAWlvC,UAAUyxB,SAAW,SAAUtM,EAAWxD,GACjD,IAAIvK,EAAQ3X,UACM,IAAd0lB,IAAwBA,EAAY,SACxB,IAAZxD,IAAsBA,EAAU,CAAA,GACpCxK,EAAOnX,UAAUyxB,SAASpxB,KAAKZ,KAAMkiB,GAKrC,IAHA,IAAI2tB,EAAU,GAAG10B,MAAMva,KAAKZ,KAAKu+B,SAASC,eAGnCqR,EAAQhwC,OAAS,GACpB6lB,EAAUpkB,KAAKuuC,EAAQlvC,OA+B3B,IA7BA,IAAImvC,EAAO,SAAU72B,EAAM82B,QACJ,IAAfA,IAAyBA,GAAa,GAC9B,MAAR92B,GAAgBA,IAAStB,GAEE,MAA3BsB,EAAK2H,QAAQ1H,aAGgC,MAA7CD,EAAK2H,QAAQ9K,EAAS+C,UAAU6M,YAEhCzM,EAAK2H,QAAQ9K,EAAS+C,UAAU6M,UAAY,IAE5CqqB,GACAD,EAAK72B,EAAKwG,QAC1B,EACYuS,EAAW,SAAU/Y,GAIc,MAAnCA,EAAK2H,QAAQ9K,EAAS+C,WAE2B,MAA7CI,EAAK2H,QAAQ9K,EAAS+C,UAAU6M,YAGhCzM,aAAgB/D,EAAYoB,SAC5B2C,EAAK4I,SAASjX,QAAQonB,GAE1B/Y,EAAK+Y,SAAS9P,GAC1B,EACY8tB,EAAYtqB,EACPrR,EAAI,EAAG27B,EAAUnwC,OAAS,EAAGwU,GAAK,EAAG,CAC1C,GAAIA,GA9Ec,IA+Ed,MAAM,IAAIzW,MAAM,mDA4BpB,IA1BAoyC,EAAUplC,QAAQ,SAAU4vB,GACxB,IAAIvhB,EAAOnD,EAASI,KAAKskB,EAASpc,QAAQ,GAC9B,MAARnF,IAEAA,EAAK2H,UAAY4Z,EAASpc,SACJ,cAAlBoc,EAAS52B,MACTksC,EAAKh6B,EAASI,KAAKskB,EAASyV,iBAAiB,IAC7C,GAAGrlC,QAAQhK,KAAK45B,EAASF,WAAY,SAAUx7B,GAC3C,IAAIqjB,EAAQrM,EAASI,KAAKpX,GAAM,GAChCgxC,EAAK3tB,GAAO,GACRA,aAAiBjN,EAAYoB,SAC7B6L,EAAMN,SAASjX,QAAQ,SAAUslC,GAC7BJ,EAAKI,GAAY,EACrD,EAEA,IAE+C,eAAlB1V,EAAS52B,MACdksC,EAAK72B,EAAK8Y,OAGlB+d,EAAK72B,GACrB,GACYjZ,KAAK6hB,SAASjX,QAAQonB,GAEtB6d,GADAG,EAAY,GAAG70B,MAAMva,KAAKZ,KAAKu+B,SAASC,gBACpBrjB,QACb00B,EAAQhwC,OAAS,GACpB6lB,EAAUpkB,KAAKuuC,EAAQlvC,MACvC,CACA,EACI8uC,EAAWlvC,UAAUulB,OAAS,SAAUJ,EAAWxD,GAC/C,IAAIvK,EAAQ3X,UACI,IAAZkiB,IAAsBA,EAAU,CAAA,IACpCwD,EAAYA,GAAa1lB,KAAKu+B,SAASC,eAGlC53B,IAAI,SAAU4zB,GACf,IAAIvhB,EAAOnD,EAASI,KAAKskB,EAASpc,QAAQ,GAC1C,OAAY,MAARnF,EACO,KAEsC,MAA7CA,EAAK2H,QAAQ9K,EAAS+C,UAAU6M,WAEhCzM,EAAK2H,QAAQ9K,EAAS+C,UAAU6M,UAAY,CAAC8U,GACtCvhB,IAIPA,EAAK2H,QAAQ9K,EAAS+C,UAAU6M,UAAUpkB,KAAKk5B,GACxC,KAEvB,GACa5vB,QAAQ,SAAUqO,GACP,MAARA,GACAA,IAAStB,GAE0B,MAAnCsB,EAAK2H,QAAQ9K,EAAS+C,WAG1BI,EAAK6M,OAAO7M,EAAK2H,QAAQ9K,EAAS+C,UAAU6M,WAAa,GAAIxD,EACzE,GAEyD,MAA7CliB,KAAK4gB,QAAQ9K,EAAS+C,UAAU6M,WAEhChO,EAAOnX,UAAUulB,OAAOllB,KAAKZ,KAAMA,KAAK4gB,QAAQ9K,EAAS+C,UAAU6M,UAAWxD,GAElFliB,KAAKgyB,SAAStM,EAAWxD,EACjC,EACIutB,EAAWn2B,SAAW,SACtBm2B,EAAWntB,aAAe,QAC1BmtB,EAAW13B,MAAQjC,EAASE,MAAMsL,WAClCmuB,EAAW92B,QAAU,MACd82B,CACX,CAzJI,CAyJFv6B,EAAYoB,SACd/W,EAAQ+W,QAAUm5B,CAGlB,EAAA,SAEgBniC,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAI0V,EAAWhB,EAAoB,IAC/B2B,EAAW3B,EAAoB,GAa/Bg8B,EAAA,SAAsCz4B,GAEtC,SAASy4B,IACL,OAAkB,OAAXz4B,GAAmBA,EAAOiJ,MAAM3gB,KAAM+M,YAAc/M,IACnE,CA6CI,OAhDAoX,EAAU+4B,EAAYz4B,GAItBy4B,EAAWtvB,QAAU,SAAUD,GAC3B,GAAIA,EAAQjI,UAAYw3B,EAAWx3B,QAEnC,OAAOjB,EAAOmJ,QAAQjgB,KAAKZ,KAAM4gB,EACzC,EACIuvB,EAAW5vC,UAAUygB,OAAS,SAAUnjB,EAAM4B,GAC1C,IAAIkY,EAAQ3X,KACRnC,IAASmC,KAAKqiB,QAAQ/I,UAAa7Z,EAUnCiY,EAAOnX,UAAUygB,OAAOpgB,KAAKZ,KAAMnC,EAAM4B,IATzCO,KAAK6hB,SAASjX,QAAQ,SAAUuX,GACtBA,aAAiBhN,EAASmB,UAC5B6L,EAAQA,EAAM8K,KAAKkjB,EAAW72B,UAAU,IAE5C3B,EAAMC,WAAW8G,KAAKyD,EACtC,GACYniB,KAAKkyB,SAKjB,EACIie,EAAW5vC,UAAUkxB,SAAW,SAAU/wB,EAAOb,EAAQhC,EAAM4B,GAC/B,MAAxBO,KAAK6gB,UAAUhjB,IAAiBiY,EAASK,MAAMtY,EAAMiY,EAASE,MAAMua,WACzDvwB,KAAKgtB,QAAQtsB,EAAOb,GAC1BmhB,OAAOnjB,EAAM4B,GAGlBiY,EAAOnX,UAAUkxB,SAAS7wB,KAAKZ,KAAMU,EAAOb,EAAQhC,EAAM4B,EAEtE,EACI0wC,EAAW5vC,UAAUyxB,SAAW,SAAU9P,GACtCxK,EAAOnX,UAAUyxB,SAASpxB,KAAKZ,KAAMkiB,GACrC,IAAIrB,EAAU7gB,KAAK6gB,UACnB,GAAoC,IAAhC3e,OAAOmC,KAAKwc,GAAShhB,OACrB,OAAOG,KAAKkyB,SAEhB,IAAIvW,EAAO3b,KAAK2b,KACZA,aAAgBw0B,GAAcx0B,EAAKoW,OAAS/xB,MApDxD,SAAiBowC,EAAMC,GACnB,GAAInuC,OAAOmC,KAAK+rC,GAAMvwC,SAAWqC,OAAOmC,KAAKgsC,GAAMxwC,OAC/C,OAAO,EAEX,IAAA,IAASywC,KAAQF,EAEb,GAAIA,EAAKE,KAAUD,EAAKC,GACpB,OAAO,EAEf,OAAO,CACX,CA0CgEC,CAAQ1vB,EAASlF,EAAKkF,aAC1ElF,EAAKuR,aAAaltB,MAClB2b,EAAKsG,SAEjB,EACIkuB,EAAW72B,SAAW,SACtB62B,EAAWp4B,MAAQjC,EAASE,MAAMqlB,YAClC8U,EAAWx3B,QAAU,OACdw3B,CACX,CAlDI,CAkDFh7B,EAASmB,SACX/W,EAAQ+W,QAAU65B,CAGlB,EAAA,SAEgB7iC,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAI0V,EAAWhB,EAAoB,IAC/B2B,EAAW3B,EAAoB,GAC/Bq8B,EAAA,SAAqC94B,GAErC,SAAS84B,IACL,OAAkB,OAAX94B,GAAmBA,EAAOiJ,MAAM3gB,KAAM+M,YAAc/M,IACnE,CAgDI,OAnDAoX,EAAUo5B,EAAW94B,GAIrB84B,EAAU3vB,QAAU,SAAUD,GAC1B,IAAIjI,EAAU7C,EAASK,MAAMq6B,EAAUl3B,UAAUX,QACjD,GAAIiI,EAAQjI,UAAYA,EAExB,OAAOjB,EAAOmJ,QAAQjgB,KAAKZ,KAAM4gB,EACzC,EACI4vB,EAAUjwC,UAAUygB,OAAS,SAAUnjB,EAAM4B,GACS,MAA9CqW,EAASK,MAAMtY,EAAMiY,EAASE,MAAMqC,SAG/Bxa,IAASmC,KAAKqiB,QAAQ/I,UAAa7Z,EAIxCiY,EAAOnX,UAAUygB,OAAOpgB,KAAKZ,KAAMnC,EAAM4B,GAHzCO,KAAKg7B,YAAYwV,EAAUl3B,UAKvC,EACIk3B,EAAUjwC,UAAUkxB,SAAW,SAAU/wB,EAAOb,EAAQhC,EAAM4B,GACR,MAA9CqW,EAASK,MAAMtY,EAAMiY,EAASE,MAAMqC,OACpCrY,KAAKghB,OAAOnjB,EAAM4B,GAGlBiY,EAAOnX,UAAUkxB,SAAS7wB,KAAKZ,KAAMU,EAAOb,EAAQhC,EAAM4B,EAEtE,EACI+wC,EAAUjwC,UAAU8gB,SAAW,SAAU3gB,EAAOjB,EAAOwhB,GACnD,GAAW,MAAPA,GAA+D,MAAhDnL,EAASK,MAAM1W,EAAOqW,EAASE,MAAMsC,QAEpDZ,EAAOnX,UAAU8gB,SAASzgB,KAAKZ,KAAMU,EAAOjB,EAAOwhB,OAElD,CACD,IAAIsV,EAAQv2B,KAAK0Y,MAAMhY,GACnBuY,EAAOnD,EAASG,OAAOxW,EAAOwhB,GAClCsV,EAAM9W,OAAO2B,aAAanI,EAAMsd,EAC5C,CACA,EACIia,EAAUjwC,UAAUulB,OAAS,SAAUJ,EAAWxD,GAC1Cyc,UAAUY,UAAUvnB,MAAM,WAC1BhY,KAAKu5B,QAGL7hB,EAAOnX,UAAUulB,OAAOllB,KAAKZ,KAAM0lB,EAAWxD,EAE1D,EACIsuB,EAAUl3B,SAAW,QACrBk3B,EAAUz4B,MAAQjC,EAASE,MAAMsL,WACjCkvB,EAAU73B,QAAU,IACb63B,CACX,CArDI,CAqDFr7B,EAASmB,SACX/W,EAAQ+W,QAAUk6B,CAGlB,EAAA,SAEgBljC,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IACIgxC,EAAA,SAAqC/4B,GAErC,SAAS+4B,IACL,OAAkB,OAAX/4B,GAAmBA,EAAOiJ,MAAM3gB,KAAM+M,YAAc/M,IACnE,CAqBI,OAxBAoX,EAAUq5B,EAAW/4B,GAIrB+4B,EAAU5vB,QAAU,SAAUD,GAElC,EACI6vB,EAAUlwC,UAAUygB,OAAS,SAAUnjB,EAAM4B,GAIzCiY,EAAOnX,UAAUkxB,SAAS7wB,KAAKZ,KAAM,EAAGA,KAAKH,SAAUhC,EAAM4B,EACrE,EACIgxC,EAAUlwC,UAAUkxB,SAAW,SAAU/wB,EAAOb,EAAQhC,EAAM4B,GAC5C,IAAViB,GAAeb,IAAWG,KAAKH,SAC/BG,KAAKghB,OAAOnjB,EAAM4B,GAGlBiY,EAAOnX,UAAUkxB,SAAS7wB,KAAKZ,KAAMU,EAAOb,EAAQhC,EAAM4B,EAEtE,EACIgxC,EAAUlwC,UAAUsgB,QAAU,WAC1B,OAAO7gB,KAAKqiB,QAAQxB,QAAQ7gB,KAAK4gB,QACzC,EACW6vB,CACX,CA1BI,CADSt8B,EAAoB,IA2BxBmC,SACT/W,EAAQ+W,QAAUm6B,CAGlB,EAAA,SAEgBnjC,EAAQ/N,EAAS4U,GAIjC,IACQgD,EADJC,EAAapX,MAAQA,KAAKoX,YACtBD,EAAgBjV,OAAOmV,gBACtB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,EACrE,SAAUnZ,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,GAEAtV,OAAOyS,eAAepV,EAAS,aAAc,CAAEE,OAAO,IACtD,IAAI2V,EAASjB,EAAoB,IAC7B2B,EAAW3B,EAAoB,GAC/BoZ,EAAA,SAAoC7V,GAEpC,SAAS6V,EAASzuB,GACd,IAAI6Y,EAAQD,EAAO9W,KAAKZ,KAAMlB,IAASkB,KAEvC,OADA2X,EAAMyC,KAAOzC,EAAM0K,QAAQ5iB,MAAMkY,EAAMiJ,SAChCjJ,CACf,CAyEI,OA9EAP,EAAUmW,EAAU7V,GAMpB6V,EAAStX,OAAS,SAAUxW,GACxB,OAAOmnB,SAASsd,eAAezkC,EACvC,EACI8tB,EAAS9tB,MAAQ,SAAUmhB,GACvB,IAAIxG,EAAOwG,EAAQngB,KAInB,OAFI2Z,EAAgB,YAChBA,EAAOA,EAAgB,aACpBA,CACf,EACImT,EAAShtB,UAAU6wB,SAAW,SAAU1wB,EAAOb,GAC3CG,KAAK4gB,QAAQngB,KAAOT,KAAKoa,KAAOpa,KAAKoa,KAAKe,MAAM,EAAGza,GAASV,KAAKoa,KAAKe,MAAMza,EAAQb,EAC5F,EACI0tB,EAAShtB,UAAUG,MAAQ,SAAU5B,EAAM+M,GACvC,OAAI7L,KAAK4gB,UAAY9hB,EACV+M,GAEJ,CACf,EACI0hB,EAAShtB,UAAU8gB,SAAW,SAAU3gB,EAAOjB,EAAOwhB,GACvC,MAAPA,GACAjhB,KAAKoa,KAAOpa,KAAKoa,KAAKe,MAAM,EAAGza,GAASjB,EAAQO,KAAKoa,KAAKe,MAAMza,GAChEV,KAAK4gB,QAAQngB,KAAOT,KAAKoa,MAGzB1C,EAAOnX,UAAU8gB,SAASzgB,KAAKZ,KAAMU,EAAOjB,EAAOwhB,EAE/D,EACIsM,EAAShtB,UAAUV,OAAS,WACxB,OAAOG,KAAKoa,KAAKva,MACzB,EACI0tB,EAAShtB,UAAUyxB,SAAW,SAAU9P,GACpCxK,EAAOnX,UAAUyxB,SAASpxB,KAAKZ,KAAMkiB,GACrCliB,KAAKoa,KAAOpa,KAAKqiB,QAAQ5iB,MAAMO,KAAK4gB,SACX,IAArB5gB,KAAKoa,KAAKva,OACVG,KAAKiiB,SAEAjiB,KAAK2b,gBAAgB4R,GAAYvtB,KAAK2b,KAAKoW,OAAS/xB,OACzDA,KAAKqhB,SAASrhB,KAAKH,SAAUG,KAAK2b,KAAKlc,SACvCO,KAAK2b,KAAKsG,SAEtB,EACIsL,EAAShtB,UAAUq2B,SAAW,SAAUl2B,EAAO25B,GAE3C,MAAO,CAACr6B,KAAK4gB,QAASlgB,EAC9B,EACI6sB,EAAShtB,UAAUmY,MAAQ,SAAUhY,EAAO0hB,GAExC,QADc,IAAVA,IAAoBA,GAAQ,IAC3BA,EAAO,CACR,GAAc,IAAV1hB,EACA,OAAOV,KACX,GAAIU,IAAUV,KAAKH,SACf,OAAOG,KAAK2b,IAC5B,CACQ,IAAI4a,EAAQzgB,EAASG,OAAOjW,KAAK4gB,QAAQ8vB,UAAUhwC,IAGnD,OAFAV,KAAKyf,OAAO2B,aAAamV,EAAOv2B,KAAK2b,MACrC3b,KAAKoa,KAAOpa,KAAKqiB,QAAQ5iB,MAAMO,KAAK4gB,SAC7B2V,CACf,EACIhJ,EAAShtB,UAAUulB,OAAS,SAAUJ,EAAWxD,GAC7C,IAAIvK,EAAQ3X,KACR0lB,EAAUuU,KAAK,SAAUO,GACzB,MAAyB,kBAAlBA,EAAS52B,MAA4B42B,EAASpc,SAAWzG,EAAMiJ,OAClF,KACY5gB,KAAKoa,KAAOpa,KAAKqiB,QAAQ5iB,MAAMO,KAAK4gB,SAEhD,EACI2M,EAAShtB,UAAUd,MAAQ,WACvB,OAAOO,KAAKoa,IACpB,EACImT,EAASjU,SAAW,OACpBiU,EAASxV,MAAQjC,EAASE,MAAMqlB,YACzB9N,CACX,CAhFI,CAgFFnY,EAAOkB,SACT/W,EAAQ+W,QAAUiX,CAGlB,EAAA,SAEgBjgB,EAAQ/N,EAAS4U,GAKjC,IAAI+G,EAAO0L,SAASC,cAAc,OAElC,GADA3L,EAAKgJ,UAAUoB,OAAO,cAAc,GAChCpK,EAAKgJ,UAAUgG,SAAS,cAAe,CACzC,IAAIymB,EAAUC,aAAarwC,UAAU+kB,OACrCsrB,aAAarwC,UAAU+kB,OAAS,SAAUurB,EAAOzuB,GAC/C,OAAIrV,UAAUlN,OAAS,IAAMG,KAAKkqB,SAAS2mB,KAAYzuB,EAC9CA,EAEAuuB,EAAQ/vC,KAAKZ,KAAM6wC,EAEhC,CACA,CAEKthC,OAAOhP,UAAUmmB,aACpBnX,OAAOhP,UAAUmmB,WAAa,SAAUoqB,EAAcla,GAEpD,OADAA,EAAWA,GAAY,EAChB52B,KAAK07B,OAAO9E,EAAUka,EAAajxC,UAAYixC,CAC1D,GAGKvhC,OAAOhP,UAAU2gB,WACpB3R,OAAOhP,UAAU2gB,SAAW,SAAU4vB,EAAcla,GAClD,IAAIma,EAAgB/wC,KAAK+C,YACD,iBAAb6zB,IAA0Boa,SAASpa,IAAava,KAAK40B,MAAMra,KAAcA,GAAYA,EAAWma,EAAclxC,UACvH+2B,EAAWma,EAAclxC,QAE3B+2B,GAAYka,EAAajxC,OACzB,IAAIg9B,EAAYkU,EAAczzB,QAAQwzB,EAAcla,GACpD,WAAOiG,GAAoBA,IAAcjG,CAC7C,GAGKt2B,MAAMC,UAAU2V,MACnBhU,OAAOyS,eAAerU,MAAMC,UAAW,OAAQ,CAC7Cd,MAAO,SAAe2J,GACpB,GAAa,OAATpJ,KACF,MAAM,IAAIogB,UAAU,oDAEtB,GAAyB,mBAAdhX,EACT,MAAM,IAAIgX,UAAU,gCAOtB,IALA,IAGI3gB,EAHAwzB,EAAO/wB,OAAOlC,MACdH,EAASozB,EAAKpzB,SAAW,EACzBqxC,EAAUnkC,UAAU,GAGfsH,EAAI,EAAGA,EAAIxU,EAAQwU,IAE1B,GADA5U,EAAQwzB,EAAK5e,GACTjL,EAAUxI,KAAKswC,EAASzxC,EAAO4U,EAAG4e,GACpC,OAAOxzB,CAIjB,IAIAmnB,SAAS+G,iBAAiB,mBAAoB,WAE5C/G,SAASuqB,YAAY,wBAAwB,GAAO,GAEpDvqB,SAASuqB,YAAY,iBAAiB,GAAO,EAC/C,EAEA,EAAA,SAEgB7jC,EAAQ/N,GAiCxB,IAAI6xC,GAAc,EAalB,SAASC,EAAUC,EAAOC,EAAOC,GAE/B,GAAIF,GAASC,EACX,OAAID,EACK,CAAC,CAfG,EAeUA,IAEhB,IAILE,EAAa,GAAKF,EAAMzxC,OAAS2xC,KACnCA,EAAa,MAIf,IAAIC,EAAeC,EAAkBJ,EAAOC,GACxCI,EAAeL,EAAMM,UAAU,EAAGH,GAKtCA,EAAeI,EAJfP,EAAQA,EAAMM,UAAUH,GACxBF,EAAQA,EAAMK,UAAUH,IAIxB,IAAIK,EAAeR,EAAMM,UAAUN,EAAMzxC,OAAS4xC,GAK9CM,EAyBN,SAAuBT,EAAOC,GAC5B,IAAIQ,EAEJ,IAAKT,EAEH,MAAO,CAAC,CArEM,EAqEQC,IAGxB,IAAKA,EAEH,MAAO,CAAC,CAACH,EAAaE,IAGxB,IAAIU,EAAWV,EAAMzxC,OAAS0xC,EAAM1xC,OAASyxC,EAAQC,EACjDU,EAAYX,EAAMzxC,OAAS0xC,EAAM1xC,OAAS0xC,EAAQD,EAClDj9B,EAAI29B,EAAS10B,QAAQ20B,GACzB,IAAS,GAAL59B,EASF,OAPA09B,EAAQ,CAAC,CAlFK,EAkFSC,EAASJ,UAAU,EAAGv9B,IACpC,CAlFI,EAkFS49B,GACb,CApFK,EAoFSD,EAASJ,UAAUv9B,EAAI49B,EAAUpyC,UAEpDyxC,EAAMzxC,OAAS0xC,EAAM1xC,SACvBkyC,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKX,GAEvBW,EAGT,GAAwB,GAApBE,EAAUpyC,OAGZ,MAAO,CAAC,CAACuxC,EAAaE,GAAQ,CA/FhB,EA+F8BC,IAI9C,IAAIW,EAwON,SAAyBZ,EAAOC,GAC9B,IAAIS,EAAWV,EAAMzxC,OAAS0xC,EAAM1xC,OAASyxC,EAAQC,EACjDU,EAAYX,EAAMzxC,OAAS0xC,EAAM1xC,OAAS0xC,EAAQD,EACtD,GAAIU,EAASnyC,OAAS,GAAwB,EAAnBoyC,EAAUpyC,OAAamyC,EAASnyC,OACzD,OAAO,KAeT,SAASsyC,EAAiBH,EAAUC,EAAW59B,GAM7C,IAJA,IAGI+9B,EAAiBC,EAAiBC,EAAkBC,EAHpDC,EAAOR,EAASJ,UAAUv9B,EAAGA,EAAIgI,KAAK40B,MAAMe,EAASnyC,OAAS,IAC9D4yC,GAAI,EACJC,EAAc,IAE6B,IAAvCD,EAAIR,EAAU30B,QAAQk1B,EAAMC,EAAI,KAAW,CACjD,IAAIE,EAAejB,EAAkBM,EAASJ,UAAUv9B,GACnB49B,EAAUL,UAAUa,IACrDve,EAAe2d,EAAkBG,EAASJ,UAAU,EAAGv9B,GACtB49B,EAAUL,UAAU,EAAGa,IACxDC,EAAY7yC,OAASq0B,EAAeye,IACtCD,EAAcT,EAAUL,UAAUa,EAAIve,EAAcue,GAChDR,EAAUL,UAAUa,EAAGA,EAAIE,GAC/BP,EAAkBJ,EAASJ,UAAU,EAAGv9B,EAAI6f,GAC5Cme,EAAkBL,EAASJ,UAAUv9B,EAAIs+B,GACzCL,EAAmBL,EAAUL,UAAU,EAAGa,EAAIve,GAC9Cqe,EAAmBN,EAAUL,UAAUa,EAAIE,GAEnD,CACI,OAAyB,EAArBD,EAAY7yC,QAAcmyC,EAASnyC,OAC9B,CAACuyC,EAAiBC,EACjBC,EAAkBC,EAAkBG,GAErC,IAEb,CAGE,IAKIR,EAaAU,EAASC,EAASC,EAASC,EAlB3BC,EAAMb,EAAiBH,EAAUC,EACV51B,KAAK42B,KAAKjB,EAASnyC,OAAS,IAEnDqzC,EAAMf,EAAiBH,EAAUC,EACV51B,KAAK42B,KAAKjB,EAASnyC,OAAS,IAEvD,IAAKmzC,IAAQE,EACX,OAAO,KAOPhB,EANUgB,EAEAF,GAILA,EAAI,GAAGnzC,OAASqzC,EAAI,GAAGrzC,OAASmzC,EAHhCE,EAFAF,EAUH1B,EAAMzxC,OAAS0xC,EAAM1xC,QACvB+yC,EAAUV,EAAG,GACbW,EAAUX,EAAG,GACbY,EAAUZ,EAAG,GACba,EAAUb,EAAG,KAEbY,EAAUZ,EAAG,GACba,EAAUb,EAAG,GACbU,EAAUV,EAAG,GACbW,EAAUX,EAAG,IAEf,IAAIiB,EAAajB,EAAG,GACpB,MAAO,CAACU,EAASC,EAASC,EAASC,EAASI,EAC9C,CAxTWC,CAAgB9B,EAAOC,GAChC,GAAIW,EAAI,CAEN,IAAIU,EAAUV,EAAG,GACbW,EAAUX,EAAG,GACbY,EAAUZ,EAAG,GACba,EAAUb,EAAG,GACbiB,EAAajB,EAAG,GAEhBmB,EAAUhC,EAAUuB,EAASE,GAC7BQ,EAAUjC,EAAUwB,EAASE,GAEjC,OAAOM,EAAQ32B,OAAO,CAAC,CA9GV,EA8GuBy2B,IAAcG,EACtD,CAEE,OAaF,SAAsBhC,EAAOC,GAW3B,IATA,IAAIgC,EAAejC,EAAMzxC,OACrB2zC,EAAejC,EAAM1xC,OACrB4zC,EAAQp3B,KAAK42B,MAAMM,EAAeC,GAAgB,GAClDE,EAAWD,EACXE,EAAW,EAAIF,EACfG,EAAK,IAAItzC,MAAMqzC,GACfE,EAAK,IAAIvzC,MAAMqzC,GAGVz3C,EAAI,EAAGA,EAAIy3C,EAAUz3C,IAC5B03C,EAAG13C,IAAK,EACR23C,EAAG33C,IAAK,EAEV03C,EAAGF,EAAW,GAAK,EACnBG,EAAGH,EAAW,GAAK,EAWnB,IAVA,IAAIt3B,EAAQm3B,EAAeC,EAGvBM,EAAS13B,EAAQ,GAAK,EAGtB23B,EAAU,EACVC,EAAQ,EACRC,EAAU,EACVC,EAAQ,EACHr4C,EAAI,EAAGA,EAAI43C,EAAO53C,IAAK,CAE9B,IAAA,IAASs4C,GAAMt4C,EAAIk4C,EAASI,GAAMt4C,EAAIm4C,EAAOG,GAAM,EAAG,CASpD,IARA,IAAIC,EAAYV,EAAWS,EAOvBE,GAJFC,EADEH,IAAOt4C,GAAMs4C,GAAMt4C,GAAK+3C,EAAGQ,EAAY,GAAKR,EAAGQ,EAAY,GACxDR,EAAGQ,EAAY,GAEfR,EAAGQ,EAAY,GAAK,GAEbD,EACPG,EAAKf,GAAgBc,EAAKb,GAC1BlC,EAAMiD,OAAOD,IAAO/C,EAAMgD,OAAOF,IACtCC,IACAD,IAGF,GADAT,EAAGQ,GAAaE,EACZA,EAAKf,EAEPS,GAAS,OACjB,GAAiBK,EAAKb,EAEdO,GAAW,UACFD,IACLU,EAAYd,EAAWt3B,EAAQ+3B,IAClB,GAAKK,EAAYb,IAA6B,GAAjBE,EAAGW,IAG3CF,IADAG,EAAKlB,EAAeM,EAAGW,IAGzB,OAAOE,EAAkBpD,EAAOC,EAAO+C,EAAID,EAIvD,CAGI,IAAA,IAASM,GAAM94C,EAAIo4C,EAASU,GAAM94C,EAAIq4C,EAAOS,GAAM,EAAG,CASpD,IARA,IACIF,EADAD,EAAYd,EAAWiB,EAOvBC,GAJFH,EADEE,IAAO94C,GAAM84C,GAAM94C,GAAKg4C,EAAGW,EAAY,GAAKX,EAAGW,EAAY,GACxDX,EAAGW,EAAY,GAEfX,EAAGW,EAAY,GAAK,GAEbG,EACPF,EAAKlB,GAAgBqB,EAAKpB,GAC1BlC,EAAMiD,OAAOhB,EAAekB,EAAK,IACjClD,EAAMgD,OAAOf,EAAeoB,EAAK,IACtCH,IACAG,IAGF,GADAf,EAAGW,GAAaC,EACZA,EAAKlB,EAEPW,GAAS,OACjB,GAAiBU,EAAKpB,EAEdS,GAAW,OACnB,IAAkBH,EAAO,CAGf,IAAIQ,EADN,IADIF,EAAYV,EAAWt3B,EAAQu4B,IAClB,GAAKP,EAAYT,IAA6B,GAAjBC,EAAGQ,KAE3CC,EAAKX,GADLY,EAAKV,EAAGQ,IACaA,EAGrBE,IADJG,EAAKlB,EAAekB,IAGlB,OAAOC,EAAkBpD,EAAOC,EAAO+C,EAAID,EAGvD,CACA,CACA,CAGE,MAAO,CAAC,CAACjD,EAAaE,GAAQ,CAtOd,EAsO4BC,GAC9C,CArHSsD,CAAavD,EAAOC,EAC7B,CA5EcuD,CAJZxD,EAAQA,EAAMM,UAAU,EAAGN,EAAMzxC,OAAS4xC,GAC1CF,EAAQA,EAAMK,UAAU,EAAGL,EAAM1xC,OAAS4xC,IAiB1C,OAXIE,GACFI,EAAMt3B,QAAQ,CA1CD,EA0Cck3B,IAEzBG,GACFC,EAAMzwC,KAAK,CA7CE,EA6CWwwC,IAE1BiD,EAAkBhD,GACA,MAAdP,IACFO,EA2iBJ,SAAqBA,EAAOP,GAC1B,IAAIwD,EA9CN,SAAgCjD,EAAOP,GACrC,GAAmB,IAAfA,EACF,MAAO,CAjjBM,EAijBOO,GAEtB,IAAA,IAASkD,EAAc,EAAG5gC,EAAI,EAAGA,EAAI09B,EAAMlyC,OAAQwU,IAAK,CACtD,IAAIxY,EAAIk2C,EAAM19B,GACd,GAAIxY,EAAE,KAAOu1C,GArjBA,IAqjBev1C,EAAE,GAAmB,CAC/C,IAAIq5C,EAAWD,EAAcp5C,EAAE,GAAGgE,OAClC,GAAI2xC,IAAe0D,EACjB,MAAO,CAAC7gC,EAAI,EAAG09B,GACvB,GAAiBP,EAAa0D,EAAU,CAEhCnD,EAAQA,EAAM52B,QAEd,IAAIg6B,EAAY3D,EAAayD,EACzBG,EAAS,CAACv5C,EAAE,GAAIA,EAAE,GAAGsf,MAAM,EAAGg6B,IAC9BE,EAAU,CAACx5C,EAAE,GAAIA,EAAE,GAAGsf,MAAMg6B,IAEhC,OADApD,EAAM1xC,OAAOgU,EAAG,EAAG+gC,EAAQC,GACpB,CAAChhC,EAAI,EAAG09B,EACvB,CACQkD,EAAcC,CAEtB,CACA,CACE,MAAM,IAAIt3C,MAAM,+BAClB,CAqBa03C,CAAsBvD,EAAOP,GACpC+D,EAASP,EAAK,GACdQ,EAAiBR,EAAK,GACtBn5C,EAAI05C,EAAOC,GACXC,EAASF,EAAOC,EAAiB,GAErC,GAAS,MAAL35C,EAGF,OAAOk2C,EACX,GAvmBiB,IAumBJl2C,EAAE,GAGX,OAAOk2C,EAEP,GAAc,MAAV0D,GAAkB55C,EAAE,GAAK45C,EAAO,KAAOA,EAAO,GAAK55C,EAAE,GAIvD,OADA05C,EAAOl1C,OAAOm1C,EAAgB,EAAGC,EAAQ55C,GAClC65C,EAAaH,EAAQC,EAAgB,GAClD,GAAyB,MAAVC,GAA8C,IAA5BA,EAAO,GAAGn4B,QAAQzhB,EAAE,IAAW,CAK1D05C,EAAOl1C,OAAOm1C,EAAgB,EAAG,CAACC,EAAO,GAAI55C,EAAE,IAAK,CAAC,EAAGA,EAAE,KAC1D,IAAIs4B,EAASshB,EAAO,GAAGt6B,MAAMtf,EAAE,GAAGgE,QAIlC,OAHIs0B,EAAOt0B,OAAS,GAClB01C,EAAOl1C,OAAOm1C,EAAiB,EAAG,EAAG,CAACC,EAAO,GAAIthB,IAE5CuhB,EAAaH,EAAQC,EAAgB,EAClD,CAEM,OAAOzD,CAGb,CAhlBY4D,CAAW5D,EAAOP,IAE5BO,EAwlBF,SAAoBA,GAQlB,IAPA,IAAI6D,GAAU,EACVC,EAAuB,SAASC,GAClC,OAAOA,EAAIjT,WAAW,IAAM,OAAUiT,EAAIjT,WAAW,IAAM,KAC/D,EACMkT,EAAuB,SAASD,GAClC,OAAOA,EAAIjT,WAAWiT,EAAIj2C,OAAO,IAAM,OAAUi2C,EAAIjT,WAAWiT,EAAIj2C,OAAO,IAAM,KACrF,EACWwU,EAAI,EAAGA,EAAI09B,EAAMlyC,OAAQwU,GAAK,EAnpBxB,IAopBT09B,EAAM19B,EAAE,GAAG,IAAqB0hC,EAAqBhE,EAAM19B,EAAE,GAAG,KAChE09B,EAAM19B,EAAE,GAAG,KAAO+8B,GAAeyE,EAAqB9D,EAAM19B,EAAE,GAAG,KAtpBvD,IAupBV09B,EAAM19B,GAAG,IAAsBwhC,EAAqB9D,EAAM19B,GAAG,MAC/DuhC,GAAU,EAEV7D,EAAM19B,EAAE,GAAG,GAAK09B,EAAM19B,EAAE,GAAG,GAAG8G,OAAM,GAAM42B,EAAM19B,EAAE,GAAG,GACrD09B,EAAM19B,GAAG,GAAK09B,EAAM19B,EAAE,GAAG,GAAG8G,OAAM,GAAM42B,EAAM19B,GAAG,GAEjD09B,EAAM19B,EAAE,GAAG,GAAK09B,EAAM19B,EAAE,GAAG,GAAG8G,MAAM,GAAG,IAG3C,IAAKy6B,EACH,OAAO7D,EAET,IAAIiE,EAAc,GAClB,IAAS3hC,EAAI,EAAGA,EAAI09B,EAAMlyC,OAAQwU,GAAK,EACjC09B,EAAM19B,GAAG,GAAGxU,OAAS,GACvBm2C,EAAY10C,KAAKywC,EAAM19B,IAG3B,OAAO2hC,CACT,CAtnBUC,CAAUlE,EAEpB,CA6LA,SAAS2C,EAAkBpD,EAAOC,EAAOr1C,EAAGC,GAC1C,IAAI+5C,EAAS5E,EAAMM,UAAU,EAAG11C,GAC5Bi6C,EAAS5E,EAAMK,UAAU,EAAGz1C,GAC5Bi6C,EAAS9E,EAAMM,UAAU11C,GACzBm6C,EAAS9E,EAAMK,UAAUz1C,GAGzB41C,EAAQV,EAAU6E,EAAQC,GAC1BG,EAASjF,EAAU+E,EAAQC,GAE/B,OAAOtE,EAAMr1B,OAAO45B,EACtB,CAUA,SAAS5E,EAAkBJ,EAAOC,GAEhC,IAAKD,IAAUC,GAASD,EAAMiD,OAAO,IAAMhD,EAAMgD,OAAO,GACtD,OAAO,EAQT,IAJA,IAAIgC,EAAa,EACbC,EAAan6B,KAAKC,IAAIg1B,EAAMzxC,OAAQ0xC,EAAM1xC,QAC1C42C,EAAaD,EACbE,EAAe,EACZH,EAAaE,GACdnF,EAAMM,UAAU8E,EAAcD,IAC9BlF,EAAMK,UAAU8E,EAAcD,GAEhCC,EADAH,EAAaE,EAGbD,EAAaC,EAEfA,EAAap6B,KAAK40B,OAAOuF,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,CACT,CASA,SAAS5E,EAAkBP,EAAOC,GAEhC,IAAKD,IAAUC,GACXD,EAAMiD,OAAOjD,EAAMzxC,OAAS,IAAM0xC,EAAMgD,OAAOhD,EAAM1xC,OAAS,GAChE,OAAO,EAQT,IAJA,IAAI02C,EAAa,EACbC,EAAan6B,KAAKC,IAAIg1B,EAAMzxC,OAAQ0xC,EAAM1xC,QAC1C42C,EAAaD,EACbG,EAAa,EACVJ,EAAaE,GACdnF,EAAMM,UAAUN,EAAMzxC,OAAS42C,EAAYnF,EAAMzxC,OAAS82C,IAC1DpF,EAAMK,UAAUL,EAAM1xC,OAAS42C,EAAYlF,EAAM1xC,OAAS82C,GAE5DA,EADAJ,EAAaE,EAGbD,EAAaC,EAEfA,EAAap6B,KAAK40B,OAAOuF,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,CACT,CAqGA,SAAS1B,EAAkBhD,GACzBA,EAAMzwC,KAAK,CAnaI,EAmaS,KAOxB,IANA,IAKImwC,EALAmF,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GAEXJ,EAAU7E,EAAMlyC,QACrB,OAAQkyC,EAAM6E,GAAS,IACrB,KA7aY,EA8aVE,IACAE,GAAejF,EAAM6E,GAAS,GAC9BA,IACA,MACF,KAAKxF,EACHyF,IACAE,GAAehF,EAAM6E,GAAS,GAC9BA,IACA,MACF,KAtbW,EAwbLC,EAAeC,EAAe,GACX,IAAjBD,GAAuC,IAAjBC,IAGH,KADrBrF,EAAeC,EAAkBsF,EAAaD,MAEvCH,EAAUC,EAAeC,EAAgB,GA7b3C,GA8bC/E,EAAM6E,EAAUC,EAAeC,EAAe,GAAG,GAEnD/E,EAAM6E,EAAUC,EAAeC,EAAe,GAAG,IAC7CE,EAAYpF,UAAU,EAAGH,IAE7BM,EAAM1xC,OAAO,EAAG,EAAG,CAnclB,EAocmB22C,EAAYpF,UAAU,EAAGH,KAC7CmF,KAEFI,EAAcA,EAAYpF,UAAUH,GACpCsF,EAAcA,EAAYnF,UAAUH,IAIjB,KADrBA,EAAeI,EAAkBmF,EAAaD,MAE5ChF,EAAM6E,GAAS,GAAKI,EAAYpF,UAAUoF,EAAYn3C,OAClD4xC,GAAgBM,EAAM6E,GAAS,GACnCI,EAAcA,EAAYpF,UAAU,EAAGoF,EAAYn3C,OAC/C4xC,GACJsF,EAAcA,EAAYnF,UAAU,EAAGmF,EAAYl3C,OAC/C4xC,KAIa,IAAjBoF,EACF9E,EAAM1xC,OAAOu2C,EAAUE,EACnBD,EAAeC,EAAc,CAzd3B,EAydyCE,IACrB,IAAjBF,EACT/E,EAAM1xC,OAAOu2C,EAAUC,EACnBA,EAAeC,EAAc,CAAC1F,EAAa2F,IAE/ChF,EAAM1xC,OAAOu2C,EAAUC,EAAeC,EAClCD,EAAeC,EAAc,CAAC1F,EAAa2F,GAC3C,CAheE,EAgeYC,IAEpBJ,EAAUA,EAAUC,EAAeC,GACxBD,EAAe,EAAI,IAAMC,EAAe,EAAI,GAAK,GACvC,IAAZF,GAneF,GAmemB7E,EAAM6E,EAAU,GAAG,IAE7C7E,EAAM6E,EAAU,GAAG,IAAM7E,EAAM6E,GAAS,GACxC7E,EAAM1xC,OAAOu2C,EAAS,IAEtBA,IAEFE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GAIe,KAA/BjF,EAAMA,EAAMlyC,OAAS,GAAG,IAC1BkyC,EAAMpxC,MAMR,IAAIs2C,GAAU,EAGd,IAFAL,EAAU,EAEHA,EAAU7E,EAAMlyC,OAAS,GA3fjB,GA4fTkyC,EAAM6E,EAAU,GAAG,IA5fV,GA6fT7E,EAAM6E,EAAU,GAAG,KAEjB7E,EAAM6E,GAAS,GAAGhF,UAAUG,EAAM6E,GAAS,GAAG/2C,OAC9CkyC,EAAM6E,EAAU,GAAG,GAAG/2C,SAAWkyC,EAAM6E,EAAU,GAAG,IAEtD7E,EAAM6E,GAAS,GAAK7E,EAAM6E,EAAU,GAAG,GACnC7E,EAAM6E,GAAS,GAAGhF,UAAU,EAAGG,EAAM6E,GAAS,GAAG/2C,OACrBkyC,EAAM6E,EAAU,GAAG,GAAG/2C,QACtDkyC,EAAM6E,EAAU,GAAG,GAAK7E,EAAM6E,EAAU,GAAG,GAAK7E,EAAM6E,EAAU,GAAG,GACnE7E,EAAM1xC,OAAOu2C,EAAU,EAAG,GAC1BK,GAAU,GACDlF,EAAM6E,GAAS,GAAGhF,UAAU,EAAGG,EAAM6E,EAAU,GAAG,GAAG/2C,SAC5DkyC,EAAM6E,EAAU,GAAG,KAErB7E,EAAM6E,EAAU,GAAG,IAAM7E,EAAM6E,EAAU,GAAG,GAC5C7E,EAAM6E,GAAS,GACX7E,EAAM6E,GAAS,GAAGhF,UAAUG,EAAM6E,EAAU,GAAG,GAAG/2C,QAClDkyC,EAAM6E,EAAU,GAAG,GACvB7E,EAAM1xC,OAAOu2C,EAAU,EAAG,GAC1BK,GAAU,IAGdL,IAGEK,GACFlC,EAAkBhD,EAEtB,CAGA,IAAIp4B,EAAO03B,EAwJX,SAASqE,EAAc3D,EAAO32B,EAAOvb,GAEnC,IAAA,IAASwU,EAAI+G,EAAQvb,EAAS,EAAGwU,GAAK,GAAKA,GAAK+G,EAAQ,EAAG/G,IACzD,GAAIA,EAAI,EAAI09B,EAAMlyC,OAAQ,CACxB,IAAIq3C,EAASnF,EAAM19B,GACf8iC,EAAUpF,EAAM19B,EAAE,GAClB6iC,EAAO,KAAOC,EAAQ,IACxBpF,EAAM1xC,OAAOgU,EAAG,EAAG,CAAC6iC,EAAO,GAAIA,EAAO,GAAKC,EAAQ,IAE3D,CAEE,OAAOpF,CACT,CAnKAp4B,EAAKqD,OA9hBa,EA+hBlBrD,EAAKsD,OAASm0B,EACdz3B,EAAKuD,MA/hBY,EAiiBjB5P,EAAO/N,QAAUoa,CAkKjB,EAAA,SAEgBrM,EAAQ/N,GAMxB,SAASnC,EAAM4gB,GACb,IAAI3Z,EAAO,GACX,IAAA,IAASvI,KAAOkiB,EAAK3Z,EAAK/C,KAAKxF,GAC/B,OAAOuI,CACT,EARUiJ,EAAO/N,QAAiC,mBAAhB2C,OAAOmC,KACrCnC,OAAOmC,KAAOjH,GAEVA,KAAOA,CAQf,EAAA,SAEgBkQ,EAAQ/N,GAExB,IAAI63C,EAEI,iCADN,OAAOl1C,OAAO3B,UAAUwC,SAASnC,KAAKmM,cAMxC,SAASsqC,EAAU/4C,GACjB,MAAiD,sBAA1C4D,OAAO3B,UAAUwC,SAASnC,KAAKtC,EACxC,CAGA,SAASg5C,EAAYh5C,GACnB,OAAOA,GACY,iBAAVA,GACiB,iBAAjBA,EAAOuB,QACdqC,OAAO3B,UAAUsC,eAAejC,KAAKtC,EAAQ,YAC5C4D,OAAO3B,UAAU+L,qBAAqB1L,KAAKtC,EAAQ,YACpD,CACJ,EAfAiB,EAAU+N,EAAO/N,QAAU63C,EAAyBC,EAAYC,GAExDD,UAAYA,EAKpB93C,EAAQ+3C,YAAcA,CAWtB,EAAA,SAEgBhqC,EAAQ/N,GAIxB,IAAIuC,EAAMI,OAAO3B,UAAUsC,eACvB88B,EAAS,IASb,SAAS4X,IAAS,CA4BlB,SAASC,EAAGC,EAAIv1B,EAASkI,GACvBpqB,KAAKy3C,GAAKA,EACVz3C,KAAKkiB,QAAUA,EACfliB,KAAKoqB,KAAOA,IAAQ,CACtB,CASA,SAASstB,IACP13C,KAAK23C,QAAU,IAAIJ,EACnBv3C,KAAK43C,aAAe,CACtB,CAnCI11C,OAAO+T,SACTshC,EAAOh3C,UAAY2B,OAAO+T,OAAO,OAM5B,IAAIshC,GAASjgC,YAAWqoB,GAAS,IAqCxC+X,EAAan3C,UAAUs3C,WAAa,WAClC,IACI1yB,EACAtnB,EAFA2a,EAAQ,GAIZ,GAA0B,IAAtBxY,KAAK43C,aAAoB,OAAOp/B,EAEpC,IAAK3a,KAASsnB,EAASnlB,KAAK23C,QACtB71C,EAAIlB,KAAKukB,EAAQtnB,IAAO2a,EAAMlX,KAAKq+B,EAAS9hC,EAAKsd,MAAM,GAAKtd,GAGlE,OAAIqE,OAAOsK,sBACFgM,EAAMkE,OAAOxa,OAAOsK,sBAAsB2Y,IAG5C3M,CACT,EAUAk/B,EAAan3C,UAAU4tB,UAAY,SAAmBE,EAAOypB,GAC3D,IAAIhY,EAAMH,EAASA,EAAStR,EAAQA,EAChC0pB,EAAY/3C,KAAK23C,QAAQ7X,GAE7B,GAAIgY,EAAQ,QAASC,EACrB,IAAKA,EAAW,MAAO,GACvB,GAAIA,EAAUN,GAAI,MAAO,CAACM,EAAUN,IAEpC,IAAA,IAASpjC,EAAI,EAAGC,EAAIyjC,EAAUl4C,OAAQm4C,EAAK,IAAI13C,MAAMgU,GAAID,EAAIC,EAAGD,IAC9D2jC,EAAG3jC,GAAK0jC,EAAU1jC,GAAGojC,GAGvB,OAAOO,CACT,EASAN,EAAan3C,UAAU6rB,KAAO,SAAciC,EAAO4pB,EAAIC,EAAIC,EAAIC,EAAIC,GACjE,IAAIvY,EAAMH,EAASA,EAAStR,EAAQA,EAEpC,IAAKruB,KAAK23C,QAAQ7X,GAAM,OAAO,EAE/B,IAEI3T,EACA9X,EAHA8Z,EAAYnuB,KAAK23C,QAAQ7X,GACzBwY,EAAMvrC,UAAUlN,OAIpB,GAAIsuB,EAAUspB,GAAI,CAGhB,OAFItpB,EAAU/D,MAAMpqB,KAAKu4C,eAAelqB,EAAOF,EAAUspB,QAAI,GAAW,GAEhEa,GACN,KAAK,EAAG,OAAOnqB,EAAUspB,GAAG72C,KAAKutB,EAAUjM,UAAU,EACrD,KAAK,EAAG,OAAOiM,EAAUspB,GAAG72C,KAAKutB,EAAUjM,QAAS+1B,IAAK,EACzD,KAAK,EAAG,OAAO9pB,EAAUspB,GAAG72C,KAAKutB,EAAUjM,QAAS+1B,EAAIC,IAAK,EAC7D,KAAK,EAAG,OAAO/pB,EAAUspB,GAAG72C,KAAKutB,EAAUjM,QAAS+1B,EAAIC,EAAIC,IAAK,EACjE,KAAK,EAAG,OAAOhqB,EAAUspB,GAAG72C,KAAKutB,EAAUjM,QAAS+1B,EAAIC,EAAIC,EAAIC,IAAK,EACrE,KAAK,EAAG,OAAOjqB,EAAUspB,GAAG72C,KAAKutB,EAAUjM,QAAS+1B,EAAIC,EAAIC,EAAIC,EAAIC,IAAK,EAG3E,IAAKhkC,EAAI,EAAG8X,EAAO,IAAI7rB,MAAMg4C,EAAK,GAAIjkC,EAAIikC,EAAKjkC,IAC7C8X,EAAK9X,EAAI,GAAKtH,UAAUsH,GAG1B8Z,EAAUspB,GAAG92B,MAAMwN,EAAUjM,QAASiK,EAC1C,KAAS,CACL,IACIsmB,EADA5yC,EAASsuB,EAAUtuB,OAGvB,IAAKwU,EAAI,EAAGA,EAAIxU,EAAQwU,IAGtB,OAFI8Z,EAAU9Z,GAAG+V,MAAMpqB,KAAKu4C,eAAelqB,EAAOF,EAAU9Z,GAAGojC,QAAI,GAAW,GAEtEa,GACN,KAAK,EAAGnqB,EAAU9Z,GAAGojC,GAAG72C,KAAKutB,EAAU9Z,GAAG6N,SAAU,MACpD,KAAK,EAAGiM,EAAU9Z,GAAGojC,GAAG72C,KAAKutB,EAAU9Z,GAAG6N,QAAS+1B,GAAK,MACxD,KAAK,EAAG9pB,EAAU9Z,GAAGojC,GAAG72C,KAAKutB,EAAU9Z,GAAG6N,QAAS+1B,EAAIC,GAAK,MAC5D,KAAK,EAAG/pB,EAAU9Z,GAAGojC,GAAG72C,KAAKutB,EAAU9Z,GAAG6N,QAAS+1B,EAAIC,EAAIC,GAAK,MAChE,QACE,IAAKhsB,EAAM,IAAKsmB,EAAI,EAAGtmB,EAAO,IAAI7rB,MAAMg4C,EAAK,GAAI7F,EAAI6F,EAAK7F,IACxDtmB,EAAKsmB,EAAI,GAAK1lC,UAAU0lC,GAG1BtkB,EAAU9Z,GAAGojC,GAAG92B,MAAMwN,EAAU9Z,GAAG6N,QAASiK,GAGtD,CAEE,OAAO,CACT,EAWAurB,EAAan3C,UAAU2kB,GAAK,SAAYmJ,EAAOopB,EAAIv1B,GACjD,IAAI0qB,EAAW,IAAI4K,EAAGC,EAAIv1B,GAAWliB,MACjC8/B,EAAMH,EAASA,EAAStR,EAAQA,EAMpC,OAJKruB,KAAK23C,QAAQ7X,GACR9/B,KAAK23C,QAAQ7X,GAAK2X,GACvBz3C,KAAK23C,QAAQ7X,GAAO,CAAC9/B,KAAK23C,QAAQ7X,GAAM8M,GADb5sC,KAAK23C,QAAQ7X,GAAKx+B,KAAKsrC,SAD1B+K,QAAQ7X,GAAO8M,EAAU5sC,KAAK43C,gBAIpD53C,IACT,EAWA03C,EAAan3C,UAAU6pB,KAAO,SAAciE,EAAOopB,EAAIv1B,GACrD,IAAI0qB,EAAW,IAAI4K,EAAGC,EAAIv1B,GAAWliB,MAAM,GACvC8/B,EAAMH,EAASA,EAAStR,EAAQA,EAMpC,OAJKruB,KAAK23C,QAAQ7X,GACR9/B,KAAK23C,QAAQ7X,GAAK2X,GACvBz3C,KAAK23C,QAAQ7X,GAAO,CAAC9/B,KAAK23C,QAAQ7X,GAAM8M,GADb5sC,KAAK23C,QAAQ7X,GAAKx+B,KAAKsrC,SAD1B+K,QAAQ7X,GAAO8M,EAAU5sC,KAAK43C,gBAIpD53C,IACT,EAYA03C,EAAan3C,UAAUg4C,eAAiB,SAAwBlqB,EAAOopB,EAAIv1B,EAASkI,GAClF,IAAI0V,EAAMH,EAASA,EAAStR,EAAQA,EAEpC,IAAKruB,KAAK23C,QAAQ7X,GAAM,OAAO9/B,KAC/B,IAAKy3C,EAGH,OAF4B,MAAtBz3C,KAAK43C,aAAoB53C,KAAK23C,QAAU,IAAIJ,SACtCv3C,KAAK23C,QAAQ7X,GAClB9/B,KAGT,IAAImuB,EAAYnuB,KAAK23C,QAAQ7X,GAE7B,GAAI3R,EAAUspB,GAEPtpB,EAAUspB,KAAOA,GACfrtB,IAAQ+D,EAAU/D,MAClBlI,GAAWiM,EAAUjM,UAAYA,IAEV,MAAtBliB,KAAK43C,aAAoB53C,KAAK23C,QAAU,IAAIJ,SACtCv3C,KAAK23C,QAAQ7X,QAEtB,CACL,IAAA,IAASzrB,EAAI,EAAG8Q,EAAS,GAAItlB,EAASsuB,EAAUtuB,OAAQwU,EAAIxU,EAAQwU,KAE7D8Z,EAAU9Z,GAAGojC,KAAOA,GACnBrtB,IAAS+D,EAAU9Z,GAAG+V,MACtBlI,GAAWiM,EAAU9Z,GAAG6N,UAAYA,IAExCiD,EAAO7jB,KAAK6sB,EAAU9Z,IAOtB8Q,EAAOtlB,OAAQG,KAAK23C,QAAQ7X,GAAyB,IAAlB3a,EAAOtlB,OAAeslB,EAAO,GAAKA,EACxC,MAAtBnlB,KAAK43C,aAAoB53C,KAAK23C,QAAU,IAAIJ,SAC3Cv3C,KAAK23C,QAAQ7X,EAC7B,CAEE,OAAO9/B,IACT,EASA03C,EAAan3C,UAAUi4C,mBAAqB,SAA4BnqB,GACtE,IAAIyR,EAaJ,OAXIzR,GACFyR,EAAMH,EAASA,EAAStR,EAAQA,EAC5BruB,KAAK23C,QAAQ7X,KACa,MAAtB9/B,KAAK43C,aAAoB53C,KAAK23C,QAAU,IAAIJ,SACtCv3C,KAAK23C,QAAQ7X,MAG3B9/B,KAAK23C,QAAU,IAAIJ,EACnBv3C,KAAK43C,aAAe,GAGf53C,IACT,EAKA03C,EAAan3C,UAAU4pB,IAAMutB,EAAan3C,UAAUg4C,eACpDb,EAAan3C,UAAUk4C,YAAcf,EAAan3C,UAAU2kB,GAK5DwyB,EAAan3C,UAAUm4C,gBAAkB,WACvC,OAAO14C,IACT,EAKA03C,EAAaiB,SAAWhZ,EAKxB+X,EAAaA,aAAeA,OAKxB,IAAuBpqC,IACzBA,EAAO/N,QAAUm4C,EAInB,EAAA,SAEgBpqC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQq5C,UAAYr5C,EAAQs5C,aAAet5C,EAAQu5C,aAAev5C,EAAQw5C,UAAYx5C,EAAQy5C,gBAAkBz5C,EAAQ+W,aAAU,EAElI,IAAIoM,EAA4B,mBAAXjgB,QAAoD,iBAApBA,OAAO+Y,SAAwB,SAAUwC,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,GAAyB,mBAAXvb,QAAyBub,EAAIhO,cAAgBvN,QAAUub,IAAQvb,OAAOlC,UAAY,gBAAkByd,CAAI,EAEtQ2E,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIf85B,EAAWr5B,EAFAzL,EAAoB,IAM/B0L,EAAeD,EAFDzL,EAAoB,IAMlC2L,EAAcF,EAFDzL,EAAoB,IAMjCuqB,EAAU9e,EAFDzL,EAAoB,IAM7BqP,EAAW5D,EAFDzL,EAAoB,KAM9BkP,EAAWzD,EAFDzL,EAAoB,IAI9B+kC,EAAS/kC,EAAoB,IAE7BglC,EAAchlC,EAAoB,IAIlCke,EAASzS,EAFDzL,EAAoB,KAI5B60B,EAAS70B,EAAoB,IAE7BilC,EAAajlC,EAAoB,IAEjCklC,EAAQllC,EAAoB,IAE5BmlC,EAAQnlC,EAAoB,IAEhC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAAS0F,EAAgB1F,EAAKliB,EAAK2D,GAAiK,OAApJ3D,KAAOkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,CAAI,CAQ/M,IAAI2F,GAAA,EAAYH,EAASlN,SAAS,mBAE9BijC,EAAU,eAEVC,EAAmB,CAAC,CAACthC,KAAKC,UAAWygC,GAAY,CAAC1gC,KAAKC,UAAW2gC,GAAe,CAAC,KA4PtF,SAAoBh6C,EAAMsd,GAIxB,OAHKq9B,EAAcr9B,EAAO,OACxBA,EAAMjC,OAAO,MAERiC,CACT,GAjQyG,CAAClE,KAAKwhC,aAAcZ,GAAe,CAAC5gC,KAAKwhC,aAAcX,GAAY,CAAC7gC,KAAKwhC,aAAcb,GAAe,CAAC3gC,KAAKwhC,aAAcV,GAAkB,CAAC9gC,KAAKwhC,aA2S3P,SAAqB56C,EAAMsd,GACzB,IAAIyE,EAAU,CAAA,EACVglB,EAAQ/mC,EAAK+mC,OAAS,CAAA,EAc1B,OAbIA,EAAM8T,WAA8C,WAAjCC,EAAa96C,GAAM66C,YACxC94B,EAAQqiB,QAAS,GAEf2C,EAAMgU,aAAeD,EAAa96C,GAAM+6C,WAAWnzB,WAAW,SAAWge,SAASkV,EAAa96C,GAAM+6C,aAAe,OACtHh5B,EAAQoiB,MAAO,GAEb/gC,OAAOmC,KAAKwc,GAAShhB,OAAS,IAChCuc,EAAQ09B,EAAY19B,EAAOyE,IAEzBk5B,WAAWlU,EAAMmU,YAAc,GAAK,IAEtC59B,GAAQ,IAAIyD,EAAavJ,SAAU6D,OAAO,MAAMuC,OAAON,IAElDA,CACT,GA5TuR,CAAC,KAuQxR,SAAqBtd,EAAMsd,GACzB,IAAIpE,EAAQ8H,EAAYxJ,QAAQH,MAAMrX,GACtC,GAAa,MAATkZ,GAAoC,cAAnBA,EAAMsB,WAA6BmgC,EAAcr9B,EAAO,MAC3E,OAAOA,EAIT,IAFA,IAAIkmB,GAAS,EACT7iB,EAAS3gB,EAAKoa,YACVuG,EAAOyE,UAAUgG,SAAS,iBAC2B,UAAtDpK,EAAYxJ,QAAQH,MAAMsJ,IAAW,CAAA,GAAInG,WAC5CgpB,GAAU,GAEZ7iB,EAASA,EAAOvG,WAElB,OAAIopB,GAAU,EAAUlmB,EACjBA,EAAMR,SAAQ,IAAIiE,EAAavJ,SAAUiE,OAAO6B,EAAMvc,SAAW,GAAG0a,OAAO,EAAG,CAAE+nB,WACzF,GAtR4S,CAAC,IAAK2X,EAAW3qB,KAAK2qB,EAAY,SAAU,CAAC,IAAKA,EAAW3qB,KAAK2qB,EAAY,WAAY,CAAC,QAmQvY,WACE,OAAO,IAAIp6B,EAAavJ,OAC1B,IAnQI4jC,EAAwB,CAAChB,EAAOrQ,eAAgBuQ,EAAWjQ,oBAAoBpuB,OAAO,SAAUof,EAAM0N,GAExG,OADA1N,EAAK0N,EAAKruB,SAAWquB,EACd1N,CACT,EAAG,CAAA,GAECggB,EAAoB,CAACjB,EAAOvQ,WAAYwQ,EAAYrQ,gBAAiBE,EAAO1E,WAAY8U,EAAWnQ,eAAgBoQ,EAAMhQ,UAAWiQ,EAAM/P,WAAWxuB,OAAO,SAAUof,EAAM0N,GAE9K,OADA1N,EAAK0N,EAAKruB,SAAWquB,EACd1N,CACT,EAAG,CAAA,GAECigB,EAAA,SAAsBtb,GAGxB,SAASsb,EAAUtrB,EAAOzQ,IAzB5B,SAAyB8B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CA0BnJF,CAAgBlgB,KAAMo6C,GAEtB,IAAIziC,EA1BR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CA0B9Nyf,CAA2BrgB,MAAOo6C,EAAU9iC,WAAapV,OAAOwd,eAAe06B,IAAYx5C,KAAKZ,KAAM8uB,EAAOzQ,IAezH,OAbA1G,EAAMmX,MAAMxsB,KAAKqrB,iBAAiB,QAAShW,EAAM0iC,QAAQ/qB,KAAK3X,IAC9DA,EAAMkM,UAAYlM,EAAMmX,MAAM1K,aAAa,gBAC3CzM,EAAMkM,UAAUQ,aAAa,mBAAmB,GAChD1M,EAAMkM,UAAUQ,aAAa,YAAY,GACzC1M,EAAM2iC,SAAW,GACjBd,EAAiB98B,OAAO/E,EAAM0G,QAAQi8B,UAAU1vC,QAAQ,SAAU4jB,GAChE,IAAImS,EAAQhe,EAAe6L,EAAM,GAC7B+rB,EAAW5Z,EAAM,GACjB6Z,EAAU7Z,EAAM,IAEftiB,EAAQo8B,aAAeD,IAAY3B,IACxClhC,EAAM+iC,WAAWH,EAAUC,EACjC,GACW7iC,CACX,CAqGE,OA7IF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAmB1eF,CAAU65B,EAAWtb,GAuBrB9f,EAAao7B,EAAW,CAAC,CACvBt+C,IAAK,aACL2D,MAAO,SAAoB86C,EAAUC,GACnCx6C,KAAKs6C,SAASh5C,KAAK,CAACi5C,EAAUC,GACpC,GACK,CACD1+C,IAAK,UACL2D,MAAO,SAAiBskB,GACtB,GAAoB,iBAATA,EAET,OADA/jB,KAAK6jB,UAAUG,UAAYD,EAAK7e,QAAQ,eAAgB,MACjDlF,KAAKuL,UAEd,IAAIsV,EAAU7gB,KAAK8uB,MAAM3F,UAAUnpB,KAAK8uB,MAAMnK,UAAUwQ,WAAWz0B,OACnE,GAAImgB,EAAQwR,EAAO/b,QAAQgD,UAAW,CACpC,IAAIc,EAAOpa,KAAK6jB,UAAU82B,UAE1B,OADA36C,KAAK6jB,UAAUG,UAAY,IACpB,IAAInE,EAAavJ,SAAU6D,OAAOC,EAAMsJ,EAAgB,CAAA,EAAI2O,EAAO/b,QAAQgD,SAAUuH,EAAQwR,EAAO/b,QAAQgD,WAC3H,CAEM,IAAIshC,EAAmB56C,KAAK66C,kBACxBC,EAAoBn4B,EAAei4B,EAAkB,GACrDG,EAAkBD,EAAkB,GACpCE,EAAeF,EAAkB,GAEjC1+B,EAAQ6+B,EAASj7C,KAAK6jB,UAAWk3B,EAAiBC,GAOtD,OALIvB,EAAcr9B,EAAO,OAAuD,MAA9CA,EAAMlC,IAAIkC,EAAMlC,IAAIra,OAAS,GAAG+X,aAChEwE,EAAQA,EAAMR,SAAQ,IAAIiE,EAAavJ,SAAUiE,OAAO6B,EAAMvc,SAAW,GAAGya,OAAO,KAErFqJ,EAAMyK,IAAI,UAAWpuB,KAAK6jB,UAAUG,UAAW5H,GAC/Cpc,KAAK6jB,UAAUG,UAAY,GACpB5H,CACb,GACK,CACDtgB,IAAK,uBACL2D,MAAO,SAA8BiB,EAAOqjB,GAC1C,IAAI0B,EAAS1Y,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK2xB,EAAQpoB,QAAQmR,QAAQC,IAEzG,GAAqB,iBAAVhnB,EACTV,KAAK8uB,MAAM9I,YAAYhmB,KAAKuL,QAAQ7K,GAAQqjB,GAC5C/jB,KAAK8uB,MAAM/G,aAAa,EAAG2W,EAAQpoB,QAAQmR,QAAQO,YAC9C,CACL,IAAIkzB,EAAQl7C,KAAKuL,QAAQwY,GACzB/jB,KAAK8uB,MAAMyU,gBAAe,IAAI1jB,EAAavJ,SAAUiE,OAAO7Z,GAAOgc,OAAOw+B,GAAQz1B,GAClFzlB,KAAK8uB,MAAM/G,aAAarnB,EAAQw6C,EAAMr7C,SAAU6+B,EAAQpoB,QAAQmR,QAAQO,OAChF,CACA,GACK,CACDlsB,IAAK,UACL2D,MAAO,SAAiB6D,GACtB,IAAIke,EAASxhB,KAEb,IAAIsD,EAAE48B,kBAAqBlgC,KAAK8uB,MAAMhD,YAAtC,CACA,IAAInG,EAAQ3lB,KAAK8uB,MAAMnH,eACnBvL,GAAQ,IAAIyD,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,OAChD2mB,EAAYrnB,KAAK8uB,MAAMxK,mBAAmB+C,UAC9CrnB,KAAK6jB,UAAUyD,QACftnB,KAAK8uB,MAAMnK,UAAUmB,OAAO4Y,EAAQpoB,QAAQmR,QAAQO,QACpDuN,WAAW,WACTnZ,EAAQA,EAAMM,OAAO8E,EAAOjW,WAAW+O,OAAOqL,EAAM9lB,QACpD2hB,EAAOsN,MAAMyU,eAAennB,EAAOsiB,EAAQpoB,QAAQmR,QAAQwD,MAE3DzJ,EAAOsN,MAAM/G,aAAa3L,EAAMvc,SAAW8lB,EAAM9lB,OAAQ6+B,EAAQpoB,QAAQmR,QAAQO,QACjFxG,EAAOsN,MAAMxK,mBAAmB+C,UAAYA,EAC5C7F,EAAOsN,MAAMxH,OACrB,EAAS,EAbgD,CAczD,GACK,CACDxrB,IAAK,kBACL2D,MAAO,WACL,IAAIsnB,EAAS/mB,KAET+6C,EAAkB,GAClBC,EAAe,GAsBnB,OArBAh7C,KAAKs6C,SAAS1vC,QAAQ,SAAUuwC,GAC9B,IAAIC,EAAQz4B,EAAew4B,EAAM,GAC7BZ,EAAWa,EAAM,GACjBZ,EAAUY,EAAM,GAEpB,OAAQb,GACN,KAAKriC,KAAKC,UACR6iC,EAAa15C,KAAKk5C,GAClB,MACF,KAAKtiC,KAAKwhC,aACRqB,EAAgBz5C,KAAKk5C,GACrB,MACF,QACE,GAAG5vC,QAAQhK,KAAKmmB,EAAOlD,UAAUiK,iBAAiBysB,GAAW,SAAUz7C,GAErEA,EAAKy6C,GAAWz6C,EAAKy6C,IAAY,GACjCz6C,EAAKy6C,GAASj4C,KAAKk5C,EACjC,GAGA,GACa,CAACO,EAAiBC,EAC/B,KAGSZ,CACT,CA5HI,CA4HF/2B,EAAS/M,SAOX,SAASwjC,EAAY19B,EAAO4E,EAAQvhB,GAClC,MAAwE,iBAAjD,IAAXuhB,EAAyB,YAAc0B,EAAQ1B,IAClD9e,OAAOmC,KAAK2c,GAAQjG,OAAO,SAAUqB,EAAOtgB,GACjD,OAAOg+C,EAAY19B,EAAOtgB,EAAKklB,EAAOllB,GAC5C,EAAOsgB,GAEIA,EAAMrB,OAAO,SAAUqB,EAAOtC,GACnC,OAAIA,EAAGlC,YAAckC,EAAGlC,WAAWoJ,GAC1B5E,EAAM9a,KAAKwY,GAEXsC,EAAMjC,OAAOL,EAAGK,QAAA,EAAY8+B,EAAS3iC,SAAS,CAAA,EAAIoN,EAAgB,CAAA,EAAI1C,EAAQvhB,GAAQqa,EAAGlC,YAExG,EAAO,IAAIiI,EAAavJ,QAExB,CAEA,SAASsjC,EAAa96C,GACpB,GAAIA,EAAKsO,WAAa8K,KAAKwhC,mBAAqB,CAAA,EAChD,IAAIH,EAAU,sBACd,OAAOz6C,EAAKy6C,KAAaz6C,EAAKy6C,GAAW8B,OAAOC,iBAAiBx8C,GACnE,CAEA,SAAS26C,EAAcr9B,EAAOhC,GAE5B,IADA,IAAImhC,EAAU,GACLlnC,EAAI+H,EAAMlC,IAAIra,OAAS,EAAGwU,GAAK,GAAKknC,EAAQ17C,OAASua,EAAKva,SAAUwU,EAAG,CAC9E,IAAIyF,EAAKsC,EAAMlC,IAAI7F,GACnB,GAAyB,iBAAdyF,EAAGK,OAAqB,MACnCohC,EAAUzhC,EAAGK,OAASohC,CAC1B,CACE,OAAOA,EAAQpgC,OAAM,EAAKf,EAAKva,UAAYua,CAC7C,CAEA,SAAS2jB,EAAOj/B,GACd,GAA+B,IAA3BA,EAAKq5B,WAAWt4B,OAAc,OAAO,EACzC,IAAIgmC,EAAQ+T,EAAa96C,GACzB,MAAO,CAAC,QAAS,aAAawe,QAAQuoB,EAAMC,UAAW,CACzD,CAEA,SAASmV,EAASn8C,EAAMi8C,EAAiBC,GAEvC,OAAIl8C,EAAKsO,WAAatO,EAAKqZ,UAClB6iC,EAAajgC,OAAO,SAAUqB,EAAOo+B,GAC1C,OAAOA,EAAQ17C,EAAMsd,EAC3B,EAAO,IAAIyD,EAAavJ,SACXxX,EAAKsO,WAAatO,EAAK46C,aACzB,GAAG3+B,OAAOna,KAAK9B,EAAKq5B,YAAc,GAAI,SAAU/b,EAAOmsB,GAC5D,IAAIiT,EAAgBP,EAAS1S,EAAWwS,EAAiBC,GASzD,OARIzS,EAAUn7B,WAAatO,EAAK46C,eAC9B8B,EAAgBT,EAAgBhgC,OAAO,SAAUygC,EAAehB,GAC9D,OAAOA,EAAQjS,EAAWiT,EACpC,EAAWA,GACHA,GAAiBjT,EAAUgR,IAAY,IAAIx+B,OAAO,SAAUygC,EAAehB,GACzE,OAAOA,EAAQjS,EAAWiT,EACpC,EAAWA,IAEEp/B,EAAMM,OAAO8+B,EAC1B,EAAO,IAAI37B,EAAavJ,SAEb,IAAIuJ,EAAavJ,OAE5B,CAEA,SAAS2jC,EAAWj5B,EAAQliB,EAAMsd,GAChC,OAAO09B,EAAY19B,EAAO4E,GAAQ,EACpC,CAEA,SAASg4B,EAAgBl6C,EAAMsd,GAC7B,IAAIxE,EAAakI,EAAYxJ,QAAQQ,WAAWC,UAAU1S,KAAKvF,GAC3D+Y,EAAUiI,EAAYxJ,QAAQQ,WAAWE,MAAM3S,KAAKvF,GACpD8oC,EAAS9nB,EAAYxJ,QAAQQ,WAAWG,MAAM5S,KAAKvF,GACnD+hB,EAAU,CAAA,EAoBd,OAnBAjJ,EAAW8E,OAAO7E,GAAS6E,OAAOkrB,GAAQh9B,QAAQ,SAAU/M,GAC1D,IAAIgqC,EAAO/nB,EAAYxJ,QAAQH,MAAMtY,EAAMiiB,EAAYxJ,QAAQN,MAAMua,WACzD,MAARsX,IACFhnB,EAAQgnB,EAAKtuB,UAAYsuB,EAAKpoC,MAAMX,GAChC+hB,EAAQgnB,EAAKtuB,aAGP,OADZsuB,EAAOqS,EAAsBr8C,KACRgqC,EAAKtuB,WAAa1b,GAAQgqC,EAAKruB,UAAY3b,IAC9DgjB,EAAQgnB,EAAKtuB,UAAYsuB,EAAKpoC,MAAMX,SAAS,GAGnC,OADZ+oC,EAAOsS,EAAkBt8C,KACJgqC,EAAKtuB,WAAa1b,GAAQgqC,EAAKruB,UAAY3b,IAC9DgqC,EAAOsS,EAAkBt8C,GACzBgjB,EAAQgnB,EAAKtuB,UAAYsuB,EAAKpoC,MAAMX,SAAS,GAEnD,GACMoD,OAAOmC,KAAKwc,GAAShhB,OAAS,IAChCuc,EAAQ09B,EAAY19B,EAAOyE,IAEtBzE,CACT,CAEA,SAAS28B,EAAUj6C,EAAMsd,GACvB,IAAIpE,EAAQ8H,EAAYxJ,QAAQH,MAAMrX,GACtC,GAAa,MAATkZ,EAAe,OAAOoE,EAC1B,GAAIpE,EAAMzX,qBAAqBuf,EAAYxJ,QAAQG,MAAO,CACxD,IAAIkT,EAAQ,CAAA,EACRlqB,EAAQuY,EAAMvY,MAAMX,GACX,MAATW,IACFkqB,EAAM3R,EAAMsB,UAAY7Z,EACxB2c,GAAQ,IAAIyD,EAAavJ,SAAU6D,OAAOwP,EAAO3R,EAAM6I,QAAQ/hB,IAErE,KAAsC,mBAAlBkZ,EAAM6I,UACtBzE,EAAQ09B,EAAY19B,EAAOpE,EAAMsB,SAAUtB,EAAM6I,QAAQ/hB,KAE3D,OAAOsd,CACT,CA8BA,SAAS08B,EAAah6C,EAAMsd,GAM1B,OALKq9B,EAAcr9B,EAAO,QACpB2hB,EAAOj/B,IAASsd,EAAMvc,SAAW,GAAKf,EAAK87B,aAAemD,EAAOj/B,EAAK87B,eACxExe,EAAMjC,OAAO,MAGViC,CACT,CAEA,SAASy8B,EAAa/5C,EAAMsd,GAC1B,GAAI2hB,EAAOj/B,IAAoC,MAA3BA,EAAK28C,qBAA+BhC,EAAcr9B,EAAO,QAAS,CACpF,IAAIs/B,EAAa58C,EAAK68C,aAAe5B,WAAWH,EAAa96C,GAAM88C,WAAa7B,WAAWH,EAAa96C,GAAM+8C,cAC1G/8C,EAAK28C,mBAAmBK,UAAYh9C,EAAKg9C,UAAyB,IAAbJ,GACvDt/B,EAAMjC,OAAO,KAEnB,CACE,OAAOiC,CACT,CAqBA,SAASw8B,EAAU95C,EAAMsd,GACvB,IAAIhC,EAAOtb,EAAK2B,KAEhB,GAAgC,QAA5B3B,EAAKoa,WAAWP,QAClB,OAAOyD,EAAMjC,OAAOC,EAAK6J,QAE3B,GAA2B,IAAvB7J,EAAK6J,OAAOpkB,QAAgBf,EAAKoa,WAAWgL,UAAUgG,SAAS,gBACjE,OAAO9N,EAET,IAAKw9B,EAAa96C,EAAKoa,YAAY6iC,WAAWr1B,WAAW,OAAQ,CAE/D,IAAIs1B,EAAW,SAAkBC,EAAUjkC,GAEzC,OADAA,EAAQA,EAAM9S,QAAQ,aAAc,KACvBrF,OAAS,GAAKo8C,EAAW,IAAMjkC,CAClD,EAEIoC,GADAA,EAAOA,EAAKlV,QAAQ,QAAS,KAAKA,QAAQ,MAAO,MACrCA,QAAQ,SAAU82C,EAAS1sB,KAAK0sB,GAAU,KAC1B,MAAxBl9C,EAAKmxC,iBAA2BlS,EAAOj/B,EAAKoa,aAAuC,MAAxBpa,EAAKmxC,iBAA2BlS,EAAOj/B,EAAKmxC,oBACzG71B,EAAOA,EAAKlV,QAAQ,OAAQ82C,EAAS1sB,KAAK0sB,GAAU,MAE9B,MAApBl9C,EAAK87B,aAAuBmD,EAAOj/B,EAAKoa,aAAmC,MAApBpa,EAAK87B,aAAuBmD,EAAOj/B,EAAK87B,gBACjGxgB,EAAOA,EAAKlV,QAAQ,OAAQ82C,EAAS1sB,KAAK0sB,GAAU,IAE1D,CACE,OAAO5/B,EAAMjC,OAAOC,EACtB,CA7MAggC,EAAUhvB,SAAW,CACnBkvB,SAAU,GACVG,aAAa,GA6Mfl7C,EAAQ+W,QAAU8jC,EAClB76C,EAAQy5C,gBAAkBA,EAC1Bz5C,EAAQw5C,UAAYA,EACpBx5C,EAAQu5C,aAAeA,EACvBv5C,EAAQs5C,aAAeA,EACvBt5C,EAAQq5C,UAAYA,CAEpB,EAAA,SAEgBtrC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAQgCue,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpeqlB,EAAUzwB,EAAoB,GAY9B+nC,EAAA,SAAiBrrB,GAGnB,SAASqrB,IAGP,OAZJ,SAAyB/7B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMk8C,GAR1B,SAAoC75C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOk8C,EAAK5kC,WAAapV,OAAOwd,eAAew8B,IAAOv7B,MAAM3gB,KAAM+M,WACxG,CAsBE,OA/BF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAU27B,EAAMrrB,GAQhB7R,EAAak9B,EAAM,CAAC,CAClBpgD,IAAK,WACL2D,MAAO,SAAkByiB,GACvB5C,EAAK48B,EAAK37C,UAAU+W,WAAapV,OAAOwd,eAAew8B,EAAK37C,WAAY,WAAYP,MAAMY,KAAKZ,KAAMkiB,GACjGliB,KAAK4gB,QAAQjI,UAAY3Y,KAAKqiB,QAAQ1J,QAAQ,IAChD3Y,KAAKg7B,YAAYh7B,KAAKqiB,QAAQ/I,SAEtC,IACM,CAAC,CACHxd,IAAK,SACL2D,MAAO,WACL,OAAO6f,EAAK48B,EAAK5kC,WAAapV,OAAOwd,eAAew8B,GAAO,SAAUl8C,MAAMY,KAAKZ,KACtF,GACK,CACDlE,IAAK,UACL2D,MAAO,WACL,OAAO,CACb,KAGSy8C,CACT,CA9BI,GAR4Bl+B,EAFM4mB,IAEe5mB,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAsC5E1H,SAEX4lC,EAAK5iC,SAAW,OAChB4iC,EAAKvjC,QAAU,CAAC,SAAU,KAE1BpZ,EAAQ+W,QAAU4lC,CAElB,EAAA,SAEgB5uC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ48C,YAAc58C,EAAQ+W,aAAU,EAExC,IAAIqM,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBpB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfU,EAAeD,EAFDzL,EAAoB,IAMlC2L,EAAcF,EAFDzL,EAAoB,IAMjCuqB,EAAU9e,EAFDzL,EAAoB,IAM7BqP,EAAW5D,EAFDzL,EAAoB,KAM9BkP,EAAWzD,EAFDzL,EAAoB,IAIlC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAM7F,SAASqC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAI9O,IAAI+iB,GAAA,EAAYH,EAASlN,SAAS,iBAE9B8lC,EAAA,SAAoBtd,GAGtB,SAASsd,EAAQttB,EAAOzQ,IAX1B,SAAyB8B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAYnJF,CAAgBlgB,KAAMo8C,GAEtB,IAaMC,EAbF1kC,EAAQ0I,EAA2BrgB,MAAOo8C,EAAQ9kC,WAAapV,OAAOwd,eAAe08B,IAAUx7C,KAAKZ,KAAM8uB,EAAOzQ,IAErH,GAAI/d,MAAMmL,QAAQkM,EAAM0G,QAAQwF,WAAY,CAC1C,IAAIA,EAAY+C,SAASC,cAAc,OACvCs1B,EAAYt4B,EAAWlM,EAAM0G,QAAQwF,WACrCiL,EAAMjL,UAAU3K,WAAWkI,aAAayC,EAAWiL,EAAMjL,WACzDlM,EAAMkM,UAAYA,CACxB,KAAkD,iBAA5BlM,EAAM0G,QAAQwF,UAC9BlM,EAAMkM,UAAY+C,SAAS+E,cAAchU,EAAM0G,QAAQwF,WAEvDlM,EAAMkM,UAAYlM,EAAM0G,QAAQwF,UAElC,OAAMlM,EAAMkM,qBAAqBtL,aAKjCZ,EAAMkM,UAAUK,UAAUlb,IAAI,cAC9B2O,EAAM2kC,SAAW,GACjB3kC,EAAM81B,SAAW,CAAA,EACjBvrC,OAAOmC,KAAKsT,EAAM0G,QAAQovB,UAAU7iC,QAAQ,SAAUoW,GACpDrJ,EAAM4kC,WAAWv7B,EAAQrJ,EAAM0G,QAAQovB,SAASzsB,GACtD,GACI,GAAGpW,QAAQhK,KAAK+W,EAAMkM,UAAUiK,iBAAiB,kBAAmB,SAAUhV,GAC5EnB,EAAM6e,OAAO1d,EACnB,GACInB,EAAMmX,MAAM5J,GAAGwZ,EAAQpoB,QAAQ6O,OAAOC,cAAe,SAAUxhB,EAAM+hB,GAC/D/hB,IAAS86B,EAAQpoB,QAAQ6O,OAAOyJ,kBAClCjX,EAAMmO,OAAOH,EAErB,GACIhO,EAAMmX,MAAM5J,GAAGwZ,EAAQpoB,QAAQ6O,OAAOwJ,gBAAiB,WACrD,IAAI6tB,EAAwB7kC,EAAMmX,MAAMnK,UAAU2E,WAE9C3D,EADyBhD,EAAe65B,EAAuB,GAChC,GAGnC7kC,EAAMmO,OAAOH,EACnB,GACWhO,IAxBE0kC,EAAO14B,EAAMG,MAAM,iCAAkCnM,EAAM0G,SAAUgC,EAA2B1I,EAAO0kC,GAyBpH,CAiHE,OAnKF,SAAmB77B,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAK1eF,CAAU67B,EAAStd,GA+CnB9f,EAAao9B,EAAS,CAAC,CACrBtgD,IAAK,aACL2D,MAAO,SAAoBuhB,EAAQyN,GACjCzuB,KAAKytC,SAASzsB,GAAUyN,CAC9B,GACK,CACD3yB,IAAK,SACL2D,MAAO,SAAgBqZ,GACrB,IAAI0I,EAASxhB,KAETghB,EAAS,GAAG9K,KAAKtV,KAAKkY,EAAMoL,UAAW,SAAUzK,GACnD,OAAoC,IAA7BA,EAAU6D,QAAQ,MACjC,GACM,GAAK0D,EAAL,CAKA,GAJAA,EAASA,EAAO7F,MAAM,GACA,WAAlBrC,EAAMH,SACRG,EAAMuL,aAAa,OAAQ,UAEA,MAAzBrkB,KAAKytC,SAASzsB,GAAiB,CACjC,GAAmC,MAA/BhhB,KAAK8uB,MAAMtK,OAAOC,WAA4D,MAAvCzkB,KAAK8uB,MAAMtK,OAAOC,UAAUzD,GAErE,YADA2C,EAAM8C,KAAK,wCAAyCzF,EAAQlI,GAG9D,GAAyC,MAArCgH,EAAYxJ,QAAQH,MAAM6K,GAE5B,YADA2C,EAAM8C,KAAK,2CAA4CzF,EAAQlI,EAGzE,CACM,IAAI4U,EAA8B,WAAlB5U,EAAMH,QAAuB,SAAW,QACxDG,EAAM6U,iBAAiBD,EAAW,SAAUpqB,GAC1C,IAAI7D,OAAQ,EACZ,GAAsB,WAAlBqZ,EAAMH,QAAsB,CAC9B,GAAIG,EAAM+tB,cAAgB,EAAG,OAC7B,IAAIL,EAAW1tB,EAAMuF,QAAQvF,EAAM+tB,eAEjCpnC,GADE+mC,EAASJ,aAAa,cAGhBI,EAAS/mC,QAAS,EAEtC,MAEYA,GADEqZ,EAAMoL,UAAUgG,SAAS,eAGnBpR,EAAMrZ,QAAUqZ,EAAMstB,aAAa,UAE7C9iC,EAAE69B,iBAEJ3f,EAAOsN,MAAMxH,QAEb,IAAIm1B,EAAwBj7B,EAAOsN,MAAMnK,UAAU2E,WAE/C3D,EADyBhD,EAAe85B,EAAuB,GAChC,GAEnC,GAA+B,MAA3Bj7B,EAAOisB,SAASzsB,GAClBQ,EAAOisB,SAASzsB,GAAQpgB,KAAK4gB,EAAQ/hB,QAC/C,GAAmBqgB,EAAYxJ,QAAQH,MAAM6K,GAAQzgB,qBAAqBuf,EAAYxJ,QAAQG,MAAO,CAE3F,KADAhX,EAAQi9C,OAAO,SAAW17B,IACd,OACZQ,EAAOsN,MAAMyU,gBAAe,IAAI1jB,EAAavJ,SAAUiE,OAAOoL,EAAMjlB,OAAO4Z,OAAOqL,EAAM9lB,QAAQsa,OApH1G,SAAyB6D,EAAKliB,EAAK2D,GAAiK,OAApJ3D,KAAOkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,CAAI,CAoH9F0F,CAAgB,CAAA,EAAI1C,EAAQvhB,IAASi/B,EAAQpoB,QAAQmR,QAAQwD,KAC9K,MACUzJ,EAAOsN,MAAM9N,OAAOA,EAAQvhB,EAAOi/B,EAAQpoB,QAAQmR,QAAQwD,MAE7DzJ,EAAOsE,OAAOH,EACtB,GAEM3lB,KAAKs8C,SAASh7C,KAAK,CAAC0f,EAAQlI,GApDf,CAqDnB,GACK,CACDhd,IAAK,SACL2D,MAAO,SAAgBkmB,GACrB,IAAI9E,EAAmB,MAAT8E,EAAgB,CAAA,EAAK3lB,KAAK8uB,MAAM3F,UAAUxD,GACxD3lB,KAAKs8C,SAAS1xC,QAAQ,SAAUuwC,GAC9B,IAAIC,EAAQz4B,EAAew4B,EAAM,GAC7Bn6B,EAASo6B,EAAM,GACftiC,EAAQsiC,EAAM,GAElB,GAAsB,WAAlBtiC,EAAMH,QAAsB,CAC9B,IAAIutB,OAAS,EACb,GAAa,MAATvgB,EACFugB,EAAS,UACrB,GAAwC,MAAnBrlB,EAAQG,GACjBklB,EAASptB,EAAM6S,cAAc,6BACnBrrB,MAAMmL,QAAQoV,EAAQG,IAAU,CAC1C,IAAIvhB,EAAQohB,EAAQG,GACC,iBAAVvhB,IACTA,EAAQA,EAAMyF,QAAQ,MAAO,QAE/BghC,EAASptB,EAAM6S,cAAc,iBAAmBlsB,EAAQ,KACpE,CACwB,MAAVymC,GACFptB,EAAMrZ,MAAQ,GACdqZ,EAAM+tB,eAAgB,GAEtBX,EAAOM,UAAW,CAE9B,MACU,GAAa,MAAT7gB,EACF7M,EAAMoL,UAAUjC,OAAO,kBACnC,GAAqBnJ,EAAMstB,aAAa,SAAU,CAGtC,IAAIc,EAAWrmB,EAAQG,KAAYlI,EAAML,aAAa,UAA+B,MAAnBoI,EAAQG,IAAmBH,EAAQG,GAAQje,aAAe+V,EAAML,aAAa,UAA+B,MAAnBoI,EAAQG,KAAoBlI,EAAML,aAAa,SAC1MK,EAAMoL,UAAUoB,OAAO,YAAa4hB,EAChD,MACYpuB,EAAMoL,UAAUoB,OAAO,YAAgC,MAAnBzE,EAAQG,GAGxD,EACA,KAGSo7B,CACT,CAhKI,CAgKF/4B,EAAS/M,SAIX,SAASqmC,EAAU94B,EAAW7C,EAAQvhB,GACpC,IAAIqZ,EAAQ8N,SAASC,cAAc,UACnC/N,EAAMuL,aAAa,OAAQ,UAC3BvL,EAAMoL,UAAUlb,IAAI,MAAQgY,GACf,MAATvhB,IACFqZ,EAAMrZ,MAAQA,GAEhBokB,EAAUiO,YAAYhZ,EACxB,CAEA,SAASqjC,EAAYt4B,EAAW+4B,GACzBt8C,MAAMmL,QAAQmxC,EAAO,MACxBA,EAAS,CAACA,IAEZA,EAAOhyC,QAAQ,SAAU0xC,GACvB,IAAIO,EAAQj2B,SAASC,cAAc,QACnCg2B,EAAM34B,UAAUlb,IAAI,cACpBszC,EAAS1xC,QAAQ,SAAUkyC,GACzB,GAAuB,iBAAZA,EACTH,EAAUE,EAAOC,OACZ,CACL,IAAI97B,EAAS9e,OAAOmC,KAAKy4C,GAAS,GAC9Br9C,EAAQq9C,EAAQ97B,GAChB1gB,MAAMmL,QAAQhM,GAW1B,SAAmBokB,EAAW7C,EAAQjY,GACpC,IAAI+P,EAAQ8N,SAASC,cAAc,UACnC/N,EAAMoL,UAAUlb,IAAI,MAAQgY,GAC5BjY,EAAO6B,QAAQ,SAAUnL,GACvB,IAAIymC,EAAStf,SAASC,cAAc,WACtB,IAAVpnB,EACFymC,EAAO7hB,aAAa,QAAS5kB,GAE7BymC,EAAO7hB,aAAa,WAAY,YAElCvL,EAAMgZ,YAAYoU,EACtB,GACEriB,EAAUiO,YAAYhZ,EACxB,CAvBUikC,CAAUF,EAAO77B,EAAQvhB,GAEzBk9C,EAAUE,EAAO77B,EAAQvhB,EAEnC,CACA,GACIokB,EAAUiO,YAAY+qB,EAC1B,EACA,CAlCAT,EAAQhxB,SAAW,CAAA,EAmDnBgxB,EAAQhxB,SAAW,CACjBvH,UAAW,KACX4pB,SAAU,CACR3D,MAAO,WACL,IAAI/iB,EAAS/mB,KAET2lB,EAAQ3lB,KAAK8uB,MAAMnH,eACvB,GAAa,MAAThC,EACJ,GAAoB,GAAhBA,EAAM9lB,OAAa,CACrB,IAAIghB,EAAU7gB,KAAK8uB,MAAM3F,YACzBjnB,OAAOmC,KAAKwc,GAASjW,QAAQ,SAAU/M,GAEoC,MAArEiiB,EAAYxJ,QAAQH,MAAMtY,EAAMiiB,EAAYxJ,QAAQN,MAAMsC,SAC5DyO,EAAO+H,MAAM9N,OAAOnjB,GAAM,EAEtC,EACA,MACQmC,KAAK8uB,MAAMrE,aAAa9E,EAAO+Y,EAAQpoB,QAAQmR,QAAQwD,KAE/D,EACIgf,UAAW,SAAmBxqC,GAC5B,IAAIgqC,EAAQzpC,KAAK8uB,MAAM3F,YAAmB,MAC5B,QAAV1pB,GAA4B,MAATgqC,EACrBzpC,KAAK8uB,MAAM9N,OAAO,QAAS,QAAS0d,EAAQpoB,QAAQmR,QAAQwD,MAClDxrB,GAAmB,UAAVgqC,GACnBzpC,KAAK8uB,MAAM9N,OAAO,SAAS,EAAO0d,EAAQpoB,QAAQmR,QAAQwD,MAE5DjrB,KAAK8uB,MAAM9N,OAAO,YAAavhB,EAAOi/B,EAAQpoB,QAAQmR,QAAQwD,KACpE,EACIqX,OAAQ,SAAgB7iC,GACtB,IAAIkmB,EAAQ3lB,KAAK8uB,MAAMnH,eACnB9G,EAAU7gB,KAAK8uB,MAAM3F,UAAUxD,GAC/B2c,EAASoC,SAAS7jB,EAAQyhB,QAAU,GACxC,GAAc,OAAV7iC,GAA4B,OAAVA,EAAgB,CACpC,IAAImsB,EAAqB,OAAVnsB,EAAiB,GAAI,EACV,QAAtBohB,EAAQopB,YAAqBre,IAAY,GAC7C5rB,KAAK8uB,MAAM9N,OAAO,SAAUshB,EAAS1W,EAAU8S,EAAQpoB,QAAQmR,QAAQwD,KAC/E,CACA,EACIqf,KAAM,SAAc7qC,IACJ,IAAVA,IACFA,EAAQi9C,OAAO,oBAEjB18C,KAAK8uB,MAAM9N,OAAO,OAAQvhB,EAAOi/B,EAAQpoB,QAAQmR,QAAQwD,KAC/D,EACIgI,KAAM,SAAcxzB,GAClB,IAAIkmB,EAAQ3lB,KAAK8uB,MAAMnH,eACnB9G,EAAU7gB,KAAK8uB,MAAM3F,UAAUxD,GACrB,UAAVlmB,EACsB,YAApBohB,EAAc,MAAuC,cAApBA,EAAc,KACjD7gB,KAAK8uB,MAAM9N,OAAO,QAAQ,EAAO0d,EAAQpoB,QAAQmR,QAAQwD,MAEzDjrB,KAAK8uB,MAAM9N,OAAO,OAAQ,YAAa0d,EAAQpoB,QAAQmR,QAAQwD,MAGjEjrB,KAAK8uB,MAAM9N,OAAO,OAAQvhB,EAAOi/B,EAAQpoB,QAAQmR,QAAQwD,KAEjE,IAIA1rB,EAAQ+W,QAAU8lC,EAClB78C,EAAQ48C,YAAcA,CAEtB,EAAA,SAEgB7uC,EAAQ/N,GAExB+N,EAAO/N,QAAU,qOAEjB,EAAA,SAEgB+N,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAQgCue,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpey9B,EAAU7oC,EAAoB,IAY9B8oC,EAAA,SAAwBC,GAG1B,SAASD,EAAYtX,EAAQI,IAT/B,SAAyB5lB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMi9C,GAEtB,IAAItlC,EAVR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAU9Nyf,CAA2BrgB,MAAOi9C,EAAY3lC,WAAapV,OAAOwd,eAAeu9B,IAAcr8C,KAAKZ,KAAM2lC,IAOtH,OALAhuB,EAAMouB,MAAM/hB,UAAY+hB,EACxBpuB,EAAMkM,UAAUK,UAAUlb,IAAI,mBAC9B,GAAGmS,MAAMva,KAAK+W,EAAMkM,UAAUiK,iBAAiB,mBAAoB,EAAG,GAAGljB,QAAQ,SAAU4lB,GACzFA,EAAKtM,UAAUlb,IAAI,aACzB,GACW2O,CACX,CAyBE,OAzCF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAU08B,EAAaC,GAevBl+B,EAAai+B,EAAa,CAAC,CACzBnhD,IAAK,YACL2D,MAAO,SAAmBymC,GACxB,IAAI1V,EAAOlR,EAAK29B,EAAY18C,UAAU+W,WAAapV,OAAOwd,eAAeu9B,EAAY18C,WAAY,YAAaP,MAAMY,KAAKZ,KAAMkmC,GAE/H,OADA1V,EAAKqV,MAAMsX,gBAAkBjX,EAAOztB,aAAa,UAAY,GACtD+X,CACb,GACK,CACD10B,IAAK,aACL2D,MAAO,SAAoB+wB,EAAMoW,GAC/BtnB,EAAK29B,EAAY18C,UAAU+W,WAAapV,OAAOwd,eAAeu9B,EAAY18C,WAAY,aAAcP,MAAMY,KAAKZ,KAAMwwB,EAAMoW,GAC3H,IAAIwW,EAAap9C,KAAK+lC,MAAMpa,cAAc,mBACtClsB,EAAQ+wB,GAAOA,EAAK/X,aAAa,eAAsB,GACvD2kC,IACyB,SAAvBA,EAAWzkC,QACbykC,EAAWvX,MAAMwX,OAAS59C,EAE1B29C,EAAWvX,MAAMyX,KAAO79C,EAGlC,KAGSw9C,CACT,CAxCI,GAR4Bj/B,EAFMg/B,IAEeh/B,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAgD5E1H,SAEX/W,EAAQ+W,QAAU2mC,CAElB,EAAA,SAEgB3vC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAQgCue,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpey9B,EAAU7oC,EAAoB,IAY9BopC,EAAA,SAAuBL,GAGzB,SAASK,EAAW5X,EAAQ0H,IAT9B,SAAyBltB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMu9C,GAEtB,IAAI5lC,EAVR,SAAoCtV,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAU9Nyf,CAA2BrgB,MAAOu9C,EAAWjmC,WAAapV,OAAOwd,eAAe69B,IAAa38C,KAAKZ,KAAM2lC,IAQpH,OANAhuB,EAAMkM,UAAUK,UAAUlb,IAAI,kBAC9B,GAAG4B,QAAQhK,KAAK+W,EAAMkM,UAAUiK,iBAAiB,mBAAoB,SAAU0C,GAC7EA,EAAKxM,UAAYqpB,EAAM7c,EAAK/X,aAAa,eAAiB,GAChE,GACId,EAAM6lC,YAAc7lC,EAAMkM,UAAU8H,cAAc,gBAClDhU,EAAM0uB,WAAW1uB,EAAM6lC,aAChB7lC,CACX,CAWE,OA5BF,SAAmB6I,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUg9B,EAAYL,GAgBtBl+B,EAAau+B,EAAY,CAAC,CACxBzhD,IAAK,aACL2D,MAAO,SAAoB+wB,EAAMoW,GAC/BtnB,EAAKi+B,EAAWh9C,UAAU+W,WAAapV,OAAOwd,eAAe69B,EAAWh9C,WAAY,aAAcP,MAAMY,KAAKZ,KAAMwwB,EAAMoW,GACzHpW,EAAOA,GAAQxwB,KAAKw9C,YACpBx9C,KAAK+lC,MAAM/hB,UAAYwM,EAAKxM,SAClC,KAGSu5B,CACT,CA3BI,GAR4Bv/B,EAFMg/B,IAEeh/B,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAmC5E1H,SAEX/W,EAAQ+W,QAAUinC,CAElB,EAAA,SAEgBjwC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIuf,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfs+B,aACF,SAASA,EAAQ3uB,EAAOqf,GACtB,IAAIx2B,EAAQ3X,MAJhB,SAAyBmgB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAMnJF,CAAgBlgB,KAAMy9C,GAEtBz9C,KAAK8uB,MAAQA,EACb9uB,KAAKmuC,gBAAkBA,GAAmBvnB,SAASuP,KACnDn2B,KAAKsC,KAAOwsB,EAAM1K,aAAa,cAC/BpkB,KAAKsC,KAAK0hB,UAAYhkB,KAAKgQ,YAAY0tC,SACnC19C,KAAK8uB,MAAMxsB,OAAStC,KAAK8uB,MAAMxK,oBACjCtkB,KAAK8uB,MAAMxsB,KAAKqrB,iBAAiB,SAAU,WACzChW,EAAMrV,KAAKujC,MAAM+V,aAAiBjkC,EAAMmX,MAAMxsB,KAAK+kB,UAAY,IACvE,GAEIrnB,KAAKgtC,MACT,CA2CE,OAzCAhuB,EAAay+B,EAAS,CAAC,CACrB3hD,IAAK,OACL2D,MAAO,WACLO,KAAKsC,KAAK4hB,UAAUlb,IAAI,YAC9B,GACK,CACDlN,IAAK,WACL2D,MAAO,SAAkBk+C,GACvB,IAAI90B,EAAO80B,EAAU90B,KAAO80B,EAAU3hD,MAAQ,EAAIgE,KAAKsC,KAAKs7C,YAAc,EAEtEh1B,EAAM+0B,EAAUh1B,OAAS3oB,KAAK8uB,MAAMxsB,KAAK+kB,UAC7CrnB,KAAKsC,KAAKujC,MAAMhd,KAAOA,EAAO,KAC9B7oB,KAAKsC,KAAKujC,MAAMjd,IAAMA,EAAM,KAC5B5oB,KAAKsC,KAAK4hB,UAAUjC,OAAO,WAC3B,IAAIwG,EAAkBzoB,KAAKmuC,gBAAgBzlB,wBACvCm1B,EAAa79C,KAAKsC,KAAKomB,wBACvB9G,EAAQ,EASZ,GARIi8B,EAAW/0B,MAAQL,EAAgBK,QACrClH,EAAQ6G,EAAgBK,MAAQ+0B,EAAW/0B,MAC3C9oB,KAAKsC,KAAKujC,MAAMhd,KAAOA,EAAOjH,EAAQ,MAEpCi8B,EAAWh1B,KAAOJ,EAAgBI,OACpCjH,EAAQ6G,EAAgBI,KAAOg1B,EAAWh1B,KAC1C7oB,KAAKsC,KAAKujC,MAAMhd,KAAOA,EAAOjH,EAAQ,MAEpCi8B,EAAWl1B,OAASF,EAAgBE,OAAQ,CAC9C,IAAI1sB,EAAS4hD,EAAWl1B,OAASk1B,EAAWj1B,IACxCk1B,EAAgBH,EAAUh1B,OAASg1B,EAAU/0B,IAAM3sB,EACvD+D,KAAKsC,KAAKujC,MAAMjd,IAAMA,EAAMk1B,EAAgB,KAC5C99C,KAAKsC,KAAK4hB,UAAUlb,IAAI,UAChC,CACM,OAAO4Y,CACb,GACK,CACD9lB,IAAK,OACL2D,MAAO,WACLO,KAAKsC,KAAK4hB,UAAUjC,OAAO,cAC3BjiB,KAAKsC,KAAK4hB,UAAUjC,OAAO,YACjC,KAGSw7B,CACT,IAEAl+C,EAAQ+W,QAAUmnC,CAElB,EAAA,SAEgBnwC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAAIkjB,EAAiB,WAAwZ,OAAO,SAAU7E,EAAKzJ,GAAK,GAAI/T,MAAMmL,QAAQqS,GAAQ,OAAOA,EAAI,GAAYrb,OAAO+Y,YAAYtZ,OAAO4b,GAAQ,OAAxf,SAAuBA,EAAKzJ,GAAK,IAAIuO,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK,EAAW,IAAM,IAAA,IAAsCC,EAA7B5J,EAAK0E,EAAIrb,OAAO+Y,cAAmBqH,GAAMG,EAAK5J,EAAGuC,QAAQsH,QAAoBL,EAAKthB,KAAK0hB,EAAGvjB,QAAY4U,GAAKuO,EAAK/iB,SAAWwU,GAA3DwO,GAAK,UAA2EllB,GAAOmlB,GAAK,EAAMC,EAAKplB,CAAI,CAAA,QAAa,KAAWklB,GAAMzJ,EAAW,QAAGA,EAAW,iBAAiB,GAAI0J,EAAI,MAAMC,EAAK,CAAG,OAAOH,EAA6HM,CAAcpF,EAAKzJ,GAAa,MAAM,IAAI+L,UAAU,uDAA0D,CAAG,CAA9nB,GAEjBd,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpeP,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfQ,EAAWC,EAFDzL,EAAoB,IAM9B+X,EAAYtM,EAFDzL,EAAoB,IAI/B4pC,EAAQ5pC,EAAoB,IAE5B6pC,EAASp+B,EAAuBm+B,GAIhCE,EAASr+B,EAFDzL,EAAoB,KAI5BmP,EAAanP,EAAoB,IAIjC+pC,EAAUt+B,EAFDzL,EAAoB,KAIjC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAAI09B,EAAiB,CAAC,CAAC,CAAEva,OAAQ,CAAC,IAAK,IAAK,KAAK,KAAW,CAAC,OAAQ,SAAU,YAAa,QAAS,CAAC,CAAE3Q,KAAM,WAAa,CAAEA,KAAM,WAAa,CAAC,UAE7ImrB,EAAA,SAAsBC,GAGxB,SAASD,EAAUtvB,EAAOzQ,GACxB6B,EAAgBlgB,KAAMo+C,GAES,MAA3B//B,EAAQpK,QAAQyX,SAAwD,MAArCrN,EAAQpK,QAAQyX,QAAQ7H,YAC7DxF,EAAQpK,QAAQyX,QAAQ7H,UAAYs6B,GAGtC,IAAIxmC,EAAQ0I,EAA2BrgB,MAAOo+C,EAAU9mC,WAAapV,OAAOwd,eAAe0+B,IAAYx9C,KAAKZ,KAAM8uB,EAAOzQ,IAGzH,OADA1G,EAAMmX,MAAMjL,UAAUK,UAAUlb,IAAI,WAC7B2O,CACX,CAiBE,OA9BA4I,EAAU69B,EAAWC,GAerBr/B,EAAao/B,EAAW,CAAC,CACvBtiD,IAAK,gBACL2D,MAAO,SAAuBisB,GAC5BA,EAAQ7H,UAAUK,UAAUlb,IAAI,WAChChJ,KAAKs+C,aAAa,GAAGnjC,MAAMva,KAAK8qB,EAAQ7H,UAAUiK,iBAAiB,WAAYowB,EAAQ5nC,SACvFtW,KAAKu+C,aAAa,GAAGpjC,MAAMva,KAAK8qB,EAAQ7H,UAAUiK,iBAAiB,WAAYowB,EAAQ5nC,SACvFtW,KAAK8sC,QAAU,IAAI0R,EAAYx+C,KAAK8uB,MAAO9uB,KAAKqe,QAAQkK,QACpDmD,EAAQ7H,UAAU8H,cAAc,aAClC3rB,KAAK8uB,MAAMjK,SAASma,WAAW,CAAEljC,IAAK,IAAK8mC,UAAU,GAAQ,SAAUjd,EAAOzD,GAC5EwJ,EAAQ+hB,SAAe,KAAE7sC,KAAK8qB,GAAUxJ,EAAQlB,OAAOspB,KACjE,EAEA,KAGS8T,CACT,CAhCI,CAgCFJ,EAAO1nC,SAET8nC,EAAUhzB,UAAA,EAAezL,EAASrJ,UAAS,EAAM,GAAI0nC,EAAO1nC,QAAQ8U,SAAU,CAC5EnX,QAAS,CACPyX,QAAS,CACP+hB,SAAU,CACRnD,KAAM,SAAc7qC,GAClB,GAAIA,EAAO,CACT,IAAIkmB,EAAQ3lB,KAAK8uB,MAAMnH,eACvB,GAAa,MAAThC,GAAiC,GAAhBA,EAAM9lB,OAAa,OACxC,IAAI0uC,EAAUvuC,KAAK8uB,MAAMrF,QAAQ9D,GAC7B,iBAAiBvgB,KAAKmpC,IAA2C,IAA/BA,EAAQjxB,QAAQ,aACpDixB,EAAU,UAAYA,GAEVvuC,KAAK8uB,MAAMlK,MAAMkoB,QACvBY,KAAK,OAAQa,EACjC,MACYvuC,KAAK8uB,MAAM9N,OAAO,QAAQ,EAEtC,OAMA,IAAIw9B,EAAA,SAAwBC,GAG1B,SAASD,EAAY1vB,EAAOvG,GAC1BrI,EAAgBlgB,KAAMw+C,GAEtB,IAAIh9B,EAASnB,EAA2BrgB,MAAOw+C,EAAYlnC,WAAapV,OAAOwd,eAAe8+B,IAAc59C,KAAKZ,KAAM8uB,EAAOvG,IAG9H,OADA/G,EAAO+sB,QAAU/sB,EAAOlf,KAAKqpB,cAAc,gBACpCnK,CACX,CAyDE,OAlEAjB,EAAUi+B,EAAaC,GAWvBz/B,EAAaw/B,EAAa,CAAC,CACzB1iD,IAAK,SACL2D,MAAO,WACL,IAAIsnB,EAAS/mB,KAEbsf,EAAKk/B,EAAYj+C,UAAU+W,WAAapV,OAAOwd,eAAe8+B,EAAYj+C,WAAY,SAAUP,MAAMY,KAAKZ,MAC3GA,KAAKsC,KAAKqpB,cAAc,eAAegC,iBAAiB,QAAS,SAAUU,GACrEtH,EAAOzkB,KAAK4hB,UAAUgG,SAAS,cACjCnD,EAAOqnB,OAEPrnB,EAAO2mB,KAAK,OAAQ3mB,EAAOwnB,QAAQvd,aAErC3C,EAAM8S,gBACd,GACMnhC,KAAKsC,KAAKqpB,cAAc,eAAegC,iBAAiB,QAAS,SAAUU,GACzE,GAAwB,MAApBtH,EAAOynB,UAAmB,CAC5B,IAAI7oB,EAAQoB,EAAOynB,UACnBznB,EAAO0nB,eACP1nB,EAAO+H,MAAMhH,WAAWnC,EAAO,QAAQ,EAAOuG,EAAU5V,QAAQmR,QAAQwD,aACjElE,EAAOynB,SACxB,CACQngB,EAAM8S,iBACNpa,EAAOimB,MACf,GACMhtC,KAAK8uB,MAAM5J,GAAGgH,EAAU5V,QAAQ6O,OAAOyJ,iBAAkB,SAAUjJ,EAAOqT,EAAUvT,GAClF,GAAa,MAATE,EAAJ,CACA,GAAqB,IAAjBA,EAAM9lB,QAAgB4lB,IAAWyG,EAAU5V,QAAQmR,QAAQwD,KAAM,CACnE,IAAIsX,EAAwBxb,EAAO+H,MAAMtK,OAAO2M,WAAW8sB,EAAO3nC,QAASqP,EAAMjlB,OAC7E8hC,EAAyB7f,EAAe4f,EAAuB,GAC/D+H,EAAO9H,EAAuB,GAC9B32B,EAAS22B,EAAuB,GAEpC,GAAY,MAAR8H,EAAc,CAChBvjB,EAAOynB,UAAY,IAAIlrB,EAAW0H,MAAMrF,EAAMjlB,MAAQmL,EAAQy+B,EAAKzqC,UACnE,IAAI0uC,EAAU0P,EAAO3nC,QAAQuK,QAAQypB,EAAK1pB,SAK1C,OAJAmG,EAAOwnB,QAAQvd,YAAcud,EAC7BxnB,EAAOwnB,QAAQlqB,aAAa,OAAQkqB,GACpCxnB,EAAO23B,YACP33B,EAAO6P,SAAS7P,EAAO+H,MAAMtG,UAAUzB,EAAOynB,WAE1D,CACA,aACiBznB,EAAOynB,UAEhBznB,EAAOimB,MAnBY,CAoB3B,EACA,GACK,CACDlxC,IAAK,OACL2D,MAAO,WACL6f,EAAKk/B,EAAYj+C,UAAU+W,WAAapV,OAAOwd,eAAe8+B,EAAYj+C,WAAY,OAAQP,MAAMY,KAAKZ,MACzGA,KAAKsC,KAAKouB,gBAAgB,YAChC,KAGS8tB,CACT,CApEI,CAoEFT,EAAM/R,aAERwS,EAAYd,SAAW,CAAC,0FAA2F,mGAAoG,4BAA6B,6BAA6B9gC,KAAK,IAEtRrd,EAAQ+W,QAAU8nC,CAElB,EAAA,SAEgB9wC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAEIk/C,EAAS/+B,EAFDzL,EAAoB,KAI5B+kC,EAAS/kC,EAAoB,IAE7BilC,EAAajlC,EAAoB,IAEjCyqC,EAAUzqC,EAAoB,IAI9B0qC,EAAej/B,EAFDzL,EAAoB,KAMlC2qC,EAAWl/B,EAFDzL,EAAoB,KAI9B4qC,EAAQ5qC,EAAoB,IAE5B6qC,EAASp/B,EAAuBm/B,GAEhC5F,EAAchlC,EAAoB,IAElC60B,EAAS70B,EAAoB,IAE7BklC,EAAQllC,EAAoB,IAE5BmlC,EAAQnlC,EAAoB,IAI5B8qC,EAASr/B,EAFDzL,EAAoB,KAM5B+qC,EAAWt/B,EAFDzL,EAAoB,KAM9B8pC,EAASr+B,EAFDzL,EAAoB,KAM5BgrC,EAAWv/B,EAFDzL,EAAoB,KAM9BirC,EAAWx/B,EAFDzL,EAAoB,KAM9BkrC,EAAcz/B,EAFDzL,EAAoB,KAMjCmrC,EAAU1/B,EAFDzL,EAAoB,KAM7BorC,EAAU3/B,EAFDzL,EAAoB,KAI7BqrC,EAAQrrC,EAAoB,IAE5Bke,EAASzS,EAAuB4/B,GAIhCC,EAAY7/B,EAFDzL,EAAoB,KAM/BurC,EAAW9/B,EAFDzL,EAAoB,KAM9BwrC,EAAY//B,EAFDzL,EAAoB,KAM/B+pC,EAAUt+B,EAFDzL,EAAoB,KAM7Bg4B,EAAWvsB,EAFDzL,EAAoB,KAM9B83B,EAAgBrsB,EAFDzL,EAAoB,KAMnC+3B,EAAetsB,EAFDzL,EAAoB,KAMlCi4B,EAAYxsB,EAFDzL,EAAoB,KAM/ByrC,EAAWhgC,EAFDzL,EAAoB,MAM9B0rC,EAASjgC,EAFDzL,EAAoB,KAIhC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F2gC,EAAOroC,QAAQF,SAAS,CACtB,kCAAmCgjC,EAAWjQ,mBAE9C,0BAA2B+P,EAAOtQ,WAClC,+BAAgCuQ,EAAYpQ,gBAC5C,0BAA2BC,EAAOzE,WAClC,8BAA+B6U,EAAWlQ,eAC1C,yBAA0BmQ,EAAMjQ,UAChC,yBAA0BkQ,EAAM9P,UAEhC,0BAA2B0P,EAAOvQ,WAClC,+BAAgCwQ,EAAYrQ,gBAC5C,0BAA2BE,EAAO1E,WAClC,8BAA+B8U,EAAWnQ,eAC1C,yBAA0BoQ,EAAMhQ,UAChC,yBAA0BiQ,EAAM/P,YAC/B,GAEHoV,EAAOroC,QAAQF,SAAS,CACtB,gBAAiB8iC,EAAOtQ,WACxB,oBAAqBwQ,EAAWlQ,eAChC,iBAAkB0V,EAAQkB,YAE1B,qBAAsB3G,EAAYrQ,gBAClC,gBAAiBE,EAAO1E,WACxB,eAAgB+U,EAAMjQ,UACtB,eAAgBkQ,EAAM9P,UAEtB,qBAAsBqV,EAAavoC,QACnC,qBAAsB+b,EAAO/b,QAC7B,iBAAkBwoC,EAASxoC,QAC3B,eAAgB0oC,EAAO1oC,QAEvB,eAAgB2oC,EAAO3oC,QACvB,eAAgBkpC,EAAM7uB,KACtB,iBAAkBuuB,EAAS5oC,QAC3B,eAAgB2nC,EAAO3nC,QACvB,iBAAkB6oC,EAAS7oC,QAC3B,iBAAkB8oC,EAAS9oC,QAC3B,oBAAqB+oC,EAAY/oC,QAEjC,gBAAiBgpC,EAAQhpC,QACzB,gBAAiBipC,EAAQjpC,QAEzB,oBAAqByoC,EAAMgB,SAE3B,kBAAmBN,EAAUnpC,QAC7B,iBAAkBopC,EAASppC,QAC3B,kBAAmBqpC,EAAUrpC,QAE7B,gBAAiBspC,EAAStpC,QAC1B,cAAeupC,EAAOvpC,QAEtB,WAAY4nC,EAAQ5nC,QACpB,YAAa61B,EAAS71B,QACtB,iBAAkB41B,EAAa51B,QAC/B,kBAAmB21B,EAAc31B,QACjC,aAAc81B,EAAU91B,UACvB,GAEH/W,EAAQ+W,QAAUqoC,EAAOroC,OAEzB,EAAA,SAEgBhJ,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQugD,iBAAc,EAEtB,IAQgC9hC,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpe+N,EAAanZ,EAAoB,GAEjC2L,GAE4B9B,EAFSsP,IAEYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAQnFgiC,EAAA,SAA4Bvb,GAG9B,SAASub,IAGP,OAZJ,SAAyB7/B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMggD,GAR1B,SAAoC39C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOggD,EAAgB1oC,WAAapV,OAAOwd,eAAesgC,IAAkBr/B,MAAM3gB,KAAM+M,WAC9H,CA4BE,OArCF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUy/B,EAAiBvb,GAQ3BzlB,EAAaghC,EAAiB,CAAC,CAC7BlkD,IAAK,MACL2D,MAAO,SAAaX,EAAMW,GACxB,GAAc,OAAVA,GAA4B,OAAVA,EAAgB,CACpC,IAAI6iC,EAAStiC,KAAKP,MAAMX,IAAS,EACjCW,EAAkB,OAAVA,EAAiB6iC,EAAS,EAAIA,EAAS,CACvD,CACM,OAAc,IAAV7iC,GACFO,KAAKiiB,OAAOnjB,IACL,GAEAwgB,EAAK0gC,EAAgBz/C,UAAU+W,WAAapV,OAAOwd,eAAesgC,EAAgBz/C,WAAY,MAAOP,MAAMY,KAAKZ,KAAMlB,EAAMW,EAE3I,GACK,CACD3D,IAAK,SACL2D,MAAO,SAAgBX,EAAMW,GAC3B,OAAO6f,EAAK0gC,EAAgBz/C,UAAU+W,WAAapV,OAAOwd,eAAesgC,EAAgBz/C,WAAY,SAAUP,MAAMY,KAAKZ,KAAMlB,EAAMW,IAAU6f,EAAK0gC,EAAgBz/C,UAAU+W,WAAapV,OAAOwd,eAAesgC,EAAgBz/C,WAAY,SAAUP,MAAMY,KAAKZ,KAAMlB,EAAM4lC,SAASjlC,GAC9R,GACK,CACD3D,IAAK,QACL2D,MAAO,SAAeX,GACpB,OAAO4lC,SAASplB,EAAK0gC,EAAgBz/C,UAAU+W,WAAapV,OAAOwd,eAAesgC,EAAgBz/C,WAAY,QAASP,MAAMY,KAAKZ,KAAMlB,UAAU,CACxJ,KAGSkhD,CACT,CApCI,CAoCFlgC,EAAYxJ,QAAQQ,WAAWE,OAE7B8oC,EAAc,IAAIE,EAAgB,SAAU,YAAa,CAC3DjoC,MAAO+H,EAAYxJ,QAAQN,MAAMqC,MACjCoM,UAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAGnCllB,EAAQugD,YAAcA,CAEtB,EAAA,SAEgBxyC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAIgCue,EAJ5BuU,EAASpe,EAAoB,GAY7B8rC,EAAA,SAAuBlvB,GAGzB,SAASkvB,IAGP,OAZJ,SAAyB9/B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMigD,GAR1B,SAAoC59C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOigD,EAAW3oC,WAAapV,OAAOwd,eAAeugC,IAAat/B,MAAM3gB,KAAM+M,WACpH,CAEE,OAXF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAU0/B,EAAYlvB,GAQfkvB,CACT,CAVI,GAR4BjiC,EAFKuU,IAEgBvU,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAkB7E1H,SAEV2pC,EAAW3mC,SAAW,aACtB2mC,EAAWtnC,QAAU,aAErBpZ,EAAQ+W,QAAU2pC,CAElB,EAAA,SAEgB3yC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAMgCue,EAN5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfoT,EAASpe,EAAoB,GAY7B+rC,EAAA,SAAmBnvB,GAGrB,SAASmvB,IAGP,OAZJ,SAAyB//B,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMkgD,GAR1B,SAAoC79C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOkgD,EAAO5oC,WAAapV,OAAOwd,eAAewgC,IAASv/B,MAAM3gB,KAAM+M,WAC5G,CASE,OAlBF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAU2/B,EAAQnvB,GAQlB/R,EAAakhC,EAAQ,KAAM,CAAC,CAC1BpkD,IAAK,UACL2D,MAAO,SAAiBmhB,GACtB,OAAO5gB,KAAK2Y,QAAQ2E,QAAQsD,EAAQjI,SAAW,CACrD,KAGSunC,CACT,CAjBI,GAR4BliC,EAFKuU,IAEgBvU,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAyB7E1H,SAEV4pC,EAAO5mC,SAAW,SAClB4mC,EAAOvnC,QAAU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAEhDpZ,EAAQ+W,QAAU4pC,CAElB,EAAA,SAEgB5yC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQwgD,cAAW,EAErC,IAAI/gC,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeO,EAAcF,EAFDzL,EAAoB,IAMjCyc,EAAUhR,EAFDzL,EAAoB,IAM7B2pB,EAAcle,EAFDzL,EAAoB,KAIrC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAI7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAAIs/B,EAAA,SAAqBhvB,GAGvB,SAASgvB,IAGP,OAFA7/B,EAAgBlgB,KAAM+/C,GAEf1/B,EAA2BrgB,MAAO+/C,EAASzoC,WAAapV,OAAOwd,eAAeqgC,IAAWp/B,MAAM3gB,KAAM+M,WAChH,CAuCE,OA7CAwT,EAAUw/B,EAAUhvB,GAQpB/R,EAAa+gC,EAAU,CAAC,CACtBjkD,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GACvB5B,IAASsiD,EAAK7mC,UAAa7Z,EAG7B6f,EAAKygC,EAASx/C,UAAU+W,WAAapV,OAAOwd,eAAeqgC,EAASx/C,WAAY,SAAUP,MAAMY,KAAKZ,KAAMnC,EAAM4B,GAFjHO,KAAKg7B,YAAYlb,EAAYxJ,QAAQL,OAAOjW,KAAKqiB,QAAQtK,OAIjE,GACK,CACDjc,IAAK,SACL2D,MAAO,WACY,MAAbO,KAAK+xB,MAA6B,MAAb/xB,KAAK2b,KAC5B3b,KAAKyf,OAAOwC,SAEZ3C,EAAKygC,EAASx/C,UAAU+W,WAAapV,OAAOwd,eAAeqgC,EAASx/C,WAAY,SAAUP,MAAMY,KAAKZ,KAE7G,GACK,CACDlE,IAAK,cACL2D,MAAO,SAAqB5B,EAAM4B,GAEhC,OADAO,KAAKyf,OAAOuN,QAAQhtB,KAAK6L,OAAO7L,KAAKyf,QAASzf,KAAKH,UAC/ChC,IAASmC,KAAKyf,OAAO4C,QAAQ/I,UAC/BtZ,KAAKyf,OAAOub,YAAYn9B,EAAM4B,GACvBO,OAEPA,KAAKyf,OAAOyS,SACL5S,EAAKygC,EAASx/C,UAAU+W,WAAapV,OAAOwd,eAAeqgC,EAASx/C,WAAY,cAAeP,MAAMY,KAAKZ,KAAMnC,EAAM4B,GAErI,IACM,CAAC,CACH3D,IAAK,UACL2D,MAAO,SAAiBmhB,GACtB,OAAOA,EAAQjI,UAAY3Y,KAAK2Y,aAAU,EAAY2G,EAAKygC,EAASzoC,WAAapV,OAAOwd,eAAeqgC,GAAW,UAAW//C,MAAMY,KAAKZ,KAAM4gB,EACpJ,KAGSm/B,CACT,CA/CI,CA+CFnvB,EAAQta,SAEVypC,EAASzmC,SAAW,YACpBymC,EAASpnC,QAAU,KAEnB,IAAIwnC,EAAA,SAAiBC,GA4BnB,SAASD,EAAKv/B,GACZV,EAAgBlgB,KAAMmgD,GAEtB,IAAI3+B,EAASnB,EAA2BrgB,MAAOmgD,EAAK7oC,WAAapV,OAAOwd,eAAeygC,IAAOv/C,KAAKZ,KAAM4gB,IAErGy/B,EAAmB,SAA0B/8C,GAC/C,GAAIA,EAAE8a,OAAOlF,aAAe0H,EAA5B,CACA,IAAII,EAASQ,EAAOa,QAAQxB,QAAQD,GAChC3H,EAAO6G,EAAYxJ,QAAQJ,KAAK5S,EAAE8a,QACvB,YAAX4C,EACF/H,EAAK+H,OAAO,OAAQ,aACA,cAAXA,GACT/H,EAAK+H,OAAO,OAAQ,UANe,CAQ3C,EAII,OAFAJ,EAAQ+M,iBAAiB,aAAc0yB,GACvCz/B,EAAQ+M,iBAAiB,YAAa0yB,GAC/B7+B,CACX,CAgDE,OA9FAjB,EAAU4/B,EAAMC,GAEhBphC,EAAamhC,EAAM,KAAM,CAAC,CACxBrkD,IAAK,SACL2D,MAAO,SAAgBA,GACrB,IAAIkZ,EAAoB,YAAVlZ,EAAsB,KAAO,KACvCX,EAAOwgB,EAAK6gC,EAAK7oC,WAAapV,OAAOwd,eAAeygC,GAAO,SAAUngD,MAAMY,KAAKZ,KAAM2Y,GAI1F,MAHc,YAAVlZ,GAAiC,cAAVA,GACzBX,EAAKulB,aAAa,eAA0B,YAAV5kB,GAE7BX,CACb,GACK,CACDhD,IAAK,UACL2D,MAAO,SAAiBmhB,GACtB,MAAwB,OAApBA,EAAQjI,QAAyB,UACb,OAApBiI,EAAQjI,QACNiI,EAAQwlB,aAAa,gBACyB,SAAzCxlB,EAAQnI,aAAa,gBAA6B,UAAY,YAE9D,cAJX,CAQN,KAwBEuG,EAAamhC,EAAM,CAAC,CAClBrkD,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GACvBO,KAAK6hB,SAAShiB,OAAS,GACzBG,KAAK6hB,SAASC,KAAKd,OAAOnjB,EAAM4B,EAExC,GACK,CACD3D,IAAK,UACL2D,MAAO,WAEL,OAxHmBue,EAwHI,CAAA,EAxHCliB,EAwHGkE,KAAKqiB,QAAQ/I,SAxHX7Z,EAwHqBO,KAAKqiB,QAAQxB,QAAQ7gB,KAAK4gB,SAxHlC9kB,KAAOkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,EAA3M,IAAyBA,EAAKliB,EAAK2D,CAyHnC,GACK,CACD3D,IAAK,eACL2D,MAAO,SAAsBwZ,EAAM8I,GACjC,GAAI9I,aAAgB8mC,EAClBzgC,EAAK6gC,EAAK5/C,UAAU+W,WAAapV,OAAOwd,eAAeygC,EAAK5/C,WAAY,eAAgBP,MAAMY,KAAKZ,KAAMiZ,EAAM8I,OAC1G,CACL,IAAIrhB,EAAe,MAAPqhB,EAAc/hB,KAAKH,SAAWkiB,EAAIlW,OAAO7L,MACjDu2B,EAAQv2B,KAAK0Y,MAAMhY,GACvB61B,EAAM9W,OAAO2B,aAAanI,EAAMsd,EACxC,CACA,GACK,CACDz6B,IAAK,WACL2D,MAAO,SAAkByiB,GACvB5C,EAAK6gC,EAAK5/C,UAAU+W,WAAapV,OAAOwd,eAAeygC,EAAK5/C,WAAY,WAAYP,MAAMY,KAAKZ,KAAMkiB,GACrG,IAAIvG,EAAO3b,KAAK2b,KACJ,MAARA,GAAgBA,EAAKoW,OAAS/xB,MAAQ2b,EAAK0G,QAAQ/I,WAAatZ,KAAKqiB,QAAQ/I,UAAYqC,EAAKiF,QAAQjI,UAAY3Y,KAAK4gB,QAAQjI,SAAWgD,EAAKiF,QAAQnI,aAAa,kBAAoBzY,KAAK4gB,QAAQnI,aAAa,kBACpNkD,EAAKuR,aAAaltB,MAClB2b,EAAKsG,SAEb,GACK,CACDnmB,IAAK,UACL2D,MAAO,SAAiB2e,GACtB,GAAIA,EAAOiE,QAAQ/I,WAAatZ,KAAKqiB,QAAQ/I,SAAU,CACrD,IAAIkX,EAAO1Q,EAAYxJ,QAAQL,OAAOjW,KAAKqiB,QAAQC,cACnDlE,EAAO8O,aAAasD,GACpBxwB,KAAK8xB,YAAYtB,EACzB,CACMlR,EAAK6gC,EAAK5/C,UAAU+W,WAAapV,OAAOwd,eAAeygC,EAAK5/C,WAAY,UAAWP,MAAMY,KAAKZ,KAAMoe,EAC1G,KAGS+hC,CACT,CAhGI,CAgGFriB,EAAYxnB,SAEd6pC,EAAK7mC,SAAW,OAChB6mC,EAAKpoC,MAAQ+H,EAAYxJ,QAAQN,MAAMsL,WACvC6+B,EAAKxnC,QAAU,CAAC,KAAM,MACtBwnC,EAAK79B,aAAe,YACpB69B,EAAK59B,gBAAkB,CAACw9B,GAExBxgD,EAAQwgD,SAAWA,EACnBxgD,EAAQ+W,QAAU6pC,CAElB,EAAA,SAEgB7yC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAIgCue,EAJ5BsiC,EAAQnsC,EAAoB,IAY5BosC,EAAA,SAAmBC,GAGrB,SAASD,IAGP,OAZJ,SAAyBpgC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMugD,GAR1B,SAAoCl+C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOugD,EAAOjpC,WAAapV,OAAOwd,eAAe6gC,IAAS5/B,MAAM3gB,KAAM+M,WAC5G,CAEE,OAXF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUggC,EAAQC,GAQXD,CACT,CAVI,GAR4BviC,EAFIsiC,IAEiBtiC,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAkB9E1H,SAETiqC,EAAOjnC,SAAW,SAClBinC,EAAO5nC,QAAU,CAAC,KAAM,KAExBpZ,EAAQ+W,QAAUiqC,CAElB,EAAA,SAEgBjzC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAQgCue,EAR5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpeqlB,EAAUzwB,EAAoB,GAY9BssC,EAAA,SAAmB5vB,GAGrB,SAAS4vB,IAGP,OAZJ,SAAyBtgC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAMygD,GAR1B,SAAoCp+C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAOygD,EAAOnpC,WAAapV,OAAOwd,eAAe+gC,IAAS9/B,MAAM3gB,KAAM+M,WAC5G,CAsBE,OA/BF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUkgC,EAAQ5vB,GAQlB7R,EAAayhC,EAAQ,KAAM,CAAC,CAC1B3kD,IAAK,SACL2D,MAAO,SAAgBA,GACrB,MAAc,UAAVA,EACKmnB,SAASC,cAAc,OACX,QAAVpnB,EACFmnB,SAASC,cAAc,OAEvBvH,EAAKmhC,EAAOnpC,WAAapV,OAAOwd,eAAe+gC,GAAS,SAAUzgD,MAAMY,KAAKZ,KAAMP,EAElG,GACK,CACD3D,IAAK,UACL2D,MAAO,SAAiBmhB,GACtB,MAAwB,QAApBA,EAAQjI,QAA0B,MACd,QAApBiI,EAAQjI,QAA0B,aAAtC,CAEN,KAGS8nC,CACT,CA9BI,GAR4BziC,EAFM4mB,IAEe5mB,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAsC5E1H,SAEXmqC,EAAOnnC,SAAW,SAClBmnC,EAAO9nC,QAAU,CAAC,MAAO,OAEzBpZ,EAAQ+W,QAAUmqC,CAElB,EAAA,SAEgBnzC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAIgCue,EAJ5B4mB,EAAUzwB,EAAoB,GAY9BusC,EAAA,SAAmB7vB,GAGrB,SAAS6vB,IAGP,OAZJ,SAAyBvgC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAM0gD,GAR1B,SAAoCr+C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAO0gD,EAAOppC,WAAapV,OAAOwd,eAAeghC,IAAS//B,MAAM3gB,KAAM+M,WAC5G,CAEE,OAXF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUmgC,EAAQ7vB,GAQX6vB,CACT,CAVI,GAR4B1iC,EAFM4mB,IAEe5mB,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAkB5E1H,SAEXoqC,EAAOpnC,SAAW,SAClBonC,EAAO/nC,QAAU,IAEjBpZ,EAAQ+W,QAAUoqC,CAElB,EAAA,SAEgBpzC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAIgCue,EAJ5B4mB,EAAUzwB,EAAoB,GAY9BwsC,EAAA,SAAsB9vB,GAGxB,SAAS8vB,IAGP,OAZJ,SAAyBxgC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAUnJF,CAAgBlgB,KAAM2gD,GAR1B,SAAoCt+C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAUnOyf,CAA2BrgB,MAAO2gD,EAAUrpC,WAAapV,OAAOwd,eAAeihC,IAAYhgC,MAAM3gB,KAAM+M,WAClH,CAEE,OAXF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAG1eF,CAAUogC,EAAW9vB,GAQd8vB,CACT,CAVI,GAR4B3iC,EAFM4mB,IAEe5mB,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,IAkB5E1H,SAEXqqC,EAAUrnC,SAAW,YACrBqnC,EAAUhoC,QAAU,IAEpBpZ,EAAQ+W,QAAUqqC,CAElB,EAAA,SAEgBrzC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAUgCue,EAV5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpe+N,EAAanZ,EAAoB,GAEjC2L,GAI4B9B,EAJSsP,IAIYtP,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAFnF4iC,EAAQzsC,EAAoB,IAU5B0sC,EAAa,CAAC,MAAO,SAAU,SAE/BC,EAAAA,SAAkBpgC,GAGpB,SAASogC,IAGP,OAdJ,SAAyB3gC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAYnJF,CAAgBlgB,KAAM8gD,GAV1B,SAAoCz+C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAYnOyf,CAA2BrgB,MAAO8gD,EAAMxpC,WAAapV,OAAOwd,eAAeohC,IAAQngC,MAAM3gB,KAAM+M,WAC1G,CAoDE,OA/DF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAK1eF,CAAUugC,EAAOpgC,GAQjB1B,EAAa8hC,EAAO,CAAC,CACnBhlD,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GACvBohD,EAAWvjC,QAAQzf,IAAQ,EACzB4B,EACFO,KAAK4gB,QAAQyD,aAAaxmB,EAAM4B,GAEhCO,KAAK4gB,QAAQ8P,gBAAgB7yB,GAG/ByhB,EAAKwhC,EAAMvgD,UAAU+W,WAAapV,OAAOwd,eAAeohC,EAAMvgD,WAAY,SAAUP,MAAMY,KAAKZ,KAAMnC,EAAM4B,EAEnH,IACM,CAAC,CACH3D,IAAK,SACL2D,MAAO,SAAgBA,GACrB,IAAIX,EAAOwgB,EAAKwhC,EAAMxpC,WAAapV,OAAOwd,eAAeohC,GAAQ,SAAU9gD,MAAMY,KAAKZ,KAAMP,GAI5F,MAHqB,iBAAVA,GACTX,EAAKulB,aAAa,MAAOrkB,KAAK2kC,SAASllC,IAElCX,CACb,GACK,CACDhD,IAAK,UACL2D,MAAO,SAAiBmhB,GACtB,OAAOigC,EAAW9lC,OAAO,SAAU8F,EAASC,GAI1C,OAHIF,EAAQwlB,aAAatlB,KACvBD,EAAQC,GAAaF,EAAQnI,aAAaqI,IAErCD,CACf,EAAS,CAAA,EACT,GACK,CACD/kB,IAAK,QACL2D,MAAO,SAAeqlC,GACpB,MAAQ,qBAAqB1/B,KAAK0/B,IAAQ,yBAAyB1/B,KAAK0/B,EAE9E,GACK,CACDhpC,IAAK,WACL2D,MAAO,SAAkBqlC,GACvB,OAAA,EAAW8b,EAAMjc,UAAUG,EAAK,CAAC,OAAQ,QAAS,SAAWA,EAAM,MACzE,GACK,CACDhpC,IAAK,QACL2D,MAAO,SAAemhB,GACpB,OAAOA,EAAQnI,aAAa,MAClC,KAGSqoC,CACT,CA5DIA,CA4DFhhC,EAAYxJ,QAAQG,OAEtBqqC,EAAMxnC,SAAW,QACjBwnC,EAAMnoC,QAAU,MAEhBpZ,EAAQ+W,QAAUwqC,CAElB,EAAA,SAEgBxzC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAGT,IAUgCue,EAV5BgB,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpegT,EAASpe,EAAoB,GAE7BysC,EAAQzsC,EAAoB,IAE5B8pC,GAE4BjgC,EAFI4iC,IAEiB5iC,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,GAQnF6iC,EAAa,CAAC,SAAU,SAExBE,EAAA,SAAkBC,GAGpB,SAASD,IAGP,OAdJ,SAAyB5gC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAYnJF,CAAgBlgB,KAAM+gD,GAV1B,SAAoC1+C,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAYnOyf,CAA2BrgB,MAAO+gD,EAAMzpC,WAAapV,OAAOwd,eAAeqhC,IAAQpgC,MAAM3gB,KAAM+M,WAC1G,CA8CE,OAzDF,SAAmByT,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAK1eF,CAAUwgC,EAAOC,GAQjBhiC,EAAa+hC,EAAO,CAAC,CACnBjlD,IAAK,SACL2D,MAAO,SAAgB5B,EAAM4B,GACvBohD,EAAWvjC,QAAQzf,IAAQ,EACzB4B,EACFO,KAAK4gB,QAAQyD,aAAaxmB,EAAM4B,GAEhCO,KAAK4gB,QAAQ8P,gBAAgB7yB,GAG/ByhB,EAAKyhC,EAAMxgD,UAAU+W,WAAapV,OAAOwd,eAAeqhC,EAAMxgD,WAAY,SAAUP,MAAMY,KAAKZ,KAAMnC,EAAM4B,EAEnH,IACM,CAAC,CACH3D,IAAK,SACL2D,MAAO,SAAgBA,GACrB,IAAIX,EAAOwgB,EAAKyhC,EAAMzpC,WAAapV,OAAOwd,eAAeqhC,GAAQ,SAAU/gD,MAAMY,KAAKZ,KAAMP,GAI5F,OAHAX,EAAKulB,aAAa,cAAe,KACjCvlB,EAAKulB,aAAa,mBAAmB,GACrCvlB,EAAKulB,aAAa,MAAOrkB,KAAK2kC,SAASllC,IAChCX,CACb,GACK,CACDhD,IAAK,UACL2D,MAAO,SAAiBmhB,GACtB,OAAOigC,EAAW9lC,OAAO,SAAU8F,EAASC,GAI1C,OAHIF,EAAQwlB,aAAatlB,KACvBD,EAAQC,GAAaF,EAAQnI,aAAaqI,IAErCD,CACf,EAAS,CAAA,EACT,GACK,CACD/kB,IAAK,WACL2D,MAAO,SAAkBqlC,GACvB,OAAOmZ,EAAO3nC,QAAQquB,SAASG,EACrC,GACK,CACDhpC,IAAK,QACL2D,MAAO,SAAemhB,GACpB,OAAOA,EAAQnI,aAAa,MAClC,KAGSsoC,CACT,CAtDI,CAsDFxuB,EAAOzT,YAETiiC,EAAMznC,SAAW,QACjBynC,EAAMtnC,UAAY,WAClBsnC,EAAMpoC,QAAU,SAEhBpZ,EAAQ+W,QAAUyqC,CAElB,EAAA,SAEgBzzC,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQ0hD,iBAAc,EAExC,IAAIjiC,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpe4nB,EAAUvnB,EAFDzL,EAAoB,KAM7BuqB,EAAU9e,EAFDzL,EAAoB,IAM7BkP,EAAWzD,EAFDzL,EAAoB,IAIlC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAAIwgC,EAAA,SAAwBC,GAG1B,SAASD,IAGP,OAFA/gC,EAAgBlgB,KAAMihD,GAEf5gC,EAA2BrgB,MAAOihD,EAAY3pC,WAAapV,OAAOwd,eAAeuhC,IAActgC,MAAM3gB,KAAM+M,WACtH,CAsBE,OA5BAwT,EAAU0gC,EAAaC,GAQvBliC,EAAaiiC,EAAa,KAAM,CAAC,CAC/BnlD,IAAK,SACL2D,MAAO,SAAgBA,GACrB,IAAIX,EAAOwgB,EAAK2hC,EAAY3pC,WAAapV,OAAOwd,eAAeuhC,GAAc,SAAUjhD,MAAMY,KAAKZ,KAAMP,GAQxG,MAPqB,iBAAVA,IACT47C,OAAO8F,MAAMC,OAAO3hD,EAAOX,EAAM,CAC/BuiD,cAAc,EACdC,WAAY,SAEdxiD,EAAKulB,aAAa,aAAc5kB,IAE3BX,CACb,GACK,CACDhD,IAAK,QACL2D,MAAO,SAAemhB,GACpB,OAAOA,EAAQnI,aAAa,aAClC,KAGSwoC,CACT,CA9BI,CA8BF9Z,EAAQ7wB,SAEV2qC,EAAY3nC,SAAW,UACvB2nC,EAAYxnC,UAAY,aACxBwnC,EAAYtoC,QAAU,OAEtB,IAAI4oC,EAAA,SAAoBziB,GAUtB,SAASyiB,IACPrhC,EAAgBlgB,KAAMuhD,GAEtB,IAAI//B,EAASnB,EAA2BrgB,MAAOuhD,EAAQjqC,WAAapV,OAAOwd,eAAe6hC,IAAU3gD,KAAKZ,OAEzG,GAAoB,MAAhBq7C,OAAO8F,MACT,MAAM,IAAIvjD,MAAM,kCAElB,OAAO4jB,CACX,CAEE,OApBAjB,EAAUghC,EAASziB,GAEnB9f,EAAauiC,EAAS,KAAM,CAAC,CAC3BzlD,IAAK,WACL2D,MAAO,WACLi/B,EAAQpoB,QAAQF,SAAS6qC,GAAa,EAC5C,KAcSM,CACT,CAtBI,CAsBFl+B,EAAS/M,SAEX/W,EAAQ0hD,YAAcA,EACtB1hD,EAAQ+W,QAAUirC,CAElB,EAAA,SAEgBj0C,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQiiD,UAAYjiD,EAAQuxB,eAAY,EAE1D,IAAI9R,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAEfG,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAIpeO,EAAcF,EAFDzL,EAAoB,IAMjCuqB,EAAU9e,EAFDzL,EAAoB,IAM7BkP,EAAWzD,EAFDzL,EAAoB,IAQlC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAAIghC,EAAA,SAA4BC,GAG9B,SAASD,IAGP,OAFAvhC,EAAgBlgB,KAAMyhD,GAEfphC,EAA2BrgB,MAAOyhD,EAAgBnqC,WAAapV,OAAOwd,eAAe+hC,IAAkB9gC,MAAM3gB,KAAM+M,WAC9H,CAwBE,OA9BAwT,EAAUkhC,EAAiBC,GAQ3B1iC,EAAayiC,EAAiB,CAAC,CAC7B3lD,IAAK,cACL2D,MAAO,SAAqB0hB,GAC1BnhB,KAAK4gB,QAAQoQ,YAAchxB,KAAK4gB,QAAQoQ,YACxChxB,KAAKw2B,SACLlX,EAAKmiC,EAAgBlhD,UAAU+W,WAAapV,OAAOwd,eAAe+hC,EAAgBlhD,WAAY,cAAeP,MAAMY,KAAKZ,KAAMmhB,EACpI,GACK,CACDrlB,IAAK,YACL2D,MAAO,SAAmBkiD,GACxB,IAAIvnC,EAAOpa,KAAK4gB,QAAQoQ,YACpBhxB,KAAK4hD,aAAexnC,KAClBA,EAAK6J,OAAOpkB,OAAS,GAAwB,MAAnBG,KAAK4hD,cACjC5hD,KAAK4gB,QAAQoD,UAAY29B,EAAWvnC,GACpCpa,KAAK4gB,QAAQmf,YACb//B,KAAKw2B,UAEPx2B,KAAK4hD,WAAaxnC,EAE1B,KAGSqnC,CACT,CAhCI,CAVS7hC,EAFDzL,EAAoB,KA4CvBmC,SAETmrC,EAAgBhoC,UAAY,YAE5B,IAAI+nC,EAAY,IAAI1hC,EAAYxJ,QAAQQ,WAAWE,MAAM,QAAS,OAAQ,CACxEe,MAAO+H,EAAYxJ,QAAQN,MAAMsC,SAG/BupC,EAAA,SAAmB/iB,GAWrB,SAAS+iB,EAAO/yB,EAAOzQ,GACrB6B,EAAgBlgB,KAAM6hD,GAEtB,IAAIrgC,EAASnB,EAA2BrgB,MAAO6hD,EAAOvqC,WAAapV,OAAOwd,eAAemiC,IAASjhD,KAAKZ,KAAM8uB,EAAOzQ,IAEpH,GAAwC,mBAA7BmD,EAAOnD,QAAQyjC,UACxB,MAAM,IAAIlkD,MAAM,6FAElB,IAAImkD,EAAQ,KASZ,OARAvgC,EAAOsN,MAAM5J,GAAGwZ,EAAQpoB,QAAQ6O,OAAOwJ,gBAAiB,WACtDqzB,aAAaD,GACbA,EAAQxsB,WAAW,WACjB/T,EAAOsgC,YACPC,EAAQ,IAChB,EAASvgC,EAAOnD,QAAQ4jC,SACxB,GACIzgC,EAAOsgC,YACAtgC,CACX,CAoBE,OAhDAjB,EAAUshC,EAAQ/iB,GAElB9f,EAAa6iC,EAAQ,KAAM,CAAC,CAC1B/lD,IAAK,WACL2D,MAAO,WACLi/B,EAAQpoB,QAAQF,SAASorC,GAAW,GACpC9iB,EAAQpoB,QAAQF,SAASqrC,GAAiB,EAChD,KAuBEziC,EAAa6iC,EAAQ,CAAC,CACpB/lD,IAAK,YACL2D,MAAO,WACL,IAAIsnB,EAAS/mB,KAEb,IAAIA,KAAK8uB,MAAMnK,UAAUqQ,UAAzB,CACAh1B,KAAK8uB,MAAMhJ,OAAO4Y,EAAQpoB,QAAQmR,QAAQwD,MAC1C,IAAItF,EAAQ3lB,KAAK8uB,MAAMnH,eACvB3nB,KAAK8uB,MAAMtK,OAAO/C,YAAYggC,GAAiB72C,QAAQ,SAAUm/B,GAC/DA,EAAK+X,UAAU/6B,EAAO1I,QAAQyjC,UACtC,GACM9hD,KAAK8uB,MAAMhJ,OAAO4Y,EAAQpoB,QAAQmR,QAAQO,QAC7B,MAATrC,GACF3lB,KAAK8uB,MAAM/G,aAAapC,EAAO+Y,EAAQpoB,QAAQmR,QAAQO,OARrB,CAU1C,KAGS65B,CACT,CAlDI,CAkDFx+B,EAAS/M,SAEXurC,EAAOz2B,SAAW,CAChB02B,UACqB,MAAfzG,OAAO6G,KAAqB,KACzB,SAAU9nC,GAEf,OADaihC,OAAO6G,KAAKC,cAAc/nC,GACzB3a,KACpB,EAEEwiD,SAAU,KAGZ1iD,EAAQuxB,UAAY2wB,EACpBliD,EAAQiiD,UAAYA,EACpBjiD,EAAQ+W,QAAUurC,CAElB,EAAA,SAEgBv0C,EAAQ/N,GAExB+N,EAAO/N,QAAU,4LAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,6LAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,6LAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,6LAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,86EAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,oTAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,+QAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,oUAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,kPAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,iVAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,gVAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,mOAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,iOAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,wWAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,2YAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,w3CAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,8jBAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,8nBAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,8LAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,wOAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,uQAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,6PAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,6ZAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,ksBAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,qVAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,2XAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,sqBAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,+iBAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,2gBAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,8LAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,6qBAEjB,EAAA,SAEgB+N,EAAQ/N,GAExB+N,EAAO/N,QAAU,kKAEjB,EAAA,SAEgB+N,EAAQ/N,EAAS4U,GAKjCjS,OAAOyS,eAAepV,EAAS,aAAc,CAC3CE,OAAO,IAETF,EAAQ+W,QAAU/W,EAAQ6iD,mBAAgB,EAE1C,IAAI9iC,EAAO,SAASzd,EAAIvD,EAAQyW,EAAUwK,GAA2B,OAAXjhB,IAAiBA,EAASiE,SAAShC,WAAW,IAAIif,EAAOtd,OAAO2b,yBAAyBvf,EAAQyW,GAAW,QAAa,IAATyK,EAAoB,CAAE,IAAIC,EAASvd,OAAOwd,eAAephB,GAAS,OAAe,OAAXmhB,OAAmB,EAAkC5d,EAAI4d,EAAQ1K,EAAUwK,EAAY,CAAA,GAAY,UAAWC,EAAQ,OAAOA,EAAK/f,MAAgB,IAAIgV,EAAS+K,EAAK3d,IAAK,YAAe,IAAX4S,EAAmDA,EAAO7T,KAAK2e,QAAnE,CAA+E,EAEpeP,EAAe,WAAc,SAASC,EAAiBb,EAAQ/gB,GAAS,IAAA,IAASgX,EAAI,EAAGA,EAAIhX,EAAMwC,OAAQwU,IAAK,CAAE,IAAI6K,EAAa7hB,EAAMgX,GAAI6K,EAAWrK,WAAaqK,EAAWrK,aAAc,EAAOqK,EAAWtK,cAAe,EAAU,UAAWsK,IAAYA,EAAWX,UAAW,GAAMrc,OAAOyS,eAAeyJ,EAAQc,EAAWpjB,IAAKojB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAY5e,UAAW6e,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAY,CAAG,CAA5hB,GAIfQ,EAAWC,EAFDzL,EAAoB,IAM9B+X,EAAYtM,EAFDzL,EAAoB,IAI/B4pC,EAAQ5pC,EAAoB,IAE5B6pC,EAASp+B,EAAuBm+B,GAEhCz6B,EAAanP,EAAoB,IAIjC+pC,EAAUt+B,EAFDzL,EAAoB,KAIjC,SAASyL,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAE7F,SAASkC,EAAgBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,oCAAuC,CAEvJ,SAASC,EAA2Bhe,EAAMzB,GAAQ,IAAKyB,EAAQ,MAAM,IAAIie,eAAe,6DAAgE,OAAO1f,GAAyB,iBAATA,GAAqC,mBAATA,EAA8ByB,EAAPzB,CAAY,CAE9O,SAAS2f,EAAUC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIL,UAAU,kEAAoEK,GAAeD,EAASjgB,UAAY2B,OAAO+T,OAAOwK,GAAcA,EAAWlgB,UAAW,CAAEyP,YAAa,CAAEvQ,MAAO+gB,EAAU3L,YAAY,EAAO0J,UAAU,EAAM3J,cAAc,KAAe6L,WAAmBpJ,eAAiBnV,OAAOmV,eAAemJ,EAAUC,GAAcD,EAASlJ,UAAYmJ,EAAW,CAE5e,IAAI09B,EAAiB,CAAC,CAAC,OAAQ,SAAU,QAAS,CAAC,CAAEva,OAAQ,GAAK,CAAEA,OAAQ,GAAK,eAE7Eye,EAAA,SAAwBhE,GAG1B,SAASgE,EAAYvzB,EAAOzQ,GAC1B6B,EAAgBlgB,KAAMqiD,GAES,MAA3BhkC,EAAQpK,QAAQyX,SAAwD,MAArCrN,EAAQpK,QAAQyX,QAAQ7H,YAC7DxF,EAAQpK,QAAQyX,QAAQ7H,UAAYs6B,GAGtC,IAAIxmC,EAAQ0I,EAA2BrgB,MAAOqiD,EAAY/qC,WAAapV,OAAOwd,eAAe2iC,IAAczhD,KAAKZ,KAAM8uB,EAAOzQ,IAG7H,OADA1G,EAAMmX,MAAMjL,UAAUK,UAAUlb,IAAI,aAC7B2O,CACX,CAYE,OAzBA4I,EAAU8hC,EAAahE,GAevBr/B,EAAaqjC,EAAa,CAAC,CACzBvmD,IAAK,gBACL2D,MAAO,SAAuBisB,GAC5B1rB,KAAK8sC,QAAU,IAAIsV,EAAcpiD,KAAK8uB,MAAO9uB,KAAKqe,QAAQkK,QAC1DvoB,KAAK8sC,QAAQxqC,KAAKwvB,YAAYpG,EAAQ7H,WACtC7jB,KAAKs+C,aAAa,GAAGnjC,MAAMva,KAAK8qB,EAAQ7H,UAAUiK,iBAAiB,WAAYowB,EAAQ5nC,SACvFtW,KAAKu+C,aAAa,GAAGpjC,MAAMva,KAAK8qB,EAAQ7H,UAAUiK,iBAAiB,WAAYowB,EAAQ5nC,QAC7F,KAGS+rC,CACT,CA3BI,CA2BFrE,EAAO1nC,SAET+rC,EAAYj3B,UAAA,EAAezL,EAASrJ,UAAS,EAAM,GAAI0nC,EAAO1nC,QAAQ8U,SAAU,CAC9EnX,QAAS,CACPyX,QAAS,CACP+hB,SAAU,CACRnD,KAAM,SAAc7qC,GACbA,EAGHO,KAAK8uB,MAAMlK,MAAMkoB,QAAQY,OAFzB1tC,KAAK8uB,MAAM9N,OAAO,QAAQ,EAItC,OAMA,IAAIohC,EAAA,SAA0B3D,GAG5B,SAAS2D,EAActzB,EAAOvG,GAC5BrI,EAAgBlgB,KAAMoiD,GAEtB,IAAI5gC,EAASnB,EAA2BrgB,MAAOoiD,EAAc9qC,WAAapV,OAAOwd,eAAe0iC,IAAgBxhD,KAAKZ,KAAM8uB,EAAOvG,IAwBlI,OAtBA/G,EAAOsN,MAAM5J,GAAGgH,EAAU5V,QAAQ6O,OAAOC,cAAe,SAAUxhB,EAAM+hB,EAAOqT,EAAUvT,GACvF,GAAI7hB,IAASsoB,EAAU5V,QAAQ6O,OAAOyJ,iBACtC,GAAa,MAATjJ,GAAiBA,EAAM9lB,OAAS,GAAK4lB,IAAWyG,EAAU5V,QAAQmR,QAAQwD,KAAM,CAClFzJ,EAAOk9B,OAEPl9B,EAAOlf,KAAKujC,MAAMhd,KAAO,MACzBrH,EAAOlf,KAAKujC,MAAM7pC,MAAQ,GAC1BwlB,EAAOlf,KAAKujC,MAAM7pC,MAAQwlB,EAAOlf,KAAKs7C,YAAc,KACpD,IAAIj8B,EAAQH,EAAOsN,MAAMwP,SAAS3Y,EAAMjlB,MAAOilB,EAAM9lB,QACrD,GAAqB,IAAjB8hB,EAAM9hB,OACR2hB,EAAOoV,SAASpV,EAAOsN,MAAMtG,UAAU7C,QAClC,CACL,IAAI28B,EAAW3gC,EAAMA,EAAM9hB,OAAS,GAChCa,EAAQ8gB,EAAOsN,MAAM4T,SAAS4f,GAC9BziD,EAASwc,KAAKC,IAAIgmC,EAASziD,SAAW,EAAG8lB,EAAMjlB,MAAQilB,EAAM9lB,OAASa,GACtE6hD,EAAU/gC,EAAOsN,MAAMtG,UAAU,IAAIlF,EAAW0H,MAAMtqB,EAAOb,IACjE2hB,EAAOoV,SAAS2rB,EAC1B,CACA,MAAiB37B,SAASiR,gBAAkBrW,EAAOurB,SAAWvrB,EAAOsN,MAAMpF,YACnElI,EAAOwrB,MAEf,GACWxrB,CACX,CAsCE,OApEAjB,EAAU6hC,EAAe3D,GAgCzBz/B,EAAaojC,EAAe,CAAC,CAC3BtmD,IAAK,SACL2D,MAAO,WACL,IAAIsnB,EAAS/mB,KAEbsf,EAAK8iC,EAAc7hD,UAAU+W,WAAapV,OAAOwd,eAAe0iC,EAAc7hD,WAAY,SAAUP,MAAMY,KAAKZ,MAC/GA,KAAKsC,KAAKqpB,cAAc,aAAagC,iBAAiB,QAAS,WAC7D5G,EAAOzkB,KAAK4hB,UAAUjC,OAAO,aACrC,GACMjiB,KAAK8uB,MAAM5J,GAAGgH,EAAU5V,QAAQ6O,OAAOwJ,gBAAiB,WAEtD4G,WAAW,WACT,IAAIxO,EAAOzkB,KAAK4hB,UAAUgG,SAAS,aAAnC,CACA,IAAIvE,EAAQoB,EAAO+H,MAAMnH,eACZ,MAAThC,GACFoB,EAAO6P,SAAS7P,EAAO+H,MAAMtG,UAAU7C,GAHQ,CAK3D,EAAW,EACX,EACA,GACK,CACD7pB,IAAK,SACL2D,MAAO,WACLO,KAAK0+C,MACX,GACK,CACD5iD,IAAK,WACL2D,MAAO,SAAkBk+C,GACvB,IAAI/7B,EAAQtC,EAAK8iC,EAAc7hD,UAAU+W,WAAapV,OAAOwd,eAAe0iC,EAAc7hD,WAAY,WAAYP,MAAMY,KAAKZ,KAAM29C,GAC/H6E,EAAQxiD,KAAKsC,KAAKqpB,cAAc,qBAEpC,GADA62B,EAAM3c,MAAM4c,WAAa,GACX,IAAV7gC,EAAa,OAAOA,EACxB4gC,EAAM3c,MAAM4c,YAAa,EAAK7gC,EAAQ4gC,EAAM5E,YAAc,EAAI,IACpE,KAGSwE,CACT,CAtEI,CAsEFrE,EAAM/R,aAERoW,EAAc1E,SAAW,CAAC,yCAA0C,kCAAmC,mGAAoG,2BAA4B,UAAU9gC,KAAK,IAEtPrd,EAAQ6iD,cAAgBA,EACxB7iD,EAAQ+W,QAAU+rC,CAElB,EAAA,SAEgB/0C,EAAQ/N,EAAS4U,GAEjC7G,EAAO/N,QAAU4U,EAAoB,GAGrC,IACqB,OACrB,KAjyWE5U,QAAiByU,SAF8BA,6CCDjD,IAAIoD,EAAapX,IAAQA,GAAKoX,WAAe,WACzC,IAAID,EAAgB,SAAUtb,EAAG0b,GAI7B,OAHAJ,EAAgBjV,OAAOmV,gBAClB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAE,GACzE,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAG,GACvDnZ,EAAG0b,EAChC,EACI,OAAO,SAAU1b,EAAG0b,GAEhB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAE,CADrCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACvF,CACA,CAZ6C,GAazCkrC,EAAY1iD,IAAQA,GAAK0iD,UAAa,WAStC,OARAA,EAAWxgD,OAAOygD,QAAU,SAASC,GACjC,IAAA,IAAS3tC,EAAGZ,EAAI,EAAG1F,EAAI5B,UAAUlN,OAAQwU,EAAI1F,EAAG0F,IAE5C,IAAA,IAASW,KADTC,EAAIlI,UAAUsH,GACOnS,OAAO3B,UAAUsC,eAAejC,KAAKqU,EAAGD,KACzD4tC,EAAE5tC,GAAKC,EAAED,IAEjB,OAAO4tC,CACf,EACWF,EAAS/hC,MAAM3gB,KAAM+M,UAChC,EACI81C,EAAkB7iD,IAAQA,GAAK6iD,gBAAmB,WAClD,IAAA,IAAS5tC,EAAI,EAAGZ,EAAI,EAAGyuC,EAAK/1C,UAAUlN,OAAQwU,EAAIyuC,EAAIzuC,IAAKY,GAAKlI,UAAUsH,GAAGxU,OAC7E,IAASlD,EAAI2D,MAAM2U,GAAI8tC,EAAI,EAA3B,IAA8B1uC,EAAI,EAAGA,EAAIyuC,EAAIzuC,IACzC,IAAA,IAAS2b,EAAIjjB,UAAUsH,GAAIo+B,EAAI,EAAGuQ,EAAKhzB,EAAEnwB,OAAQ4yC,EAAIuQ,EAAIvQ,IAAKsQ,IAC1DpmD,EAAEomD,GAAK/yB,EAAEyiB,GACjB,OAAO91C,CACX,EACIsmD,EAAmBjjD,IAAQA,GAAKijD,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIpuC,WAAcouC,EAAM,CAAE5sC,QAAW4sC,EACxD,EACIC,EAAUF,EAAgBlmD,KAC1BqmD,EAAcH,EAAgBpiD,KAC9BwiD,EAAYJ,kCCzChB,IAAIlvC,EAAchX,YAkClBsmD,GAJA,SAAiB5jD,EAAOC,GACtB,OAAOqU,EAAYtU,EAAOC,EAC5B,EDSgCsB,IAC5BsiD,EAAUL,EAAgB9hD,MAC1BoiD,EAAA,SAAsC7rC,GAEtC,SAAS6rC,EAAWlmD,GAChB,IAAIsa,EAAQD,EAAO9W,KAAKZ,KAAM3C,IAAU2C,KAKxC2X,EAAM6rC,WAAa,CACf,UACA,UACA,SACA,QACA,YAMJ7rC,EAAM8rC,WAAa,CACf,KACA,YACA,QACA,cACA,WACA,WACA,oBACA,UACA,SACA,aACA,YACA,WAEJ9rC,EAAM+rC,MAAQ,CACVC,WAAY,GAKhBhsC,EAAMgN,UAAY,KAClBhN,EAAMisC,eAAiB,SAAUl2B,EAAWm2B,EAAcC,EAAiBr+B,GACvE,IAAImU,EAAImqB,EAAIC,EAAIlhC,EACE,gBAAd4K,EAC2C,QAA1Cq2B,GAAMnqB,EAAKjiB,GAAOssC,0BAAuC,IAAPF,GAAyBA,EAAGnjD,KAAKg5B,EAAIjiB,EAAM+M,OAAOpiB,KAAK0hB,UAAW6/B,EAAcp+B,EAAQ9N,EAAMusC,oBAE9H,qBAAdx2B,IAC2C,QAA/C5K,GAAMkhC,EAAKrsC,GAAOwsC,+BAA4C,IAAPrhC,GAAyBA,EAAGliB,KAAKojD,EAAIH,EAAcp+B,EAAQ9N,EAAMusC,oBAEzI,EACQ,IAAIzkD,EAAQkY,EAAMysC,eAAiB/mD,EAAMoC,MAAQpC,EAAMqxC,aAEvD,OADA/2B,EAAMlY,MAASA,QAAqCA,EAAQ,GACrDkY,CACf,CA4TI,OA/WAP,EAAUmsC,EAAY7rC,GAoDtB6rC,EAAWhjD,UAAU8jD,cAAgB,SAAUhnD,GAC3C,IAAIu8B,EACJ,GAAIupB,EAAQ7sC,QAAQguC,SAASC,MAAMlnD,EAAMwkB,UAAY,EACjD,MAAM,IAAIjkB,MAAM,0EACpB,GAAIulD,EAAQ7sC,QAAQguC,SAASC,MAAMlnD,EAAMwkB,WAE+B,cAA9C,QAAhB+X,EADMupB,EAAQ7sC,QAAQguC,SAASE,KAAKnnD,EAAMwkB,iBACX,IAAP+X,OAAgB,EAASA,EAAGh2B,MACtD,MAAM,IAAIhG,MAAM,wEAExB,GAAIoC,KAAKykD,oBACLpnD,EAAMoC,QAAUO,KAAKykD,mBACrB,MAAM,IAAI7mD,MAAM,kMAG5B,EACI2lD,EAAWhjD,UAAUmkD,sBAAwB,SAAUC,EAAWC,GAC9D,IACIhrB,EADAjiB,EAAQ3X,KAKZ,GAHAA,KAAKqkD,cAAcM,IAGd3kD,KAAK0kB,QAAU1kB,KAAK0jD,MAAMC,aAAeiB,EAAUjB,WACpD,OAAO,EAGX,GAAI,UAAWgB,EAAW,CACtB,IAAIE,EAAe7kD,KAAK8kD,oBACpBC,EAAuCnrB,OAAvBA,EAAK+qB,EAAUllD,OAAuCm6B,EAAK,GAO1E55B,KAAKglD,aAAaD,EAAcF,IACjC7kD,KAAKilD,kBAAkBjlD,KAAK0kB,OAAQqgC,EAEpD,CAMQ,OAJIJ,EAAUz+B,WAAalmB,KAAK3C,MAAM6oB,UAClClmB,KAAKklD,kBAAkBllD,KAAK0kB,OAAQigC,EAAUz+B,UAG3C28B,EAAe7iD,KAAKyjD,WAAYzjD,KAAKwjD,YAAYvpB,KAAK,SAAUqW,GACnE,OAAQ+S,EAAU/sC,QAAQquC,EAAUrU,GAAO34B,EAAMta,MAAMizC,GACnE,EACA,EACIiT,EAAWhjD,UAAU4kD,0BAA4B,SAAUR,GACvD,IAAIhtC,EAAQ3X,KAEZ,OAAOA,KAAKwjD,WAAWvpB,KAAK,SAAUqW,GAClC,OAAQ+S,EAAU/sC,QAAQquC,EAAUrU,GAAO34B,EAAMta,MAAMizC,GACnE,EACA,EACIiT,EAAWhjD,UAAU6kD,kBAAoB,WACrCplD,KAAKqlD,oBACLrlD,KAAKilD,kBAAkBjlD,KAAK0kB,OAAQ1kB,KAAK8kD,oBACjD,EACIvB,EAAWhjD,UAAU+kD,qBAAuB,WACxCtlD,KAAKulD,eACb,EACIhC,EAAWhjD,UAAUilD,mBAAqB,SAAUC,EAAWC,GAC3D,IAAI/tC,EAAQ3X,KAKZ,GAAIA,KAAK0kB,QAAU1kB,KAAKmlD,0BAA0BM,GAAY,CAC1D,IAAIrpC,EAAQpc,KAAK0kB,OAAOwE,cACpBvE,EAAY3kB,KAAK0kB,OAAOiD,eAC5B3nB,KAAK2lD,qBAAuB,CAAEvpC,QAAcuI,aAC5C3kB,KAAK4lD,SAAS,CAAEjC,WAAY3jD,KAAK0jD,MAAMC,WAAa,IACpD3jD,KAAKulD,eACjB,CAGQ,GAAIvlD,KAAK0jD,MAAMC,aAAe+B,EAAU/B,WAAY,CAChD,IAAI/pB,EAAK55B,KAAK2lD,qBAAwCE,GAAlBzpC,EAAQwd,EAAGxd,MAAqBwd,EAAGjV,kBAChE3kB,KAAK2lD,qBACZ3lD,KAAKqlD,oBACL,IAAIS,EAAW9lD,KAAK0kB,OACpBohC,EAAS9/B,YAAY5J,GACrB2pC,EAAS,WAAc,OAAOpuC,EAAMquC,mBAAmBF,EAAUD,IAC7E,CACA,EACItC,EAAWhjD,UAAU8kD,kBAAoB,WACjCrlD,KAAK0kB,OACL1kB,KAAKimD,WAAWjmD,KAAK0kB,QAGrB1kB,KAAK0kB,OAAS1kB,KAAKkmD,aAAalmD,KAAKmmD,iBAAkBnmD,KAAKomD,kBAExE,EACI7C,EAAWhjD,UAAUglD,cAAgB,WAC5BvlD,KAAK0kB,QAEV1kB,KAAKqmD,aAAarmD,KAAK0kB,OAC/B,EAII6+B,EAAWhjD,UAAU6jD,aAAe,WAChC,MAAO,UAAWpkD,KAAK3C,KAC/B,EACIkmD,EAAWhjD,UAAU6lD,gBAAkB,WACnC,MAAO,CACH79B,OAAQvoB,KAAK3C,MAAMkrB,OACnB1H,QAAS7gB,KAAK3C,MAAMwjB,QACpB5M,QAASjU,KAAK3C,MAAM4W,QACpBgS,YAAajmB,KAAK3C,MAAM4oB,YACxBC,SAAUlmB,KAAK3C,MAAM6oB,SACrB5B,mBAAoBtkB,KAAK3C,MAAMinB,mBAC/B6hB,SAAUnmC,KAAK3C,MAAM8oC,SACrBvhB,MAAO5kB,KAAK3C,MAAMunB,MAE9B,EACI2+B,EAAWhjD,UAAU+lD,UAAY,WAC7B,IAAKtmD,KAAK0kB,OACN,MAAM,IAAI9mB,MAAM,qCACpB,OAAOoC,KAAK0kB,MACpB,EAKI6+B,EAAWhjD,UAAU2lD,aAAe,SAAUvnD,EAAS4sB,GACnD,IAAI7G,EAAS,IAAI4+B,EAAQhtC,QAAQ3X,EAAS4sB,GAK1C,OAJuB,MAAnBA,EAAO4a,UACPnmC,KAAKumD,kBAAkB7hC,EAAQ6G,EAAO4a,UAE1CnmC,KAAKimD,WAAWvhC,GACTA,CACf,EACI6+B,EAAWhjD,UAAU0lD,WAAa,SAAUvhC,GAGxC1kB,KAAKkkD,mBAAqBlkD,KAAKwmD,uBAAuB9hC,GAGtDA,EAAOQ,GAAG,gBAAiBllB,KAAK4jD,eACxC,EACIL,EAAWhjD,UAAU8lD,aAAe,SAAU3hC,GAC1CA,EAAOyF,IAAI,gBAAiBnqB,KAAK4jD,eACzC,EACIL,EAAWhjD,UAAUukD,kBAAoB,WACrC,OAAO9kD,KAAKP,KACpB,EACI8jD,EAAWhjD,UAAUkmD,mBAAqB,WACtC,OAAOzmD,KAAK2kB,SACpB,EAII4+B,EAAWhjD,UAAUmmD,QAAU,SAAUjnD,GACrC,OAAOA,GAASA,EAAMya,GAC9B,EAIIqpC,EAAWhjD,UAAUykD,aAAe,SAAUvlD,EAAOknD,GACjD,OAAI3mD,KAAK0mD,QAAQjnD,IAAUO,KAAK0mD,QAAQC,GAC7BtD,EAAU/sC,QAAQ7W,EAAMya,IAAKysC,EAAUzsC,KAGvCmpC,EAAU/sC,QAAQ7W,EAAOknD,EAE5C,EAKIpD,EAAWhjD,UAAU0kD,kBAAoB,SAAUvgC,EAAQjlB,GACvD,IAAIkY,EAAQ3X,KACZA,KAAKP,MAAQA,EACb,IAAImnD,EAAM5mD,KAAKymD,qBACM,iBAAVhnD,EACPilB,EAAOsB,YAAYtB,EAAOK,UAAUxZ,QAAQ9L,IAG5CilB,EAAOsB,YAAYvmB,GAEvBsmD,EAAS,WAAc,OAAOpuC,EAAMquC,mBAAmBthC,EAAQkiC,IACvE,EACIrD,EAAWhjD,UAAUylD,mBAAqB,SAAUthC,EAAQiB,GAExD,GADA3lB,KAAK2kB,UAAYgB,EACbA,EAAO,CAEP,IAAIkhC,EAAWniC,EAAOqE,YACtBpD,EAAMjlB,MAAQ2b,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAIqJ,EAAMjlB,MAAOmmD,EAAW,IAC3DlhC,EAAM9lB,OAASwc,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAIqJ,EAAM9lB,OAASgnD,EAAW,EAAKlhC,EAAMjlB,QACzEgkB,EAAOqD,aAAapC,EAChC,CACA,EACI49B,EAAWhjD,UAAUgmD,kBAAoB,SAAU7hC,EAAQyhB,GACvD,IAAIvM,EAAImqB,GACoE,QAAvEA,EAAuB,QAAjBnqB,EAAKlV,SAA2B,IAAPkV,OAAgB,EAASA,EAAGpV,cAA2B,IAAPu/B,OAAgB,EAASA,EAAGnjC,WAC5G8D,EAAOF,OAAO5D,QAAQulB,SAAWA,EAE7C,EACIod,EAAWhjD,UAAU2kD,kBAAoB,SAAUxgC,EAAQjlB,GACnDA,EACAilB,EAAOyB,UAGPzB,EAAOyC,QAEnB,EAKIo8B,EAAWhjD,UAAUimD,uBAAyB,SAAU9hC,GACpD,IAAIphB,EAAIohB,EACR,MAAO,CACHoiC,QAAS,WAAc,OAAOxjD,EAAEhB,KAAK0hB,SAAU,EAC/C+E,UAAWzlB,EAAEylB,UAAUuG,KAAKhsB,GAC5BmmB,QAASnmB,EAAEmmB,QAAQ6F,KAAKhsB,GACxB4lB,YAAa5lB,EAAE4lB,YAAYoG,KAAKhsB,GAChCqkB,aAAcrkB,EAAEqkB,aAAa2H,KAAKhsB,GAClCklB,UAAWllB,EAAEklB,UAAU8G,KAAKhsB,GAExC,EACIigD,EAAWhjD,UAAU4lD,eAAiB,WAClC,IAAKnmD,KAAK+mD,YACN,MAAM,IAAInpD,MAAM,yCAEpB,IAAIe,EAAUykD,EAAY9sC,QAAQ0wC,YAAYhnD,KAAK+mD,aACnD,IAAKpoD,EACD,MAAM,IAAIf,MAAM,wCAEpB,GAAyB,IAArBe,EAAQyO,SACR,MAAM,IAAIxP,MAAM,sCAEpB,OAAOe,CACf,EAII4kD,EAAWhjD,UAAU0mD,kBAAoB,WACrC,IAAItvC,EAAQ3X,KACR45B,EAAK55B,KAAK3C,MAAOwkB,EAAW+X,EAAG/X,SAAUqlC,EAAqBttB,EAAGstB,mBAEjEC,EAAa,CACbrrD,IAFakE,KAAK0jD,MAAMC,WAGxB5hC,IAAK,SAAU5B,GACXxI,EAAMovC,YAAc5mC,CACpC,GAEQ,OAAIgjC,EAAQ7sC,QAAQguC,SAASC,MAAM1iC,GACxBshC,EAAQ7sC,QAAQ8wC,aAAajE,EAAQ7sC,QAAQguC,SAASE,KAAK3iC,GAAWslC,GAE1ED,EACH/D,EAAQ7sC,QAAQuQ,cAAc,MAAO67B,EAAS,CAAA,EAAIyE,IAClDhE,EAAQ7sC,QAAQuQ,cAAc,MAAO67B,EAAS,CAAA,EAAIyE,GAC9D,EACI5D,EAAWhjD,UAAU6gD,OAAS,WAC1B,IAAIxnB,EACJ,OAAQupB,EAAQ7sC,QAAQuQ,cAAc,MAAO,CAAEyf,GAAItmC,KAAK3C,MAAMipC,GAAIT,MAAO7lC,KAAK3C,MAAMwoC,MAAO/pC,IAAKkE,KAAK0jD,MAAMC,WAAYlqC,UAAW,UAAYmgB,EAAK55B,KAAK3C,MAAMoc,UAAYmgB,QAA+BA,EAAK,IAAMytB,WAAYrnD,KAAK3C,MAAMgqD,WAAYC,UAAWtnD,KAAK3C,MAAMiqD,UAAWC,QAASvnD,KAAK3C,MAAMkqD,SAAWvnD,KAAKinD,oBACpU,EACI1D,EAAWhjD,UAAU0jD,mBAAqB,SAAUxkD,EAAO2c,EAAOqJ,EAAQf,GACtE,IAAIkV,EAAImqB,EACR,GAAK/jD,KAAK0kB,OAAV,CAIA,IAAIqgC,EAAe/kD,KAAK0mD,QAAQ1mD,KAAKP,OAC/BilB,EAAOwE,cACPxE,EAAOoiC,UACT/B,IAAiB/kD,KAAK8kD,sBAGtB9kD,KAAKykD,mBAAqBroC,EAC1Bpc,KAAKP,MAAQslD,EACyB,QAArChB,GAAMnqB,EAAK55B,KAAK3C,OAAOmqD,gBAA6B,IAAPzD,GAAyBA,EAAGnjD,KAAKg5B,EAAIn6B,EAAO2c,EAAOqJ,EAAQf,GAXzG,CAaZ,EACI6+B,EAAWhjD,UAAU4jD,wBAA0B,SAAUsD,EAAehiC,EAAQf,GAC5E,IAAIkV,EAAImqB,EAAIC,EAAIlhC,EAAIC,EAAI2kC,EACxB,GAAK1nD,KAAK0kB,OAAV,CAEA,IAAIijC,EAAmB3nD,KAAKymD,qBACxBmB,GAAkBD,GAAoBF,EACtCI,EAAeF,IAAqBF,EACpCpE,EAAU/sC,QAAQmxC,EAAeE,KAErC3nD,KAAK2kB,UAAY8iC,EAC8B,QAA9C1D,GAAMnqB,EAAK55B,KAAK3C,OAAOyqD,yBAAsC,IAAP/D,GAAyBA,EAAGnjD,KAAKg5B,EAAI6tB,EAAehiC,EAAQf,GAC/GkjC,EACqC,QAApC9kC,GAAMkhC,EAAKhkD,KAAK3C,OAAO0qD,eAA4B,IAAPjlC,GAAyBA,EAAGliB,KAAKojD,EAAIyD,EAAehiC,EAAQf,GAEpGmjC,IAC+B,QAAnCH,GAAM3kC,EAAK/iB,KAAK3C,OAAO2qD,cAA2B,IAAPN,GAAyBA,EAAG9mD,KAAKmiB,EAAI4kC,EAAkBliC,EAAQf,IAZ3G,CAcZ,EACI6+B,EAAWhjD,UAAU+mB,MAAQ,WACpBtnB,KAAK0kB,QAEV1kB,KAAK0kB,OAAO4C,OACpB,EACIi8B,EAAWhjD,UAAUu4B,KAAO,WACnB94B,KAAK0kB,SAEV1kB,KAAK2kB,UAAY,KACjB3kB,KAAK0kB,OAAOoU,OACpB,EACIyqB,EAAW0E,YAAc,cAIzB1E,EAAW3/B,MAAQ0/B,EAAQhtC,QAC3BitC,EAAW2E,aAAe,CACtBtjC,MAAO,OACP3Q,QAAS,CAAA,EACTiS,UAAU,GAEPq9B,CACX,CAjXIA,CAiXFJ,EAAQ7sC,QAAQ6xC,WAIlB,SAASpC,EAAStO,GACdpmC,QAAQmB,UAAUiqB,KAAKgb,EAC3B,QACAnc,GAAiBioB,MEtZjB,SAAwB6E,IAAiBC,WAAEA,EAAAC,KAAYA,IACrD,MAEMC,EAAgB,OAFFD,IAAA,IAAYx4B,MAAO04B,iBAEKH,0BAG5C,OACEI,EAAAA,KAAC,OAAI5iB,MAAO,CACV+D,WAAY,2BACZ8e,OAAQ,oCACRC,aAAc,GACdC,QAAS,GACThN,UAAW,IAEX/5B,SAAA,CAAAgnC,MAAC,OAAIhjB,MAAO,CACVijB,SAAU,GACVjP,WAAY,IACZ7P,MAAO,UACP+e,cAAe,YACfC,cAAe,SACfnN,aAAc,IACbh6B,SAAA,qBAIH4mC,OAAC,OAAI5iB,MAAO,CACV+D,WAAY,YACZ8e,OAAQ,gCACRC,aAAc,EACdC,QAAS,GACTK,UAAW,UAEXpnC,SAAA,CAAAgnC,MAAC,KAAEhjB,MAAO,CACRmE,MAAO,cACP8e,SAAU,GACVjP,WAAY,IACZqP,OAAQ,cAEPrnC,SAAA0mC,IAGHM,MAAC,KAAEhjB,MAAO,CACRmE,MAAO,UACP8e,SAAU,GACVK,WAAY,IACZD,OAAQ,EACRvP,UAAW,UAEV93B,SA5CiB,0JAgDtBgnC,MAAC,OAAIhjB,MAAO,CACVijB,SAAU,GACV9e,MAAO,UACP4R,UAAW,EACXqN,UAAW,UACVpnC,SAAA,8DAKT,2BC3EA,SAASllB,GAAE2G,GAAG,IAAIs/C,EAAEwG,EAAEz6C,EAAE,GAAG,GAAG,iBAAiBrL,GAAG,iBAAiBA,EAAEqL,GAAGrL,OAAA,GAAU,iBAAiBA,EAAE,GAAGhD,MAAMmL,QAAQnI,GAAG,IAAIs/C,EAAE,EAAEA,EAAEt/C,EAAEzD,OAAO+iD,IAAIt/C,EAAEs/C,KAAKwG,EAAEzsD,GAAE2G,EAAEs/C,OAAOj0C,IAAIA,GAAG,KAAKA,GAAGy6C,QAAQ,IAAIxG,KAAKt/C,EAAEA,EAAEs/C,KAAKj0C,IAAIA,GAAG,KAAKA,GAAGi0C,GAAG,OAAOj0C,CAAC,CAAQ,SAAS06C,KAAO,IAAA,IAAQ/lD,EAAEs/C,EAAEwG,EAAE,EAAEz6C,EAAE,GAAGy6C,EAAEr8C,UAAUlN,SAASyD,EAAEyJ,UAAUq8C,QAAQxG,EAAEjmD,GAAE2G,MAAMqL,IAAIA,GAAG,KAAKA,GAAGi0C,GAAG,OAAOj0C,CAAC,wLCEjWzM,OAAOyS,eAAe20C,GAAS,aAAc,CAC3C7pD,OAAO,IAET6pD,GAAAC,UAqBA,SAAmBlsD,EAAoBC,EAAuBC,GAC5D,GAAIF,EAAMC,GACR,OAAO,IAAIM,MAAM,gBAAgB8e,OAAOpf,EAAU,eAAeof,OAAOnf,EAAe,4CAE3F,EAxBA+rD,GAAAE,YAKA,SAAqBvrD,EAAoCgxC,GACvD,IAAA,IAAS56B,EAAI,EAAGxU,EAAS5B,EAAM4B,OAAQwU,EAAIxU,EAAQwU,IACjD,GAAI46B,EAAStuB,MAAMsuB,EAAU,CAAChxC,EAAMoW,GAAIA,EAAGpW,IAAS,OAAOA,EAAMoW,EAErE,EARAi1C,GAAAG,IAgBA,SAAaz5B,GACX,OAAO0U,SAAS1U,EAAG,GACrB,EAjBAs5B,GAAA3kD,WAQA,SAAoBvG,GAElB,MAAuB,mBAATA,GAAgE,sBAAzC8D,OAAO3B,UAAUwC,SAASnC,KAAKxC,EACtE,EAVAkrD,GAAAI,MAWA,SAAeC,GACb,MAAsB,iBAARA,IAAqBC,MAAMD,EAC3C,wDCpBAznD,OAAOyS,eAAek1C,GAAS,aAAc,CAC3CpqD,OAAO,IAEToqD,GAAAC,aAAuBA,EACvBD,GAAAE,SAkDA,SAAkBC,EAAgB37B,EAAoBI,EAAwBw7B,GAC5E,IAAKD,EAAI,OACT,MAAM3rC,EAAU,CACd6rC,SAAS,KACND,GAGDD,EAAGr8B,iBACLq8B,EAAGr8B,iBAAiBU,EAAOI,EAASpQ,GAC3B2rC,EAAGG,YACZH,EAAGG,YAAY,KAAO97B,EAAOI,GAG7Bu7B,EAAG,KAAO37B,GAASI,CAEvB,EAhEAo7B,GAAAO,oBAsKA,SAA6BC,GAC3B,IAAKA,EAAK,OACV,IAAIC,EAAUD,EAAIE,eAAe,4BAC5BD,IACHA,EAAUD,EAAIxjC,cAAc,SAC5ByjC,EAAQ1mD,KAAO,WACf0mD,EAAQhkB,GAAK,2BACbgkB,EAAQtmC,UAAY,6EACpBsmC,EAAQtmC,WAAa,wEACrBqmC,EAAIG,qBAAqB,QAAQ,GAAG14B,YAAYw4B,IAE9CD,EAAIl0B,MAAM2zB,EAAaO,EAAIl0B,KAAM,wCACvC,EAjLA0zB,GAAAY,mBAiIA,SAA4BC,EAAkCC,GAC5D,MAAMC,EAAcC,EAAeH,EAAYC,EAAgB,MAC/D,MAAO,CACL,EAAA,EAAKG,EAAWC,oBAAoB,YAAaD,EAAWx0C,UAAWs0C,EAE3E,EArIAf,GAAAmB,mBAsIA,SAA4BN,EAAkCC,GAE5D,OADoBE,EAAeH,EAAYC,EAAgB,GAEjE,EAxIAd,GAAAoB,SAsJA,SAAkB3nD,EAAyB4nD,GACzC,OAAO5nD,EAAE6nD,kBAAqBC,EAAO5B,aAAalmD,EAAE6nD,cAAevI,GAAKsI,IAAetI,EAAEsI,aAAe5nD,EAAE+nD,iBAAA,EAAsBD,EAAO5B,aAAalmD,EAAE+nD,eAAgBzI,GAAKsI,IAAetI,EAAEsI,WAC9L,EAvJArB,GAAAyB,mBAwJA,SAA4BhoD,GAC1B,GAAIA,EAAE6nD,eAAiB7nD,EAAE6nD,cAAc,GAAI,OAAO7nD,EAAE6nD,cAAc,GAAGD,WACrE,GAAI5nD,EAAE+nD,gBAAkB/nD,EAAE+nD,eAAe,GAAI,OAAO/nD,EAAE+nD,eAAe,GAAGH,UAC1E,EA1JArB,GAAAgB,eAAyBA,EACzBhB,GAAA0B,YA6FA,SAAqBzsD,GACnB,IAAI7C,EAAS6C,EAAK0sD,aAClB,MAAMC,EAAgB3sD,EAAK4sD,cAAcC,YAAYrQ,iBAAiBx8C,GAGtE,OAFA7C,IAAA,EAAcmvD,EAAO3B,KAAKgC,EAAcG,YACxC3vD,IAAA,EAAcmvD,EAAO3B,KAAKgC,EAAcI,eACjC5vD,CACT,EAlGA4tD,GAAAiC,WAmGA,SAAoBhtD,GAClB,IAAI9C,EAAQ8C,EAAKitD,YACjB,MAAMN,EAAgB3sD,EAAK4sD,cAAcC,YAAYrQ,iBAAiBx8C,GAGtE,OAFA9C,IAAA,EAAaovD,EAAO3B,KAAKgC,EAAcO,aACvChwD,IAAA,EAAaovD,EAAO3B,KAAKgC,EAAcQ,cAChCjwD,CACT,EAxGA6tD,GAAAqC,gBAA0BA,EAC1BrC,GAAAsC,4BA8BA,SAAqCnC,EAAezP,EAAuB6R,GACzE,IAAIttD,EAAOkrD,EACX,EAAG,CACD,GAAIkC,EAAgBptD,EAAMy7C,GAAW,OAAO,EAC5C,GAAIz7C,IAASstD,EAAU,OAAO,EAE9BttD,EAAOA,EAAKoa,UAChB,OAAWpa,GACT,OAAO,CACT,EAtCA+qD,GAAAwC,mBA2GA,SAA4BvsB,EAA2BwsB,EAAgCC,GACrF,MACMC,EADSF,IAAiBA,EAAaZ,cAAcv1B,KACzB,CAChCtN,KAAM,EACND,IAAK,GACH0jC,EAAa5jC,wBACXxsB,GAAK4jC,EAAI2sB,QAAUH,EAAaI,WAAaF,EAAiB3jC,MAAQ0jC,EACtEpwD,GAAK2jC,EAAI6sB,QAAUL,EAAajlC,UAAYmlC,EAAiB5jC,KAAO2jC,EAC1E,MAAO,CACLrwD,IACAC,IAEJ,EAtHA0tD,GAAA+C,YAsEA,SAAqB9tD,GAGnB,IAAI7C,EAAS6C,EAAK0sD,aAClB,MAAMC,EAAgB3sD,EAAK4sD,cAAcC,YAAYrQ,iBAAiBx8C,GAGtE,OAFA7C,IAAA,EAAcmvD,EAAO3B,KAAKgC,EAAcoB,gBACxC5wD,IAAA,EAAcmvD,EAAO3B,KAAKgC,EAAcqB,mBACjC7wD,CACT,EA7EA4tD,GAAAkD,WA8EA,SAAoBjuD,GAGlB,IAAI9C,EAAQ8C,EAAKitD,YACjB,MAAMN,EAAgB3sD,EAAK4sD,cAAcC,YAAYrQ,iBAAiBx8C,GAGtE,OAFA9C,IAAA,EAAaovD,EAAO3B,KAAKgC,EAAcuB,iBACvChxD,IAAA,EAAaovD,EAAO3B,KAAKgC,EAAcwB,kBAChCjxD,CACT,EArFA6tD,GAAAqD,gBAA0BA,EAC1BrD,GAAAsD,YAmDA,SAAqBnD,EAAgB37B,EAAoBI,EAAwBw7B,GAC/E,IAAKD,EAAI,OACT,MAAM3rC,EAAU,CACd6rC,SAAS,KACND,GAGDD,EAAGnd,oBACLmd,EAAGnd,oBAAoBxe,EAAOI,EAASpQ,GAC9B2rC,EAAGoD,YACZpD,EAAGoD,YAAY,KAAO/+B,EAAOI,GAG7Bu7B,EAAG,KAAO37B,GAAS,IAEvB,EAjEAw7B,GAAAwD,uBAoKA,SAAgChD,GAC9B,IAAKA,EAAK,OACV,IAGE,GAFIA,EAAIl0B,MAAM+2B,EAAgB7C,EAAIl0B,KAAM,yCAEpCk0B,EAAI1lC,UAEN0lC,EAAI1lC,UAAUsc,YACT,CAGL,MAAMtc,GAAa0lC,EAAIsB,aAAetQ,QAAQ1zB,eAC1ChD,GAAgC,UAAnBA,EAAU/gB,MACzB+gB,EAAUiU,iBAElB,CACA,OAAWt1B,GAEX,CACA,EAtLA,IAAI8nD,EAASruD,KACT+tD,EAEJ,SAAiC9sC,EAAKsvC,GAAe,GAAoBtvC,GAAOA,EAAIlJ,WAAc,OAAOkJ,EAAO,GAAY,OAARA,GAA+B,iBAARA,GAAmC,mBAARA,EAAsB,MAAO,CAAE1H,QAAS0H,GAAS,IAAIzU,EAAQgkD,EAAyBD,GAAc,GAAI/jD,GAASA,EAAMzH,IAAIkc,GAAQ,OAAOzU,EAAM1H,IAAImc,GAAQ,IAAIwvC,EAAS,CAAA,EAAQC,EAAwBvrD,OAAOyS,gBAAkBzS,OAAO2b,yBAA0B,IAAA,IAAS/hB,KAAOkiB,EAAO,GAAY,YAARliB,GAAqBoG,OAAO3B,UAAUsC,eAAejC,KAAKod,EAAKliB,GAAM,CAAE,IAAI0jB,EAAOiuC,EAAwBvrD,OAAO2b,yBAAyBG,EAAKliB,GAAO,KAAU0jB,IAASA,EAAK3d,KAAO2d,EAAK5d,KAAQM,OAAOyS,eAAe64C,EAAQ1xD,EAAK0jB,GAAgBguC,EAAO1xD,GAAOkiB,EAAIliB,EAAO,CAAK0xD,EAAOl3C,QAAU0H,EAASzU,GAASA,EAAM3H,IAAIoc,EAAKwvC,GAAW,OAAOA,CAAO,CAFjxBE,iCCtBjBxrD,OAAOyS,eAAeg5C,GAAS,aAAc,CAC3CluD,OAAO,IAETkuD,GAAA5C,mBAA6BA,EAC7B4C,GAAAC,qBAwBA,SAA8Btd,EAAmB3Q,GAC/C,OAAOA,EAAS,IAAIjjB,OAAOijB,EAAO5E,cAAe,KAAKre,OAAO4zB,GAAQA,CACvE,EAzBAqd,GAAAr3C,aAAkB,EAClBq3C,GAAAE,UAAoBA,EACpB,MAAMC,EAAW,CAAC,MAAO,SAAU,IAAK,MACxC,SAASD,IACP,IAAIE,EACJ,IAAIzd,EAAoBvjC,UAAUlN,OAAS,QAAsB,IAAjBkN,UAAU,GAAmBA,UAAU,GAAK,YAG5F,GAAsB,oBAAXsuC,OAAwB,MAAO,GAI1C,MAAMxV,EAAiD,QAAxCkoB,EAAmB1S,OAAOz0B,gBAA2C,IAArBmnC,GAAyF,QAAzDA,EAAmBA,EAAiBC,uBAAkD,IAArBD,OAA8B,EAASA,EAAiBloB,MACxN,IAAKA,EAAO,MAAO,GACnB,GAAIyK,KAAQzK,EAAO,MAAO,GAC1B,IAAA,IAASxxB,EAAI,EAAGA,EAAIy5C,EAASjuD,OAAQwU,IACnC,GAAI02C,EAAmBza,EAAMwd,EAASz5C,MAAOwxB,EAAO,OAAOioB,EAASz5C,GAEtE,MAAO,EACT,CACA,SAAS02C,EAAmBza,EAAmB3Q,GAC7C,OAAOA,EAAS,GAAGjjB,OAAOijB,GAAQjjB,OAKpC,SAA0Bo5B,GACxB,IAAImY,EAAM,GACNC,GAAmB,EACvB,IAAA,IAAS75C,EAAI,EAAGA,EAAIyhC,EAAIj2C,OAAQwU,IAC1B65C,GACFD,GAAOnY,EAAIzhC,GAAGqF,cACdw0C,GAAmB,GACC,MAAXpY,EAAIzhC,GACb65C,GAAmB,EAEnBD,GAAOnY,EAAIzhC,GAGf,OAAO45C,CACT,CAnB2CE,CAAiB7d,IAASA,CACrE,QAuBeqd,GAAAr3C,QAAmBu3C,OD5BOhtD,IACzC,SAAS0sD,EAAyBD,GAAe,GAAuB,mBAAZ77C,QAAwB,OAAO,KAAM,IAAI28C,MAAwB38C,QAAe48C,MAAuB58C,QAAW,OAAQ87C,EAA2B,SAAUD,GAAe,OAAOA,EAAce,EAAmBD,CAAkB,GAAId,EAAa,CAGrT,IAAIgB,EAAsB,GAC1B,SAASpC,EAAgBlC,EAAezP,GAUtC,OATK+T,IACHA,GAAA,EAA0BlD,EAAO5B,aAAa,CAAC,UAAW,wBAAyB,qBAAsB,oBAAqB,oBAAqB,SAAUx6B,GAE3J,OAAA,EAAWo8B,EAAOzmD,YAAYqlD,EAAGh7B,GACvC,OAKM,EAAKo8B,EAAOzmD,YAAYqlD,EAAGsE,KAGxBtE,EAAGsE,GAAqB/T,EACjC,CAwGA,SAASsQ,EAAer8B,EAAcm8B,EAAoD4D,GACxF,IAAIryD,EACFA,EAAAC,EACAA,GACwBqyB,EACtBo8B,EAAc,aAAaluC,OAAOxgB,GAAGwgB,OAAO6xC,EAAY,KAAK7xC,OAAOvgB,GAAGugB,OAAO6xC,EAAY,KAC9F,GAAI5D,EAAgB,CAClB,MAAM6D,EAAW,GAAG9xC,OAAmC,iBAArBiuC,EAAezuD,EAAiByuD,EAAezuD,EAAIyuD,EAAezuD,EAAIqyD,GAClGE,EAAW,GAAG/xC,OAAmC,iBAArBiuC,EAAexuD,EAAiBwuD,EAAexuD,EAAIwuD,EAAexuD,EAAIoyD,GACxG3D,EAAc,aAAaluC,OAAO8xC,EAAU,MAAM9xC,OAAO+xC,EAAU,KAAO7D,CAC9E,CACE,OAAOA,CACT,CA+CA,SAASd,EAAaE,EAAsBvwC,GACtCuwC,EAAG9lC,UACL8lC,EAAG9lC,UAAUlb,IAAIyQ,GAEZuwC,EAAGvwC,UAAUzB,MAAM,IAAI/S,OAAO,YAAYyX,OAAOjD,EAAW,eAC/DuwC,EAAGvwC,WAAa,IAAIiD,OAAOjD,GAGjC,CACA,SAASyzC,EAAgBlD,EAAsBvwC,GACzCuwC,EAAG9lC,UACL8lC,EAAG9lC,UAAUjC,OAAOxI,GAEpBuwC,EAAGvwC,UAAYuwC,EAAGvwC,UAAUvU,QAAQ,IAAID,OAAO,YAAYyX,OAAOjD,EAAW,WAAY,KAAM,GAEnG,2DE3NAvX,OAAOyS,eAAe+5C,GAAS,aAAc,CAC3CjvD,OAAO,IAETivD,GAAAC,SA8DA,SAAkBC,GAChB,MAAgC,SAAzBA,EAAUvxD,MAAMwxD,MAA4C,MAAzBD,EAAUvxD,MAAMwxD,IAC5D,EA/DAH,GAAAI,SAgEA,SAAkBF,GAChB,MAAgC,SAAzBA,EAAUvxD,MAAMwxD,MAA4C,MAAzBD,EAAUvxD,MAAMwxD,IAC5D,EAjEAH,GAAAK,eA8EA,SAAwBH,EAA+B1yD,EAAgBC,GACrE,MAAM6yD,IAAU,EAAK5D,EAAO1B,OAAOkF,EAAUK,OACvCnwD,EAAOkoD,EAAY4H,GACzB,OAAII,EAEK,CACLlwD,OACAowD,OAAQ,EACRC,OAAQ,EACRF,MAAO/yD,EACPkzD,MAAOjzD,EACPD,IACAC,KAIK,CACL2C,OACAowD,OAAQhzD,EAAI0yD,EAAUK,MACtBE,OAAQhzD,EAAIyyD,EAAUQ,MACtBH,MAAOL,EAAUK,MACjBG,MAAOR,EAAUQ,MACjBlzD,IACAC,IAGN,EAvGAuyD,GAAAW,oBA0GA,SAA6BT,EAA2BU,GACtD,MAAM/C,EAAQqC,EAAUvxD,MAAMkvD,MAC9B,MAAO,CACLztD,KAAMwwD,EAASxwD,KACf5C,EAAG0yD,EAAUlL,MAAMxnD,EAAIozD,EAASJ,OAAS3C,EACzCpwD,EAAGyyD,EAAUlL,MAAMvnD,EAAImzD,EAASH,OAAS5C,EACzC2C,OAAQI,EAASJ,OAAS3C,EAC1B4C,OAAQG,EAASH,OAAS5C,EAC1B0C,MAAOL,EAAUlL,MAAMxnD,EACvBkzD,MAAOR,EAAUlL,MAAMvnD,EAE3B,EApHAuyD,GAAAa,iBAQA,SAA0BX,EAA2B1yD,EAAgBC,GAEnE,IAAKyyD,EAAUvxD,MAAMkrB,OAAQ,MAAO,CAACrsB,EAAGC,GAGxC,IAAIosB,OACFA,GACEqmC,EAAUvxD,MACdkrB,EAA2B,iBAAXA,EAAsBA,EAuGxC,SAAqBA,GACnB,MAAO,CACLM,KAAMN,EAAOM,KACbD,IAAKL,EAAOK,IACZE,MAAOP,EAAOO,MACdH,OAAQJ,EAAOI,OAEnB,CA9GiD6mC,CAAYjnC,GAC3D,MAAMzpB,EAAOkoD,EAAY4H,GACzB,GAAsB,iBAAXrmC,EAAqB,CAC9B,MAAMmjC,cACJA,GACE5sD,EACE2wD,EAAc/D,EAAcC,YAClC,IAAI+D,EAMJ,GAJEA,EADa,WAAXnnC,EACUzpB,EAAKoa,WAELwyC,EAAc//B,cAAcpD,KAEpCmnC,aAAqBD,EAAYl3C,aACrC,MAAM,IAAI3a,MAAM,oBAAsB2qB,EAAS,gCAEjD,MAAMonC,EAAgCD,EAChCE,EAAYH,EAAYnU,iBAAiBx8C,GACzC+wD,EAAiBJ,EAAYnU,iBAAiBqU,GAEpDpnC,EAAS,CACPM,MAAO/pB,EAAKgxD,YAAA,EAAiB1E,EAAO3B,KAAKoG,EAAe7D,cAAW,EAAQZ,EAAO3B,KAAKmG,EAAUnN,YACjG75B,KAAM9pB,EAAKg9C,WAAA,EAAgBsP,EAAO3B,KAAKoG,EAAejE,aAAU,EAAQR,EAAO3B,KAAKmG,EAAUhU,WAC9F9yB,OAAA,EAAWinC,EAAQjE,YAAY6D,IAAW,EAAQI,EAAQhD,YAAYjuD,GAAQA,EAAKgxD,YAAA,EAAiB1E,EAAO3B,KAAKoG,EAAe5D,iBAAoBb,EAAO3B,KAAKmG,EAAUI,aACzKrnC,QAAA,EAAYonC,EAAQxE,aAAaoE,IAAW,EAAQI,EAAQnD,aAAa9tD,GAAQA,EAAKg9C,WAAA,EAAgBsP,EAAO3B,KAAKoG,EAAehE,kBAAqBT,EAAO3B,KAAKmG,EAAU/T,cAElL,EAGE,EAAQuP,EAAO1B,OAAOnhC,EAAOO,SAAQ5sB,EAAImgB,KAAKC,IAAIpgB,EAAGqsB,EAAOO,SAC5D,EAAQsiC,EAAO1B,OAAOnhC,EAAOI,UAASxsB,EAAIkgB,KAAKC,IAAIngB,EAAGosB,EAAOI,UAG7D,EAAQyiC,EAAO1B,OAAOnhC,EAAOM,QAAO3sB,EAAImgB,KAAKoQ,IAAIvwB,EAAGqsB,EAAOM,QAC3D,EAAQuiC,EAAO1B,OAAOnhC,EAAOK,OAAMzsB,EAAIkgB,KAAKoQ,IAAItwB,EAAGosB,EAAOK,MAC1D,MAAO,CAAC1sB,EAAGC,EACb,EAnDAuyD,GAAAuB,mBAiEA,SAA4B3sD,EAAyB4sD,EAA+BC,GAClF,MAAMC,EAAsC,iBAApBF,GAAoB,EAAeH,EAAQ9E,UAAU3nD,EAAG4sD,GAAmB,KACnG,GAA+B,iBAApBA,IAAiCE,EAAU,OAAO,KAC7D,MAAMtxD,EAAOkoD,EAAYmJ,GAEnB7D,EAAe6D,EAAc9yD,MAAMivD,cAAgBxtD,EAAKwtD,cAAgBxtD,EAAK4sD,cAAcv1B,KACjG,OAAA,EAAW45B,EAAQ1D,oBAAoB+D,GAAY9sD,EAAGgpD,EAAc6D,EAAc9yD,MAAMkvD,MAC1F,EAvEAmC,GAAA2B,WAmDA,SAAoBC,EAA6BC,EAAuBC,GACtE,MAAMt0D,EAAImgB,KAAKo0C,MAAMF,EAAWD,EAAK,IAAMA,EAAK,GAC1Cn0D,EAAIkgB,KAAKo0C,MAAMD,EAAWF,EAAK,IAAMA,EAAK,GAChD,MAAO,CAACp0D,EAAGC,EACb,EAtDA,IAAIivD,EAASruD,KACTgzD,EAAUlvD,KA2Hd,SAASmmD,EAAY4H,GACnB,MAAM9vD,EAAO8vD,EAAU5H,cACvB,IAAKloD,EACH,MAAM,IAAIlB,MAAM,4CAGlB,OAAOkB,CACT,iFC7IAoD,OAAOyS,eAAe+7C,GAAS,aAAc,CAC3CjxD,OAAO,IAETixD,GAAAp6C,QAEA,WAEA,wCCPApU,OAAOyS,eAAeg8C,GAAS,aAAc,CAC3ClxD,OAAO,IAETkxD,GAAAr6C,aAAkB,EAClB,IAAIs6C,EASJ,SAAiC5yC,EAAKsvC,GAAe,GAAoBtvC,GAAOA,EAAIlJ,WAAc,OAAOkJ,EAAO,GAAY,OAARA,GAA+B,iBAARA,GAAmC,mBAARA,EAAsB,MAAO,CAAE1H,QAAS0H,GAAS,IAAIzU,EAAQgkD,EAAyBD,GAAc,GAAI/jD,GAASA,EAAMzH,IAAIkc,GAAQ,OAAOzU,EAAM1H,IAAImc,GAAQ,IAAIwvC,EAAS,CAAA,EAAQC,EAAwBvrD,OAAOyS,gBAAkBzS,OAAO2b,yBAA0B,IAAA,IAAS/hB,KAAOkiB,EAAO,GAAY,YAARliB,GAAqBoG,OAAO3B,UAAUsC,eAAejC,KAAKod,EAAKliB,GAAM,CAAE,IAAI0jB,EAAOiuC,EAAwBvrD,OAAO2b,yBAAyBG,EAAKliB,GAAO,KAAU0jB,IAASA,EAAK3d,KAAO2d,EAAK5d,KAAQM,OAAOyS,eAAe64C,EAAQ1xD,EAAK0jB,GAAgBguC,EAAO1xD,GAAOkiB,EAAIliB,EAAO,CAAK0xD,EAAOl3C,QAAU0H,EAASzU,GAASA,EAAM3H,IAAIoc,EAAKwvC,GAAW,OAAOA,CAAO,CATtxBE,CAAwB3wD,KAChC8zD,EAAajxC,QACbkxC,EAAYlxC,EAAuB5e,KACnC+uD,EAAU5uD,KACV4vD,EAAexvD,KACf6pD,EAAS7iD,KACTyoD,EAAOpxC,EAAuBjO,MAClC,SAASiO,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAC7F,SAASuvC,EAAyBD,GAAe,GAAuB,mBAAZ77C,QAAwB,OAAO,KAAM,IAAI28C,MAAwB38C,QAAe48C,MAAuB58C,QAAW,OAAQ87C,EAA2B,SAAUD,GAAe,OAAOA,EAAce,EAAmBD,CAAkB,GAAId,EAAa,CAErT,SAAS5pC,EAAgB1F,EAAKliB,EAAK2D,GAA4L,OAAnL3D,EAC5C,SAAwB6T,GAAO,IAAI7T,EACnC,SAAsBgd,EAAOm4C,GAAQ,GAAqB,iBAAVn4C,GAAgC,OAAVA,EAAgB,OAAOA,EAAO,IAAIo4C,EAAOp4C,EAAMrW,OAAO0uD,aAAc,QAAa,IAATD,EAAoB,CAAE,IAAIE,EAAMF,EAAKtwD,KAAKkY,EAAOm4C,GAAoB,GAAmB,iBAARG,EAAkB,OAAOA,EAAK,MAAM,IAAIhxC,UAAU,+CAAgD,CAAG,OAAiB,WAAT6wC,EAAoB1hD,OAAS6Z,QAAQtQ,EAAO,CAD9Uu4C,CAAa1hD,EAAK,UAAW,MAAsB,iBAAR7T,EAAmBA,EAAMyT,OAAOzT,EAAK,CADvEw1D,CAAex1D,MAAiBkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,CAAI,CAM1O,MAAMuzC,EACG,CACLn2C,MAAO,aACP+f,KAAM,YACNq2B,KAAM,YAJJD,EAMG,CACLn2C,MAAO,YACP+f,KAAM,YACNq2B,KAAM,WAKV,IAAIC,EAAeF,EAoCnBG,EAAA,cAA4Bd,EAAMzI,UAChC,WAAAn4C,GACE26B,SAAS59B,WACT2W,EAAgB1jB,KAAM,YAAY,GAElC0jB,EAAgB1jB,KAAM,QAAS2xD,KAC/BjuC,EAAgB1jB,KAAM,QAAS2xD,KAC/BjuC,EAAgB1jB,KAAM,kBAAmB,MACzC0jB,EAAgB1jB,KAAM,WAAW,GACjC0jB,EAAgB1jB,KAAM,kBAAmBsD,IAKvC,GAHAtD,KAAK3C,MAAMu0D,YAAYtuD,IAGlBtD,KAAK3C,MAAMw0D,eAAqC,iBAAbvuD,EAAEgqC,QAAoC,IAAbhqC,EAAEgqC,OAAc,OAAO,EAGxF,MAAMwkB,EAAW9xD,KAAKgnD,cACtB,IAAK8K,IAAaA,EAASpG,gBAAkBoG,EAASpG,cAAcv1B,KAClE,MAAM,IAAIv4B,MAAM,6CAElB,MAAM8tD,cACJA,GACEoG,EAGJ,GAAI9xD,KAAK3C,MAAM00D,YAAczuD,EAAE8a,kBAAkBstC,EAAcC,YAAYzzC,OAASlY,KAAK3C,MAAM20D,UAAU,EAAKjC,EAAQ5D,6BAA6B7oD,EAAE8a,OAAQpe,KAAK3C,MAAM20D,OAAQF,IAAa9xD,KAAK3C,MAAMgxC,SAAA,EAAc0hB,EAAQ5D,6BAA6B7oD,EAAE8a,OAAQpe,KAAK3C,MAAMgxC,OAAQyjB,GACtR,OAKa,eAAXxuD,EAAEM,MAAuBN,EAAE69B,iBAK/B,MAAM+uB,GAAA,EAAsBH,EAAQzE,oBAAoBhoD,GACxDtD,KAAKkwD,gBAAkBA,EAGvB,MAAMt5B,KAAem6B,EAAad,oBAAoB3sD,EAAG4sD,EAAiBlwD,MAC1E,GAAgB,MAAZ42B,EAAkB,OACtB,MAAM16B,EACJA,EAAAC,EACAA,GACEy6B,EAGEq7B,KAAgBlB,EAAahC,gBAAgB/uD,KAAM9D,EAAGC,IAC5D,EAAI60D,EAAK16C,SAAS,qCAAsC27C,IAGxD,EAAIjB,EAAK16C,SAAS,UAAWtW,KAAK3C,MAAM60D,UAEnB,IADAlyD,KAAK3C,MAAM60D,QAAQ5uD,EAAG2uD,KACI,IAAjBjyD,KAAKmyD,UAI/BnyD,KAAK3C,MAAM+0D,yBAA0BrC,EAAQ3F,qBAAqBsB,GAKtE1rD,KAAKqyD,UAAW,EAChBryD,KAAKivD,MAAQ/yD,EACb8D,KAAKovD,MAAQjzD,GAKb,EAAI4zD,EAAQhG,UAAU2B,EAAe+F,EAAat2B,KAAMn7B,KAAKsyD,aAC7D,EAAIvC,EAAQhG,UAAU2B,EAAe+F,EAAaD,KAAMxxD,KAAKuyD,mBAE/D7uC,EAAgB1jB,KAAM,aAAcsD,IAElC,MAAMszB,KAAem6B,EAAad,oBAAoB3sD,EAAGtD,KAAKkwD,gBAAiBlwD,MAC/E,GAAgB,MAAZ42B,EAAkB,OACtB,IAAI16B,EACFA,EAAAC,EACAA,GACEy6B,EAGJ,GAAIt2B,MAAMmL,QAAQzL,KAAK3C,MAAMizD,MAAO,CAClC,IAAIpB,EAAShzD,EAAI8D,KAAKivD,MACpBE,EAAShzD,EAAI6D,KAAKovD,MAEpB,IADCF,EAAQC,IAAM,EAAQ4B,EAAaV,YAAYrwD,KAAK3C,MAAMizD,KAAMpB,EAAQC,IACpED,IAAWC,EAAQ,OACxBjzD,EAAI8D,KAAKivD,MAAQC,EAAQ/yD,EAAI6D,KAAKovD,MAAQD,CAClD,CACM,MAAM8C,KAAgBlB,EAAahC,gBAAgB/uD,KAAM9D,EAAGC,IAC5D,EAAI60D,EAAK16C,SAAS,gCAAiC27C,GAInD,IAAqB,IADAjyD,KAAK3C,MAAMm1D,OAAOlvD,EAAG2uD,KACK,IAAjBjyD,KAAKmyD,QAcnCnyD,KAAKivD,MAAQ/yD,EACb8D,KAAKovD,MAAQjzD,OAdX,IAEE6D,KAAKuyD,eAAe,IAAIE,WAAW,WAC7C,OAAiB90D,GAEP,MAAM0wB,EAAUzH,SAASogB,YAAY,eAGrC3Y,EAAMqkC,eAAe,WAAW,GAAM,EAAMrX,OAAQ,EAAG,EAAG,EAAG,EAAG,GAAG,GAAO,GAAO,GAAO,EAAO,EAAG,MAClGr7C,KAAKuyD,eAAelkC,EAC9B,IAMI3K,EAAgB1jB,KAAM,iBAAkBsD,IACtC,IAAKtD,KAAKqyD,SAAU,OACpB,MAAMz7B,KAAem6B,EAAad,oBAAoB3sD,EAAGtD,KAAKkwD,gBAAiBlwD,MAC/E,GAAgB,MAAZ42B,EAAkB,OACtB,IAAI16B,EACFA,EAAAC,EACAA,GACEy6B,EAGJ,GAAIt2B,MAAMmL,QAAQzL,KAAK3C,MAAMizD,MAAO,CAClC,IAAIpB,EAAShzD,EAAI8D,KAAKivD,OAAS,EAC3BE,EAAShzD,EAAI6D,KAAKovD,OAAS,GAC9BF,EAAQC,IAAM,EAAQ4B,EAAaV,YAAYrwD,KAAK3C,MAAMizD,KAAMpB,EAAQC,GACzEjzD,EAAI8D,KAAKivD,MAAQC,EAAQ/yD,EAAI6D,KAAKovD,MAAQD,CAClD,CACM,MAAM8C,KAAgBlB,EAAahC,gBAAgB/uD,KAAM9D,EAAGC,GAI5D,IAAuB,IADA6D,KAAK3C,MAAMs1D,OAAOrvD,EAAG2uD,KACK,IAAjBjyD,KAAKmyD,QAAmB,OAAO,EAC/D,MAAML,EAAW9xD,KAAKgnD,cAClB8K,GAEE9xD,KAAK3C,MAAM+0D,uBAAsB,EAAIrC,EAAQ1C,wBAAwByE,EAASpG,gBAEpF,EAAIsF,EAAK16C,SAAS,oCAAqC27C,GAGvDjyD,KAAKqyD,UAAW,EAChBryD,KAAKivD,MAAQ0C,IACb3xD,KAAKovD,MAAQuC,IACTG,KAEF,EAAId,EAAK16C,SAAS,qCAClB,EAAIy5C,EAAQ5C,aAAa2E,EAASpG,cAAe+F,EAAat2B,KAAMn7B,KAAKsyD,aACzE,EAAIvC,EAAQ5C,aAAa2E,EAASpG,cAAe+F,EAAaD,KAAMxxD,KAAKuyD,mBAG7E7uC,EAAgB1jB,KAAM,cAAesD,IACnCmuD,EAAeF,EAERvxD,KAAK4yD,gBAAgBtvD,KAE9BogB,EAAgB1jB,KAAM,YAAasD,IACjCmuD,EAAeF,EACRvxD,KAAKuyD,eAAejvD,KAG7BogB,EAAgB1jB,KAAM,eAAgBsD,IAEpCmuD,EAAeF,EACRvxD,KAAK4yD,gBAAgBtvD,KAE9BogB,EAAgB1jB,KAAM,aAAcsD,IAElCmuD,EAAeF,EACRvxD,KAAKuyD,eAAejvD,IAEjC,CACE,iBAAA8hD,GACEplD,KAAKmyD,SAAU,EAGf,MAAML,EAAW9xD,KAAKgnD,cAClB8K,IACF,EAAI/B,EAAQhG,UAAU+H,EAAUP,EAAgBn2C,MAAOpb,KAAK6yD,aAAc,CACxEC,SAAS,GAGjB,CACE,oBAAAxN,GACEtlD,KAAKmyD,SAAU,EAGf,MAAML,EAAW9xD,KAAKgnD,cACtB,GAAI8K,EAAU,CACZ,MAAMpG,cACJA,GACEoG,GACJ,EAAI/B,EAAQ5C,aAAazB,EAAe6F,EAAgBp2B,KAAMn7B,KAAKsyD,aACnE,EAAIvC,EAAQ5C,aAAazB,EAAe6F,EAAgBp2B,KAAMn7B,KAAKsyD,aACnE,EAAIvC,EAAQ5C,aAAazB,EAAe6F,EAAgBC,KAAMxxD,KAAKuyD,iBACnE,EAAIxC,EAAQ5C,aAAazB,EAAe6F,EAAgBC,KAAMxxD,KAAKuyD,iBACnE,EAAIxC,EAAQ5C,aAAa2E,EAAUP,EAAgBn2C,MAAOpb,KAAK6yD,aAAc,CAC3EC,SAAS,IAEP9yD,KAAK3C,MAAM+0D,yBAA0BrC,EAAQ1C,wBAAwB3B,EAC/E,CACA,CAIE,WAAA1E,GACE,IAAI+L,EAAaC,EACjB,OAAsC,QAA9BD,EAAc/yD,KAAK3C,aAAmC,IAAhB01D,GAA0BA,EAAYE,QAA0C,QAA/BD,EAAehzD,KAAK3C,aAAoC,IAAjB21D,GAAqE,QAAzCA,EAAeA,EAAaC,eAAsC,IAAjBD,OAA0B,EAASA,EAAaE,QAAUpC,EAAUx6C,QAAQ0wC,YAAYhnD,KAC/S,CACE,MAAAohD,GAGE,OAAoBwP,EAAMxJ,aAAawJ,EAAMtM,SAASE,KAAKxkD,KAAK3C,MAAMwkB,UAAW,CAG/E+vC,YAAa5xD,KAAK4xD,YAClBuB,UAAWnzD,KAAKmzD,UAIhBC,WAAYpzD,KAAKozD,YAEvB,UAEAzC,GAAAr6C,QAAkB+8C,EAClB3vC,EAAgB2vC,EAAe,cAAe,iBAC9C3vC,EAAgB2vC,EAAe,YAAa,CAO1CxB,cAAehB,EAAWv6C,QAAQnY,KAClC0jB,SAAUgvC,EAAWv6C,QAAQxX,KAAKf,WAKlCg0D,SAAUlB,EAAWv6C,QAAQnY,KAM7Bi0D,qBAAsBvB,EAAWv6C,QAAQnY,KAKzCmuD,aAAc,SAAUjvD,EAAgCC,GACtD,GAAID,EAAMC,IAA0C,IAA7BD,EAAMC,GAAU8P,SACrC,MAAM,IAAIxP,MAAM,+CAEtB,EAIE0yD,KAAMO,EAAWv6C,QAAQ5X,QAAQmyD,EAAWv6C,QAAQjY,QAqBpD2zD,OAAQnB,EAAWv6C,QAAQ/X,OAqB3B8vC,OAAQwiB,EAAWv6C,QAAQ/X,OAkB3B00D,QAASpC,EAAWv6C,QAAQhY,OAK5B4zD,QAASrB,EAAWv6C,QAAQlY,KAK5Bo0D,OAAQ3B,EAAWv6C,QAAQlY,KAK3Bu0D,OAAQ9B,EAAWv6C,QAAQlY,KAK3BwzD,YAAaf,EAAWv6C,QAAQlY,KAIhCmuD,MAAOsE,EAAWv6C,QAAQjY,OAI1Bob,UAAW2xC,EAAO7B,UAClB1jB,MAAOulB,EAAO7B,UACd75C,UAAW07C,EAAO7B,YAEpB7lC,EAAgB2vC,EAAe,eAAgB,CAC7CxB,eAAe,EAEfE,UAAU,EACVK,sBAAsB,EACtBF,QAAS,WAAY,EACrBM,OAAQ,WAAY,EACpBG,OAAQ,WAAY,EACpBf,YAAa,WAAY,EACzBrF,MAAO,kDC9aTrqD,OAAOyS,eAAcpV,EAAU,aAAc,CAC3CE,OAAO,IAETyC,OAAOyS,eAAepV,EAAS,gBAAiB,CAC9CsV,YAAY,EACZhT,IAAK,WACH,OAAOyxD,EAAeh9C,OAC1B,IAEA/W,EAAA+W,aAAkB,EAClB,IAAIs6C,EAWJ,SAAiC5yC,EAAKsvC,GAAe,GAAoBtvC,GAAOA,EAAIlJ,WAAc,OAAOkJ,EAAO,GAAY,OAARA,GAA+B,iBAARA,GAAmC,mBAARA,EAAsB,MAAO,CAAE1H,QAAS0H,GAAS,IAAIzU,EAAQgkD,EAAyBD,GAAc,GAAI/jD,GAASA,EAAMzH,IAAIkc,GAAQ,OAAOzU,EAAM1H,IAAImc,GAAQ,IAAIwvC,EAAS,CAAA,EAAQC,EAAwBvrD,OAAOyS,gBAAkBzS,OAAO2b,yBAA0B,IAAA,IAAS/hB,KAAOkiB,EAAO,GAAY,YAARliB,GAAqBoG,OAAO3B,UAAUsC,eAAejC,KAAKod,EAAKliB,GAAM,CAAE,IAAI0jB,EAAOiuC,EAAwBvrD,OAAO2b,yBAAyBG,EAAKliB,GAAO,KAAU0jB,IAASA,EAAK3d,KAAO2d,EAAK5d,KAAQM,OAAOyS,eAAe64C,EAAQ1xD,EAAK0jB,GAAgBguC,EAAO1xD,GAAOkiB,EAAIliB,EAAO,CAAK0xD,EAAOl3C,QAAU0H,EAASzU,GAASA,EAAM3H,IAAIoc,EAAKwvC,GAAW,OAAOA,CAAO,CAXtxBE,CAAwB3wD,KAChC8zD,EAAajxC,QACbkxC,EAAYlxC,EAAuB5e,KACnCuyD,EAAQ3zC,EAAuBze,IAC/B4uD,EAAUxuD,KACVwvD,EAAexoD,KACf6iD,EAASz5C,KACT2hD,EAAiB1zC,EAAuB9M,MACxCk+C,EAAOpxC,EAAuB4zC,MAClC,SAAS5zC,EAAuB5B,GAAO,OAAOA,GAAOA,EAAIlJ,WAAakJ,EAAM,CAAE1H,QAAS0H,EAAM,CAC7F,SAASuvC,EAAyBD,GAAe,GAAuB,mBAAZ77C,QAAwB,OAAO,KAAM,IAAI28C,MAAwB38C,QAAe48C,MAAuB58C,QAAW,OAAQ87C,EAA2B,SAAUD,GAAe,OAAOA,EAAce,EAAmBD,CAAkB,GAAId,EAAa,CAErT,SAASmG,IAAiS,OAApRA,EAAWvxD,OAAOygD,OAASzgD,OAAOygD,OAAOrzB,OAAS,SAAUlR,GAAU,IAAA,IAAS/J,EAAI,EAAGA,EAAItH,UAAUlN,OAAQwU,IAAK,CAAE,IAAIoR,EAAS1Y,UAAUsH,GAAI,IAAA,IAASvY,KAAO2pB,EAAcvjB,OAAO3B,UAAUsC,eAAejC,KAAK6kB,EAAQ3pB,KAAQsiB,EAAOtiB,GAAO2pB,EAAO3pB,IAAY,OAAOsiB,CAAO,EAAWq1C,EAAS9yC,MAAM3gB,KAAM+M,UAAW,CACjV,SAAS2W,EAAgB1F,EAAKliB,EAAK2D,GAA4L,OAAnL3D,EAC5C,SAAwB6T,GAAO,IAAI7T,EACnC,SAAsBgd,EAAOm4C,GAAQ,GAAqB,iBAAVn4C,GAAgC,OAAVA,EAAgB,OAAOA,EAAO,IAAIo4C,EAAOp4C,EAAMrW,OAAO0uD,aAAc,QAAa,IAATD,EAAoB,CAAE,IAAIE,EAAMF,EAAKtwD,KAAKkY,EAAOm4C,GAAoB,GAAmB,iBAARG,EAAkB,OAAOA,EAAK,MAAM,IAAIhxC,UAAU,+CAAgD,CAAG,OAAiB,WAAT6wC,EAAoB1hD,OAAS6Z,QAAQtQ,EAAO,CAD9Uu4C,CAAa1hD,EAAK,UAAW,MAAsB,iBAAR7T,EAAmBA,EAAMyT,OAAOzT,EAAK,CADvEw1D,CAAex1D,MAAiBkiB,EAAO9b,OAAOyS,eAAeqJ,EAAKliB,EAAK,CAAE2D,QAAcoV,YAAY,EAAMD,cAAc,EAAM2J,UAAU,IAAkBP,EAAIliB,GAAO2D,EAAgBue,CAAI,CAgC1O,MAAM01C,UAAkB9C,EAAMzI,UAG5B,+BAAOwL,CAAyBnlC,EAAcmS,GAC5C,IAAI/J,SACFA,GACuBpI,GACrBolC,kBACFA,GACuBjzB,EAEzB,OAAI/J,GAAcg9B,GAAqBh9B,EAAS16B,IAAM03D,EAAkB13D,GAAK06B,EAASz6B,IAAMy3D,EAAkBz3D,EAavG,OAZL,EAAI60D,EAAK16C,SAAS,yCAA0C,CAC1DsgB,WACAg9B,sBAEK,CACL13D,EAAG06B,EAAS16B,EACZC,EAAGy6B,EAASz6B,EACZy3D,kBAAmB,IACdh9B,IAKb,CACE,WAAA5mB,CAAY3S,GACVstC,MAAMttC,GACNqmB,EAAgB1jB,KAAM,cAAe,CAACsD,EAAGgsD,MACvC,EAAI0B,EAAK16C,SAAS,6BAA8Bg5C,GAKhD,IAAoB,IAFAtvD,KAAK3C,MAAM60D,QAAQ5uD,GAAA,EAAOytD,EAAa1B,qBAAqBrvD,KAAMsvD,IAE3D,OAAO,EAClCtvD,KAAK4lD,SAAS,CACZyM,UAAU,EACVwB,SAAS,MAGbnwC,EAAgB1jB,KAAM,SAAU,CAACsD,EAAGgsD,KAClC,IAAKtvD,KAAK0jD,MAAM2O,SAAU,OAAO,GACjC,EAAIrB,EAAK16C,SAAS,wBAAyBg5C,GAC3C,MAAMwE,GAAA,EAAa/C,EAAa1B,qBAAqBrvD,KAAMsvD,GACrDyE,EAAW,CACf73D,EAAG43D,EAAO53D,EACVC,EAAG23D,EAAO33D,EACV63D,OAAQ,EACRC,OAAQ,GAIV,GAAIj0D,KAAK3C,MAAMkrB,OAAQ,CAErB,MAAMrsB,EACJA,EAAAC,EACAA,GACE43D,EAKJA,EAAS73D,GAAK8D,KAAK0jD,MAAMsQ,OACzBD,EAAS53D,GAAK6D,KAAK0jD,MAAMuQ,OAGzB,MAAOC,EAAWC,IAAS,EAAQpD,EAAaxB,kBAAkBvvD,KAAM+zD,EAAS73D,EAAG63D,EAAS53D,GAC7F43D,EAAS73D,EAAIg4D,EACbH,EAAS53D,EAAIg4D,EAGbJ,EAASC,OAASh0D,KAAK0jD,MAAMsQ,QAAU93D,EAAI63D,EAAS73D,GACpD63D,EAASE,OAASj0D,KAAK0jD,MAAMuQ,QAAU93D,EAAI43D,EAAS53D,GAGpD23D,EAAO53D,EAAI63D,EAAS73D,EACpB43D,EAAO33D,EAAI43D,EAAS53D,EACpB23D,EAAO5E,OAAS6E,EAAS73D,EAAI8D,KAAK0jD,MAAMxnD,EACxC43D,EAAO3E,OAAS4E,EAAS53D,EAAI6D,KAAK0jD,MAAMvnD,CAChD,CAIM,IAAqB,IADA6D,KAAK3C,MAAMm1D,OAAOlvD,EAAGwwD,GACd,OAAO,EACnC9zD,KAAK4lD,SAASmO,KAEhBrwC,EAAgB1jB,KAAM,aAAc,CAACsD,EAAGgsD,KACtC,IAAKtvD,KAAK0jD,MAAM2O,SAAU,OAAO,EAIjC,IAAuB,IADAryD,KAAK3C,MAAMs1D,OAAOrvD,GAAA,EAAOytD,EAAa1B,qBAAqBrvD,KAAMsvD,IAC1D,OAAO,GACrC,EAAI0B,EAAK16C,SAAS,4BAA6Bg5C,GAC/C,MAAMyE,EAAyC,CAC7C1B,UAAU,EACV2B,OAAQ,EACRC,OAAQ,GAMV,GADmBG,QAAQp0D,KAAK3C,MAAMu5B,UACtB,CACd,MAAM16B,EACJA,EAAAC,EACAA,GACE6D,KAAK3C,MAAMu5B,SACfm9B,EAAS73D,EAAIA,EACb63D,EAAS53D,EAAIA,CACrB,CACM6D,KAAK4lD,SAASmO,KAEhB/zD,KAAK0jD,MAAQ,CAEX2O,UAAU,EAEVwB,SAAS,EAET33D,EAAGmB,EAAMu5B,SAAWv5B,EAAMu5B,SAAS16B,EAAImB,EAAMg3D,gBAAgBn4D,EAC7DC,EAAGkB,EAAMu5B,SAAWv5B,EAAMu5B,SAASz6B,EAAIkB,EAAMg3D,gBAAgBl4D,EAC7Dy3D,kBAAmB,IACdv2D,EAAMu5B,UAGXo9B,OAAQ,EACRC,OAAQ,EAERK,cAAc,GAEZj3D,EAAMu5B,WAAcv5B,EAAMm1D,QAAUn1D,EAAMs1D,MAIlD,CACE,iBAAAvN,QAEmC,IAAtB/J,OAAOkZ,YAA8Bv0D,KAAKgnD,wBAAyB3L,OAAOkZ,YACnFv0D,KAAK4lD,SAAS,CACZ0O,cAAc,GAGtB,CACE,oBAAAhP,GACEtlD,KAAK4lD,SAAS,CACZyM,UAAU,GAEhB,CAIE,WAAArL,GACE,IAAIwN,EAAuBzB,EAC3B,OAA4M,QAApMyB,EAAuD,QAA9BzB,EAAc/yD,KAAK3C,aAAmC,IAAhB01D,GAAkE,QAAvCA,EAAcA,EAAYE,eAAqC,IAAhBF,OAAyB,EAASA,EAAYG,eAA+C,IAA1BsB,EAAmCA,EAAwB1D,EAAUx6C,QAAQ0wC,YAAYhnD,KACjT,CACE,MAAAohD,GACE,MAAMyN,KACJA,EAAAtmC,OACAA,EAAA1G,SACAA,EAAAwyC,gBACAA,EAAAI,iBACAA,EAAAC,yBACAA,EAAAC,wBACAA,EAAA/9B,SACAA,EAAA+zB,eACAA,EAAA4B,MACAA,KACGqI,GACD50D,KAAK3C,MACT,IAAIwoC,EAAQ,CAAA,EACRgvB,EAAe,KAGnB,MACMjG,GADawF,QAAQx9B,IACM52B,KAAK0jD,MAAM2O,SACtCyC,EAAgBl+B,GAAYy9B,EAC5BU,EAAgB,CAEpB74D,GAAA,EAAO60D,EAAapC,UAAU3uD,OAAS4uD,EAAY5uD,KAAK0jD,MAAMxnD,EAAI44D,EAAc54D,EAEhFC,GAAA,EAAO40D,EAAajC,UAAU9uD,OAAS4uD,EAAY5uD,KAAK0jD,MAAMvnD,EAAI24D,EAAc34D,GAI9E6D,KAAK0jD,MAAM4Q,aACbO,GAAA,EAAmB9E,EAAQ/E,oBAAoB+J,EAAepK,GAM9D9kB,GAAA,EAAYkqB,EAAQtF,oBAAoBsK,EAAepK,GAIzD,MAAMlxC,GAAA,EAAgB85C,EAAMj9C,SAASuL,EAASxkB,MAAMoc,WAAa,GAAIg7C,EAAkB,CACrFC,CAACA,GAA2B10D,KAAK0jD,MAAM2O,SACvCsC,CAACA,GAA0B30D,KAAK0jD,MAAMmQ,UAKxC,SAA0BhtC,cAAcysC,EAAeh9C,QAASm9C,EAAS,CAAA,EAAImB,EAAoB,CAC/F1C,QAASlyD,KAAKg1D,YACdxC,OAAQxyD,KAAKwyD,OACbG,OAAQ3yD,KAAKi1D,aACErE,EAAMxJ,aAAawJ,EAAMtM,SAASE,KAAK3iC,GAAW,CACjEpI,YACAosB,MAAO,IACFhkB,EAASxkB,MAAMwoC,SACfA,GAELn2B,UAAWmlD,IAEjB,EAEAt1D,EAAA+W,QAAkBo9C,EAClBhwC,EAAgBgwC,EAAW,cAAe,aAC1ChwC,EAAgBgwC,EAAW,YAAa,IAEnCJ,EAAeh9C,QAAQ4+C,UAc1BrG,KAAMgC,EAAWv6C,QAAQtX,MAAM,CAAC,OAAQ,IAAK,IAAK,SA2BlDupB,OAAQsoC,EAAWv6C,QAAQrX,UAAU,CAAC4xD,EAAWv6C,QAAQpX,MAAM,CAC7D2pB,KAAMgoC,EAAWv6C,QAAQjY,OACzByqB,MAAO+nC,EAAWv6C,QAAQjY,OAC1BuqB,IAAKioC,EAAWv6C,QAAQjY,OACxBsqB,OAAQkoC,EAAWv6C,QAAQjY,SACzBwyD,EAAWv6C,QAAQ/X,OAAQsyD,EAAWv6C,QAAQtX,MAAM,EAAC,MACzDy1D,iBAAkB5D,EAAWv6C,QAAQ/X,OACrCm2D,yBAA0B7D,EAAWv6C,QAAQ/X,OAC7Co2D,wBAAyB9D,EAAWv6C,QAAQ/X,OAkB5C81D,gBAAiBxD,EAAWv6C,QAAQpX,MAAM,CACxChD,EAAG20D,EAAWv6C,QAAQjY,OACtBlC,EAAG00D,EAAWv6C,QAAQjY,SAExBssD,eAAgBkG,EAAWv6C,QAAQpX,MAAM,CACvChD,EAAG20D,EAAWv6C,QAAQrX,UAAU,CAAC4xD,EAAWv6C,QAAQjY,OAAQwyD,EAAWv6C,QAAQ/X,SAC/EpC,EAAG00D,EAAWv6C,QAAQrX,UAAU,CAAC4xD,EAAWv6C,QAAQjY,OAAQwyD,EAAWv6C,QAAQ/X,WAsBjFq4B,SAAUi6B,EAAWv6C,QAAQpX,MAAM,CACjChD,EAAG20D,EAAWv6C,QAAQjY,OACtBlC,EAAG00D,EAAWv6C,QAAQjY,SAKxBob,UAAW2xC,EAAO7B,UAClB1jB,MAAOulB,EAAO7B,UACd75C,UAAW07C,EAAO7B,YAEpB7lC,EAAgBgwC,EAAW,eAAgB,IACtCJ,EAAeh9C,QAAQ4xC,aAC1B2G,KAAM,OACNtmC,QAAQ,EACRksC,iBAAkB,kBAClBC,yBAA0B,2BAC1BC,wBAAyB,0BACzBN,gBAAiB,CACfn4D,EAAG,EACHC,EAAG,GAELowD,MAAO,gECvYT,MACEj2C,QAASo9C,EACTL,cAAAA,GACEt2D,YAKJo4D,GAAA51D,QAAiBm0D,EACjByB,GAAA51D,QAAA+W,QAAyBo9C,EACzByB,GAAA51D,QAAA8zD,cAA+BA,iBCZ/B,IAAI3Q,GAAsC,WAStC,OARAA,GAAWxgD,OAAOygD,QAAU,SAASC,GACjC,IAAA,IAAS3tC,EAAGZ,EAAI,EAAG1F,EAAI5B,UAAUlN,OAAQwU,EAAI1F,EAAG0F,IAE5C,IAAA,IAASW,KADTC,EAAIlI,UAAUsH,GACOnS,OAAO3B,UAAUsC,eAAejC,KAAKqU,EAAGD,KACzD4tC,EAAE5tC,GAAKC,EAAED,IAEjB,OAAO4tC,CACX,EACOF,GAAS/hC,MAAM3gB,KAAM+M,UAChC,EAGIqoD,GAAc,CACdp5D,MAAO,OACPC,OAAQ,OACR2sB,IAAK,MACLC,KAAM,MACNqM,OAAQ,cAERmgC,GAAc,CACdr5D,MAAO,OACPC,OAAQ,OACR2sB,IAAK,MACLC,KAAM,MACNqM,OAAQ,cAERogC,GAAW,CACXt5D,MAAO,OACPC,OAAQ,OACR26B,SAAU,WACV2+B,OAAQ,GAER3tB,GAAS,CACThf,IAAK85B,GAASA,GAAS,CAAA,EAAI0S,IAAc,CAAExsC,IAAK,SAChDE,MAAO45B,GAASA,GAAS,CAAA,EAAI2S,IAAc,CAAExsC,UAAM,EAAWC,MAAO,SACrEH,OAAQ+5B,GAASA,GAAS,CAAA,EAAI0S,IAAc,CAAExsC,SAAK,EAAWD,OAAQ,SACtEE,KAAM65B,GAASA,GAAS,CAAA,EAAI2S,IAAc,CAAExsC,KAAM,SAClD2sC,SAAU9S,GAASA,GAAS,CAAA,EAAI4S,IAAW,CAAExsC,MAAO,QAASF,IAAK,QAASsM,OAAQ,cACnFugC,YAAa/S,GAASA,GAAS,CAAA,EAAI4S,IAAW,CAAExsC,MAAO,QAASH,OAAQ,QAASuM,OAAQ,cACzFwgC,WAAYhT,GAASA,GAAS,CAAA,EAAI4S,IAAW,CAAEzsC,KAAM,QAASF,OAAQ,QAASuM,OAAQ,cACvFygC,QAASjT,GAASA,GAAS,CAAA,EAAI4S,IAAW,CAAEzsC,KAAM,QAASD,IAAK,QAASsM,OAAQ,eAE1E0gC,GAAUz7B,EAAAA,KAAK,SAAU98B,GAChC,IAAIw4D,EAAgBx4D,EAAMw4D,cAAe5rB,EAAY5sC,EAAM4sC,UAAWpoB,EAAWxkB,EAAMwkB,SAAUi0C,EAAgBz4D,EAAMy4D,cAAer8C,EAAYpc,EAAMoc,UACpJm4C,EAAcmE,cAAY,SAAUzyD,GACpCuyD,EAAcvyD,EAAG2mC,EACrB,EAAG,CAAC4rB,EAAe5rB,IACf4oB,EAAekD,cAAY,SAAUzyD,GACrCuyD,EAAcvyD,EAAG2mC,EACrB,EAAG,CAAC4rB,EAAe5rB,IACfpE,EAAQmwB,EAAAA,QAAQ,WAChB,OAAOtT,GAASA,GAAS,CAAE9rB,SAAU,WAAYq/B,WAAY,QAAUruB,GAAOqC,IAAc6rB,QAAqDA,EAAgB,GACrK,EAAG,CAACA,EAAe7rB,IACnB,OAAQisB,EAAAA,IAAK,MAAO,CAAEz8C,UAAWA,QAAa,EAAWosB,QAAc+rB,cAA0BiB,eAA4BhxC,YACjI,GCvDIzK,GAAyC,WACzC,IAAID,EAAgB,SAAUtb,EAAG0b,GAI7B,OAHAJ,EAAgBjV,OAAOmV,gBAClB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAG,GAC1E,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOrV,OAAO3B,UAAUsC,eAAejC,KAAK2W,EAAGvC,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAI,GAC/EnZ,EAAG0b,EAC5B,EACA,OAAO,SAAU1b,EAAG0b,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI6I,UAAU,uBAAyB7Q,OAAOgI,GAAK,iCAE7D,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAG,CADtCsb,EAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACnF,CACJ,CAd6C,GAezCkrC,GAAsC,WAStC,OARAA,GAAWxgD,OAAOygD,QAAU,SAASC,GACjC,IAAA,IAAS3tC,EAAGZ,EAAI,EAAG1F,EAAI5B,UAAUlN,OAAQwU,EAAI1F,EAAG0F,IAE5C,IAAA,IAASW,KADTC,EAAIlI,UAAUsH,GACOnS,OAAO3B,UAAUsC,eAAejC,KAAKqU,EAAGD,KACzD4tC,EAAE5tC,GAAKC,EAAED,IAEjB,OAAO4tC,CACX,EACOF,GAAS/hC,MAAM3gB,KAAM+M,UAChC,EAKIopD,GAAe,CACfn6D,MAAO,OACPC,OAAQ,QAERm6D,GAAQ,SAAUznD,EAAG2N,EAAKmQ,GAAO,OAAOpQ,KAAKoQ,IAAIpQ,KAAKC,IAAI3N,EAAG8d,GAAMnQ,EAAM,EACzE+5C,GAAO,SAAU1nD,EAAGzO,EAAMo2D,GAC1B,IAAIC,EAAIl6C,KAAKo0C,MAAM9hD,EAAIzO,GACvB,OAAOq2D,EAAIr2D,EAAOo2D,GAAWC,EAAI,EACrC,EACIC,GAAe,SAAUC,EAAKr4C,GAC9B,OAAO,IAAInZ,OAAOwxD,EAAK,KAAKrxD,KAAKgZ,EACrC,EAEIs4C,GAAe,SAAUroC,GACzB,OAAO+lC,QAAQ/lC,EAAMsoC,SAAWtoC,EAAMsoC,QAAQ92D,OAClD,EAKI+2D,GAAkB,SAAUjoD,EAAGkoD,EAAWC,QAC1B,IAAZA,IAAsBA,EAAU,GACpC,IAAIC,EAAkBF,EAAU97C,OAAO,SAAUgX,EAAMilC,EAAMt2D,GAAS,OAAQ2b,KAAK46C,IAAID,EAAOroD,GAAK0N,KAAK46C,IAAIJ,EAAU9kC,GAAQpjB,GAAKjO,EAAQqxB,CAAO,EAAG,GACjJmlC,EAAM76C,KAAK46C,IAAIJ,EAAUE,GAAmBpoD,GAChD,OAAmB,IAAZmoD,GAAiBI,EAAMJ,EAAUD,EAAUE,GAAmBpoD,CACzE,EACIwoD,GAAgB,SAAUxoD,GAE1B,MAAU,UADVA,EAAIA,EAAE5L,aAIF4L,EAAEuS,SAAS,OAGXvS,EAAEuS,SAAS,MAGXvS,EAAEuS,SAAS,OAGXvS,EAAEuS,SAAS,OAGXvS,EAAEuS,SAAS,SAGXvS,EAAEuS,SAAS,QAjBJvS,EAoBJ,GAAG+N,OAAO/N,EAAG,KACxB,EACIyoD,GAAe,SAAUl3D,EAAMm3D,EAAYvL,EAAYP,GACvD,GAAIrrD,GAAwB,iBAATA,EAAmB,CAClC,GAAIA,EAAKghB,SAAS,MACd,OAAOkI,OAAOlpB,EAAKgF,QAAQ,KAAM,KAErC,GAAIhF,EAAKghB,SAAS,KAEd,OAAOm2C,GADKjuC,OAAOlpB,EAAKgF,QAAQ,IAAK,KAAO,KAGhD,GAAIhF,EAAKghB,SAAS,MAEd,OAAO4qC,GADK1iC,OAAOlpB,EAAKgF,QAAQ,KAAM,KAAO,KAGjD,GAAIhF,EAAKghB,SAAS,MAEd,OAAOqqC,GADKniC,OAAOlpB,EAAKgF,QAAQ,KAAM,KAAO,IAGrD,CACA,OAAOhF,CACX,EAoBIo3D,GAAe,CACf,KACA,MACA,QACA,YACA,OACA,UACA,OACA,SACA,oBACA,OACA,cACA,WACA,YACA,WACA,YACA,kBACA,4BACA,6BACA,SACA,eACA,gBACA,qBACA,qBACA,WACA,gBACA,WACA,eACA,kBACA,QACA,cACA,WAGAC,GAAgB,qBAChBC,GAAA,SAAqC9/C,GAErC,SAAS8/C,EAAUn6D,GACf,IAAIu8B,EAAImqB,EAAIC,EAAIlhC,EACZnL,EAAQD,EAAO9W,KAAKZ,KAAM3C,IAAU2C,KA8ExC,OA7EA2X,EAAM8/C,MAAQ,EACd9/C,EAAM+/C,UAAY,KAElB//C,EAAMggD,WAAa,EACnBhgD,EAAMigD,UAAY,EAElBjgD,EAAMkgD,cAAgB,EACtBlgD,EAAMmgD,eAAiB,EACvBngD,EAAMogD,aAAe,EACrBpgD,EAAMqgD,gBAAkB,EAExBrgD,EAAMsgD,WAAa,EACnBtgD,EAAMugD,UAAY,EAClBvgD,EAAMyE,MAAQ,CACVpgB,MAAO,EACPC,OAAQ,GAEZ0b,EAAMwgD,WAAa,WACf,IAAKxgD,EAAM+/C,YAAc//C,EAAM0jC,OAC3B,OAAO,KAEX,IAAI57B,EAAS9H,EAAMuB,WACnB,IAAKuG,EACD,OAAO,KAEX,IAAI9gB,EAAUgZ,EAAM0jC,OAAOz0B,SAASC,cAAc,OAclD,OAbAloB,EAAQknC,MAAM7pC,MAAQ,OACtB2C,EAAQknC,MAAM5pC,OAAS,OACvB0C,EAAQknC,MAAMjP,SAAW,WACzBj4B,EAAQknC,MAAMn2B,UAAY,cAC1B/Q,EAAQknC,MAAMhd,KAAO,IACrBlqB,EAAQknC,MAAMuyB,KAAO,WACjBz5D,EAAQulB,UACRvlB,EAAQulB,UAAUlb,IAAIuuD,IAGtB54D,EAAQ8a,WAAa89C,GAEzB93C,EAAOqS,YAAYnzB,GACZA,CACX,EACAgZ,EAAM0gD,WAAa,SAAUC,GACzB,IAAI74C,EAAS9H,EAAMuB,WACduG,GAGLA,EAAOwS,YAAYqmC,EACvB,EACA3gD,EAAM+rC,MAAQ,CACV6U,YAAY,EACZv8D,MAAuF,QAA/E+nD,EAAgC,QAA1BnqB,EAAKjiB,EAAM6gD,iBAA8B,IAAP5+B,OAAgB,EAASA,EAAG59B,aAA0B,IAAP+nD,EAAgBA,EAAK,OACpH9nD,OAAyF,QAAhF6mB,EAAgC,QAA1BkhC,EAAKrsC,EAAM6gD,iBAA8B,IAAPxU,OAAgB,EAASA,EAAG/nD,cAA2B,IAAP6mB,EAAgBA,EAAK,OACtHmnB,UAAW,QACXwuB,SAAU,CACNv8D,EAAG,EACHC,EAAG,EACHH,MAAO,EACPC,OAAQ,GAEZy8D,gBAAiB,CACbz8D,OAAQ,OACRD,MAAO,OACPmhD,gBAAiB,gBACjBjoB,OAAQ,OACRyjC,QAAS,EACT/hC,SAAU,QACV2+B,OAAQ,KACR3sC,IAAK,IACLC,KAAM,IACNF,OAAQ,IACRG,MAAO,KAEX8vC,eAAW,GAEfjhD,EAAMk+C,cAAgBl+C,EAAMk+C,cAAcvmC,KAAK3X,GAC/CA,EAAMkhD,YAAclhD,EAAMkhD,YAAYvpC,KAAK3X,GAC3CA,EAAMw7C,UAAYx7C,EAAMw7C,UAAU7jC,KAAK3X,GAChCA,CACX,CA8hBA,OAhnBAP,GAAUogD,EAAW9/C,GAmFrBxV,OAAOyS,eAAe6iD,EAAUj3D,UAAW,aAAc,CACrDsB,IAAK,WACD,OAAK7B,KAAK03D,UAGH13D,KAAK03D,UAAUx+C,WAFX,IAGf,EACArE,YAAY,EACZD,cAAc,IAElB1S,OAAOyS,eAAe6iD,EAAUj3D,UAAW,SAAU,CACjDsB,IAAK,WACD,OAAK7B,KAAK03D,WAGL13D,KAAK03D,UAAUhM,cAGb1rD,KAAK03D,UAAUhM,cAAcC,YALzB,IAMf,EACA92C,YAAY,EACZD,cAAc,IAElB1S,OAAOyS,eAAe6iD,EAAUj3D,UAAW,YAAa,CACpDsB,IAAK,WACD,OAAO7B,KAAK3C,MAAM6C,MAAQF,KAAK3C,MAAMy7D,aAAe3C,EACxD,EACAthD,YAAY,EACZD,cAAc,IAElB1S,OAAOyS,eAAe6iD,EAAUj3D,UAAW,OAAQ,CAC/CsB,IAAK,WACD,IAAI7F,EAAQ,EACRC,EAAS,EACb,GAAI+D,KAAK03D,WAAa13D,KAAKq7C,OAAQ,CAC/B,IAAI0d,EAAW/4D,KAAK03D,UAAU9Z,YAC1Bob,EAAYh5D,KAAK03D,UAAU/b,aAG3Bsd,EAAcj5D,KAAK03D,UAAU7xB,MAAMjP,SACnB,aAAhBqiC,IACAj5D,KAAK03D,UAAU7xB,MAAMjP,SAAW,YAGpC56B,EAAuC,SAA/BgE,KAAK03D,UAAU7xB,MAAM7pC,MAAmBgE,KAAK03D,UAAU9Z,YAAcmb,EAC7E98D,EAAyC,SAAhC+D,KAAK03D,UAAU7xB,MAAM5pC,OAAoB+D,KAAK03D,UAAU/b,aAAeqd,EAEhFh5D,KAAK03D,UAAU7xB,MAAMjP,SAAWqiC,CACpC,CACA,MAAO,CAAEj9D,QAAcC,SAC3B,EACA4Y,YAAY,EACZD,cAAc,IAElB1S,OAAOyS,eAAe6iD,EAAUj3D,UAAW,YAAa,CACpDsB,IAAK,WACD,IAAI8V,EAAQ3X,KACRE,EAAOF,KAAK3C,MAAM6C,KAClBg5D,EAAU,SAAUp9D,GACpB,IAAI89B,EACJ,QAAgC,IAArBjiB,EAAM+rC,MAAM5nD,IAA6C,SAArB6b,EAAM+rC,MAAM5nD,GACvD,MAAO,OAEX,GAAI6b,EAAM6gD,WAAa7gD,EAAM6gD,UAAU18D,KAAyC,QAA/B89B,EAAKjiB,EAAM6gD,UAAU18D,UAAyB,IAAP89B,OAAgB,EAASA,EAAG72B,WAAWme,SAAS,MAAO,CAC3I,GAAIvJ,EAAM+rC,MAAM5nD,GAAKiH,WAAWme,SAAS,KACrC,OAAOvJ,EAAM+rC,MAAM5nD,GAAKiH,WAE5B,IAAIs0D,EAAa1/C,EAAMwhD,gBAEnBC,EADQhwC,OAAOzR,EAAM+rC,MAAM5nD,GAAKiH,WAAWmC,QAAQ,KAAM,KACtCmyD,EAAWv7D,GAAQ,IAC1C,MAAO,GAAG4gB,OAAO08C,EAAS,IAC9B,CACA,OAAOjC,GAAcx/C,EAAM+rC,MAAM5nD,GACrC,EAOA,MAAO,CAAEE,MANGkE,QAA8B,IAAfA,EAAKlE,QAA0BgE,KAAK0jD,MAAM6U,WAC/DpB,GAAcj3D,EAAKlE,OACnBk9D,EAAQ,SAISj9D,OAHViE,QAA+B,IAAhBA,EAAKjE,SAA2B+D,KAAK0jD,MAAM6U,WACjEpB,GAAcj3D,EAAKjE,QACnBi9D,EAAQ,UAElB,EACArkD,YAAY,EACZD,cAAc,IAElB4iD,EAAUj3D,UAAU44D,cAAgB,WAChC,IAAKn5D,KAAKkZ,WACN,OAAKlZ,KAAKq7C,OAGH,CAAEr/C,MAAOgE,KAAKq7C,OAAOyQ,WAAY7vD,OAAQ+D,KAAKq7C,OAAOkQ,aAFjD,CAAEvvD,MAAO,EAAGC,OAAQ,GAInC,IAAIq8D,EAAOt4D,KAAKm4D,aAChB,IAAKG,EACD,MAAO,CAAEt8D,MAAO,EAAGC,OAAQ,GAG/B,IAAIo9D,GAAc,EACdpsC,EAAOjtB,KAAKkZ,WAAW2sB,MAAMyzB,SACpB,SAATrsC,IACAosC,GAAc,EACdr5D,KAAKkZ,WAAW2sB,MAAMyzB,SAAW,QAGrChB,EAAKzyB,MAAMjP,SAAW,WACtB0hC,EAAKzyB,MAAM0zB,SAAW,OACtBjB,EAAKzyB,MAAM2zB,UAAY,OACvB,IAAIt5D,EAAO,CACPlE,MAAOs8D,EAAK1a,YACZ3hD,OAAQq8D,EAAK3c,cAMjB,OAJI0d,IACAr5D,KAAKkZ,WAAW2sB,MAAMyzB,SAAWrsC,GAErCjtB,KAAKq4D,WAAWC,GACTp4D,CACX,EACAs3D,EAAUj3D,UAAUk5D,WAAa,WACzBz5D,KAAKq7C,SACLr7C,KAAKq7C,OAAO1tB,iBAAiB,UAAW3tB,KAAKmzD,WAC7CnzD,KAAKq7C,OAAO1tB,iBAAiB,YAAa3tB,KAAK64D,aAC/C74D,KAAKq7C,OAAO1tB,iBAAiB,aAAc3tB,KAAKmzD,WAChDnzD,KAAKq7C,OAAO1tB,iBAAiB,YAAa3tB,KAAK64D,YAAa,CACxD3O,SAAS,EACT4I,SAAS,IAEb9yD,KAAKq7C,OAAO1tB,iBAAiB,WAAY3tB,KAAKmzD,WAEtD,EACAqE,EAAUj3D,UAAUm5D,aAAe,WAC3B15D,KAAKq7C,SACLr7C,KAAKq7C,OAAOxO,oBAAoB,UAAW7sC,KAAKmzD,WAChDnzD,KAAKq7C,OAAOxO,oBAAoB,YAAa7sC,KAAK64D,aAClD74D,KAAKq7C,OAAOxO,oBAAoB,aAAc7sC,KAAKmzD,WACnDnzD,KAAKq7C,OAAOxO,oBAAoB,YAAa7sC,KAAK64D,aAAa,GAC/D74D,KAAKq7C,OAAOxO,oBAAoB,WAAY7sC,KAAKmzD,WAEzD,EACAqE,EAAUj3D,UAAU6kD,kBAAoB,WACpC,GAAKplD,KAAK03D,WAAc13D,KAAKq7C,OAA7B,CAGA,IAAIoQ,EAAgBzrD,KAAKq7C,OAAOC,iBAAiBt7C,KAAK03D,WACtD13D,KAAK4lD,SAAS,CACV5pD,MAAOgE,KAAK0jD,MAAM1nD,OAASgE,KAAKE,KAAKlE,MACrCC,OAAQ+D,KAAK0jD,MAAMznD,QAAU+D,KAAKE,KAAKjE,OACvC28D,UAAuC,SAA5BnN,EAAcmN,UAAuBnN,EAAcmN,eAAY,GAL9E,CAOJ,EACApB,EAAUj3D,UAAU+kD,qBAAuB,WACnCtlD,KAAKq7C,QACLr7C,KAAK05D,cAEb,EACAlC,EAAUj3D,UAAUo5D,yBAA2B,SAAUC,EAASC,GAC9D,IAAIrB,EAAYx4D,KAAKw4D,WAAax4D,KAAKw4D,UAAUqB,GACjD,MAA4B,SAArB75D,KAAK0jD,MAAMmW,IACd75D,KAAK0jD,MAAM+U,SAASoB,KAAUD,QACR,IAAdpB,GAA2C,SAAdA,EAEnCoB,EADA,MAEV,EACApC,EAAUj3D,UAAUu5D,4BAA8B,SAAUC,EAAUC,GAClE,IAIIC,EACAC,EALAC,EAAoBn6D,KAAK3C,MAAM88D,kBAC/BlwB,EAAYjqC,KAAK0jD,MAAMzZ,UACvBmwB,EAAmBD,GAAqB3D,GAAa,OAAQvsB,GAC7DowB,EAAoBF,GAAqB3D,GAAa,MAAOvsB,GAGjE,GAA0B,WAAtBjqC,KAAK3C,MAAMkrB,OAAqB,CAChC,IAAI+xC,EAAWt6D,KAAKkZ,WAChBohD,IACAL,EAAaG,EACPp6D,KAAK83D,eAAiB93D,KAAK23D,WAC3B2C,EAAS1c,aAAe59C,KAAK23D,WAAa33D,KAAK63D,eACrDqC,EAAcG,EACRr6D,KAAKg4D,gBAAkBh4D,KAAK43D,UAC5B0C,EAAS3e,cAAgB37C,KAAK43D,UAAY53D,KAAK+3D,cAE7D,KAC+B,WAAtB/3D,KAAK3C,MAAMkrB,OACZvoB,KAAKq7C,SACL4e,EAAaG,EAAmBp6D,KAAK83D,eAAiB93D,KAAKq7C,OAAOyQ,WAAa9rD,KAAK63D,cACpFqC,EAAcG,EAAoBr6D,KAAKg4D,gBAAkBh4D,KAAKq7C,OAAOkQ,YAAcvrD,KAAK+3D,cAGvF/3D,KAAK3C,MAAMkrB,SAChB0xC,EAAaG,EACPp6D,KAAK83D,eAAiB93D,KAAKi4D,WAC3Bj4D,KAAK3C,MAAMkrB,OAAOq1B,aAAe59C,KAAKi4D,WAAaj4D,KAAK63D,eAC9DqC,EAAcG,EACRr6D,KAAKg4D,gBAAkBh4D,KAAKk4D,UAC5Bl4D,KAAK3C,MAAMkrB,OAAOozB,cAAgB37C,KAAKk4D,UAAYl4D,KAAK+3D,eAQlE,OANIkC,GAAc7wC,OAAO4nB,SAASipB,KAC9BF,EAAWA,GAAYA,EAAWE,EAAaF,EAAWE,GAE1DC,GAAe9wC,OAAO4nB,SAASkpB,KAC/BF,EAAYA,GAAaA,EAAYE,EAAcF,EAAYE,GAE5D,CAAEH,WAAoBC,YACjC,EACAxC,EAAUj3D,UAAUg6D,8BAAgC,SAAU9N,EAASE,GACnE,IAnUwB6N,EAmUpBjO,EAAQvsD,KAAK3C,MAAMkvD,OAAS,EAC5B3yB,GApUoB4gC,EAoUCx6D,KAAK3C,MAAMo9D,aAAe,EApUZn6D,MAAMmL,QAAQ+uD,GAAOA,EAAM,CAACA,EAAKA,IAoUjBE,EAAe9gC,EAAG,GAAI+gC,EAAe/gC,EAAG,GAC3FmqB,EAAK/jD,KAAK0jD,MAAOzZ,EAAY8Z,EAAG9Z,UAAWwuB,EAAW1U,EAAG0U,SACzDzU,EAAKhkD,KAAK3C,MAAOu9D,EAAkB5W,EAAG4W,gBAAiBC,EAA6B7W,EAAG6W,2BAA4BC,EAA4B9W,EAAG8W,0BAClJC,EAAWtC,EAASz8D,MACpBg/D,EAAYvC,EAASx8D,OACrBg/D,EAAcJ,GAA8B,EAC5CK,EAAaJ,GAA6B,EAyB9C,OAxBItE,GAAa,QAASvsB,KACtB8wB,EAAWtC,EAASz8D,OAAUywD,EAAUgM,EAASv8D,GAAKw+D,EAAgBnO,EAClEqO,IACAI,GAAaD,EAAWG,GAAcl7D,KAAKy3D,MAAQwD,IAGvDzE,GAAa,OAAQvsB,KACrB8wB,EAAWtC,EAASz8D,OAAUywD,EAAUgM,EAASv8D,GAAKw+D,EAAgBnO,EAClEqO,IACAI,GAAaD,EAAWG,GAAcl7D,KAAKy3D,MAAQwD,IAGvDzE,GAAa,SAAUvsB,KACvB+wB,EAAYvC,EAASx8D,QAAW0wD,EAAU8L,EAASt8D,GAAKw+D,EAAgBpO,EACpEqO,IACAG,GAAYC,EAAYC,GAAej7D,KAAKy3D,MAAQyD,IAGxD1E,GAAa,MAAOvsB,KACpB+wB,EAAYvC,EAASx8D,QAAW0wD,EAAU8L,EAASt8D,GAAKw+D,EAAgBpO,EACpEqO,IACAG,GAAYC,EAAYC,GAAej7D,KAAKy3D,MAAQyD,IAGrD,CAAEH,WAAoBC,YACjC,EACAxD,EAAUj3D,UAAU46D,gCAAkC,SAAUJ,EAAUC,EAAWvuC,EAAKnQ,GACtF,IAAIsd,EAAK55B,KAAK3C,MAAOu9D,EAAkBhhC,EAAGghC,gBAAiBC,EAA6BjhC,EAAGihC,2BAA4BC,EAA4BlhC,EAAGkhC,0BAClJM,OAAwC,IAAd9+C,EAAItgB,MAAwB,GAAKsgB,EAAItgB,MAC/Dq/D,OAAwC,IAAd5uC,EAAIzwB,OAAyBywB,EAAIzwB,MAAQ,EAAI++D,EAAWtuC,EAAIzwB,MACtFs/D,OAA0C,IAAfh/C,EAAIrgB,OAAyB,GAAKqgB,EAAIrgB,OACjEs/D,OAA0C,IAAf9uC,EAAIxwB,QAA0BwwB,EAAIxwB,OAAS,EAAI++D,EAAYvuC,EAAIxwB,OAC1Fg/D,EAAcJ,GAA8B,EAC5CK,EAAaJ,GAA6B,EAC9C,GAAIF,EAAiB,CACjB,IAAIY,GAAiBF,EAAoBL,GAAej7D,KAAKy3D,MAAQyD,EACjEO,GAAiBF,EAAoBN,GAAej7D,KAAKy3D,MAAQyD,EACjEQ,GAAkBN,EAAmBF,GAAcl7D,KAAKy3D,MAAQwD,EAChEU,GAAkBN,EAAmBH,GAAcl7D,KAAKy3D,MAAQwD,EAChEW,EAAiBv/C,KAAKoQ,IAAI2uC,EAAkBI,GAC5CK,EAAiBx/C,KAAKC,IAAI++C,EAAkBI,GAC5CK,EAAkBz/C,KAAKoQ,IAAI6uC,EAAmBI,GAC9CK,EAAkB1/C,KAAKC,IAAIi/C,EAAmBI,GAClDZ,EAAW3E,GAAM2E,EAAUa,EAAgBC,GAC3Cb,EAAY5E,GAAM4E,EAAWc,EAAiBC,EAClD,MAEIhB,EAAW3E,GAAM2E,EAAUK,EAAkBC,GAC7CL,EAAY5E,GAAM4E,EAAWM,EAAmBC,GAEpD,MAAO,CAAER,WAAoBC,YACjC,EACAxD,EAAUj3D,UAAUy7D,sBAAwB,WACxC,IAAIC,EAAgB,GAAKj8D,KAAK3C,MAAMkvD,OAAS,GAE7C,GAA0B,WAAtBvsD,KAAK3C,MAAMkrB,OAAqB,CAChC,IAAI2zC,EAAWl8D,KAAKkZ,WACpB,GAAIgjD,EAAU,CACV,IAAIC,EAAaD,EAASxzC,wBAC1B1oB,KAAK23D,WAAawE,EAAWtzC,KAAOozC,EACpCj8D,KAAK43D,UAAYuE,EAAWvzC,IAAMqzC,CACtC,CACJ,CAEA,GAAIj8D,KAAK3C,MAAMkrB,QAAuC,iBAAtBvoB,KAAK3C,MAAMkrB,OAAqB,CAC5D,IAAI6zC,EAAap8D,KAAK3C,MAAMkrB,OAAOG,wBACnC1oB,KAAKi4D,WAAamE,EAAWvzC,KAAOozC,EACpCj8D,KAAKk4D,UAAYkE,EAAWxzC,IAAMqzC,CACtC,CAEA,GAAIj8D,KAAK03D,UAAW,CAChB,IAAI99B,EAAK55B,KAAK03D,UAAUhvC,wBAAyBG,EAAO+Q,EAAG/Q,KAAMwzC,EAAQziC,EAAGhR,IAAKE,EAAQ8Q,EAAG9Q,MAAOH,EAASiR,EAAGjR,OAC/G3oB,KAAK63D,cAAgBhvC,EAAOozC,EAC5Bj8D,KAAK83D,eAAiBhvC,EAAQmzC,EAC9Bj8D,KAAK+3D,aAAesE,EAAQJ,EAC5Bj8D,KAAKg4D,gBAAkBrvC,EAASszC,CACpC,CACJ,EACAzE,EAAUj3D,UAAUs1D,cAAgB,SAAUxnC,EAAO4b,GACjD,GAAKjqC,KAAK03D,WAAc13D,KAAKq7C,OAA7B,CAGA,IA8BIud,EA9BAnM,EAAU,EACVE,EAAU,EASd,GARIt+B,EAAMiuC,aAxeC,SAAUjuC,GACzB,OAAO+lC,SAAS/lC,EAAMo+B,SAA6B,IAAlBp+B,EAAMo+B,WAClCp+B,EAAMs+B,SAA6B,IAAlBt+B,EAAMs+B,SAChC,CAqeiC4P,CAAaluC,EAAMiuC,cACxC7P,EAAUp+B,EAAMiuC,YAAY7P,QAC5BE,EAAUt+B,EAAMiuC,YAAY3P,SAEvBt+B,EAAMiuC,aAAe5F,GAAaroC,EAAMiuC,eAC7C7P,EAAUp+B,EAAMiuC,YAAY3F,QAAQ,GAAGlK,QACvCE,EAAUt+B,EAAMiuC,YAAY3F,QAAQ,GAAGhK,SAEvC3sD,KAAK3C,MAAMw4D,cACX,GAAI71D,KAAK03D,UAEL,IAAoB,IADF13D,KAAK3C,MAAMw4D,cAAcxnC,EAAO4b,EAAWjqC,KAAK03D,WAE9D,OAKR13D,KAAK3C,MAAM6C,YAC2B,IAA3BF,KAAK3C,MAAM6C,KAAKjE,QAA0B+D,KAAK3C,MAAM6C,KAAKjE,SAAW+D,KAAK0jD,MAAMznD,QACvF+D,KAAK4lD,SAAS,CAAE3pD,OAAQ+D,KAAK3C,MAAM6C,KAAKjE,cAEP,IAA1B+D,KAAK3C,MAAM6C,KAAKlE,OAAyBgE,KAAK3C,MAAM6C,KAAKlE,QAAUgE,KAAK0jD,MAAM1nD,OACrFgE,KAAK4lD,SAAS,CAAE5pD,MAAOgE,KAAK3C,MAAM6C,KAAKlE,SAI/CgE,KAAKy3D,MACqC,iBAA/Bz3D,KAAK3C,MAAMu9D,gBAA+B56D,KAAK3C,MAAMu9D,gBAAkB56D,KAAKE,KAAKlE,MAAQgE,KAAKE,KAAKjE,OAE9G,IAAIwvD,EAAgBzrD,KAAKq7C,OAAOC,iBAAiBt7C,KAAK03D,WACtD,GAAgC,SAA5BjM,EAAcmN,UAAsB,CACpC,IAAI4D,EAAWx8D,KAAKkZ,WACpB,GAAIsjD,EAAU,CACV,IAAI/F,EAAMz2D,KAAKq7C,OAAOC,iBAAiBkhB,GAAUC,cACjDz8D,KAAK08D,QAAUjG,EAAI/vC,WAAW,OAAS,MAAQ,SAC/CkyC,EAAYnN,EAAcmN,SAC9B,CACJ,CAEA54D,KAAKg8D,wBACLh8D,KAAKy5D,aACL,IAAI/V,EAAQ,CACR+U,SAAU,CACNv8D,EAAGuwD,EACHtwD,EAAGwwD,EACH3wD,MAAOgE,KAAKE,KAAKlE,MACjBC,OAAQ+D,KAAKE,KAAKjE,QAEtBs8D,YAAY,EACZG,gBAAiBhW,GAASA,GAAS,CAAA,EAAI1iD,KAAK0jD,MAAMgV,iBAAkB,CAAExjC,OAAQl1B,KAAKq7C,OAAOC,iBAAiBjtB,EAAMjQ,QAAQ8W,QAAU,SACnI+U,YACA2uB,aAEJ54D,KAAK4lD,SAASlC,EAxDd,CAyDJ,EACA8T,EAAUj3D,UAAUs4D,YAAc,SAAUxqC,GACxC,IAAI1W,EAAQ3X,KACZ,GAAKA,KAAK0jD,MAAM6U,YAAev4D,KAAK03D,WAAc13D,KAAKq7C,OAAvD,CAGA,GAAIr7C,KAAKq7C,OAAOshB,YAAcjG,GAAaroC,GACvC,IACIA,EAAM8S,iBACN9S,EAAMuuC,iBACV,OACOt5D,GAEP,CAEJ,IAAIs2B,EAAK55B,KAAK3C,MAAO08D,EAAWngC,EAAGmgC,SAAUC,EAAYpgC,EAAGogC,UAAWT,EAAW3/B,EAAG2/B,SAAUC,EAAY5/B,EAAG4/B,UAC1G/M,EAAUiK,GAAaroC,GAASA,EAAMsoC,QAAQ,GAAGlK,QAAUp+B,EAAMo+B,QACjEE,EAAU+J,GAAaroC,GAASA,EAAMsoC,QAAQ,GAAGhK,QAAUt+B,EAAMs+B,QACjE5I,EAAK/jD,KAAK0jD,MAAOzZ,EAAY8Z,EAAG9Z,UAAWwuB,EAAW1U,EAAG0U,SAAUz8D,EAAQ+nD,EAAG/nD,MAAOC,EAAS8nD,EAAG9nD,OACjGo7D,EAAar3D,KAAKm5D,gBAClB1sC,EA3fU,SAAU4qC,EAAYvL,EAAYP,EAAawO,EAAUC,EAAWT,EAAUC,GAKhG,OAJAO,EAAW3C,GAAa2C,EAAU1C,EAAWr7D,MAAO8vD,EAAYP,GAChEyO,EAAY5C,GAAa4C,EAAW3C,EAAWp7D,OAAQ6vD,EAAYP,GACnEgO,EAAWnC,GAAamC,EAAUlC,EAAWr7D,MAAO8vD,EAAYP,GAChEiO,EAAYpC,GAAaoC,EAAWnC,EAAWp7D,OAAQ6vD,EAAYP,GAC5D,CACHwO,cAA8B,IAAbA,OAA2B,EAAY3wC,OAAO2wC,GAC/DC,eAAgC,IAAdA,OAA4B,EAAY5wC,OAAO4wC,GACjET,cAA8B,IAAbA,OAA2B,EAAYnwC,OAAOmwC,GAC/DC,eAAgC,IAAdA,OAA4B,EAAYpwC,OAAOowC,GAEzE,CAgfkBqD,CAAgBxF,EAAYr3D,KAAKq7C,OAAOyQ,WAAY9rD,KAAKq7C,OAAOkQ,YAAawO,EAAUC,EAAWT,EAAUC,GACtHO,EAAWttC,EAAIstC,SACfC,EAAYvtC,EAAIutC,UAChBT,EAAW9sC,EAAI8sC,SACfC,EAAY/sC,EAAI+sC,UAEhB,IAAIxV,EAAKhkD,KAAKu6D,8BAA8B9N,EAASE,GAAUqO,EAAYhX,EAAGgX,UAAWD,EAAW/W,EAAG+W,SAEnG+B,EAAc98D,KAAK85D,4BAA4BC,EAAUC,GACzDh6D,KAAK3C,MAAMg5D,MAAQr2D,KAAK3C,MAAMg5D,KAAKn6D,IACnC6+D,EAAWnE,GAAgBmE,EAAU/6D,KAAK3C,MAAMg5D,KAAKn6D,EAAG8D,KAAK3C,MAAMy5D,UAEnE92D,KAAK3C,MAAMg5D,MAAQr2D,KAAK3C,MAAMg5D,KAAKl6D,IACnC6+D,EAAYpE,GAAgBoE,EAAWh7D,KAAK3C,MAAMg5D,KAAKl6D,EAAG6D,KAAK3C,MAAMy5D,UAGzE,IAAI8C,EAAU55D,KAAKm7D,gCAAgCJ,EAAUC,EAAW,CAAEh/D,MAAO8gE,EAAY/C,SAAU99D,OAAQ6gE,EAAY9C,WAAa,CAAEh+D,MAAOu9D,EAAUt9D,OAAQu9D,IAGnK,GAFAuB,EAAWnB,EAAQmB,SACnBC,EAAYpB,EAAQoB,UAChBh7D,KAAK3C,MAAMizD,KAAM,CACjB,IAAIyM,EAAe1G,GAAK0E,EAAU/6D,KAAK3C,MAAMizD,KAAK,GAAItwD,KAAK3C,MAAMi5D,QAAUt2D,KAAK3C,MAAMi5D,QAAQ,GAAK,GAC/F0G,EAAgB3G,GAAK2E,EAAWh7D,KAAK3C,MAAMizD,KAAK,GAAItwD,KAAK3C,MAAMi5D,QAAUt2D,KAAK3C,MAAMi5D,QAAQ,GAAK,GACjGY,EAAMl3D,KAAK3C,MAAMy5D,SAAW,EAGhCiE,EAFgB,IAAR7D,GAAa76C,KAAK46C,IAAI8F,EAAehC,IAAa7D,EAAM6F,EAAehC,EAG/EC,EAFgB,IAAR9D,GAAa76C,KAAK46C,IAAI+F,EAAgBhC,IAAc9D,EAAM8F,EAAgBhC,CAGtF,CACA,IAAI5+C,EAAQ,CACRpgB,MAAO++D,EAAWtC,EAASz8D,MAC3BC,OAAQ++D,EAAYvC,EAASx8D,QAGjC,GADA+D,KAAKoc,MAAQA,EACTpgB,GAA0B,iBAAVA,EAChB,GAAIA,EAAMklB,SAAS,KAAM,CACrB,IAAIk4C,EAAW2B,EAAW1D,EAAWr7D,MAAS,IAC9C++D,EAAW,GAAGr+C,OAAO08C,EAAS,IAClC,MAAA,GACSp9D,EAAMklB,SAAS,MAAO,CAC3B,IAAI+7C,EAAMlC,EAAW/6D,KAAKq7C,OAAOyQ,WAAc,IAC/CiP,EAAW,GAAGr+C,OAAOugD,EAAI,KAC7B,MAAA,GACSjhE,EAAMklB,SAAS,MAAO,CAC3B,IAAIg8C,EAAMnC,EAAW/6D,KAAKq7C,OAAOkQ,YAAe,IAChDwP,EAAW,GAAGr+C,OAAOwgD,EAAI,KAC7B,CAEJ,GAAIjhE,GAA4B,iBAAXA,EACjB,GAAIA,EAAOilB,SAAS,KAAM,CAClBk4C,EAAW4B,EAAY3D,EAAWp7D,OAAU,IAChD++D,EAAY,GAAGt+C,OAAO08C,EAAS,IACnC,MAAA,GACSn9D,EAAOilB,SAAS,MAAO,CACxB+7C,EAAMjC,EAAYh7D,KAAKq7C,OAAOyQ,WAAc,IAChDkP,EAAY,GAAGt+C,OAAOugD,EAAI,KAC9B,MAAA,GACShhE,EAAOilB,SAAS,MAAO,CACxBg8C,EAAMlC,EAAYh7D,KAAKq7C,OAAOkQ,YAAe,IACjDyP,EAAY,GAAGt+C,OAAOwgD,EAAI,KAC9B,CAEJ,IAAInJ,EAAW,CACX/3D,MAAOgE,KAAK25D,yBAAyBoB,EAAU,SAC/C9+D,OAAQ+D,KAAK25D,yBAAyBqB,EAAW,WAEhC,QAAjBh7D,KAAK08D,QACL3I,EAAS6E,UAAY7E,EAAS/3D,MAER,WAAjBgE,KAAK08D,UACV3I,EAAS6E,UAAY7E,EAAS93D,QAElC,IAAIkhE,EAAen9D,KAAK0jD,MAAM1nD,QAAU+3D,EAAS/3D,MAC7CohE,EAAgBp9D,KAAK0jD,MAAMznD,SAAW83D,EAAS93D,OAC/CohE,EAAkBr9D,KAAK0jD,MAAMkV,YAAc7E,EAAS6E,UACpD0E,EAAUH,GAAgBC,GAAiBC,EAC3CC,GAEAC,EAAAA,UAAU,WACN5lD,EAAMiuC,SAASmO,EACnB,GAEA/zD,KAAK3C,MAAMmgE,UACPF,GACAt9D,KAAK3C,MAAMmgE,SAASnvC,EAAO4b,EAAWjqC,KAAK03D,UAAWt7C,EAlG9D,CAqGJ,EACAo7C,EAAUj3D,UAAU4yD,UAAY,SAAU9kC,GACtC,IAAIuL,EAAImqB,EACJC,EAAKhkD,KAAK0jD,MAAO6U,EAAavU,EAAGuU,WAAYtuB,EAAY+Z,EAAG/Z,UAAsB+Z,EAAGyU,SACpFF,GAAev4D,KAAK03D,YAGrB13D,KAAK3C,MAAMogE,cACXz9D,KAAK3C,MAAMogE,aAAapvC,EAAO4b,EAAWjqC,KAAK03D,UAAW13D,KAAKoc,OAE/Dpc,KAAK3C,MAAM6C,MACXF,KAAK4lD,SAAS,CAAE5pD,MAAwC,QAAhC49B,EAAK55B,KAAK3C,MAAM6C,KAAKlE,aAA0B,IAAP49B,EAAgBA,EAAK,OAAQ39B,OAA0C,QAAjC8nD,EAAK/jD,KAAK3C,MAAM6C,KAAKjE,cAA2B,IAAP8nD,EAAgBA,EAAK,SAExK/jD,KAAK05D,eACL15D,KAAK4lD,SAAS,CACV2S,YAAY,EACZG,gBAAiBhW,GAASA,GAAS,CAAA,EAAI1iD,KAAK0jD,MAAMgV,iBAAkB,CAAExjC,OAAQ,WAEtF,EACAsiC,EAAUj3D,UAAUm9D,WAAa,SAAUx9D,GACvC,IAAI05B,EAAImqB,EACR/jD,KAAK4lD,SAAS,CAAE5pD,MAA6B,QAArB49B,EAAK15B,EAAKlE,aAA0B,IAAP49B,EAAgBA,EAAK,OAAQ39B,OAA+B,QAAtB8nD,EAAK7jD,EAAKjE,cAA2B,IAAP8nD,EAAgBA,EAAK,QAClJ,EACAyT,EAAUj3D,UAAUo9D,cAAgB,WAChC,IAAIhmD,EAAQ3X,KACR45B,EAAK55B,KAAK3C,MAAO8pB,EAASyS,EAAGzS,OAAQy2C,EAAehkC,EAAGgkC,aAAcC,EAAgBjkC,EAAGikC,cAAeC,EAAqBlkC,EAAGkkC,mBAAoBC,EAAqBnkC,EAAGmkC,mBAAoBC,EAAkBpkC,EAAGokC,gBACxN,IAAK72C,EACD,OAAO,KAEX,IAAI82C,EAAW/7D,OAAOmC,KAAK8iB,GAAQvgB,IAAI,SAAU6vD,GAC7C,OAAoB,IAAhBtvC,EAAOsvC,GACCP,EAAAA,IAAKN,GAAS,CAAE3rB,UAAWwsB,EAAKZ,cAAel+C,EAAMk+C,cAAeC,cAAe8H,GAAgBA,EAAanH,GAAMh9C,UAAWokD,GAAiBA,EAAcpH,GAAM50C,SAAUm8C,GAAmBA,EAAgBvH,GAAOuH,EAAgBvH,GAAO,MAAQA,GAE9P,IACX,GAEA,OAAQP,EAAAA,IAAK,MAAO,CAAEz8C,UAAWskD,EAAoBl4B,MAAOi4B,EAAoBj8C,SAAUo8C,GAC9F,EACAzG,EAAUj3D,UAAU6gD,OAAS,WACzB,IAAIzpC,EAAQ3X,KACRk+D,EAAeh8D,OAAOmC,KAAKrE,KAAK3C,OAAO0d,OAAO,SAAUojD,EAAKriE,GAC7D,OAAkC,IAA9Bw7D,GAAah6C,QAAQxhB,KAGzBqiE,EAAIriE,GAAO6b,EAAMta,MAAMvB,IAFZqiE,CAIf,EAAG,CAAA,GACCt4B,EAAQ6c,GAASA,GAASA,GAAS,CAAE9rB,SAAU,WAAYq/B,WAAYj2D,KAAK0jD,MAAM6U,WAAa,OAAS,QAAUv4D,KAAK3C,MAAMwoC,OAAQ7lC,KAAKo+D,WAAY,CAAErE,SAAU/5D,KAAK3C,MAAM08D,SAAUC,UAAWh6D,KAAK3C,MAAM28D,UAAWT,SAAUv5D,KAAK3C,MAAMk8D,SAAUC,UAAWx5D,KAAK3C,MAAMm8D,UAAW6E,UAAW,aAAcC,WAAY,IAC7Tt+D,KAAK0jD,MAAMkV,YACX/yB,EAAM+yB,UAAY54D,KAAK0jD,MAAMkV,WAEjC,IAAI2F,EAAUv+D,KAAK3C,MAAMmhE,IAAM,MAC/B,OAAQC,OAAMF,EAAS7b,GAAS,CAAE7c,QAAcpsB,UAAWzZ,KAAK3C,MAAMoc,WAAaykD,EAAc,CAG7Fn8C,IAAK,SAAUvN,GACPA,IACAmD,EAAM+/C,UAAYljD,EAE1B,EAAGqN,SAAU,CAAC7hB,KAAK0jD,MAAM6U,YAAcrC,EAAAA,IAAK,MAAO,CAAErwB,MAAO7lC,KAAK0jD,MAAMgV,kBAAoB14D,KAAK3C,MAAMwkB,SAAU7hB,KAAK29D,mBAC7H,EACAnG,EAAUtP,aAAe,CACrBsW,GAAI,MACJ3I,cAAe,WAAc,EAC7B2H,SAAU,WAAc,EACxBC,aAAc,WAAc,EAC5Bt2C,OAAQ,CACJyB,KAAK,EACLE,OAAO,EACPH,QAAQ,EACRE,MAAM,EACN2sC,UAAU,EACVC,aAAa,EACbC,YAAY,EACZC,SAAS,GAEb9vB,MAAO,CAAA,EACPyqB,KAAM,CAAC,EAAG,GACVgG,QAAS,CAAC,EAAG,GACbsE,iBAAiB,EACjBE,0BAA2B,EAC3BD,2BAA4B,EAC5BtO,MAAO,EACPkO,YAAa,EACb3D,QAAS,GAENU,CACX,CAlnBI,CAknBFkH,EAAAA,eCxvBEvnD,GAAgB,SAAStb,EAAG0b,GAI5B,OAHAJ,GAAgBjV,OAAOmV,gBAClB,CAAEC,UAAW,cAAgBhX,OAAS,SAAUzE,EAAG0b,GAAK1b,EAAEyb,UAAYC,CAAG,GAC1E,SAAU1b,EAAG0b,GAAK,IAAA,IAASvC,KAAKuC,EAAOA,EAAE1U,eAAemS,KAAInZ,EAAEmZ,GAAKuC,EAAEvC,GAAI,GACxDnZ,EAAG0b,EAC5B,EAQA,IAAImrC,GAAW,WAQX,OAPAA,GAAWxgD,OAAOygD,QAAU,SAAkBC,GAC1C,IAAA,IAAS3tC,EAAGZ,EAAI,EAAG1F,EAAI5B,UAAUlN,OAAQwU,EAAI1F,EAAG0F,IAE5C,IAAA,IAASW,KADTC,EAAIlI,UAAUsH,GACOnS,OAAO3B,UAAUsC,eAAejC,KAAKqU,EAAGD,KAAI4tC,EAAE5tC,GAAKC,EAAED,IAE9E,OAAO4tC,CACX,EACOF,GAAS/hC,MAAM3gB,KAAM+M,UAChC,EAcA,IAAI4xD,GAAiB,CACjB3iE,MAAO,OACPC,OAAQ,OACR6pC,QAAS,eACTlP,SAAU,WACVhO,IAAK,EACLC,KAAM,GAYN+1C,GAAA,SAA+BlnD,GAE/B,SAASknD,EAAIvhE,GACT,IAAIsa,EAAQD,EAAO9W,KAAKZ,KAAM3C,IAAU2C,KAuBxC,OAtBA2X,EAAMknD,iBAAmB,CAAE3iE,EAAG,EAAGC,EAAG,GACpCwb,EAAMmnD,iBAAmB,CAAEj2C,KAAM,EAAGD,IAAK,GACzCjR,EAAMonD,iBAAmB,CAAE7L,QAAS,MACpCv7C,EAAMqnD,iBAAmB,CAAE9iE,EAAG,EAAGC,EAAG,GACpCwb,EAAM+rC,MAAQ,CACVub,UAAU,EACV12C,OAAQ,CACJK,IAAK,EACLE,MAAO,EACPH,OAAQ,EACRE,KAAM,GAEVkxC,SAAU18D,EAAM08D,SAChBC,UAAW38D,EAAM28D,WAErBriD,EAAMk+C,cAAgBl+C,EAAMk+C,cAAcvmC,KAAK3X,GAC/CA,EAAM6lD,SAAW7lD,EAAM6lD,SAASluC,KAAK3X,GACrCA,EAAM8lD,aAAe9lD,EAAM8lD,aAAanuC,KAAK3X,GAC7CA,EAAMq9C,YAAcr9C,EAAMq9C,YAAY1lC,KAAK3X,GAC3CA,EAAM66C,OAAS76C,EAAM66C,OAAOljC,KAAK3X,GACjCA,EAAMs9C,WAAat9C,EAAMs9C,WAAW3lC,KAAK3X,GACzCA,EAAMunD,qBAAuBvnD,EAAMunD,qBAAqB5vC,KAAK3X,GACtDA,CACX,CA+WA,OAzbJ,SAAmB9b,EAAG0b,GAElB,SAASC,IAAOxX,KAAKgQ,YAAcnU,CAAG,CADtCsb,GAActb,EAAG0b,GAEjB1b,EAAE0E,UAAkB,OAANgX,EAAarV,OAAO+T,OAAOsB,IAAMC,EAAGjX,UAAYgX,EAAEhX,UAAW,IAAIiX,EACnF,CA4CIJ,CAAUwnD,EAAKlnD,GA2BfknD,EAAIr+D,UAAU6kD,kBAAoB,WAC9BplD,KAAKm/D,yBACL,IAAIvlC,EAAK55B,KAAK8+D,iBAAkBj2C,EAAO+Q,EAAG/Q,KAAMD,EAAMgR,EAAGhR,IACrDm7B,EAAK/jD,KAAKo/D,uBAAwBljE,EAAI6nD,EAAG7nD,EAAGC,EAAI4nD,EAAG5nD,EACvD6D,KAAK4uD,UAAUhJ,SAAS,CACpB1pD,EAAGA,EAAI2sB,EACP1sB,EAAGA,EAAIysB,IAGX5oB,KAAKq/D,aACT,EAEAT,EAAIr+D,UAAU6+D,qBAAuB,WACjC,IAAIxlC,EAAK55B,KAAK4uD,UAAUlL,MACxB,MAAO,CAAExnD,EAD0B09B,EAAG19B,EACvBC,EAD8By9B,EAAGz9B,EAEpD,EACAyiE,EAAIr+D,UAAU++D,UAAY,WACtB,OAAOt/D,KAAK03D,WAAa13D,KAAK03D,UAAUx+C,UAC5C,EACA0lD,EAAIr+D,UAAU44D,cAAgB,WAC1B,OAAOn5D,KAAK03D,UAAUyB,eAC1B,EACAyF,EAAIr+D,UAAU2+D,qBAAuB,WAGjC,MAAO,CAAEnF,cAFqC,IAAxB/5D,KAAK3C,MAAM08D,SAA2B3wC,OAAOm2C,iBAAmBv/D,KAAK3C,MAAM08D,SAEpEC,eADmB,IAAzBh6D,KAAK3C,MAAM28D,UAA4B5wC,OAAOm2C,iBAAmBv/D,KAAK3C,MAAM28D,UAEvG,EACA4E,EAAIr+D,UAAUi/D,eAAiB,WAC3B,OAAOx/D,KAAK03D,WAAa13D,KAAK03D,UAAUA,SAC5C,EACAkH,EAAIr+D,UAAUk/D,gBAAkB,SAAUC,GACtC,IAAInT,EAAQvsD,KAAK3C,MAAMkvD,MACvB,OAAQvsD,KAAK3C,MAAMkrB,QACf,IAAK,SACD,OAAO8yB,OAAOkQ,YAAcgB,EAChC,IAAK,OACD,OAAO3lC,SAASuP,KAAKwlB,aAAe4Q,EACxC,QACI,OAAOmT,EAAS/jB,aAE5B,EACAijB,EAAIr+D,UAAUo/D,eAAiB,SAAUD,GACrC,IAAInT,EAAQvsD,KAAK3C,MAAMkvD,MACvB,OAAQvsD,KAAK3C,MAAMkrB,QACf,IAAK,SACD,OAAO8yB,OAAOyQ,WAAaS,EAC/B,IAAK,OACD,OAAO3lC,SAASuP,KAAKynB,YAAc2O,EACvC,QACI,OAAOmT,EAAS9hB,YAE5B,EACAghB,EAAIr+D,UAAUy0D,YAAc,SAAU1xD,EAAG7C,GACjCT,KAAK3C,MAAM23D,aACXh1D,KAAK3C,MAAM23D,YAAY1xD,EAAG7C,GAE9B,IAAI6rB,EAAMtsB,KAAKo/D,uBAEf,GADAp/D,KAAKg/D,iBAAmB1yC,EACnBtsB,KAAK3C,MAAMkrB,OAAhB,CAEA,IAEIm3C,EAFAjgD,EAASzf,KAAKs/D,YACd/S,EAAQvsD,KAAK3C,MAAMkvD,MAEvB,GAA0B,WAAtBvsD,KAAK3C,MAAMkrB,OACXm3C,EAAWjgD,MACf,IAC+B,SAAtBzf,KAAK3C,MAAMkrB,OAAmB,CACnC,IAAIq3C,EAAengD,EAAOiJ,wBACtBm3C,EAAeD,EAAa/2C,KAC5Bi3C,EAAcF,EAAah3C,IAC3Bm3C,EAAWn5C,SAASuP,KAAKzN,wBACzBs3C,IAAWH,EAAepgD,EAAOqwC,WAAavD,EAAQwT,EAASl3C,MAAQ0jC,EACvE8P,IAAUyD,EAAcrgD,EAAOq8B,UAAYyQ,EAAQwT,EAASn3C,KAAO2jC,EACnEzjC,GAASlC,SAASuP,KAAKynB,YAAc59C,KAAK03D,UAAUx3D,KAAKlE,MAAQuwD,GAASA,EAAQyT,EAClFr3C,GAAU/B,SAASuP,KAAKwlB,aAAe37C,KAAK03D,UAAUx3D,KAAKjE,OAASswD,GAASA,EAAQ8P,EACzF,OAAOr8D,KAAK4lD,SAAS,CAAEr9B,OAAQ,CAAEK,IAAKyzC,EAAOvzC,QAAcH,SAAgBE,KAAMm3C,IACrF,CAAA,GAC+B,WAAtBhgE,KAAK3C,MAAMkrB,OAAqB,CACrC,IAAKvoB,KAAK03D,UACN,OACJ,IAAIuI,EAAexgD,EAAOiJ,wBACtBw3C,EAAeD,EAAap3C,KAC5Bs3C,EAAcF,EAAar3C,IAC3Bw3C,IAAWF,EAAezgD,EAAOqwC,WAAavD,GAASA,EACvD8T,IAAUF,EAAc1gD,EAAOq8B,UAAYyQ,GAASA,EACpDzjC,GAASuyB,OAAOyQ,WAAa9rD,KAAK03D,UAAUx3D,KAAKlE,MAAQuwD,GAASA,EAAQ6T,EAC1Ez3C,GAAU0yB,OAAOkQ,YAAcvrD,KAAK03D,UAAUx3D,KAAKjE,OAASswD,GAASA,EAAQ8T,EACjF,OAAOrgE,KAAK4lD,SAAS,CAAEr9B,OAAQ,CAAEK,IAAKy3C,EAAOv3C,QAAcH,SAAgBE,KAAMu3C,IACrF,CACsC,iBAAtBpgE,KAAK3C,MAAMkrB,OACvBm3C,EAAW94C,SAAS+E,cAAc3rB,KAAK3C,MAAMkrB,QAExCvoB,KAAK3C,MAAMkrB,kBAAkBhQ,cAClCmnD,EAAW1/D,KAAK3C,MAAMkrB,OAC1B,CACA,GAAMm3C,aAAoBnnD,aAAkBkH,aAAkBlH,YAA9D,CAGA,IAAI+nD,EAAeZ,EAASh3C,wBACxB63C,EAAeD,EAAaz3C,KAC5B23C,EAAcF,EAAa13C,IAC3BuzC,EAAa18C,EAAOiJ,wBAGpBG,GAAQ03C,EAFKpE,EAAWtzC,MAEa0jC,EACrC3jC,EAAM43C,EAFMrE,EAAWvzC,IAG3B,GAAK5oB,KAAK03D,UAAV,CAEA13D,KAAKm/D,yBACL,IAAItzD,EAAS7L,KAAK8+D,iBAClB9+D,KAAK4lD,SAAS,CACVr9B,OAAQ,CACJK,IAAKA,EAAM/c,EAAO+c,IAClBE,MAAOD,GAAQ62C,EAAS9hB,YAAc59C,KAAK03D,UAAUx3D,KAAKlE,OAAS6P,EAAOgd,KAAO0jC,EACjF5jC,OAAQC,GAAO82C,EAAS/jB,aAAe37C,KAAK03D,UAAUx3D,KAAKjE,QAAU4P,EAAO+c,IAC5EC,KAAMA,EAAOhd,EAAOgd,KAAO0jC,IAR/B,CAVJ,CAtCI,CA2DR,EACAqS,EAAIr+D,UAAUiyD,OAAS,SAAUlvD,EAAG7C,GAChC,GAAKT,KAAK3C,MAAMm1D,OAAhB,CAEA,IAAI54B,EAAK55B,KAAK8+D,iBAAkBj2C,EAAO+Q,EAAG/Q,KAAMD,EAAMgR,EAAGhR,IACzD,OAAK5oB,KAAK3C,MAAMojE,UAAoC,SAAxBzgE,KAAK3C,MAAMojE,SAGN,MAAxBzgE,KAAK3C,MAAMojE,SACTzgE,KAAK3C,MAAMm1D,OAAOlvD,EAAGo/C,GAASA,GAAS,CAAA,EAAIjiD,GAAO,CAAEvE,EAAGuE,EAAKvE,EAAI2sB,EAAM1sB,EAAG6D,KAAKg/D,iBAAiB7iE,EAAIysB,EAAKumC,OAAQ,KAE1F,MAAxBnvD,KAAK3C,MAAMojE,SACTzgE,KAAK3C,MAAMm1D,OAAOlvD,EAAGo/C,GAASA,GAAS,CAAA,EAAIjiD,GAAO,CAAEvE,EAAG8D,KAAKg/D,iBAAiB9iE,EAAI2sB,EAAM1sB,EAAGsE,EAAKtE,EAAIysB,EAAKsmC,OAAQ,UAF3H,EAJWlvD,KAAK3C,MAAMm1D,OAAOlvD,EAAGo/C,GAASA,GAAS,CAAA,EAAIjiD,GAAO,CAAEvE,EAAGuE,EAAKvE,EAAI2sB,EAAM1sB,EAAGsE,EAAKtE,EAAIysB,IAHzF,CAWR,EACAg2C,EAAIr+D,UAAU00D,WAAa,SAAU3xD,EAAG7C,GACpC,GAAKT,KAAK3C,MAAM43D,WAAhB,CAEA,IAAIr7B,EAAK55B,KAAK8+D,iBAAkBj2C,EAAO+Q,EAAG/Q,KAAMD,EAAMgR,EAAGhR,IACzD,OAAK5oB,KAAK3C,MAAMojE,UAAoC,SAAxBzgE,KAAK3C,MAAMojE,SAGN,MAAxBzgE,KAAK3C,MAAMojE,SACTzgE,KAAK3C,MAAM43D,WAAW3xD,EAAGo/C,GAASA,GAAS,CAAA,EAAIjiD,GAAO,CAAEvE,EAAGuE,EAAKvE,EAAI2sB,EAAM1sB,EAAG6D,KAAKg/D,iBAAiB7iE,EAAIysB,EAAKumC,OAAQ,KAE9F,MAAxBnvD,KAAK3C,MAAMojE,SACTzgE,KAAK3C,MAAM43D,WAAW3xD,EAAGo/C,GAASA,GAAS,CAAA,EAAIjiD,GAAO,CAAEvE,EAAG8D,KAAKg/D,iBAAiB9iE,EAAI2sB,EAAM1sB,EAAGsE,EAAKtE,EAAIysB,EAAKsmC,OAAQ,UAF/H,EAJWlvD,KAAK3C,MAAM43D,WAAW3xD,EAAGo/C,GAASA,GAAS,CAAA,EAAIjiD,GAAO,CAAEvE,EAAGuE,EAAKvE,EAAI2sB,EAAM1sB,EAAGsE,EAAKtE,EAAIysB,IAH7F,CAWR,EACAg2C,EAAIr+D,UAAUs1D,cAAgB,SAAUvyD,EAAGmzD,EAAKiK,GAC5Cp9D,EAAEs5D,kBACF58D,KAAK4lD,SAAS,CACVqZ,UAAU,IAEd,IAAI1S,EAAQvsD,KAAK3C,MAAMkvD,MACnB1gD,EAAS7L,KAAK8+D,iBACdxyC,EAAMtsB,KAAKo/D,uBAGf,GAFAp/D,KAAK6+D,iBAAmB,CAAE3iE,EAAGowB,EAAIpwB,EAAI2P,EAAOgd,KAAM1sB,EAAGmwB,EAAInwB,EAAI0P,EAAO+c,KACpE5oB,KAAKg/D,iBAAmB1yC,EACpBtsB,KAAK3C,MAAMkrB,OAAQ,CACnB,IAAI+xC,EAAWt6D,KAAKs/D,YAChBI,OAAW,EACW,WAAtB1/D,KAAK3C,MAAMkrB,OACXm3C,EAAWpF,EAEgB,SAAtBt6D,KAAK3C,MAAMkrB,OAChBm3C,EAAW94C,SAASuP,KAEO,WAAtBn2B,KAAK3C,MAAMkrB,OAChBm3C,EAAWrkB,OAEuB,iBAAtBr7C,KAAK3C,MAAMkrB,OACvBm3C,EAAW94C,SAAS+E,cAAc3rB,KAAK3C,MAAMkrB,QAExCvoB,KAAK3C,MAAMkrB,kBAAkBhQ,cAClCmnD,EAAW1/D,KAAK3C,MAAMkrB,QAE1B,IAAIo4C,EAAS3gE,KAAKw/D,iBAClB,GAAImB,aAAkBC,UACjBlB,aAAoBnnD,aAAemnD,IAAarkB,SACjDif,aAAoB/hD,YAAa,CACjC,IAAIqhB,EAAK55B,KAAKk/D,uBAAwBnF,EAAWngC,EAAGmgC,SAAUC,EAAYpgC,EAAGogC,UACzE3C,EAAar3D,KAAKm5D,gBACtB,GAAIY,GAAgC,iBAAbA,EACnB,GAAIA,EAAS74C,SAAS,KAAM,CACxB,IAAIu2C,EAAQruC,OAAO2wC,EAAS70D,QAAQ,IAAK,KAAO,IAChD60D,EAAW1C,EAAWr7D,MAAQy7D,CAClC,MACSsC,EAAS74C,SAAS,QACvB64C,EAAW3wC,OAAO2wC,EAAS70D,QAAQ,KAAM,MAGjD,GAAI80D,GAAkC,iBAAdA,EACpB,GAAIA,EAAU94C,SAAS,KAAM,CACrBu2C,EAAQruC,OAAO4wC,EAAU90D,QAAQ,IAAK,KAAO,IACjD80D,EAAY3C,EAAWp7D,OAASw7D,CACpC,MACSuC,EAAU94C,SAAS,QACxB84C,EAAY5wC,OAAO4wC,EAAU90D,QAAQ,KAAM,MAGnD,IAAI27D,EAAWF,EAAOj4C,wBAClBo4C,EAAWD,EAASh4C,KACpBk4C,EAAUF,EAASj4C,IACnB03C,EAAqC,WAAtBtgE,KAAK3C,MAAMkrB,OAAsB,CAAEM,KAAM,EAAGD,IAAK,GAAM82C,EAASh3C,wBAC/E63C,EAAeD,EAAaz3C,KAC5B23C,EAAcF,EAAa13C,IAC3Bg1B,EAAc59C,KAAK2/D,eAAeD,GAClC/jB,EAAe37C,KAAKy/D,gBAAgBC,GACpCsB,EAAUvK,EAAI17B,cAAc7Z,SAAS,QACrC+/C,EAAWxK,EAAI17B,cAAc7Z,SAAS,SACtCggD,EAASzK,EAAI/vC,WAAW,OACxBy6C,EAAY1K,EAAI/vC,WAAW,UAC/B,IAAKs6C,GAAWE,IAAWlhE,KAAK03D,UAAW,CACvC,IAAIjrC,GAAOq0C,EAAWP,GAAgBhU,EAAQvsD,KAAK03D,UAAUx3D,KAAKlE,MAClEgE,KAAK4lD,SAAS,CAAEmU,SAAUttC,EAAMrD,OAAO2wC,GAAYA,EAAWttC,GAClE,CAEA,GAAIw0C,GAAajhE,KAAK3C,MAAMu9D,kBAAoBoG,IAAYE,EAAS,CAC7Dz0C,EAAMmxB,GAAe2iB,EAAeO,GAAYvU,EACpDvsD,KAAK4lD,SAAS,CAAEmU,SAAUttC,EAAMrD,OAAO2wC,GAAYA,EAAWttC,GAClE,CACA,IAAKy0C,GAAUF,IAAYhhE,KAAK03D,UAAW,CACnCjrC,GAAOs0C,EAAUP,GAAejU,EAAQvsD,KAAK03D,UAAUx3D,KAAKjE,OAChE+D,KAAK4lD,SAAS,CACVoU,UAAWvtC,EAAMrD,OAAO4wC,GAAaA,EAAYvtC,GAEzD,CAEA,GAAI00C,GAAcnhE,KAAK3C,MAAMu9D,kBAAoBsG,IAAWF,EAAU,CAC9Dv0C,EAAMkvB,GAAgB6kB,EAAcO,GAAWxU,EACnDvsD,KAAK4lD,SAAS,CACVoU,UAAWvtC,EAAMrD,OAAO4wC,GAAaA,EAAYvtC,GAEzD,CACJ,CACJ,MAEIzsB,KAAK4lD,SAAS,CACVmU,SAAU/5D,KAAK3C,MAAM08D,SACrBC,UAAWh6D,KAAK3C,MAAM28D,YAG1Bh6D,KAAK3C,MAAMw4D,eACX71D,KAAK3C,MAAMw4D,cAAcvyD,EAAGmzD,EAAKiK,EAEzC,EACA9B,EAAIr+D,UAAUi9D,SAAW,SAAUl6D,EAAG2mC,EAAWy2B,EAAYtkD,GACzD,IAAIzE,EAAQ3X,KAERohE,EAAS,CAAEllE,EAAG8D,KAAKg/D,iBAAiB9iE,EAAGC,EAAG6D,KAAKg/D,iBAAiB7iE,GAChE0sB,GAAQzM,EAAMpgB,MACd4sB,GAAOxM,EAAMngB,OACA,CAAC,MAAO,OAAQ,UAAW,aAAc,YAC3ColE,SAASp3B,KACF,eAAdA,EACAm3B,EAAOllE,GAAK2sB,GAEO,aAAdohB,IAILm3B,EAAOllE,GAAK2sB,GAHZu4C,EAAOjlE,GAAKysB,IAOpB,IAAI04C,EAAiBthE,KAAK4uD,UAAUlL,MAChC0d,EAAOllE,IAAMolE,EAAeplE,GAAKklE,EAAOjlE,IAAMmlE,EAAenlE,GAC7DohE,EAAAA,UAAU,WACN5lD,EAAMi3C,UAAUhJ,SAASwb,EAC7B,GAEJphE,KAAKm/D,yBACL,IAAItzD,EAAS7L,KAAK8+D,iBACd5iE,EAAI8D,KAAKo/D,uBAAuBljE,EAAI2P,EAAOgd,KAC3C1sB,EAAI6D,KAAKo/D,uBAAuBjjE,EAAI0P,EAAO+c,IAC/C5oB,KAAK6+D,iBAAmB,CAAE3iE,IAAMC,KAC3B6D,KAAK3C,MAAMmgE,UAEhBx9D,KAAK3C,MAAMmgE,SAASl6D,EAAG2mC,EAAWy2B,EAAYtkD,EAAO,CACjDlgB,IACAC,KAER,EACAyiE,EAAIr+D,UAAUk9D,aAAe,SAAUn6D,EAAG2mC,EAAWy2B,EAAYtkD,GAC7Dpc,KAAK4lD,SAAS,CACVqZ,UAAU,IAEd,IAAIrlC,EAAK55B,KAAKk/D,uBAAwBnF,EAAWngC,EAAGmgC,SAAUC,EAAYpgC,EAAGogC,UAC7Eh6D,KAAK4lD,SAAS,CAAEmU,WAAoBC,cAChCh6D,KAAK3C,MAAMogE,cACXz9D,KAAK3C,MAAMogE,aAAan6D,EAAG2mC,EAAWy2B,EAAYtkD,EAAOpc,KAAK6+D,iBAEtE,EACAD,EAAIr+D,UAAUm9D,WAAa,SAAUx9D,GAC5BF,KAAK03D,WAEV13D,KAAK03D,UAAUgG,WAAW,CAAE1hE,MAAOkE,EAAKlE,MAAOC,OAAQiE,EAAKjE,QAChE,EACA2iE,EAAIr+D,UAAUghE,eAAiB,SAAU3qC,GACrC52B,KAAK4uD,UAAUhJ,SAAShvB,EAC5B,EACAgoC,EAAIr+D,UAAU4+D,uBAAyB,WACnC,IAAI5S,EAAQvsD,KAAK3C,MAAMkvD,MACnB9sC,EAASzf,KAAKs/D,YACdj9D,EAAOrC,KAAKw/D,iBAChB,IAAK//C,GAAmB,OAATpd,EACX,MAAO,CACHumB,IAAK,EACLC,KAAM,GAGd,IAAIszC,EAAa18C,EAAOiJ,wBACpBivC,EAAawE,EAAWtzC,KACxB+uC,EAAYuE,EAAWvzC,IACvBi4C,EAAWx+D,EAAKqmB,wBAChBkO,EAAW52B,KAAKo/D,uBAChB1S,EAAajtC,EAAOitC,WACpBrlC,EAAY5H,EAAO4H,UACvBrnB,KAAK8+D,iBAAmB,CACpBj2C,KAAMg4C,EAASh4C,KAAO8uC,EAAajL,EAAa91B,EAAS16B,EAAIqwD,EAC7D3jC,IAAKi4C,EAASj4C,IAAMgvC,EAAYvwC,EAAYuP,EAASz6B,EAAIowD,EAEjE,EACAqS,EAAIr+D,UAAU6gD,OAAS,WACnB,IAAIzpC,EAAQ3X,KACR45B,EAAK55B,KAAK3C,MAAOmkE,EAAkB5nC,EAAG4nC,gBAAiB37B,EAAQjM,EAAGiM,MAAO47B,EAAsB7nC,EAAG6nC,oBAAqB7qC,EAAWgD,EAAGhD,SAAUg7B,EAAch4B,EAAGg4B,YAAauB,EAAYv5B,EAAGu5B,UAAWsN,EAAW7mC,EAAG6mC,SAAUiB,EAAW9nC,EAAG8nC,SAAUn5C,EAASqR,EAAGrR,OAAQ6pC,EAAuBx4B,EAAGw4B,qBAAsB/jB,EAASzU,EAAGyU,OAAQxsB,EAAW+X,EAAG/X,SAA0B+X,EAAGi8B,cAA0Bj8B,EAAG4jC,SAAyB5jC,EAAG6jC,aAA4B7jC,EAAGo7B,YAAsBp7B,EAAG44B,OAAqB54B,EAAGq7B,WAAW,IAAC0M,EAAqB/nC,EAAG+nC,mBAAoBC,EAAsBhoC,EAAGgoC,oBAAqBC,EAAwBjoC,EAAGioC,sBAAuBC,EAAiBloC,EAAGkoC,eAAgBC,EAAanoC,EAAGmoC,WAAYC,EAA2BpoC,EAAGooC,yBAA0BC,EAA2BroC,EAAGqoC,yBAA0B1V,EAAQ3yB,EAAG2yB,MAAOsF,EAAgBj4B,EAAGi4B,cAAeqQ,EAAqBtoC,EAAGsoC,mBAAoBC,EA9Xv7B,SAAgBltD,EAAG3R,GACf,IAAIs/C,EAAI,CAAA,EACR,IAAA,IAAS5tC,KAAKC,EAAO/S,OAAO3B,UAAUsC,eAAejC,KAAKqU,EAAGD,IAAM1R,EAAEga,QAAQtI,GAAK,IAC9E4tC,EAAE5tC,GAAKC,EAAED,IACb,GAAS,MAALC,GAAqD,mBAAjC/S,OAAOsK,sBAC3B,KAAS6H,EAAI,EAAb,IAAgBW,EAAI9S,OAAOsK,sBAAsByI,GAAIZ,EAAIW,EAAEnV,OAAQwU,IAC3D/Q,EAAEga,QAAQtI,EAAEX,IAAM,GAAKnS,OAAO3B,UAAU+L,qBAAqB1L,KAAKqU,EAAGD,EAAEX,MACvEuuC,EAAE5tC,EAAEX,IAAMY,EAAED,EAAEX,IAF4B,CAItD,OAAOuuC,CACX,CAoXw8Bwf,CAAOxoC,EAAI,CAAC,kBAAmB,QAAS,sBAAuB,WAAY,cAAe,YAAa,WAAY,WAAY,SAAU,uBAAwB,SAAU,WAAY,gBAAiB,WAAY,eAAgB,cAAe,SAAU,aAAc,qBAAsB,sBAAuB,wBAAyB,iBAAkB,aAAc,2BAA4B,2BAA4B,QAAS,gBAAiB,uBAC/3C8U,EAAe1uC,KAAK3C,MAAMiZ,QAAUosC,GAAS,CAAA,EAAI1iD,KAAK3C,MAAMiZ,cAAW,SAEpE6rD,EAAe7rD,QACtB,IAGI+rD,EAHAC,EAAcd,GAAmBC,EAAsB,CAAEvsC,OAAQ,QAAW,CAAEA,OAAQ,QACtFqtC,EAAa7f,GAASA,GAASA,GAAS,CAAA,EAAIic,IAAiB2D,GAAcz8B,GAC3Eke,EAAK/jD,KAAK8+D,iBAAkBj2C,EAAOk7B,EAAGl7B,KAAMD,EAAMm7B,EAAGn7B,IAErDgO,IACAyrC,EAAoB,CAChBnmE,EAAG06B,EAAS16B,EAAI2sB,EAChB1sB,EAAGy6B,EAASz6B,EAAIysB,IAIxB,IAzXgC45C,EAyX5Bl2C,EAAMtsB,KAAK0jD,MAAMub,cAAW,EAAYoD,EACxCI,EAAsBziE,KAAK0jD,MAAMub,SAAW,OAASwB,EACzD,OAAQ55C,EAAAA,cAAc6sC,GAAW,CAAE3xC,IAAK,SAAUvN,GACrCA,IAELmD,EAAMi3C,UAAYp6C,EACtB,EAAGw9C,OAAQyP,EAAsB,IAAI/kD,OAAO+kD,QAAuB,EAAWpN,gBAAiB3lB,EAAckjB,cAE7GuB,YAAsBjB,QAASlyD,KAAKg1D,YAAaxC,OAAQxyD,KAAKwyD,OAAQG,OAAQ3yD,KAAKi1D,WAAYpG,KAAM4T,EAAqB1Q,SAAUyP,EAAiBlR,KAAMoR,EAAUn5C,OAAQA,EAASvoB,KAAK0jD,MAAMn7B,YAAS,EAAWqO,SAAUtK,EAAK8lC,uBAA4C/jB,SAAgBke,QAAcsF,gBAA8BoB,QAASjzD,KAAK++D,iBAAkBpU,eAAgBuX,GAC5Xr7C,EAAAA,cAAc2wC,GAAW9U,GAAS,CAAA,EAAIyf,EAAgB,CAAEpgD,IAAK,SAAUvN,GAC1DA,IAELmD,EAAM+/C,UAAYljD,EAClBmD,EAAMonD,iBAAiB7L,QAAU1+C,EAAEkjD,UACvC,EAAGoB,YAAapqB,EAAcxuC,KAAMF,KAAK3C,MAAM6C,KAAMinB,OAAkC,kBAAnB26C,GAvY5CU,EAuYmGV,EAvYnF,CACpDn5C,OAAQ65C,EACR9M,WAAY8M,EACZ/M,YAAa+M,EACb35C,KAAM25C,EACN15C,MAAO05C,EACP55C,IAAK45C,EACL7M,QAAS6M,EACThN,SAAUgN,IA+X+IV,EAAgBjM,cAAe71D,KAAK61D,cAAe2H,SAAUx9D,KAAKw9D,SAAUC,aAAcz9D,KAAKy9D,aAAc53B,MAAO08B,EAAYhJ,SAAUv5D,KAAK3C,MAAMk8D,SAAUC,UAAWx5D,KAAK3C,MAAMm8D,UAAWO,SAAU/5D,KAAK0jD,MAAMub,SAAWj/D,KAAK0jD,MAAMqW,SAAW/5D,KAAK3C,MAAM08D,SAAUC,UAAWh6D,KAAK0jD,MAAMub,SAAWj/D,KAAK0jD,MAAMsW,UAAYh6D,KAAK3C,MAAM28D,UAAW1J,KAAMyR,EAAYhE,mBAAoBiE,EAA0BlE,mBAAoBmE,EAA0BrH,gBAAiB56D,KAAK3C,MAAMu9D,gBAAiBE,0BAA2B96D,KAAK3C,MAAMy9D,0BAA2BD,2BAA4B76D,KAAK3C,MAAMw9D,2BAA4B+C,aAAc+D,EAAoB9D,cAAe+D,EAAqB5D,gBAAiB6D,EAAuBtV,MAAOvsD,KAAK3C,MAAMkvD,QAAU1qC,GAC35B,EACA+8C,EAAI1W,aAAe,CACf6R,SAAU3wC,OAAOm2C,iBACjBvF,UAAW5wC,OAAOm2C,iBAClBhT,MAAO,EACPsJ,cAAe,WAAc,EAC7B2H,SAAU,WAAc,EACxBC,aAAc,WAAc,EAC5BzI,YAAa,WAAc,EAC3BxC,OAAQ,WAAc,EACtByC,WAAY,WAAc,GAEvB2J,CACX,CA3YI,CA2YFF,EAAAA,eCnbF,SAASgE,GAAStJ,EAAiBuJ,GACjC,OAAQvJ,EAAU,IAAOuJ,CAC3B,CAkBO,MAAMC,GAA4C,EACvDjhD,QACAkhD,iBACAC,cACAC,eACAC,mBACAC,eACAC,aACAC,kBAEA,MAAMC,EAAmBC,GAAoB//D,IAC3CA,EAAEs5D,kBACF,MAAAuG,GAAAA,EAAcE,IAGhB,aACG,IAAA,CAAE5pD,UAAU,gBACVoI,SAAAF,EAAM/a,IAAKyW,IACV,MAAMimD,EAASZ,GAASrlD,EAAKkmD,QAAST,GAChCU,EAASd,GAASrlD,EAAKomD,QAASV,GAChCW,EAAOhB,GAASrlD,EAAKsmD,MAAOb,GAC5Bc,EAAOlB,GAASrlD,EAAKwmD,MAAOd,GAE5Be,EAAYzmD,EAAKymD,WAAad,EAC9Bh5B,EAAQ3sB,EAAK2sB,OAASi5B,EACtBc,EAAalB,IAAmBxlD,EAAKipB,GAKrC09B,EAAch6B,EACdi6B,EAAYvB,GAASoB,EAAWhB,GAChCoB,EAAchB,EAAa7mD,KAAKoQ,IAAIw3C,EAAW,GAAK5nD,KAAKoQ,IAAgB,GAAZw3C,EAAiB,GAEpF,GAAuB,WAAnB5mD,EAAK8mD,UAAwB,CAC/B,MAKMC,EArDhB,SACEd,EACAE,EACAa,EACAC,EACAC,EACAC,EACAd,EACAE,GAEA,MAAO,KAAKN,KAAUE,OAAYa,KAAaC,MAAcC,KAAaC,MAAcd,KAAQE,GAClG,CA0CwBa,CACZnB,EACAE,EAPgBd,GAASrlD,EAAKqnD,YAAcrnD,EAAKkmD,QAAST,GAC1CJ,GAASrlD,EAAKsnD,YAActnD,EAAKomD,QAASV,GAC1CL,GAASrlD,EAAKunD,YAAcvnD,EAAKsmD,MAAOb,GACxCJ,GAASrlD,EAAKwnD,YAAcxnD,EAAKwmD,MAAOd,GASxDW,EACAE,GAGF,cACG,IAAA,CAAgBkB,QAAS1B,EAAgB/lD,EAAKipB,IAE5CzkB,SAAA,CAAAkiD,GACClb,EAAAA,IAAC,OAAA,CACChtD,EAAGuoE,EACH9mB,KAAK,OACLD,OAAO,UACP6mB,YAAaA,EAAc,EAC3Ba,cAAc,QACdtrD,UAAU,mBAIdovC,EAAAA,IAAC,OAAA,CACChtD,EAAGuoE,EACH9mB,KAAK,OACLD,OAAQ2mB,EACRE,cACAa,cAAc,QACdtrD,UAAU,uDAGZovC,EAAAA,IAAC,OAAA,CACChtD,EAAGuoE,EACH9mB,KAAK,OACLD,OAAO,cACP6mB,YAAa7nD,KAAKoQ,IAAIy3C,EAAa,IACnCa,cAAc,QACdtrD,UAAU,qBA5BN4D,EAAKipB,GAgCjB,CAGA,cACG,IAAA,CAAgBw+B,QAAS1B,EAAgB/lD,EAAKipB,IAE5CzkB,SAAA,CAAAkiD,GACClb,EAAAA,IAAC,OAAA,CACCvU,GAAIgvB,EACJjvB,GAAImvB,EACJ/uB,GAAIivB,EACJ9uB,GAAIgvB,EACJvmB,OAAO,UACP6mB,YAAaA,EAAc,EAC3Ba,cAAc,QACdtrD,UAAU,mBAIdovC,EAAAA,IAAC,OAAA,CACCvU,GAAIgvB,EACJjvB,GAAImvB,EACJ/uB,GAAIivB,EACJ9uB,GAAIgvB,EACJvmB,OAAQ2mB,EACRE,cACAa,cAAc,QACdtrD,UAAU,uDAGZovC,EAAAA,IAAC,OAAA,CACCvU,GAAIgvB,EACJjvB,GAAImvB,EACJ/uB,GAAIivB,EACJ9uB,GAAIgvB,EACJvmB,OAAO,cACP6mB,YAAa7nD,KAAKoQ,IAAIy3C,EAAa,IACnCa,cAAc,QACdtrD,UAAU,qBAlCN4D,EAAKipB,SCzHvB,SAASo8B,GAAStJ,EAAiBuJ,GACjC,OAAQvJ,EAAU,IAAOuJ,CAC3B,CAKA,SAASqC,GAAUC,EAAgBtC,GACjC,OAAQsC,EAAStC,EAAa,GAChC,CAEO,MAAMuC,GAA8C,EACzD7nD,OACAylD,cACAC,eACAoC,2BAEA,MAAO9S,EAAU+S,GAAeC,EAAAA,SAAyC,MAGnE/B,EAASZ,GAASrlD,EAAKkmD,QAAST,GAChCU,EAASd,GAASrlD,EAAKomD,QAASV,GAChCW,EAAOhB,GAASrlD,EAAKsmD,MAAOb,GAC5Bc,EAAOlB,GAASrlD,EAAKwmD,MAAOd,GAC5BsB,EAAY3B,GAASrlD,EAAKqnD,YAAcrnD,EAAKkmD,QAAST,GACtDwB,EAAY5B,GAASrlD,EAAKsnD,YAActnD,EAAKomD,QAASV,GACtDwB,EAAY7B,GAASrlD,EAAKunD,YAAcvnD,EAAKsmD,MAAOb,GACpD0B,EAAY9B,GAASrlD,EAAKwnD,YAAcxnD,EAAKwmD,MAAOd,GAEpDuC,EAAkBvP,EAAAA,YACrBwP,GAA2CjiE,IAC1CA,EAAEs5D,kBACFt5D,EAAE69B,iBACFikC,EAAYG,IAEd,IAGIC,EAAkBzP,EAAAA,YACrBzyD,IACC,IAAK+uD,EAAU,OAEf,MAAMoT,EAAMniE,EAAEoiE,cAAcC,QAAQ,OACpC,IAAKF,EAAK,OAEV,MAAMnuC,EAAOmuC,EAAI/8C,wBACXxsB,EAAIoH,EAAEmpD,QAAUn1B,EAAKzO,KACrB1sB,EAAImH,EAAEqpD,QAAUr1B,EAAK1O,IAGrBg9C,EAAWZ,GAAU9oE,EAAG4mE,GACxB+C,EAAWb,GAAU7oE,EAAG4mE,GAGxB+C,EAAWzpD,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKspD,IACrCG,EAAW1pD,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKupD,IAE3CV,EAAqB9nD,EAAKipB,GAAI+rB,EAAUyT,EAAUC,IAEpD,CAAC1T,EAAUh1C,EAAKipB,GAAIw8B,EAAaC,EAAcoC,IAG3Ca,EAAgBjQ,EAAAA,YAAY,KAChCqP,EAAY,OACX,IAEH,MAAuB,WAAnB/nD,EAAK8mD,UACA,KAIP1b,EAAAA,KAAC,IAAA,CACChvC,UAAU,iBACVo/C,YAAa2M,EACbrS,UAAW6S,EACXC,aAAcD,EAGdnkD,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CACCvU,GAAIgvB,EACJjvB,GAAImvB,EACJ/uB,GAAI4vB,EACJzvB,GAAI0vB,EACJjnB,OAAO,UACP6mB,YAAa,EACbgC,gBAAgB,MAChBC,cAAc,SAIhBtd,EAAAA,IAAC,OAAA,CACCvU,GAAIovB,EACJrvB,GAAIuvB,EACJnvB,GAAI8vB,EACJ3vB,GAAI4vB,EACJnnB,OAAO,UACP6mB,YAAa,EACbgC,gBAAgB,MAChBC,cAAc,SAIhBtd,EAAAA,IAAC,SAAA,CACCpsD,GAAI4nE,EACJ3nE,GAAI4nE,EACJ3nE,EAAG,EACH2gD,KAAK,UACLD,OAAO,UACP6mB,YAAa,EACbzqD,UAAU,cACVm4C,YAAa0T,EAAgB,YAC7Bz/B,MAAO,CAAElrB,OAAqB,aAAb03C,EAA0B,oCAAiC,KAI9ExJ,EAAAA,IAAC,SAAA,CACCpsD,GAAI8nE,EACJ7nE,GAAI8nE,EACJ7nE,EAAG,EACH2gD,KAAK,UACLD,OAAO,UACP6mB,YAAa,EACbzqD,UAAU,cACVm4C,YAAa0T,EAAgB,YAC7Bz/B,MAAO,CAAElrB,OAAqB,aAAb03C,EAA0B,oCAAiC,KAI9ExJ,EAAAA,IAAC,SAAA,CACCpsD,GAAI6mE,EACJ5mE,GAAI8mE,EACJ7mE,EAAG,EACH2gD,KAAK,UACLD,OAAO,UACP6mB,YAAa,EACbiC,cAAc,SAIhBtd,EAAAA,IAAC,SAAA,CACCpsD,GAAIinE,EACJhnE,GAAIknE,EACJjnE,EAAG,EACH2gD,KAAK,UACLD,OAAO,UACP6mB,YAAa,EACbiC,cAAc,aClJtB,SAASC,GACPC,EACAvD,EACAC,GAEA,OAAOsD,EACJz/D,IAAK2vD,GAIG,GAFIA,EAAEr6D,EAAI,IAAO4mE,KACbvM,EAAEp6D,EAAI,IAAO4mE,KAGzBnmD,KAAK,IACV,CAEO,MAAM0pD,GAAwD,EACnEC,SACAzD,cACAC,eACAyD,kBACAC,eACAC,cAAa,EACbC,oBAGEle,KAAC,IAAA,CAAEhvC,UAAU,gBAEXoI,SAAA,GAAAgnC,IAAC,OAAA,CACEhnC,SAAA0kD,EAAO3/D,IAAKggE,GACX/d,EAAAA,IAAC,WAAA,CAAkCviB,GAAI,QAAQsgC,EAAMtgC,KACnDzkB,SAAAgnC,EAAAA,IAAC,UAAA,CAAQge,OAAQT,GAAiBQ,EAAMP,SAAUvD,EAAaC,MADlD,QAAQ6D,EAAMtgC,SAMhCigC,EAAO3/D,IAAI,CAACggE,EAAOlmE,KAClB,MAAMqjE,EAAayC,IAAoBI,EAAMtgC,GACvCugC,EAAST,GAAiBQ,EAAMP,SAAUvD,EAAaC,GACvD+D,EAAUF,EAAMG,SAAS7qE,EAAI,IAAO4mE,EACpCkE,EAAUJ,EAAMG,SAAS5qE,EAAI,IAAO4mE,EACpCkE,EAAa,MAAAN,OAAA,EAAAA,EAAc9kE,IAAI+kE,EAAMtgC,IAGrC4gC,EAAWN,EAAMr+C,OAAOrsB,EAAI,IAAO4mE,EACnCqE,EAAWP,EAAMr+C,OAAOpsB,EAAI,IAAO4mE,EACnCqE,EAAeR,EAAMr+C,OAAOvsB,MAAQ,IAAO8mE,EAC3CuE,EAAgBT,EAAMr+C,OAAOtsB,OAAS,IAAO8mE,EAEnD,OACEta,EAAAA,KAAC,IAAA,CAECqc,QAAUxhE,IACRA,EAAEs5D,kBACF,MAAA6J,GAAAA,EAAeG,EAAMtgC,KAEvBT,MAAO,CAAE3Q,OAAQ,WAGhBrT,SAAA,CAAAolD,GACCpe,EAAAA,IAAC,QAAA,CACCzjB,KAAM6hC,EACN/qE,EAAGgrE,EACH/qE,EAAGgrE,EACHnrE,MAAOorE,EACPnrE,OAAQorE,EACRC,oBAAoB,iBACpBC,SAAU,aAAaX,EAAMtgC,MAC7BT,MAAO,CAAEsgC,cAAe,UAK5Btd,EAAAA,IAAC,UAAA,CACCge,SACAvpB,KAAMymB,EAAa,2BAA6B,cAChD1mB,OAAQ0mB,EAAa,UAAY,cACjCG,YAAaH,EAAa,EAAI,EAC9Bl+B,MAAO,CAAE2hC,WAAY,qBAIvB3e,EAAAA,IAAC,UAAA,CACCge,SACAvpB,KAAK,cACLzX,MAAO,CAAE2hC,WAAY,mBACrBC,aAAenkE,IACRygE,IACHzgE,EAAEoiE,cAAc7/B,MAAMyX,KAAO,6BAGjC2oB,aAAe3iE,IACRygE,IACHzgE,EAAEoiE,cAAc7/B,MAAMyX,KAAO,kBAMlCopB,GACCje,EAAAA,KAAAif,WAAA,CACE7lD,SAAA,CAAAgnC,EAAAA,IAAC,SAAA,CACCpsD,GAAIqqE,EACJpqE,GAAIsqE,EACJrqE,EAAG,GACH2gD,KAAK,wBACLD,OAAO,yBACP6mB,YAAa,EACbr+B,MAAO,CAAEsgC,cAAe,UAE1Btd,EAAAA,IAAC,OAAA,CACC3sD,EAAG4qE,EACH3qE,EAAG6qE,EACHW,WAAW,SACXC,iBAAiB,UACjBtqB,KAAK,UACLwL,SAAU,GACVjP,WAAW,MACXguB,WAAW,uCACXhiC,MAAO,CAAEsgC,cAAe,OAAQlQ,WAAY,QAE3Cp0C,SAAAnhB,EAAQ,SAtEVkmE,EAAMtgC,SCzBvB,SAAS0+B,GAAUC,EAAgBtC,GACjC,OAAQsC,EAAStC,EAAa,GAChC,CAKA,SAASD,GAAStJ,EAAiBuJ,GACjC,OAAQvJ,EAAU,IAAOuJ,CAC3B,CAEO,MAAMmF,GAA8C,EACzDnmD,QACAmhD,cACAC,eACAz0B,OACA00B,mBACAC,eACAC,aACAL,iBACAkF,eACAC,eACAC,eACAC,eACAC,gBACAC,mBACAC,oBAAmB,EACnB7B,gBAAiB8B,EACjBC,mBAAkB,EAClB5B,mBAEA,MAAM6B,EAASC,EAAAA,OAAsB,OAC9BC,EAAcC,GAAmBtD,WAAuB,CAC7DuD,WAAW,EACXC,WAAY,KACZC,aAAc,KACdC,YAAa,QAERC,EAAYC,GAAiB5D,EAAAA,SAAuB,OACpD6D,EAAgBC,GAAqB9D,EAAAA,SAA0B,KAC/D+D,EAAyBC,GAA8BhE,EAAAA,SAAwB,MAGhFmB,OAA8C,IAA5B8B,EAAwCA,EAA0Bc,EAG1FE,EAAAA,UAAU,KACR,MAAMC,EAA8B5nD,EAAM/a,IAAK0N,IAAA,CAC7CgyB,GAAIhyB,EAAEgyB,GACN69B,UAAW7vD,EAAE6vD,UACbZ,QAASjvD,EAAEivD,QACXE,QAASnvD,EAAEmvD,QACXE,MAAOrvD,EAAEqvD,MACTE,MAAOvvD,EAAEuvD,MACTa,WAAYpwD,EAAEowD,WACdC,WAAYrwD,EAAEqwD,WACdC,WAAYtwD,EAAEswD,WACdC,WAAYvwD,EAAEuwD,cAGV0B,EAASiD,EAAoBD,EAAc,IAAK,KACtDJ,EAAkB5C,GAClB,MAAA6B,GAAAA,EAAmB7B,IAClB,CAAC5kD,EAAOymD,IAKX,MAAMqB,EAAmB1T,EAAAA,YACtBzyD,IACC,MAAMmiE,EAAM+C,EAAOtV,QACnB,IAAKuS,EAAK,MAAO,CAAEvpE,EAAG,EAAGC,EAAG,GAE5B,MAAMm7B,EAAOmuC,EAAI/8C,wBACjB,MAAO,CACLxsB,EAAGoH,EAAEmpD,QAAUn1B,EAAKzO,KACpB1sB,EAAGmH,EAAEqpD,QAAUr1B,EAAK1O,MAGxB,IAMI8gD,EAAkB3T,EAAAA,YACrB4T,IAEC,MAAMC,EAAsB,CAC1B1tE,EAAG8oE,GAAU2E,EAAMztE,EAAG4mE,GACtB3mE,EAAG6oE,GAAU2E,EAAMxtE,EAAG4mE,IAYlB8G,EAAwBloD,EAAM/a,IAAK0N,IAAA,CACvC8G,MAAO,CAAElf,EAAGoY,EAAEivD,QAASpnE,EAAGmY,EAAEmvD,SAC5BpoD,IAAK,CAAEnf,EAAGoY,EAAEqvD,MAAOxnE,EAAGmY,EAAEuvD,UAIpBiG,EAAmB9E,GAlHR,GAkHkClC,GAE7Cv/D,EAASwmE,EAAcH,EAhBP,CACpB,CAAExuD,MAAO,CAAElf,EAAG,EAAGC,EAAG,GAAKkf,IAAK,CAAEnf,EAAG,IAAKC,EAAG,IAC3C,CAAEif,MAAO,CAAElf,EAAG,IAAKC,EAAG,GAAKkf,IAAK,CAAEnf,EAAG,IAAKC,EAAG,MAC7C,CAAEif,MAAO,CAAElf,EAAG,IAAKC,EAAG,KAAOkf,IAAK,CAAEnf,EAAG,EAAGC,EAAG,MAC7C,CAAEif,MAAO,CAAElf,EAAG,EAAGC,EAAG,KAAOkf,IAAK,CAAEnf,EAAG,EAAGC,EAAG,KAYK0tE,EAAeC,GAGjE,MAAO,CACL5tE,EAAGwmE,GAASn/D,EAAOomE,MAAMztE,EAAG4mE,GAC5B3mE,EAAGumE,GAASn/D,EAAOomE,MAAMxtE,EAAG4mE,KAGhC,CAACphD,EAAOmhD,EAAaC,IAMjBuC,EAAkBvP,EAAAA,YACrBzyD,IACC,GAAa,cAATgrC,GAAiC,gBAATA,EAAwB,OAEpD,MAAMq7B,EAAQF,EAAiBnmE,GACzB0mE,EAAeN,EAAgBC,GAErChB,EAAgB,CACdC,WAAW,EACXC,WAAYmB,EACZlB,aAAckB,EACdjB,YAAa,QAGjB,CAACz6B,EAAMm7B,EAAkBC,IAMrBlE,EAAkBzP,EAAAA,YACrBzyD,IACC,MAAMqmE,EAAQF,EAAiBnmE,GACzB0mE,EAAeN,EAAgBC,GAUrC,GANEV,EADW,cAAT36B,GAAiC,gBAATA,EACZ07B,EAEA,OAIXtB,EAAaE,YAAcF,EAAaG,WAAY,OAGzD,MAAMoB,EAAe,CACnB/tE,EAAG8oE,GAAU0D,EAAaG,WAAW3sE,EAAG4mE,GACxC3mE,EAAG6oE,GAAU0D,EAAaG,WAAW1sE,EAAG4mE,IAEpCmH,EAAa,CACjBhuE,EAAG8oE,GAAUgF,EAAa9tE,EAAG4mE,GAC7B3mE,EAAG6oE,GAAUgF,EAAa7tE,EAAG4mE,IAG/B,IAAIgG,EAEJ,GAAa,gBAATz6B,EAAwB,CAC1B,MAAMgO,EAAW6tB,EAA6BF,EAAcC,GAC5DnB,EAAc,CACZ5E,UAAW,SACXZ,QAAS0G,EAAa/tE,EACtBunE,QAASwG,EAAa9tE,EACtBwnE,MAAOuG,EAAWhuE,EAClB2nE,MAAOqG,EAAW/tE,EAClBuoE,WAAYpoB,EAAS8tB,SAASluE,EAC9ByoE,WAAYroB,EAAS8tB,SAASjuE,EAC9ByoE,WAAYtoB,EAAS+tB,SAASnuE,EAC9B2oE,WAAYvoB,EAAS+tB,SAASluE,EAElC,MACE4sE,EAAc,CACZ5E,UAAW,WACXZ,QAAS0G,EAAa/tE,EACtBunE,QAASwG,EAAa9tE,EACtBwnE,MAAOuG,EAAWhuE,EAClB2nE,MAAOqG,EAAW/tE,GAItBwsE,EAAiB52C,IAAA,IACZA,EACH+2C,aAAckB,EACdjB,kBAGJ,CACEL,EAAaE,UACbF,EAAaG,WACbv6B,EACAw0B,EACAC,EACA0G,EACAC,IAOE1D,EAAgBjQ,EAAAA,YAAY,KAChC,IAAK2S,EAAaE,YAAcF,EAAaK,YAO3C,YANAJ,EAAgB,CACdC,WAAW,EACXC,WAAY,KACZC,aAAc,KACdC,YAAa,OAMjB,MAAMuB,GAAM5B,EAAaK,YAAYpF,OAAS,IAAM+E,EAAaK,YAAYxF,SAAW,GAClFgH,GAAM7B,EAAaK,YAAYlF,OAAS,IAAM6E,EAAaK,YAAYtF,SAAW,GACzEpnD,KAAKmuD,KAAKF,EAAKA,EAAKC,EAAKA,GAzOpB,GA4OlBxC,EAAaW,EAAaK,aAG5BJ,EAAgB,CACdC,WAAW,EACXC,WAAY,KACZC,aAAc,KACdC,YAAa,QAEd,CAACL,EAAcX,IAKZ0C,EAAoB1U,EAAAA,YACvBzyD,IACC,GAAa,WAATgrC,EAAmB,CAErB,MAAMlwB,EAAS9a,EAAE8a,QACM,QAAnBA,EAAOzF,SAAqByF,EAAO8F,UAAUgG,SAAS,uBACxDg+C,EAAa,MACbmB,EAA2B,MAC3B,MAAAlB,GAAAA,EAAgB,MAEpB,GAEF,CAAC75B,EAAM45B,EAAcC,IAMjB/E,EAAkBrN,EAAAA,YACrBsN,IACc,WAAT/0B,IACF45B,EAAa7E,GACbgG,EAA2B,MAC3B,MAAAlB,GAAAA,EAAgB,QAGpB,CAAC75B,EAAM45B,EAAcC,IAMjBuC,EAAmB3U,EAAAA,YACtB4U,IACc,WAATr8B,IACF+6B,EAA2BsB,GAC3BzC,EAAa,MACb,MAAAC,GAAAA,EAAgBwC,KAGpB,CAACr8B,EAAM45B,EAAcC,IAMjByC,EAA2B7U,EAAAA,YAC/B,CAACsN,EAAgBkC,EAAuCrpE,EAAWC,KAE/D6rE,EAAa3E,EADM,aAAjBkC,EACmB,CAAEb,WAAYxoE,EAAGyoE,WAAYxoE,GAE7B,CAAEyoE,WAAY1oE,EAAG2oE,WAAY1oE,KAGtD,CAAC6rE,IAMHsB,EAAAA,UAAU,KACR,MAAMuB,EAAiBvnE,IACN,WAAVA,EAAExH,KAA8B,cAAVwH,EAAExH,KAA2C,OAAnB+mE,EAGhC,WAAVv/D,EAAExH,MACP4sE,EAAaE,UACfD,EAAgB,CACdC,WAAW,EACXC,WAAY,KACZC,aAAc,KACdC,YAAa,QAGfb,EAAa,MACbmB,EAA2B,MAC3B,MAAAlB,GAAAA,EAAgB,SAblBF,EAAapF,GACbqF,EAAa,QAkBjB,OADA7sB,OAAO1tB,iBAAiB,UAAWk9C,GAC5B,IAAMxvB,OAAOxO,oBAAoB,UAAWg+B,IAClD,CAAChI,EAAgB6F,EAAaE,UAAWX,EAAcC,IAG1D,MAQM4C,EAAuBpC,EAAaK,YACtC,IAAKL,EAAaK,YAAaziC,IAAI,GACnC,KAEJ,OACEmiB,EAAAA,KAAC,MAAA,CACC1mC,IAAKymD,EACLxsE,MAAO8mE,EACP7mE,OAAQ8mE,EACRtpD,UAAU,kCACVosB,MAAO,CAAE3Q,OAjBE,cAAToZ,GAAiC,gBAATA,GACnBo6B,EAAaE,UAAY,aAE3B,WAeLhX,YAAa0T,EACbzM,YAAa2M,EACbrS,UAAW6S,EACXC,aAAc,KACZD,IACAiD,EAAc,OAEhBnE,QAAS2F,EAGT5oD,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CACC3sD,EAAG,EACHC,EAAG,EACHH,MAAO8mE,EACP7mE,OAAQ8mE,EACRzlB,KAAK,UACL7jC,UAAU,qBAIX4uD,GAAoBa,EAAerpE,OAAS,GAC3CgpD,EAAAA,IAACyd,GAAA,CACCC,OAAQ2C,EACRpG,cACAC,eACAyD,kBACAC,aAAciE,EACdhE,WAAY6B,EACZ5B,iBAKJ9d,EAAAA,IAAC+Z,GAAA,CACCjhD,QACAkhD,iBACAC,cACAC,eACAC,mBACAC,eACAC,aACAC,YAAaC,IAId0H,GACCjiB,EAAAA,IAAC+Z,GAAA,CACCjhD,MAAO,CAACmpD,GACRjI,eAAgB,KAChBC,cACAC,eACAC,mBACAC,eACAC,eAKgB,OAAnBL,GAAoC,WAATv0B,GAC1Bua,EAAAA,IAAA6e,EAAAA,SAAA,CACG7lD,SAAAF,EACEhH,OAAQrG,GAAMA,EAAEgyB,KAAOu8B,GAAkC,WAAhBvuD,EAAE6vD,WAC3Cv9D,IAAKyW,GACJwrC,EAAAA,IAACqc,GAAA,CAEC7nD,OACAylD,cACAC,eACAoC,qBAAsByF,GAJjBvtD,EAAKipB,OAWnB+hC,GAAoBa,EAAerpE,OAAS,GAAc,WAATyuC,GAChDua,EAAAA,IAAC,IAAA,CAAEpvC,UAAU,oBACVoI,SAAAqnD,EAAetiE,IAAKggE,IACnB,MAAMC,EAASD,EAAMP,SAClBz/D,IAAK2vD,GAAM,GAAIA,EAAEr6D,EAAI,IAAO4mE,KAAgBvM,EAAEp6D,EAAI,IAAO4mE,KACzDnmD,KAAK,KACR,OACEisC,EAAAA,IAAC,UAAA,CAECge,SACAvpB,KAAK,cACLzX,MAAO,CAAE3Q,OAAQ,WACjB4vC,QAAUxhE,IACRA,EAAEs5D,kBACF8N,EAAiB9D,EAAMtgC,MANpB,SAASsgC,EAAMtgC,UAe7B0iC,IAAeN,EAAaE,YAAuB,cAATt6B,GAAiC,gBAATA,IACjEma,EAAAA,KAAC,IAAA,CAAE0d,cAAc,OAEftkD,SAAA,CAAAgnC,EAAAA,IAAC,SAAA,CACCpsD,GAAIusE,EAAW9sE,EACfQ,GAAIssE,EAAW7sE,EACfQ,EAAG,GACH2gD,KAAK,OACLD,OAAO,UACP6mB,YAAa,EACbvL,QAAS,KAGX9P,EAAAA,IAAC,SAAA,CACCpsD,GAAIusE,EAAW9sE,EACfQ,GAAIssE,EAAW7sE,EACfQ,EAAG,EACH2gD,KAAK,UACLD,OAAO,UACP6mB,YAAa,IAGfrb,EAAAA,IAAC,OAAA,CACCvU,GAAI00B,EAAW9sE,EAAI,GACnBm4C,GAAI20B,EAAW7sE,EACfs4C,GAAIu0B,EAAW9sE,EAAI,EACnB04C,GAAIo0B,EAAW7sE,EACfkhD,OAAO,UACP6mB,YAAa,EACbvL,QAAS,KAEX9P,EAAAA,IAAC,OAAA,CACCvU,GAAI00B,EAAW9sE,EAAI,EACnBm4C,GAAI20B,EAAW7sE,EACfs4C,GAAIu0B,EAAW9sE,EAAI,GACnB04C,GAAIo0B,EAAW7sE,EACfkhD,OAAO,UACP6mB,YAAa,EACbvL,QAAS,KAEX9P,EAAAA,IAAC,OAAA,CACCvU,GAAI00B,EAAW9sE,EACfm4C,GAAI20B,EAAW7sE,EAAI,GACnBs4C,GAAIu0B,EAAW9sE,EACf04C,GAAIo0B,EAAW7sE,EAAI,EACnBkhD,OAAO,UACP6mB,YAAa,EACbvL,QAAS,KAEX9P,EAAAA,IAAC,OAAA,CACCvU,GAAI00B,EAAW9sE,EACfm4C,GAAI20B,EAAW7sE,EAAI,EACnBs4C,GAAIu0B,EAAW9sE,EACf04C,GAAIo0B,EAAW7sE,EAAI,GACnBkhD,OAAO,UACP6mB,YAAa,EACbvL,QAAS,QAMd+P,EAAaG,YAAcH,EAAaE,WACvC/f,EAAAA,IAAC,SAAA,CACCpsD,GAAIisE,EAAaG,WAAW3sE,EAC5BQ,GAAIgsE,EAAaG,WAAW1sE,EAC5BQ,EAAG,EACH2gD,KAAK,UACLD,OAAO,UACP6mB,YAAa,EACbiC,cAAc,SAKjBuC,EAAaI,cAAgBJ,EAAaE,WACzC/f,EAAAA,IAAC,SAAA,CACCpsD,GAAIisE,EAAaI,aAAa5sE,EAC9BQ,GAAIgsE,EAAaI,aAAa3sE,EAC9BQ,EAAG,EACH2gD,KAAK,UACLD,OAAO,UACP6mB,YAAa,EACbiC,cAAc,aCljBX4E,GAAwF,CACnGC,SAAU,CAAEhvE,MAAO,KAAMC,OAAQ,KAAM8pC,MAAO,qBAC9CklC,UAAW,CAAEjvE,MAAO,KAAMC,OAAQ,KAAM8pC,MAAO,sBAC/CmlC,OAAQ,CAAElvE,MAAO,IAAMC,OAAQ,IAAM8pC,MAAO,kBAC5ColC,QAAS,CAAEnvE,MAAO,IAAKC,OAAQ,IAAO8pC,MAAO,sBAC7CqlC,SAAU,CAAEpvE,MAAO,KAAMC,OAAQ,KAAM8pC,MAAO,YAC9CslC,cAAe,CAAErvE,MAAO,KAAMC,OAAQ,KAAM8pC,MAAO,gBACnDulC,aAAc,CAAEtvE,MAAO,KAAMC,OAAQ,KAAM8pC,MAAO,wBAUvCwlC,GAAiC,CAC5C,CAAEjlC,GAAI,OAAQzoC,KAAM,YAAa8jB,MAAO,IACxC,CACE2kB,GAAI,eACJzoC,KAAM,SACN8jB,MAAO,CACL,CAAEwiD,UAAW,WAAYZ,QAAS,EAAGE,QAAS,GAAIE,MAAO,IAAKE,MAAO,MAGzE,CACEv9B,GAAI,aACJzoC,KAAM,YACN8jB,MAAO,CACL,CAAEwiD,UAAW,WAAYZ,QAAS,GAAIE,QAAS,EAAGE,MAAO,GAAIE,MAAO,OAGxE,CACEv9B,GAAI,SACJzoC,KAAM,SACN8jB,MAAO,CACL,CAAEwiD,UAAW,WAAYZ,QAAS,GAAIE,QAAS,EAAGE,MAAO,GAAIE,MAAO,KACpE,CAAEM,UAAW,WAAYZ,QAAS,EAAGE,QAAS,GAAIE,MAAO,IAAKE,MAAO,MAGzE,CACEv9B,GAAI,eACJzoC,KAAM,SACN8jB,MAAO,CACL,CAAEwiD,UAAW,WAAYZ,QAAS,EAAGE,QAAS,GAAIE,MAAO,IAAKE,MAAO,IACrE,CAAEM,UAAW,WAAYZ,QAAS,EAAGE,QAAS,GAAIE,MAAO,IAAKE,MAAO,MAGzE,CACEv9B,GAAI,SACJzoC,KAAM,SACN8jB,MAAO,CACL,CAAEwiD,UAAW,WAAYZ,QAAS,GAAIE,QAAS,EAAGE,MAAO,GAAIE,MAAO,KACpE,CAAEM,UAAW,WAAYZ,QAAS,EAAGE,QAAS,GAAIE,MAAO,IAAKE,MAAO,IACrE,CAAEM,UAAW,WAAYZ,QAAS,EAAGE,QAAS,GAAIE,MAAO,IAAKE,MAAO,MAGzE,CACEv9B,GAAI,iBACJzoC,KAAM,WACN8jB,MAAO,CACL,CAAEwiD,UAAW,WAAYZ,QAAS,EAAGE,QAAS,EAAGE,MAAO,IAAKE,MAAO,OAGxE,CACEv9B,GAAI,cACJzoC,KAAM,OACN8jB,MAAO,CACL,CACEwiD,UAAW,SACXZ,QAAS,EACTE,QAAS,GACTE,MAAO,IACPE,MAAO,GACPa,WAAY,GACZC,WAAY,GACZC,WAAY,GACZC,WAAY,OAyCd2G,GAAa,CACjB5iB,QAAS,MACTD,aAAc,EACdD,OAAQ,OACRxzB,OAAQ,UACR4Q,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChBlE,WAAY,kBAGDmE,GAAkBC,EAAAA,WAAqD,EAClFjqD,QACAkqD,cACA3I,aACA4I,qBACAC,mBACAhE,eACAC,eACAC,eACA+D,kBACAC,sBACAC,qBACAC,sBACAC,oBACAC,UACA7F,gBAAiB8B,EACjBH,gBACAC,mBACAkE,oBAAmB,EACnB3F,eACA4F,iBACAC,kBACA3qD,YACCE,WACD,MAAOusB,EAAMm+B,GAAWpH,EAAAA,SAAsB,WACvCxC,EAAgB6J,GAAqBrH,EAAAA,SAAwB,OAC7DsH,EAAeC,GAAoBvH,EAAAA,UAAS,IAC5CwH,EAAcC,GAAmBzH,EAAAA,UAAS,GAC3C0H,EAAqBtE,EAAAA,OAAuB,MAG5CjC,EAAkB8B,EAIlB0E,EAAoBjC,GAAoBc,IAAgBd,GAAoBC,SAC5EiC,EAAkBV,GAAkB,IACpCW,EAAmBV,GAAmB,IAEtCW,EAAanX,EAAAA,QAAQ,KACzB,MAAMoX,EAAcJ,EAAkBhxE,MAAQgxE,EAAkB/wE,OAChE,IAAIoxE,EACAC,EAUJ,OARIF,EAAcH,EAAkBC,GAClCG,EAAeJ,EACfK,EAAgBL,EAAkBG,IAElCE,EAAgBJ,EAChBG,EAAeH,EAAmBE,GAG7B,CAAEpxE,MAAOqxE,EAAcpxE,OAAQqxE,IACrC,CAACN,EAAmBC,EAAiBC,IAGxCK,EAAAA,oBAAoBxrD,EAAK,KAAA,CACvByrD,cAAe,WAAM,OAAA,OAAA5zC,EAAAmzC,EAAmB7Z,cAAnB,EAAAt5B,EAA4BlR,0BAA2B,MAC5E+kD,cAAe,IAAMN,IACnB,CAACA,IAEL,MAAMO,EAAmB3X,cAAasN,IACpCqJ,EAAkBrJ,IACjB,IAEGsK,EAAsB5X,EAAAA,YACzB6X,IACC,IAAKvB,EAAS,QAEqB,IAAjB1qD,EAAM9hB,QAAgBw7C,OAAOwyB,QAC7C,8DAIA7B,EAAgB4B,GAChBhB,GAAiB,KAGrB,CAACjrD,EAAM9hB,OAAQmsE,EAAiBK,IAG5ByB,EAAuB/X,EAAAA,YAAY,KAChB,OAAnB8M,IACFoF,EAAapF,GACb6J,EAAkB,QAEnB,CAAC7J,EAAgBoF,IAEpB,OACExf,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ22B,cAAe,SAAUxgE,OAAQ,OAAQD,MAAO,QAE5E6lB,SAAA,CAAAwqD,GACC5jB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLC,QAAS,OACT2lC,WAAY,SACZvU,IAAK,EACLtO,QAAS,WACThf,WAAY,UACZmkC,aAAc,oBACdplB,aAAc,eAIhB9mC,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,GACxDr1C,SAAA,CAAAgnC,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAM2H,EAAQ,UACvB5mC,MAAO,IACF2lC,GACH5hC,WAAqB,WAAT0E,EAAoB,UAAY,UAC5CtE,MAAgB,WAATsE,EAAoB,OAAS,WAEtC0/B,MAAM,SAENnsD,SAAAgnC,EAAAA,IAACltD,EAAA,CAAauE,KAAM,OAEtB2oD,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAM2H,EAAQ,aACvB5mC,MAAO,IACF2lC,GACH5hC,WAAqB,cAAT0E,EAAuB,UAAY,UAC/CtE,MAAgB,cAATsE,EAAuB,OAAS,WAEzC0/B,MAAM,YAENnsD,SAAAgnC,EAAAA,IAACxsD,EAAA,CAAO6D,KAAM,OAEhB2oD,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAM2H,EAAQ,eACvB5mC,MAAO,IACF2lC,GACH5hC,WAAqB,gBAAT0E,EAAyB,UAAY,UACjDtE,MAAgB,gBAATsE,EAAyB,OAAS,WAE3C0/B,MAAM,aAENnsD,SAAAgnC,EAAAA,IAACrsD,EAAA,CAAO0D,KAAM,UAIlB2oD,EAAAA,IAAC,MAAA,CAAIhjB,MAAO,CAAE7pC,MAAO,EAAGC,OAAQ,GAAI2tC,WAAY,aAGhD6e,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,GACxDr1C,SAAA,CAAAgnC,EAAAA,IAAC,SAAA,CACCic,QAAS,KAAQ8H,GAAkBD,GAAgBG,GAAgB,IACnEjnC,MAAO,IACF2lC,GACH5hC,WAAY+iC,EAAgB,UAAY,UACxC3iC,MAAO2iC,EAAgB,OAAS,WAElCqB,MAAM,YAENnsD,SAAAgnC,EAAAA,IAAColB,EAAA,CAAQ/tE,KAAM,OAEjB2oD,EAAAA,IAAC,SAAA,CACCic,QAAS,KAAQgI,GAAiBD,GAAeD,GAAiB,IAClE/mC,MAAO,IACF2lC,GACH5hC,WAAYijC,EAAe,UAAY,UACvC7iC,MAAO6iC,EAAe,OAAS,WAEjCmB,MAAM,WAENnsD,SAAAgnC,EAAAA,IAACqlB,EAAA,CAAShuE,KAAM,UAKA,OAAnB2iE,GACCpa,EAAAA,KAAAif,EAAAA,SAAA,CACE7lD,SAAA,CAAAgnC,EAAAA,IAAC,MAAA,CAAIhjB,MAAO,CAAE7pC,MAAO,EAAGC,OAAQ,GAAI2tC,WAAY,aAChDif,EAAAA,IAAC,SAAA,CACCic,QAASgJ,EACTjoC,MAAO,IACF2lC,GACH5hC,WAAY,UACZI,MAAO,QAETgkC,MAAM,cAENnsD,SAAAgnC,EAAAA,IAACslB,EAAA,CAAOjuE,KAAM,UAMpBuoD,EAAAA,KAAC,OAAA,CAAK5iB,MAAO,CAAE4c,WAAY,OAAQqG,SAAU,GAAI9e,MAAO,WACrDnoB,SAAA,CAAS,WAATysB,GAAqB,eACZ,cAATA,GAAwB,eACf,gBAATA,GAA0B,uBAMhCu+B,GAAgBR,GACf5jB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACL+iB,QAAS,GACThf,WAAY,UACZmkC,aAAc,qBAGhBlsD,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ4lC,eAAgB,gBAAiBD,WAAY,SAAU5vB,aAAc,IAClGh6B,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CAAKhjB,MAAO,CAAEmE,MAAO,UAAW6P,WAAY,IAAKiP,SAAU,IAAMjnC,SAAA,kBAClEgnC,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAMgI,GAAgB,GAC/BjnC,MAAO,IAAK2lC,GAAY5iB,QAAS,EAAGhf,WAAY,cAAeI,MAAO,WAEtEnoB,SAAAgnC,EAAAA,IAACulB,EAAA,CAAEluE,KAAM,UAGbuoD,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQuoC,oBAAqB,UAAWnX,IAAK,IAElEr1C,SAAA,CAAA4mC,OAAC,MAAA,CACC5mC,SAAA,GAAAgnC,IAAC,QAAA,CAAMhjB,MAAO,CAAEC,QAAS,QAASgjB,SAAU,GAAI9e,MAAO,UAAW6R,aAAc,GAAKh6B,SAAA,cAGrFgnC,EAAAA,IAAC,SAAA,CACCppD,MAAOosE,EACPrkB,SAAWlkD,GAAM2oE,EAAoB3oE,EAAE8a,OAAO3e,OAC9ComC,MAAO,CACL7pC,MAAO,OACP4sD,QAAS,UACThf,WAAY,UACZ8e,OAAQ,oBACRC,aAAc,EACd3e,MAAO,UACP8e,SAAU,IAGXjnC,gBAAOpgB,QAAQspE,IAAqBnkE,IAAI,EAAE9K,EAAKyvB,WAC7C,SAAA,CAAiB9rB,MAAO3D,EACtB+lB,SAAA0J,EAAOwa,OADGjqC,gBAQlB,MAAA,CACC+lB,SAAA,CAAA4mC,EAAAA,KAAC,QAAA,CAAM5iB,MAAO,CAAEC,QAAS,QAASgjB,SAAU,GAAI9e,MAAO,UAAW6R,aAAc,GAAKh6B,SAAA,CAAA,cACvEiqD,EAAmBwC,QAAQ,GAAG,OAE5CzlB,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACL0Y,IAAI,MACJmQ,IAAI,IACJ8hD,KAAK,MACL9uE,MAAOqsE,EACPtkB,SAAWlkD,GAAM6oE,EAAoBpyB,WAAWz2C,EAAE8a,OAAO3e,QACzDomC,MAAO,CAAE7pC,MAAO,OAAQwyE,YAAa,uBAKxC,MAAA,CACC3sD,SAAA,GAAAgnC,IAAC,QAAA,CAAMhjB,MAAO,CAAEC,QAAS,QAASgjB,SAAU,GAAI9e,MAAO,UAAW6R,aAAc,GAAKh6B,SAAA,eAGrF4mC,OAAC,OAAI5iB,MAAO,CAAEC,QAAS,OAAQoxB,IAAK,IAClCr1C,SAAA,GAAA4mC,KAAC,QAAA,CAAM5iB,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,EAAGhiC,OAAQ,UAAW4zB,SAAU,GAAI9e,MAAO,WACrGnoB,SAAA,CAAAgnC,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACL6qE,QAASvL,EACT1b,SAAU,IAAM0kB,GAAmB,GACnCrmC,MAAO,CAAE2oC,YAAa,aACtB,gBAGH,QAAA,CAAM3oC,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,EAAGhiC,OAAQ,UAAW4zB,SAAU,GAAI9e,MAAO,WACrGnoB,SAAA,CAAAgnC,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACL6qE,SAAUvL,EACV1b,SAAU,IAAM0kB,GAAmB,GACnCrmC,MAAO,CAAE2oC,YAAa,aACtB,yBAOP,MAAA,CACC3sD,SAAA,GAAAgnC,IAAC,QAAA,CAAMhjB,MAAO,CAAEC,QAAS,QAASgjB,SAAU,GAAI9e,MAAO,UAAW6R,aAAc,GAAKh6B,SAAA,UAGrFgnC,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACLnE,MAAOssE,EACPvkB,SAAWlkD,GAAM8oE,EAAkB9oE,EAAE8a,OAAO3e,OAC5ComC,MAAO,CACL7pC,MAAO,OACPC,OAAQ,GACR2sD,QAAS,EACTF,OAAQ,oBACRC,aAAc,EACdzzB,OAAQ,UACR0U,WAAY,0BASvB+iC,GAAiBN,GAChB5jB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACL+iB,QAAS,GACThf,WAAY,UACZmkC,aAAc,qBAGhBlsD,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ4lC,eAAgB,gBAAiBD,WAAY,SAAU5vB,aAAc,IAClGh6B,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CAAKhjB,MAAO,CAAEmE,MAAO,UAAW6P,WAAY,IAAKiP,SAAU,IAAMjnC,SAAA,kBAClEgnC,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAM8H,GAAiB,GAChC/mC,MAAO,IAAK2lC,GAAY5iB,QAAS,EAAGhf,WAAY,cAAeI,MAAO,WAEtEnoB,SAAAgnC,EAAAA,IAACulB,EAAA,CAAEluE,KAAM,YAGb2oD,IAAC,MAAA,CAAIhjB,MAAO,CAAEC,QAAS,OAAQuoC,oBAAqB,iBAAkBnX,IAAK,GACxEr1C,SAAA0pD,GAAe3kE,IAAKgnE,GACnBnlB,EAAAA,KAAC,SAAA,CAECqc,QAAS,IAAM6I,EAAoBC,GACnC/nC,MAAO,CACL+iB,QAAS,EACThf,WAAY,UACZ8e,OAAQ,oBACRC,aAAc,EACdzzB,OAAQ,UACRsyC,WAAY,kBAEdkH,YAAcprE,IACZA,EAAEoiE,cAAc7/B,MAAM8oC,YAAc,UACpCrrE,EAAEoiE,cAAc7/B,MAAM+D,WAAa,WAErCglC,WAAatrE,IACXA,EAAEoiE,cAAc7/B,MAAM8oC,YAAc,UACpCrrE,EAAEoiE,cAAc7/B,MAAM+D,WAAa,WAIrC/nB,SAAA,CAAAgnC,EAAAA,IAAC,MAAA,CACChjB,MAAO,CACL7pC,MAAO,OACPoxE,YAAa,SACbxjC,WAAY,OACZ+e,aAAc,EACd9M,aAAc,EACdgzB,SAAU,UAGZhtD,SAAA4mC,EAAAA,KAAC,MAAA,CAAIqmB,QAAQ,cAAcjpC,MAAO,CAAE7pC,MAAO,OAAQC,OAAQ,QACzD4lB,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CAAK3sD,EAAE,IAAIC,EAAE,IAAIH,MAAM,MAAMC,OAAO,MAAMqhD,KAAK,SAC/CswB,EAASjsD,MAAM/a,IAAI,CAACyW,EAAMhJ,IACzBw0C,EAAAA,IAAC,OAAA,CAECvU,GAAIj3B,EAAKkmD,QACTlvB,GAAIh3B,EAAKomD,QACThvB,GAAIp3B,EAAKsmD,MACT/uB,GAAIv3B,EAAKwmD,MACTxmB,OAAO,UACP6mB,YAAY,KANP7vD,SAWbw0C,EAAAA,IAAC,OAAA,CAAKhjB,MAAO,CAAEijB,SAAU,GAAI9e,MAAO,WACjCnoB,SAAA+rD,EAAS/vE,SA9CP+vE,EAAStnC,UAuDxBuiB,EAAAA,IAAC,MAAA,CACChjB,MAAO,CACLuyB,KAAM,EACNtyB,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChB9iB,QAAS,GACThf,WAAY,UACZilC,SAAU,SACVtV,SAAU,EACVC,UAAW,GAGb33C,SAAA4mC,EAAAA,KAAC,MAAA,CACC1mC,IAAKgrD,EACLlnC,MAAO,CACLjP,SAAU,WACV+xB,aAAc,EACdomB,UAAW,wDACXF,SAAU,SACV7yE,MAAOmxE,EAAWnxE,MAClBC,OAAQkxE,EAAWlxE,OACnB89D,SAAU,OACVC,UAAW,OACXsE,WAAY,GAGdz8C,SAAA,CAAAgnC,EAAAA,IAACif,GAAA,CACCnmD,QACAmhD,YAAaqK,EAAWnxE,MACxB+mE,aAAcoK,EAAWlxE,OACzBqyC,KAAM+9B,EAAU/9B,EAAO,SACvB00B,iBAAkB8I,EAClB7I,aAAc8I,EACd7I,aACAL,iBACAkF,eACAC,eACAC,eACAC,aAAcwF,EACdrF,kBAAkB,EAClB7B,kBACA2B,gBACAC,mBACAG,gBAAiB+D,EACjB3F,iBAGD9kD,OAKL4mC,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLC,QAAS,OACT2lC,WAAY,SACZC,eAAgB,gBAChB9iB,QAAS,WACThf,WAAY,UACZolC,UAAW,oBACXrmB,aAAc,cACdG,SAAU,GACV9e,MAAO,WAGTnoB,SAAA,CAAA4mC,OAAC,OAAA,CACE5mC,SAAA,CAAAF,EAAM9hB,OAAO,QAAuB,IAAjB8hB,EAAM9hB,OAAe,IAAM,GAAG,OAAI,OAAA+5B,EAAAmxC,GAAoBc,SAApB,EAAAjyC,EAAkCmM,QAAS,cAEnG8iB,IAAC,QAAKhnC,SAAA,2BASd8pD,GAAgB1jB,YAAc,kBC7iB9B,MAAMgnB,GAAuD,CAC3D,CAAExvE,MAAO,OAAQsmC,MAAO,UACxB,CAAEtmC,MAAO,UAAWsmC,MAAO,WAC3B,CAAEtmC,MAAO,QAASsmC,MAAO,SACzB,CAAEtmC,MAAO,YAAasmC,MAAO,aAC7B,CAAEtmC,MAAO,UAAWsmC,MAAO,WAC3B,CAAEtmC,MAAO,UAAWsmC,MAAO,YAUvBmpC,GAAmC,CACvC,CACE5oC,GAAI,OACJzoC,KAAM,YACN0oE,OAAQ,CAAC,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,MAEnC,CACE9oC,GAAI,eACJzoC,KAAM,eACN0oE,OAAQ,CACN,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACxB,CAAElzE,EAAG,EAAGC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,MAG7B,CACE9oC,GAAI,aACJzoC,KAAM,aACN0oE,OAAQ,CACN,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACxB,CAAElzE,EAAG,GAAIC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,MAG7B,CACE9oC,GAAI,SACJzoC,KAAM,SACN0oE,OAAQ,CACN,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACxB,CAAElzE,EAAG,GAAIC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACzB,CAAElzE,EAAG,EAAGC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,IACzB,CAAElzE,EAAG,GAAIC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,MAG9B,CACE9oC,GAAI,eACJzoC,KAAM,eACN0oE,OAAQ,CACN,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACxB,CAAElzE,EAAG,EAAGC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,IACzB,CAAElzE,EAAG,EAAGC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,MAG7B,CACE9oC,GAAI,aACJzoC,KAAM,aACN0oE,OAAQ,CAEN,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACxB,CAAElzE,EAAG,GAAIC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,IAC1B,CAAElzE,EAAG,GAAIC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,MAG9B,CACE9oC,GAAI,UACJzoC,KAAM,UACN0oE,OAAQ,CACN,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACxB,CAAElzE,EAAG,GAAIC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACzB,CAAElzE,EAAG,EAAGC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,MAG7B,CACE9oC,GAAI,SACJzoC,KAAM,cACN0oE,OAAQ,CACN,CAAErqE,EAAG,EAAGC,EAAG,EAAGgzE,EAAG,GAAIC,EAAG,IACxB,CAAElzE,EAAG,EAAGC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,IACzB,CAAElzE,EAAG,GAAIC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,IAC1B,CAAElzE,EAAG,GAAIC,EAAG,GAAIgzE,EAAG,GAAIC,EAAG,OAuHhC,SAAwBC,IAAyBC,QAC/CA,EAAAC,YACAA,EAAAC,gBACAA,gBAGA,MAAOC,EAAOC,GAAYrK,EAAAA,SAAsB,KACzCsK,EAAmBC,GAAwBvK,EAAAA,SAAS,IACpDmB,EAAiBqJ,GAAsBxK,EAAAA,SAAwB,OAC/DyK,EAAyBC,GAA8B1K,EAAAA,SAAwB,OAC/E6D,EAAgBC,GAAqB9D,EAAAA,SAAiE,KACtG2K,EAAiBC,GAAsB5K,EAAAA,SAA8B,IAAI7/D,MACzE0qE,EAAkBC,GAAuB9K,EAAAA,SAAwB,OACjE/2B,EAAMm+B,GAAWpH,EAAAA,SAAqB,WACtC+K,EAASC,GAAchL,EAAAA,UAAS,IAChCiL,EAAQC,GAAalL,EAAAA,UAAS,IAC9BvhD,EAAO0sD,GAAYnL,EAAAA,SAAS,KAC5BoL,EAAeC,GAAoBrL,EAAAA,SAAqB,SACxDsH,EAAeC,GAAoBvH,EAAAA,UAAS,IAC5CsL,EAAWC,GAAgBvL,EAAAA,SAAsB,OAGjDwL,GAAQC,IAAazL,EAAAA,SAA+B,KACpD0L,GAAiBC,IAAsB3L,EAAAA,SAAwB,OAC/D4L,GAAmBC,IAAwB7L,EAAAA,UAAS,IACpD8L,GAAeC,IAAoB/L,EAAAA,UAAS,IAC5CgM,GAAgBC,IAAqBjM,EAAAA,SAAwB,OAC7DkM,GAAmBC,IAAwBnM,EAAAA,SAAS,IAErDoM,GAAYhJ,EAAAA,OAAuB,MACnCiJ,GAAejJ,EAAAA,OAAyB,MACxCkJ,GAAgBlJ,EAAAA,OAA2B,MAG3CmJ,GAAiBnJ,EAAAA,QAAO,GACxBoJ,GAAgBpJ,EAAAA,OAAsB,MAGtCqJ,GAA0BrJ,EAAAA,QAAO,GACjCsJ,GAAoBtJ,EAAAA,QAAO,IAG1BuJ,GAAkBC,IAAuB5M,EAAAA,SAAS,CAAErpE,MAAO,EAAGC,OAAQ,IAGvE8wE,GAAqBtE,EAAAA,OAAuB,OAC3CyJ,GAAsBC,IAA2B9M,EAAAA,SAAS,CAAErpE,MAAO,IAAKC,OAAQ,OAIhFm2E,GAAkBC,IAAuBhN,EAAAA,SAAS,CAAErpE,MAAO,IAAKC,OAAQ,OAGxEq2E,GAAQC,IAAalN,EAAAA,SAGzB,CAAEmN,SAAU,GAAIC,WAAY,MAGxBC,GAAiBC,IAAsBtN,EAAAA,SAAwB,MAIhEuN,IADgBtD,EAAQuD,eAAiB,IACT38D,KAAM1B,GAAMA,EAAEs+D,OAASvD,EAAYjpC,IAInEysC,IAH0C,iBAAvBzD,EAAQ0D,WAC5B,OAAAp5C,EAAA01C,EAAQ0D,iBAAR,EAAAp5C,EAA4B0M,GAC7BgpC,EAAQ0D,cACoBzD,EAAYjpC,GACtC2sC,GAAgBF,KACpB,OAAAhvB,EAAA,MAAA6uB,QAAA,EAAAA,GAAiBM,mBAAU7R,SAAS,YACC,WAArCuR,aAAiBO,iBACbC,GAAcL,KAClB,OAAA/uB,EAAA,MAAA4uB,QAAA,EAAAA,GAAiBM,mBAAU7R,SAAS,WACD,WAAnCuR,aAAiBS,eAGbC,GAAc7D,EAAME,GAG1BrG,EAAAA,UAAU,KAEJyI,GAAkB7e,SAAW4e,GAAwB5e,SAGzDqgB,MACC,CAACjE,EAAQhpC,KAEZ,MAAMitC,GAAqBC,UAEzB,IAAI1B,GAAwB5e,QAA5B,CAIA4e,GAAwB5e,SAAU,EAElCmd,GAAW,GACXG,EAAS,IACT,IAEE,MAAMiD,QAAqBC,EAAiBC,eAAe,CAAErE,QAASA,EAAQhpC,KAG9E,GAFAwqC,GAAU2C,GAENA,EAAa5zE,OAAS,EAAG,CAE3B,MAAM+zE,EAAeH,EAAa,GAAGntC,GACrC0qC,GAAmB4C,SAEbC,GAAkBD,EAC1B,KAAO,CAEL,MAAME,QAAiBJ,EAAiBK,iBAAiB,CACvDzE,QAASA,EAAQhpC,GACjB0nC,MAAO,WACPgG,aAAc,IAEhBlD,GAAU,CAAC,IAAKgD,EAAUG,WAAY,KACtCjD,GAAmB8C,EAASxtC,IAE5B,MAAM4tC,QAAgBR,EAAiBS,gBAAgB,CACrDC,MAAON,EAASxtC,KAElBopC,EAAS,CAAC,IAAKwE,EAAS3N,OAAQ2N,EAAQ3N,QAAU,KACpD,CACAwL,GAAkB7e,SAAU,CAC9B,OAASv1D,GACP6yE,EAAS7yE,EAAI2N,SAAW,8BAElB+oE,IACR,CAAA,QACEhE,GAAW,GACXyB,GAAwB5e,SAAU,CACpC,CAvCA,GA0CI2gB,GAAoBL,MAAOc,IAC/B,IACE,MACMC,SADoBb,EAAiBc,mBAAmBF,IACtB,IAAI1tE,IAAK6tE,IAAA,IAC5CA,EACHlO,OAAQkO,EAAKlO,QAAU,MASzB,GAPAmJ,EAAS6E,GACT3E,EAAqB,GACrBC,EAAmB,MACnBE,EAA2B,MAC3BI,EAAoB,MAEpBuE,GAAqBJ,EAASC,EAAgB10E,QACf,IAA3B00E,EAAgB10E,OAAc,CAEhC,MAAMq0E,QAAgBR,EAAiBS,gBAAgB,CACrDC,MAAOE,IAET5E,EAAS,CAAC,IAAKwE,EAAS3N,OAAQ2N,EAAQ3N,QAAU,MAClDmO,GAAqBJ,EAAS,EAChC,CACF,OAAS32E,GAEP6yE,EAAS7yE,EAAI2N,SAAW,uBAC1B,GAgEIqpE,GAAuBnB,UAC3B,GAAKnC,IAAmBE,GAAkBttD,OAI1C,UACQyvD,EAAiBkB,iBAAiBvD,GAAgB,CAAErD,MAAOuD,GAAkBttD,SAEnF6sD,GAAUD,GAAOjqE,IAAIwtE,GACnBA,EAAM9tC,KAAO+qC,GACT,IAAK+C,EAAOpG,MAAOuD,GAAkBttD,QACrCmwD,GAER,OAASz2E,GACP6yE,EAAS7yE,EAAI2N,SAAW,+BAC1B,CAAA,QACEgmE,GAAkB,KACpB,MAfEA,GAAkB,OAmBhBoD,GAAuB,CAACJ,EAAiBO,KAC7C/D,MAAwBgE,EAAWluE,IAAIwtE,GACrCA,EAAM9tC,KAAOguC,EACT,IAAKF,EAAOH,WAAYY,GACxBT,KAKFW,GAAelE,GAAO36D,KAAM7B,GAAMA,EAAEiyB,KAAOyqC,IAI3CiE,GAAsBvM,EAAAA,OAAOuJ,IACnCgD,GAAoB9hB,QAAU8e,GAE9B1I,EAAAA,UAAU,KACR,IAAI2L,EAAmC,KAEvC,MAAMC,EAAmB,KACvB,GAAIzD,GAAUve,QAAS,CACrB,MAAM57B,EAAOm6C,GAAUve,QAAQxqC,wBACzBqyC,EAAWzjC,EAAKt7B,MAChBg/D,EAAY1jC,EAAKr7B,OAIjBk5E,EAAY94D,KAAK46C,IAAI8D,EAAWia,GAAoB9hB,QAAQl3D,OAC5Do5E,EAAa/4D,KAAK46C,IAAI+D,EAAYga,GAAoB9hB,QAAQj3D,SAE1B,IAAtC+4E,GAAoB9hB,QAAQl3D,OAAem5E,EAAY,GAAKC,EAAa,IAC3EnD,GAAoB,CAAEj2E,MAAO++D,EAAU9+D,OAAQ++D,GAEnD,GAGIqa,EAAkB,KAClBJ,GACFjzB,aAAaizB,GAEfA,EAAY1/C,WAAW2/C,EAAkB,MAI3CA,IAEA,MAAMI,EAAiB,IAAIC,eAAeF,GAM1C,OALI5D,GAAUve,SACZoiB,EAAe3lC,QAAQ8hC,GAAUve,SAGnC7X,OAAO1tB,iBAAiB,SAAU0nD,GAC3B,KACDJ,GACFjzB,aAAaizB,GAEfK,EAAe1lC,aACfyL,OAAOxO,oBAAoB,SAAUwoC,KAEtC,IAGH/L,EAAAA,UAAU,KACR,MAAMkM,EAAuB,KAC3B,GAAIzI,GAAmB7Z,QAAS,CAC9B,MAAM57B,EAAOy1C,GAAmB7Z,QAAQxqC,wBAElC+sD,EAAiBp5D,KAAKoQ,IAAI,IAAK6K,EAAKt7B,MAAQ,IAC5C05E,EAAkBr5D,KAAKoQ,IAAI,IAAK6K,EAAKr7B,OAAS,IACpDk2E,GAAwB,CAAEn2E,MAAOy5E,EAAgBx5E,OAAQy5E,GAC3D,GAIFF,IAGA,MAAMF,EAAiB,IAAIC,eAAeC,GAM1C,OALIzI,GAAmB7Z,SACrBoiB,EAAe3lC,QAAQo9B,GAAmB7Z,SAG5C7X,OAAO1tB,iBAAiB,SAAU6nD,GAC3B,KACLF,EAAe1lC,aACfyL,OAAOxO,oBAAoB,SAAU2oC,KAEtC,IAIHlM,EAAAA,UAAU,KACR,MAAMqM,EAAmB,WACvB,MAAMz1E,EAAO,OAAA05B,EAAA+3C,GAAcze,gBAAdt5B,EAAuB6zC,gBAChCvtE,GAAQA,EAAKlE,MAAQ,GAAKkE,EAAKjE,OAAS,GAE1Co2E,GAAoBtgD,GACd1V,KAAK46C,IAAIllC,EAAK/1B,MAAQkE,EAAKlE,OAAS,GAAKqgB,KAAK46C,IAAIllC,EAAK91B,OAASiE,EAAKjE,QAAU,EAC1E,CAAED,MAAOkE,EAAKlE,MAAOC,OAAQiE,EAAKjE,QAEpC81B,IAMb4jD,IACA,MAAMC,EAAaC,YAAYF,EAAkB,KAEjD,MAAO,IAAMG,cAAcF,IAC1B,CAAC,MAAAtC,QAAA,EAAAA,GAAahtC,GAAI4rC,KAGrB5I,EAAAA,UAAU,KACR,MAAMuB,EAAiBvnE,IAErB,IAAK4sE,IAAqBkD,IAAwB,SAAT9kC,EAAiB,OAG1D,MAAMlwB,EAAS9a,EAAE8a,OACM,UAAnBA,EAAOzF,SAA0C,aAAnByF,EAAOzF,UAE3B,WAAVrV,EAAExH,KAA8B,cAAVwH,EAAExH,MAC1BwH,EAAE69B,iBACF40C,GAAmB7F,MAKvB,OADA70B,OAAO1tB,iBAAiB,UAAWk9C,GAC5B,IAAMxvB,OAAOxO,oBAAoB,UAAWg+B,IAClD,CAACqF,EAAkBkD,GAAa9kC,IAEnC,MAAM+lC,GAAYb,UAChBnD,GAAW,GACXG,EAAS,IACT,IACE,MAEM+D,SAFoBb,EAAiBsC,cAAc1G,EAAQhpC,KAEzB,IAAI1/B,IAAK6tE,IAAA,IAC5CA,EACHlO,OAAQkO,EAAKlO,QAAU,MAGzB,GADAmJ,EAAS6E,GACsB,IAA3BA,EAAgB10E,OAAc,CAEhC,MAAMq0E,QAAgBR,EAAiBS,gBAAgB,CAAE7E,QAASA,EAAQhpC,KAC1EopC,EAAS,CAAC,IAAKwE,EAAS3N,OAAQ2N,EAAQ3N,QAAU,KACpD,CACF,OAAS5oE,GACP6yE,EAAS7yE,EAAI2N,SAAW,uBAC1B,CAAA,QACE+kE,GAAW,EACb,GAsOI4F,GAAoBzC,MAAO7I,IAC/B,GAAKsI,IAAkBK,IAClBzF,QAAQ,sBAAb,CAEA0C,GAAU,GACV,UACQmD,EAAiBwC,iBAAiBvL,GAExC,MAAMwL,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACH/M,OAAQ+M,GAAY/M,OAAO5rD,OAAQ3F,GAAMA,EAAEsxB,KAAOqkC,IAEpD+E,EAASyG,GACTtG,EAAmB,MACnBE,EAA2B,KAC7B,OAASpyE,GACP6yE,EAAS7yE,EAAI2N,SAAW,yBAC1B,CAAA,QACEilE,GAAU,EACZ,CAlBoC,GAwBhC6F,GAAqB/4D,IAAA,CACzBipB,GAAIjpB,EAAKipB,GACT69B,UAAW9mD,EAAK8mD,UAChBZ,QAASlmD,EAAKkmD,QACdE,QAASpmD,EAAKomD,QACdE,MAAOtmD,EAAKsmD,MACZE,MAAOxmD,EAAKwmD,MACZa,WAAYrnD,EAAKqnD,iBAAc,EAC/BC,WAAYtnD,EAAKsnD,iBAAc,EAC/BC,WAAYvnD,EAAKunD,iBAAc,EAC/BC,WAAYxnD,EAAKwnD,iBAAc,EAC/Bf,UAAWzmD,EAAKymD,gBAAa,EAC7B95B,MAAO3sB,EAAK2sB,YAAS,IAIjBqsC,GAAyCrgB,EAAAA,QAAQ,KAChD,MAAAsd,QAAA,EAAAA,GAAagD,eACXhD,GAAYgD,cAAc1vE,IAAIwvE,IADG,GAEvC,CAAC,MAAA9C,QAAA,EAAAA,GAAagD,gBAGXC,GAAc/b,IAClB,QAAY,IAARA,EACJ,OAAOn+C,KAAKo0C,MAAY,IAAN+J,GAAe,KAqN7Bgc,GAAqBlD,KAAgBA,GAAYmD,gBAAkB,IAAM,EAMzEpmB,GAAc5wD,GADF,EAET4c,KAAKo0C,MAAMhxD,EAFF,GAMZi3E,GAAkB3gB,EAAAA,YACtB,CAAC4U,EAAiBzuE,EAAWC,EAAWH,EAAeC,KACrD,IAAKq3E,IAA0C,IAA3BtB,GAAiBh2E,MAAa,OAElD,MAAM26E,EAAiB,GACjBC,EAA0D,CAC9DpE,SAAU,GACVC,WAAY,IAIRoE,EAAa36E,EAAIF,EACjB86E,EAAc36E,EAAIF,EAClB86E,EAAe76E,EAAIF,EAAQ,EAC3Bg7E,EAAe76E,EAAIF,EAAS,EAElCq3E,GAAY/M,OAAO37D,QAASlL,IAC1B,GAAIA,EAAM4mC,KAAOqkC,EAAS,OAG1B,MAAMsM,EAAUv3E,EAAMw3E,UAAY,IAAOlF,GAAiBh2E,MACpDm7E,EAAUz3E,EAAM03E,UAAY,IAAOpF,GAAiB/1E,OACpDo7E,EAAc33E,EAAM43E,cAAgB,IAAOtF,GAAiBh2E,MAC5Du7E,EAAe73E,EAAM83E,eAAiB,IAAOxF,GAAiB/1E,OAC9Dw7E,EAAaR,EAASI,EACtBK,EAAcP,EAASI,EACvBI,EAAeV,EAASI,EAAa,EACrCO,EAAeT,EAASI,EAAc,EAGxCl7D,KAAK46C,IAAI/6D,EAAI+6E,GAAUN,GAAgBC,EAAUpE,SAASlxE,KAAK21E,GAC/D56D,KAAK46C,IAAI/6D,EAAIu7E,GAAcd,GAAgBC,EAAUpE,SAASlxE,KAAKm2E,GACnEp7D,KAAK46C,IAAI4f,EAAaI,GAAUN,GAAgBC,EAAUpE,SAASlxE,KAAK21E,GACxE56D,KAAK46C,IAAI4f,EAAaY,GAAcd,GAAgBC,EAAUpE,SAASlxE,KAAKm2E,GAC5Ep7D,KAAK46C,IAAI8f,EAAeY,GAAgBhB,GAAgBC,EAAUpE,SAASlxE,KAAKq2E,GAGhFt7D,KAAK46C,IAAI96D,EAAIg7E,GAAUR,GAAgBC,EAAUnE,WAAWnxE,KAAK61E,GACjE96D,KAAK46C,IAAI96D,EAAIu7E,GAAef,GAAgBC,EAAUnE,WAAWnxE,KAAKo2E,GACtEr7D,KAAK46C,IAAI6f,EAAcK,GAAUR,GAAgBC,EAAUnE,WAAWnxE,KAAK61E,GAC3E96D,KAAK46C,IAAI6f,EAAcY,GAAef,GAAgBC,EAAUnE,WAAWnxE,KAAKo2E,GAChFr7D,KAAK46C,IAAI+f,EAAeY,GAAgBjB,GAAgBC,EAAUnE,WAAWnxE,KAAKs2E,KAIxFhB,EAAUpE,SAAW,IAAI,IAAIjhE,IAAIqlE,EAAUpE,WAC3CoE,EAAUnE,WAAa,IAAI,IAAIlhE,IAAIqlE,EAAUnE,aAE7CF,GAAUqE,IAEZ,CAACtD,GAAatB,KAIV6F,GAAc9hB,EAAAA,YAAY,KAC9Bwc,GAAU,CAAEC,SAAU,GAAIC,WAAY,KACtCE,GAAmB,OAClB,IAEGmF,GAA4B/hB,EAAAA,YAChCyd,MACE7I,EACAzuE,EACAC,EACAH,EACAC,aAEA,IAAKg3E,KAAkBK,GAAa,OAGpC,KACGlqD,OAAO4nB,SAAS90C,IAChBktB,OAAO4nB,SAAS70C,IAChBitB,OAAO4nB,SAASh1C,IAChBotB,OAAO4nB,SAAS/0C,IAGjB,OAIF,MAAM6mE,EAAckP,GAAiBh2E,QAAS,OAAA49B,EAAA63C,GAAUve,cAAV,EAAAt5B,EAAmBlR,wBAAwB1sB,QAAS,EAC5F+mE,EAAeiP,GAAiB/1E,SAAU,OAAA8nD,EAAA0tB,GAAUve,cAAV,EAAAnP,EAAmBr7B,wBAAwBzsB,SAAU,EAGrG,IAAI2pE,EAAWvpD,KAAKo0C,MAAOv0D,EAAI4mE,EAAe,KAAS,IACnD+C,EAAWxpD,KAAKo0C,MAAOt0D,EAAI4mE,EAAgB,KAAS,IACpDgV,EAAe17D,KAAKo0C,MAAOz0D,EAAQ8mE,EAAe,KAAS,IAC3DkV,EAAgB37D,KAAKo0C,MAAOx0D,EAAS8mE,EAAgB,KAAS,IAgBlE,GAbA6C,EAAWvV,GAAWuV,GACtBC,EAAWxV,GAAWwV,GACtBkS,EAAe1nB,GAAW0nB,GAC1BC,EAAgB3nB,GAAW2nB,GAI3BpS,EAAWvpD,KAAKoQ,KAAI,GAAKpQ,KAAKC,IAAI,IAAMy7D,EAAcnS,IACtDC,EAAWxpD,KAAKoQ,KAAI,GAAKpQ,KAAKC,IAAI,IAAM07D,EAAenS,IACvDkS,EAAe17D,KAAKoQ,IAAI,GAAIpQ,KAAKC,IAAI,IAAKy7D,IAC1CC,EAAgB37D,KAAKoQ,IAAI,GAAIpQ,KAAKC,IAAI,IAAK07D,MAIxC5uD,OAAO4nB,SAAS40B,IAChBx8C,OAAO4nB,SAAS60B,IAChBz8C,OAAO4nB,SAAS+mC,IAChB3uD,OAAO4nB,SAASgnC,IAGjB,OAIF,MAAM7B,EAAe,IAAI1G,GACnBwI,EAAa3E,GAAY/M,OAAO2R,UAAWljE,GAAMA,EAAEsxB,KAAOqkC,GAC5DsN,GAAc,IAChB9B,EAAaxG,GAAmBpJ,OAAO0R,GAAc,IAChD3E,GAAY/M,OAAO0R,GACtBf,UAAWtR,EACXwR,UAAWvR,EACXyR,cAAeS,EACfP,eAAgBQ,GAElBtI,EAASyG,IAIX0B,KAGA,UACQnE,EAAiByE,iBAAiBxN,EAAS,CAC/CuM,UAAWtR,EACXwR,UAAWvR,EACXyR,cAAeS,EACfP,eAAgBQ,GAEpB,OAASr6E,GAET,GAEF,CAAC8xE,EAAOE,EAAmB2D,GAAaL,GAAejB,GAAkB6F,KAIrEO,GAAsB5E,MAC1BlwE,EACAqnE,WAEA,IAAKsI,KAAkBK,GAAa,OACpC,MAAM+E,EAAO,OAAAz+C,EAAAt2B,EAAE8a,OAAOwvB,cAAThU,EAAiB,GAC9B,IAAKy+C,EAAM,OAIX,GADmB,CAAC,YAAa,aAAc,aAAc,aAC7ChX,SAASgX,EAAKz0E,MAI9B,GAAIy0E,EAAKn4E,KAAO,SACdswE,EAAS,oCADX,CAKAD,GAAU,GACVC,EAAS,IACT,IACE,MAAM8H,QAAqB5E,EAAiB6E,mBAAmB5N,EAAS0N,GAElElC,EAAe,IAAI1G,GACnBwI,EAAa3E,GAAY/M,OAAO2R,UAAWljE,GAAMA,EAAEsxB,KAAOqkC,GAC5DsN,GAAc,IAChB9B,EAAaxG,GAAmBpJ,OAAO0R,GAAcK,EACrD5I,EAASyG,GAEb,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,2BAC1B,CAAA,QACEilE,GAAU,GACNmB,GAAaxe,UAASwe,GAAaxe,QAAQzzD,MAAQ,GACzD,CAlBA,MANE+wE,EAAS,iDAsHPgI,GAAyB,CAC7BC,EACAC,KAEA,MAAMpkC,EAAKj4B,KAAKoQ,IAAIgsD,EAAQv8E,EAAGw8E,EAAQx8E,GACjCm4C,EAAKh4B,KAAKoQ,IAAIgsD,EAAQt8E,EAAGu8E,EAAQv8E,GACjCs4C,EAAKp4B,KAAKC,IAAIm8D,EAAQv8E,EAAIu8E,EAAQz8E,MAAO08E,EAAQx8E,EAAIw8E,EAAQ18E,OAC7D44C,EAAKv4B,KAAKC,IAAIm8D,EAAQt8E,EAAIs8E,EAAQx8E,OAAQy8E,EAAQv8E,EAAIu8E,EAAQz8E,QAEpE,GAAIw4C,GAAMH,GAAMM,GAAMP,EAAI,OAAO,EAEjC,MAAMskC,GAAgBlkC,EAAKH,IAAOM,EAAKP,GAGjCukC,EAFQH,EAAQz8E,MAAQy8E,EAAQx8E,OACxBy8E,EAAQ18E,MAAQ08E,EAAQz8E,OACR08E,EAE9B,OAAOC,EAAQ,EAAID,EAAeC,EAAQ,GAItCC,GAAuB9iB,cAAawQ,IACxC4C,EAAkB5C,IACjB,IAIH+C,EAAAA,UAAU,WAER,IAAKgK,GACH,OAIkBzB,GAAc3e,UAAYogB,GAAYhtC,KAExDurC,GAAc3e,QAAUogB,GAAYhtC,IAiBtC,KAbkB,OAAA1M,EAAA05C,GAAYgD,oBAAZ,EAAA18C,EAA2B/5B,SAAU,GAAK,GACW,IAA1BqpE,EAAerpE,OAY9B,CAE5B,MAAMi5E,EAAevjD,WAAW,KAE9B06C,EAAmBl+C,GAAQ,IAAIvsB,IAAIusB,KAClC,KACH,MAAO,IAAMiwB,aAAa82B,EAC5B,CAEA,MAAMC,MAAoBvzE,IAG1B,IAAA,MAAWohE,KAAS0M,GAAY/M,OAAQ,CACtC,IAAKK,EAAMoS,QAAS,SAGpB,MAAMC,EAAc,CAClB/8E,EAAG69C,WAAWxqC,OAAOq3D,EAAMsQ,aAAe,EAC1C/6E,EAAG49C,WAAWxqC,OAAOq3D,EAAMwQ,aAAe,EAC1Cp7E,MAAO+9C,WAAWxqC,OAAOq3D,EAAM0Q,iBAAmB,EAClDr7E,OAAQ89C,WAAWxqC,OAAOq3D,EAAM4Q,kBAAoB,GAItD,IAAI0B,EAAgD,KACpD,IAAA,MAAWC,KAAiBjQ,EAAgB,CAC1C,MAAMkQ,EAAMZ,GAAuBW,EAAc5wD,OAAQ0wD,GACrDG,EAAM,OAAUF,GAAaE,EAAMF,EAAUE,OAC/CF,EAAY,CAAE5yC,GAAI6yC,EAAc7yC,GAAI8yC,OAExC,CAEIF,GACFH,EAAcn3E,IAAIs3E,EAAU5yC,GAAIsgC,EAAMoS,QAK1C,CAGA/I,EAAmB8I,IAClB,CAAC,MAAAzF,QAAA,EAAAA,GAAa/M,aAAQ+M,aAAahtC,GAAI,MAAAgtC,QAAA,EAAAA,GAAagD,cAAepN,IAGtE,MA+BM6M,GAAqBvC,MAAO6F,IAChC,GAAKjG,IAAgBE,GAArB,CAEA/C,GAAU,GACV,UACQmD,EAAiB4F,mBAAmBD,GAE1C,MAAMlD,EAAe,IAAI1G,GACnBwI,EAAa3E,GAAY/M,OAAO2R,UAAWljE,GAC/CA,EAAEukE,eAAet/C,KAAM1iB,GAAMA,EAAE+uB,KAAO+yC,IAEpCpB,GAAc,IAChB9B,EAAaxG,GAAmBpJ,OAAO0R,GAAYsB,eACjDjG,GAAY/M,OAAO0R,GAAYsB,eAAe5+D,OAC3CpD,GAAMA,EAAE+uB,KAAO+yC,GAEpB3J,EAASyG,IAEXhG,EAAoB,KACtB,OAASxyE,GACP6yE,EAAS7yE,EAAI2N,SAAW,0BAC1B,CAAA,QACEilE,GAAU,EACZ,CAtBkC,GAyB9BiJ,GAAyBzjB,EAAAA,YAC7Byd,MAAO6F,EAAkBj/D,KACvB,IAAKg5D,KAAgBE,GAAa,OAGlC,MAAM6C,EAAe,IAAI1G,GACzB,IAAA,IAASp7D,EAAI,EAAGA,EAAIi/D,GAAY/M,OAAO1mE,OAAQwU,IAAK,CAClD,MAAMolE,EAAcnG,GAAY/M,OAAOlyD,GAAGklE,eAAerB,UACtD3gE,GAAMA,EAAE+uB,KAAO+yC,GAElB,GAAII,GAAe,EAAG,CACpBtD,EAAaxG,GAAmBpJ,OAAOlyD,GAAGklE,eAAeE,GAAe,IACnEnG,GAAY/M,OAAOlyD,GAAGklE,eAAeE,GACxCr/D,QAEFs1D,EAASyG,GACT,KACF,CACF,CAGA,UACQzC,EAAiBgG,mBAAmBL,EAAU,CAAEj/D,QACxD,OAASzc,GAET,GAEF,CAAC8xE,EAAOE,EAAmB2D,GAAaF,KAIpCuG,GAA6B5jB,EAAAA,YACjCyd,MACE6F,EACAn9E,EACAC,EACAH,EACAC,EACA29E,EACAC,KAEA,IAAKzG,KAAgBE,GAAa,OAGlC,IACGlqD,OAAO4nB,SAAS90C,KAAOktB,OAAO4nB,SAAS70C,KACvCitB,OAAO4nB,SAASh1C,KAAWotB,OAAO4nB,SAAS/0C,IAC5C29E,GAAc,GAAKC,GAAe,EAGlC,OAIF,MAAMjU,EAAWvpD,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKD,KAAKo0C,MAAOv0D,EAAI09E,EAAc,KAAS,MAC5E/T,EAAWxpD,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKD,KAAKo0C,MAAOt0D,EAAI09E,EAAe,KAAS,MAC7E9B,EAAe17D,KAAKoQ,IAAI,GAAIpQ,KAAKC,IAAI,IAAKD,KAAKo0C,MAAOz0D,EAAQ49E,EAAc,KAAS,MACrF5B,EAAgB37D,KAAKoQ,IAAI,GAAIpQ,KAAKC,IAAI,IAAKD,KAAKo0C,MAAOx0D,EAAS49E,EAAe,KAAS,MAGxF1D,EAAe,IAAI1G,GACzB,IAAA,IAASp7D,EAAI,EAAGA,EAAIi/D,GAAY/M,OAAO1mE,OAAQwU,IAAK,CAClD,MAAMolE,EAAcnG,GAAY/M,OAAOlyD,GAAGklE,eAAerB,UACtD3gE,GAAMA,EAAE+uB,KAAO+yC,GAElB,GAAII,GAAe,EAAG,CACpBtD,EAAaxG,GAAmBpJ,OAAOlyD,GAAGklE,eAAeE,GAAe,IACnEnG,GAAY/M,OAAOlyD,GAAGklE,eAAeE,GACxCvC,UAAWtR,EACXwR,UAAWvR,EACXyR,cAAeS,EACfP,eAAgBQ,GAElBtI,EAASyG,GACT,KACF,CACF,CAGA,UACQzC,EAAiBgG,mBAAmBL,EAAU,CAClDnC,UAAWtR,EACXwR,UAAWvR,EACXyR,cAAeS,EACfP,eAAgBQ,GAEpB,OAASr6E,GAET,GAEF,CAAC8xE,EAAOE,EAAmB2D,GAAaF,KAIpC0G,GAAmB/jB,EAAAA,YACvByd,MAAO6F,EAAkB1O,EAAiB/E,EAAkBC,KAC1D,IAAKuN,KAAgBE,GAAa,OAGlC,MAAMxN,EAAWzpD,KAAKo0C,MAA6C,IAAvCp0C,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKspD,KAAoB,IACpEG,EAAW1pD,KAAKo0C,MAA6C,IAAvCp0C,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKupD,KAAoB,IAKpEsQ,EAAe,IAAI1G,GACnBsK,EAAWzG,GAAY/M,OAAO2R,UAAUljE,GAAKA,EAAEsxB,KAAOqkC,GAC5D,GAAIoP,GAAY,EAAG,CACjB,MAAMC,EAAY1G,GAAY/M,OAAOwT,GAAUR,eAAerB,UAAU3gE,GAAKA,EAAE+uB,KAAO+yC,GAClFW,GAAa,IACf7D,EAAaxG,GAAmBpJ,OAAOwT,GAAUR,eAAeS,GAAa,IACxE1G,GAAY/M,OAAOwT,GAAUR,eAAeS,GAC/C9C,UAAWpR,EACXsR,UAAWrR,GAEb2J,EAASyG,GAEb,CAGA,UACyBzC,EAAiBgG,mBAAmBL,EAAU,CACnEnC,UAAWpR,EACXsR,UAAWrR,GAGf,OAASpoE,GAET,GAEF,CAAC8xE,EAAOE,EAAmB2D,GAAaF,KAIpC6G,GAAqBlkB,EAAAA,YACzByd,MAAO6F,EAAkB1O,EAAiB/E,EAAkBC,EAAkBkS,EAAsBC,KAClG,IAAK5E,KAAgBE,GAAa,OAGlC,MAAMxN,EAAWzpD,KAAKo0C,MAA6C,IAAvCp0C,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKspD,KAAoB,IACpEG,EAAW1pD,KAAKo0C,MAA6C,IAAvCp0C,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKupD,KAAoB,IACpEqU,EAAW79D,KAAKo0C,MAAiD,IAA3Cp0C,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAKy7D,KAAwB,IACxEoC,EAAW99D,KAAKo0C,MAAkD,IAA5Cp0C,KAAKoQ,IAAI,EAAGpQ,KAAKC,IAAI,IAAK07D,KAAyB,IAKzE7B,EAAe,IAAI1G,GACnBsK,EAAWzG,GAAY/M,OAAO2R,UAAUljE,GAAKA,EAAEsxB,KAAOqkC,GAC5D,GAAIoP,GAAY,EAAG,CACjB,MAAMC,EAAY1G,GAAY/M,OAAOwT,GAAUR,eAAerB,UAAU3gE,GAAKA,EAAE+uB,KAAO+yC,GAClFW,GAAa,IACf7D,EAAaxG,GAAmBpJ,OAAOwT,GAAUR,eAAeS,GAAa,IACxE1G,GAAY/M,OAAOwT,GAAUR,eAAeS,GAC/C9C,UAAWpR,EACXsR,UAAWrR,EACXuR,cAAe4C,EACf1C,eAAgB2C,GAElBzK,EAASyG,GAEb,CAGA,UACyBzC,EAAiBgG,mBAAmBL,EAAU,CACnEnC,UAAWpR,EACXsR,UAAWrR,EACXuR,cAAe4C,EACf1C,eAAgB2C,GAGpB,OAASx8E,GAET,GAEF,CAAC8xE,EAAOE,EAAmB2D,GAAaF,KAI1C,OAAIhD,EAEA3nB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLC,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChBzvE,OAAQ,IACR+tC,MAAO,WAGTnoB,SAAA,CAAAgnC,MAACuxB,GAAQl6E,KAAM,GAAI2lC,MAAO,CAAEw0C,UAAW,mCACtC,OAAA,CAAKx0C,MAAO,CAAE4c,WAAY,GAAK5gC,SAAA,iCAMpC4mC,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQoxB,IAAK,GAAIj7D,OAAQ,sBAAuBu9D,UAAW,IAAK5Q,QAAS,aAE9F/mC,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACL7pC,MAAO,IACPu9D,SAAU,IACV+E,WAAY,EACZ10B,WAAY,UACZ+e,aAAc,GACdC,QAAS,GACT9iB,QAAS,OACT22B,cAAe,SACfvF,IAAK,GAIPr1C,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEjP,SAAU,YACtB/U,SAAA,CAAA4mC,EAAAA,KAAC,SAAA,CACCqc,QAAS,IAAMoM,IAAsBD,IACrCprC,MAAO,CACL7pC,MAAO,OACP4tC,WAAY,UACZ8e,OAAQ,oBACRC,aAAc,EACdC,QAAS,WACT5e,MAAO,UACP8e,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,UACR4Q,QAAS,OACT2lC,WAAY,SACZC,eAAgB,gBAChBxU,IAAK,GAGPr1C,SAAA,CAAA4mC,EAAAA,KAAC,OAAA,CAAK5iB,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,GACzDr1C,SAAA,CAAAgnC,MAACyxB,GAASp6E,KAAM,GAAI2lC,MAAO,CAAEmE,MAAO,aACnC+qC,GAAeA,GAAa/G,MAAQ,kBAEvCnlB,MAAC0xB,GAAYr6E,KAAM,GAAI2lC,MAAO,CAAEmE,MAAO,gBAIxCinC,IACCxoB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLjP,SAAU,WACVhO,IAAK,OACLC,KAAM,EACNC,MAAO,EACP8gB,WAAY,UACZ8e,OAAQ,oBACRC,aAAc,EACd/M,UAAW,EACX2Z,OAAQ,IACRyE,UAAW,IACX6U,SAAU,OACVE,UAAW,8BAGZltD,SAAA,CAAAgvD,GAAOjqE,IAAI,CAACwtE,EAAO1zE,IAClBmoD,EAAAA,IAAC,MAAA,CAEChjB,MAAO,CACL+D,WAAYwqC,EAAM9tC,KAAOyqC,GAAkB,2BAA6B,cACxEhD,aAAc,oBACdnlB,QAAS,WAGV/mC,cAAmBuyD,EAAM9tC,GAExBmiB,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,GACxDr1C,SAAA,CAAAgnC,EAAAA,IAAC,QAAA,CACCjlD,KAAK,OACLnE,MAAO8xE,GACP/pB,SAAWlkD,GAAMkuE,GAAqBluE,EAAE8a,OAAO3e,OAC/C6nD,UAAYhkD,IACI,UAAVA,EAAExH,KAAiB64E,KACT,WAAVrxE,EAAExH,KAAkBw1E,GAAkB,OAE5CkJ,WAAS,EACT30C,MAAO,CACLuyB,KAAM,EACNxuB,WAAY,UACZ8e,OAAQ,oBACRC,aAAc,EACdC,QAAS,UACT5e,MAAO,UACP8e,SAAU,GACV2xB,QAAS,UAGb5xB,EAAAA,IAAC,SAAA,CACCic,QAAS6P,GACT9uC,MAAO,CACL+D,WAAY,UACZ8e,OAAQ,OACRC,aAAc,EACdC,QAAS,EACT1zB,OAAQ,UACR4Q,QAAS,OACT2lC,WAAY,UAGd5pD,WAAAgnC,IAAC6xB,EAAA,CAAMx6E,KAAM,GAAI8pC,MAAM,cAK3Bye,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,GACxDr1C,SAAA,CAAA4mC,EAAAA,KAAC,SAAA,CACCqc,QAAS,IAp8CL0O,OAAOc,IAC/B,GAAIA,IAAYvD,GAAhB,CAIAC,GAAmBsD,GACnBpD,IAAqB,GACrBrB,EAAmB,MACnBE,EAA2B,MAC3BI,EAAoB,MACpBE,GAAW,GACX,UACQwD,GAAkBS,EAC1B,CAAA,QACEjE,GAAW,EACb,CAXA,MAFEa,IAAqB,IAk8CYyJ,CAAkBvG,EAAM9tC,IACvCT,MAAO,CACLuyB,KAAM,EACNxuB,WAAY,cACZ8e,OAAQ,OACRE,QAAS,QACT5e,MAAOoqC,EAAM9tC,KAAOyqC,GAAkB,UAAY,UAClDjoB,SAAU,GACV5zB,OAAQ,UACR+zB,UAAW,OACXnjB,QAAS,OACT2lC,WAAY,SACZC,eAAgB,iBAGlB7pD,SAAA,CAAA4mC,EAAAA,KAAC,OAAA,CAAK5iB,MAAO,CAAEC,QAAS,OAAQ2lC,WAAY,SAAUvU,IAAK,GACzDr1C,SAAA,CAAA4mC,EAAAA,KAAC,OAAA,CAAK5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIyQ,SAAU,IAAM13C,SAAA,CAAA,IAAEuyD,EAAMJ,kBACvEnrB,IAAC,OAAA,CAAMhnC,SAAAuyD,EAAMpG,WAEfvlB,OAAC,QAAK5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,IAAOjnC,SAAA,CAAAuyD,EAAMH,WAAW,YAEpEhB,IACCpqB,EAAAA,IAAC,SAAA,CACCic,QAAUxhE,IACRA,EAAEs5D,kBAt6CC,CAACwX,IAC5B9C,GAAkB8C,EAAM9tC,IACxBkrC,GAAqB4C,EAAMpG,QAq6CH4M,CAAqBxG,IAEvBvuC,MAAO,CACL+D,WAAY,cACZ8e,OAAQ,OACRE,QAAS,EACT1zB,OAAQ,UACR8U,MAAO,UACPlE,QAAS,OACT2lC,WAAY,UAEduC,MAAM,mBAENnsD,SAAAgnC,EAAAA,IAACxsD,EAAA,CAAO6D,KAAM,WAvFjBk0E,EAAM9tC,KA8Fd2sC,IACCxqB,EAAAA,KAAC,SAAA,CACCqc,QAh+CU0O,UACxB,GAAKP,KAAiB9B,GAAtB,CACAC,IAAiB,GACjB,IACE,MAAMyJ,EAAkBhK,GAAOhxE,OAAS,EAClCi0E,QAAiBJ,EAAiBK,iBAAiB,CACvDzE,QAASA,EAAQhpC,GACjB0nC,MAAO,UAAU6M,IACjB7G,aAAc6G,IAGVC,EAAoB,IAAKhH,EAAUG,WAAY,GACrDnD,GAAU,IAAID,GAAQiK,IAEtB9J,GAAmB8C,EAASxtC,IAC5B4qC,IAAqB,GAErBxB,EAAS,IACTE,EAAqB,GACrBC,EAAmB,MACnBE,EAA2B,MAC3BI,EAAoB,MAEpB,MAAM+D,QAAgBR,EAAiBS,gBAAgB,CACrDC,MAAON,EAASxtC,KAElBopC,EAAS,CAAC,IAAKwE,EAAS3N,OAAQ2N,EAAQ3N,QAAU,KACpD,OAAS5oE,GACP6yE,EAAS7yE,EAAI2N,SAAW,yBAC1B,CAAA,QACE8lE,IAAiB,EACnB,CA9BqC,GAg+CvBrf,SAAUof,GACVtrC,MAAO,CACL7pC,MAAO,OACP4tC,WAAY,UACZ8e,OAAQ,OACRE,QAAS,WACT5e,MAAO,UACP8e,SAAU,GACVjP,WAAY,IACZ3kB,OAAQi8C,GAAgB,cAAgB,UACxCrrC,QAAS,OACT2lC,WAAY,SACZvU,IAAK,GAGPr1C,SAAA,GAAAgnC,IAACkyB,EAAA,CAAK76E,KAAM,KACXixE,GAAgB,cAAgB,qBAQ3C1oB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLC,QAAS,OACT4lC,eAAgB,gBAChBD,WAAY,SACZ5f,cAAe,EACfkiB,aAAc,qBAGhBlsD,SAAA,CAAA4mC,EAAAA,KAAC,OAAA,CAAK5iB,MAAO,CAAEmE,MAAO,UAAW6P,WAAY,IAAKiP,SAAU,IAAMjnC,SAAA,CAAA,UACxD4tD,EAAM5vE,OAAO,OAEtBozE,IACCxqB,EAAAA,KAAC,SAAA,CACCqc,QA7yCU0O,UACpB,GAAKP,GAAL,CACA1C,GAAU,GACV,IAEE,MAAMyK,EAAiDjK,GACnD,CAAEqD,MAAOrD,IACT,CAAEzB,QAASA,EAAQhpC,IACjB4tC,QAAgBR,EAAiBS,gBAAgB6G,GACjDC,EAAW,IAAIxL,EAAOyE,GAC5BxE,EAASuL,GACTrL,EAAqBH,EAAM5vE,QAEvBkxE,IACF2D,GAAqB3D,GAAiBkK,EAASp7E,OAEnD,OAASlC,GACP6yE,EAAS7yE,EAAI2N,SAAW,qBAC1B,CAAA,QACEilE,GAAU,EACZ,CAnBoB,GA6yCVxe,SAAUue,EACVzqC,MAAO,CACL+D,WAAY,UACZI,MAAO,OACP0e,OAAQ,OACRC,aAAc,EACdC,QAAS,UACTE,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,UACR4Q,QAAS,OACT2lC,WAAY,SACZvU,IAAK,GAGPr1C,SAAA,GAAAgnC,IAACkyB,EAAA,CAAK76E,KAAM,KAAM,aAKxB2oD,MAAC,OAAIhjB,MAAO,CAAEuyB,KAAM,EAAGyW,SAAU,OAAQ/oC,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,GACpFr1C,UAAA4tD,GAAS,IAAI7oE,IAAI,CAAC6tE,EAAM/zE,IACxB+nD,EAAAA,KAAC,MAAA,CAECqc,QAAS,IAAM8K,EAAqBlvE,GACpCmlC,MAAO,CACL+D,WACE+lC,IAAsBjvE,EAAQ,2BAA6B,UAC7DgoD,OAAQ,cACNinB,IAAsBjvE,EAAQ,UAAY,WAE5CioD,aAAc,EACdC,QAAS,EACT1zB,OAAQ,UACR+zB,UAAW,UAGbpnC,SAAA,CAAAgnC,EAAAA,IAAC,MAAA,CACChjB,MAAO,CACL7pC,MAAO,OACPoxE,YAAa,SACbxjC,WAAY,OACZ+e,aAAc,EACd9M,aAAc,EACdjlB,SAAU,WACVi4C,SAAU,UAIVhtD,UAAA4yD,EAAK6B,eAAiB,IAAIz2E,OAAS,EACnC4oD,EAAAA,KAAC,MAAA,CACCqmB,QAAQ,cACRxH,oBAAoB,OACpBzhC,MAAO,CACLjP,SAAU,WACVhO,IAAK,EACLC,KAAM,EACN7sB,MAAO,OACPC,OAAQ,QAIT4lB,SAAA,CAAA8tD,IAAsBjvE,GAASwoE,EAAerpE,OAAS,UACtD6nE,EAAAA,SAAA,CAEE7lD,SAAA,GAAAgnC,IAAC,OAAA,CACEhnC,SAAAqnD,EAAetiE,IAAKggE,KACnB/d,IAAC,WAAA,CAAwCviB,GAAI,cAAcsgC,EAAMtgC,KAC/DzkB,SAAAgnC,EAAAA,IAAC,UAAA,CACCge,OAAQD,EAAMP,SAASz/D,OAAS,GAAG2vD,EAAEr6D,KAAKq6D,EAAEp6D,KAAKygB,KAAK,QAF3C,cAAcgqD,EAAMtgC,SAQtC4iC,EAAetiE,IAAKggE,IACnB,MAAMK,EAAa+I,EAAgBnuE,IAAI+kE,EAAMtgC,IAC7C,OAAK2gC,EAEHpe,EAAAA,IAAC,QAAA,CAECzjB,KAAM6hC,EACN/qE,EAAG0qE,EAAMr+C,OAAOrsB,EAChBC,EAAGyqE,EAAMr+C,OAAOpsB,EAChBH,MAAO4qE,EAAMr+C,OAAOvsB,MACpBC,OAAQ2qE,EAAMr+C,OAAOtsB,OACrBqrE,oBAAoB,iBACpBC,SAAU,mBAAmBX,EAAMtgC,OAP9B,aAAasgC,EAAMtgC,MAHJ,UAiB7BqpC,IAAsBjvE,IAAU+zE,EAAKlO,QAAU,IAAI3/D,IAAKggE,GAClDA,EAAMoS,QAETnwB,EAAAA,IAAC,QAAA,CAECzjB,KAAMwhC,EAAMoS,QACZ98E,EAAG0qE,EAAMsQ,UACT/6E,EAAGyqE,EAAMwQ,UACTp7E,MAAO4qE,EAAM0Q,cACbr7E,OAAQ2qE,EAAM4Q,eACdlQ,oBAAoB,kBANf,eAAeV,EAAMtgC,MAHH,OAc3BmuC,EAAK6B,eAAiB,IAAI1vE,IAAKyW,GAC/BwrC,EAAAA,IAAC,OAAA,CAECvU,GAAIj3B,EAAKkmD,QACTlvB,GAAIh3B,EAAKomD,QACThvB,GAAIp3B,EAAKsmD,MACT/uB,GAAIv3B,EAAKwmD,MACTxmB,OAAQhgC,EAAK2sB,OAASyqC,EAAKyG,oBAAsB,UACjDhX,YAAa7nD,KAAKoQ,IAAI,GAA0D,IAApDpP,EAAKymD,WAAa2Q,EAAK0G,sBAAwB,IAC3EpW,cAAc,SAPT1nD,EAAKipB,MAWZmuC,EAAKlO,QAAU,IAAI6U,QAASxU,IAC3BA,EAAM2S,gBAAkB,IAAI3yE,IAAKoS,GAChC6vC,EAAAA,IAAC,KACEhnC,SAAuB,cAAvB7I,EAAOqiE,aAAsD,YAAvBriE,EAAOqiE,YAC5CxyB,EAAAA,IAAC,OAAA,CACC3sD,EAAGktB,OAAOpQ,EAAOk+D,WACjB/6E,EAAGitB,OAAOpQ,EAAOo+D,WACjBp7E,MAAOotB,OAAOpQ,EAAOs+D,eACrBr7E,OAAQmtB,OAAOpQ,EAAOw+D,gBACtBl6B,KAAMtkC,EAAOsiE,kBAAoB,OACjCj+B,OAAQrkC,EAAOuiE,cAAgB,OAC/BrX,YAAa,GACb9nE,GAAI,IAGNysD,EAAAA,IAAC,UAAA,CACCpsD,GAAI2sB,OAAOpQ,EAAOk+D,WAAa9tD,OAAOpQ,EAAOs+D,eAAiB,EAC9D56E,GAAI0sB,OAAOpQ,EAAOo+D,WAAahuD,OAAOpQ,EAAOw+D,gBAAkB,EAC/Dp7E,GAAIgtB,OAAOpQ,EAAOs+D,eAAiB,EACnCkE,GAAIpyD,OAAOpQ,EAAOw+D,gBAAkB,EACpCl6B,KAAMtkC,EAAOsiE,kBAAoB,OACjCj+B,OAAQrkC,EAAOuiE,cAAgB,OAC/BrX,YAAa,MApBX,gBAAgBlrD,EAAOstB,YA6BpCmuC,EAAKlO,QAAU,IAAI3/D,IAAKggE,GACvB/d,EAAAA,IAAC,MAAA,CAEChjB,MAAO,CACLjP,SAAU,WACV/N,KAAM,GAAG+9C,EAAMsQ,aACftuD,IAAK,GAAGg+C,EAAMwQ,aACdp7E,MAAO,GAAG4qE,EAAM0Q,iBAChBr7E,OAAQ,GAAG2qE,EAAM4Q,kBACjB9uB,OAAQ,GAAGrsC,KAAKoQ,IAAI,GAAIm6C,EAAM6U,cAAgB,GAAK,cAAc7U,EAAM2U,cAAgB,YACvF5yB,aAAcie,EAAM8U,eAAiB,EACrC9xC,WAAYg9B,EAAMoS,QAAU,OAAOpS,EAAMoS,wBAA2BpS,EAAM0U,kBAAoB,UAC9F5rE,UAAW,UAAUk3D,EAAM+U,UAAY,eAAe/U,EAAMgV,QAAU,eAAehV,EAAMiV,QAAU,QACrGC,gBAAiB,kBAXdlV,EAAMtgC,OAiBnBmiB,EAAAA,KAAC,OAAA,CACC5iB,MAAO,CACLmE,MAAO2lC,IAAsBjvE,EAAQ,UAAY,UACjDooD,SAAU,GACVjP,WAAY,KAEfh4B,SAAA,CAAA,QACOnhB,EAAQ,OA5JX+zE,EAAKnuC,UAoKlBmiB,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEuyB,KAAM,EAAGtyB,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,IAEpEr1C,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLC,QAAS,OACT4lC,eAAgB,gBAChBD,WAAY,SACZ7hC,WAAY,UACZ+e,aAAc,EACdC,QAAS,YAGX/mC,SAAA,CAAAgnC,MAAC,OAAIhjB,MAAO,CAAEC,QAAS,OAAQoxB,IAAK,GAEjCr1C,SAAA,CACC,CAAEysB,KAAM,SAAwBytC,KAAMC,EAAQj2C,MAAO,SAAU3e,QAAS6rD,IACxE,CAAE3kC,KAAM,UAAyBytC,KAAMj7B,EAAO/a,MAAO,UAAW3e,QAAS6rD,IACzE,CAAE3kC,KAAM,OAAsBytC,KAAME,EAAMl2C,MAAO,OAAQ3e,QAASgsD,KAClExsE,IAAI,EAAG0nC,KAAM/5B,EAAGwnE,KAAMG,EAAMn2C,QAAO3e,aACnCqhC,EAAAA,KAAC,SAAA,CAECqc,QAAS,IAAM2H,EAAQl4D,GACvBw9C,UAAW3qC,EACXye,MAAO,CACL+D,WAAY0E,IAAS/5B,EAAI,UAAY,cACrCy1B,MAAOsE,IAAS/5B,EAAI,OAAS6S,EAAU,UAAY,UACnDshC,OAAQ,OACRC,aAAc,EACdC,QAAS,WACTE,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ9N,EAAU,UAAY,cAC9B0e,QAAS,OACT2lC,WAAY,SACZvU,IAAK,EACLyB,QAASvxC,EAAU,EAAI,IAGzBvF,SAAA,GAAAgnC,IAACqzB,EAAA,CAAKh8E,KAAM,KAAM,IAAE6lC,IAlBfxxB,MAuBXk0C,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQoxB,IAAK,EAAGuU,WAAY,UAEjD5pD,SAAA,CAAAgnC,EAAAA,IAAC,SAAA,CACCic,QA1+CO0O,UAIjBjD,GAAU,GAEVqB,GAAe1e,SAAU,EACzB,IAEM6d,SACI8C,GAAkB9C,UAElBsD,KAGRzD,EAAa,IAAI9gD,MACjB0gD,EAAS,GACX,OAAS7yE,GAEP6yE,EAAS7yE,EAAI2N,SAAW,iBAC1B,CAAA,QACEilE,GAAU,GAGVh7C,WAAW,KAETq8C,GAAe1e,SAAU,GACxB,IACL,GA+8CUnB,SAAUue,EACVzqC,MAAO,CACL+D,WAAY0mC,EAAS,UAAY,UACjCtmC,MAAO,OACP0e,OAAQ,OACRC,aAAc,EACdC,QAAS,WACTE,SAAU,GACVjP,WAAY,IACZ3kB,OAAQo7C,EAAS,cAAgB,UACjCxqC,QAAS,OACT2lC,WAAY,SACZvU,IAAK,EACLqC,SAAU,GACVmS,eAAgB,UAGjB7pD,WACC4mC,EAAAA,KAAAif,EAAAA,SAAA,CACE7lD,SAAA,CAAAgnC,EAAAA,IAACuxB,EAAA,CAAQl6E,KAAM,GAAIuZ,UAAU,iBAAiB,gBAGhDgvC,EAAAA,KAAAif,EAAAA,SAAA,CACE7lD,SAAA,GAAAgnC,IAACtsD,EAAA,CAAK2D,KAAM,KAAM,aAIvBywE,UACE,OAAA,CAAK9qC,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,IAAMjnC,SAAA,CAAA,SACxC8uD,EAAUwL,wBAKrBtzB,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAM8K,EAAqBvzD,KAAKoQ,IAAI,EAAGkjD,EAAoB,IACpE5d,SAAgC,IAAtB4d,EACV9pC,MAAO,CACL+D,WAAY,cACZ8e,OAAQ,oBACRC,aAAc,EACdC,QAAS,EACT5e,MAAO,UACP9U,OAA8B,IAAtBy6C,EAA0B,cAAgB,UAClDhX,QAA+B,IAAtBgX,EAA0B,GAAM,GAG3C9tD,SAAAgnC,EAAAA,IAACuzB,EAAA,CAAYl8E,KAAM,OAErBuoD,OAAC,QAAK5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,IACxCjnC,SAAA,CAAA8tD,EAAoB,EAAE,MAAIF,EAAM5vE,UAEnCgpD,EAAAA,IAAC,SAAA,CACCic,QAAS,IACP8K,EAAqBvzD,KAAKC,IAAImzD,EAAM5vE,OAAS,EAAG8vE,EAAoB,IAEtE5d,SAAU4d,IAAsBF,EAAM5vE,OAAS,EAC/CgmC,MAAO,CACL+D,WAAY,cACZ8e,OAAQ,oBACRC,aAAc,EACdC,QAAS,EACT5e,MAAO,UACP9U,OAAQy6C,IAAsBF,EAAM5vE,OAAS,EAAI,cAAgB,UACjE84D,QAASgX,IAAsBF,EAAM5vE,OAAS,EAAI,GAAM,GAG1DgiB,SAAAgnC,EAAAA,IAACwzB,EAAA,CAAan8E,KAAM,OAMZ,SAATouC,GAAmB8kC,IAAe5M,KACjC/d,KAAAif,EAAAA,SAAA,CACE7lD,SAAA,CAAAgnC,EAAAA,IAAC,SAAA,CACCppD,MAAOgxE,EACPjpB,SAAWlkD,GAAMotE,EAAiBptE,EAAE8a,OAAO3e,OAC3ComC,MAAO,CACL+D,WAAY,UACZ8e,OAAQ,oBACRC,aAAc,EACdC,QAAS,UACT5e,MAAO,UACP8e,SAAU,IAGXjnC,SAAAotD,GAAaroE,IAAK01E,GACjBzzB,EAAAA,IAAC,SAAA,CAAsBppD,MAAO68E,EAAG78E,MAC9BoiB,SAAAy6D,EAAGv2C,OADOu2C,EAAG78E,UAKpBgpD,EAAAA,KAAC,SAAA,CACCqc,QAAS,IA7wBD0O,OAAO7I,IAC7B,GAAKyI,IAAgBE,GAArB,CACA/C,GAAU,GACV,IACE,MAAMgM,QAAkB7I,EAAiB8I,mBAAmB,CAC1D5V,MAAO+D,EACP0Q,YAAa5K,EACbyG,UAAW,GACXE,UAAW,GACXE,cAAe,GACfE,eAAgB,GAChBp9D,KAAM,kBAGF+7D,EAAe,IAAI1G,GACnBwI,EAAa3E,GAAY/M,OAAO2R,UAAWljE,GAAMA,EAAEsxB,KAAOqkC,GAC5DsN,GAAc,IAChB9B,EAAaxG,GAAmBpJ,OAAO0R,GAAYsB,eAAiB,IAC/DjG,GAAY/M,OAAO0R,GAAYsB,eAClCgD,GAEF7M,EAASyG,IAEXhG,EAAoBoM,EAAUj2C,GAChC,OAAS3oC,GACP6yE,EAAS7yE,EAAI2N,SAAW,8BAC1B,CAAA,QACEilE,GAAU,EACZ,CA3BkC,GA4wBLkM,CAAgBjW,GAC/BzU,SAAUue,EACVzqC,MAAO,CACL+D,WAAY,UACZI,MAAO,OACP0e,OAAQ,OACRC,aAAc,EACdC,QAAS,WACTE,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,UACR4Q,QAAS,OACT2lC,WAAY,SACZvU,IAAK,GAGPr1C,SAAA,GAAAgnC,IAAC6zB,EAAA,CAAcx8E,KAAM,KAAM,oBAKhCowE,GACCznB,EAAAA,IAACuxB,EAAA,CAAQl6E,KAAM,GAAI2lC,MAAO,CAAEmE,MAAO,UAAWqwC,UAAW,mCAM9Dv2D,GACC2kC,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACL+D,WAAY,yBACZ8e,OAAQ,oBACR1e,MAAO,UACP4e,QAAS,EACTD,aAAc,EACdG,SAAU,IAGXjnC,SAAA,CAAAiC,EACD+kC,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAM0L,EAAS,IACxB3qC,MAAO,CACL4c,WAAY,EACZ7Y,WAAY,OACZ8e,OAAQ,OACR1e,MAAO,UACP9U,OAAQ,WAEXrT,SAAA,eAOLgnC,EAAAA,IAAC,MAAA,CACC9mC,IAAKgrD,GACLlnC,MAAO,CACLuyB,KAAM,EACNtyB,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChB9iB,QAAS,GACThf,WAAY,UACZ+e,aAAc,EACdkmB,SAAU,SACVtV,SAAU,EACVC,UAAW,GAIZ33C,SAAA20D,GACC3tB,EAAAA,IAAC8iB,GAAA,CACC5pD,IAAK4vD,GACLhwD,MAAO00D,GACPxK,mBAAayH,aAAazH,cAAe,WACzC3I,kBAAYoQ,aAAaqJ,eAAe,EACxC7Q,mBAAoB1iD,OAAO,MAAAkqD,QAAA,EAAAA,GAAa6H,uBAAyB,EACjEpP,wBAAkBuH,aAAa4H,qBAAsB,UACrDnT,aA96CayL,MAAOoJ,IAC9B,GAAK3J,IAAkBK,GAAvB,CAEA/C,GAAU,GACV,IACE,MAAMsM,QAAgBnJ,EAAiBoJ,kBAAkB,CACvDrI,KAAMnB,GAAYhtC,GAClB69B,UAAWyY,EAASzY,UACpBZ,QAASgT,GAAWqG,EAASrZ,SAC7BE,QAAS8S,GAAWqG,EAASnZ,SAC7BE,MAAO4S,GAAWqG,EAASjZ,OAC3BE,MAAO0S,GAAWqG,EAAS/Y,OAC3Ba,WAAY6R,GAAWqG,EAASlY,YAChCC,WAAY4R,GAAWqG,EAASjY,YAChCC,WAAY2R,GAAWqG,EAAShY,YAChCC,WAAY0R,GAAWqG,EAAS/X,YAChCf,UAAW8Y,EAAS9Y,UACpB95B,MAAO4yC,EAAS5yC,QAIZmsC,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACHgD,cAAe,IAAKhD,GAAYgD,eAAiB,GAAKuG,IAExDnN,EAASyG,EACX,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,wBAC1B,CAAA,QACEilE,GAAU,EACZ,CA9BoC,GA86C1BvI,aA54CawL,MAAOnQ,EAAgB0Z,KAC9C,GAAK9J,IAAkBK,GAEvB,IAEE,MAAM0J,EAA2C,IAAKD,QACvB,IAA3BC,EAAezZ,YAAsCA,QAAUgT,GAAWyG,EAAezZ,eAC9D,IAA3ByZ,EAAevZ,YAAsCA,QAAU8S,GAAWyG,EAAevZ,eAChE,IAAzBuZ,EAAerZ,UAAoCA,MAAQ4S,GAAWyG,EAAerZ,aAC5D,IAAzBqZ,EAAenZ,UAAoCA,MAAQ0S,GAAWyG,EAAenZ,aACvD,IAA9BmZ,EAAetY,eAAyCA,WAAa6R,GAAWyG,EAAetY,kBACjE,IAA9BsY,EAAerY,eAAyCA,WAAa4R,GAAWyG,EAAerY,kBACjE,IAA9BqY,EAAepY,eAAyCA,WAAa2R,GAAWyG,EAAepY,kBACjE,IAA9BoY,EAAenY,eAAyCA,WAAa0R,GAAWyG,EAAenY,aAEnG,MAAMoY,QAAoBvJ,EAAiBwJ,kBAAkB7Z,EAAQ2Z,GAG/D7G,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACHgD,cAAehD,GAAYgD,cAAc1vE,IAAK0N,GAC5CA,EAAEgyB,KAAO+8B,EAAS4Z,EAAc3oE,IAGpCo7D,EAASyG,EACX,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,wBAC1B,GAi3CU28D,aA72CauL,MAAOnQ,IAC9B,GAAK4P,IAAkBK,GAEvB,UACQI,EAAiByJ,kBAAkB9Z,GAGzC,MAAM8S,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACHgD,cAAehD,GAAYgD,cAAc37D,OAAQrG,GAAMA,EAAEgyB,KAAO+8B,IAElEqM,EAASyG,EACX,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,wBAC1B,GA+1CU0gE,gBA31CoBwH,MAAO5F,IACrC,GAAKqF,IAAkBK,GAAvB,CAEA/C,GAAU,GACV,IAEE,IAAA,MAAWlzD,KAAQi2D,GAAYgD,eAAiB,SACxC5C,EAAiByJ,kBAAkB9/D,EAAKipB,IAIhD,GAAIsnC,EAASjsD,MAAM9hB,OAAS,EAAG,CAC7B,MAAM0D,QAAemwE,EAAiB0J,wBACpC9J,GAAYhtC,GACZsnC,EAASjsD,MAAM/a,IAAK0N,IAAA,CAClB6vD,UAAW7vD,EAAE6vD,UACbZ,QAASgT,GAAWjiE,EAAEivD,SACtBE,QAAS8S,GAAWjiE,EAAEmvD,SACtBE,MAAO4S,GAAWjiE,EAAEqvD,OACpBE,MAAO0S,GAAWjiE,EAAEuvD,OACpBa,WAAY6R,GAAWjiE,EAAEowD,YACzBC,WAAY4R,GAAWjiE,EAAEqwD,YACzBC,WAAY2R,GAAWjiE,EAAEswD,YACzBC,WAAY0R,GAAWjiE,EAAEuwD,gBAKvBsR,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACHgD,cAAe/yE,EAAO85E,SAExB3N,EAASyG,EACX,KAAO,CAEL,MAAMA,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACHgD,cAAe,IAEjB5G,EAASyG,EACX,CACF,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,2BAC1B,CAAA,QACEilE,GAAU,EACZ,CA9CoC,GA21C1BtE,oBAzyCoBuH,MAAO3H,IACrC,GAAKoH,IAAkBK,GAEvB,UACQI,EAAiB4J,gBAAgBhK,GAAYhtC,GAAI,CAAEulC,gBAEzD,MAAMsK,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACHzH,eAEF6D,EAASyG,EACX,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,+BAC1B,GA4xCU4gE,mBAxxCmBsH,MAAOtQ,IACpC,GAAK+P,IAAkBK,GAEvB,UACQI,EAAiB4J,gBAAgBhK,GAAYhtC,GAAI,CAAEq2C,YAAazZ,IAEtE,MAAMiT,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACHqJ,YAAazZ,GAEfwM,EAASyG,EACX,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,+BAC1B,GA2wCU6gE,oBAvwCoBqH,MAAOx3E,IACrC,GAAKi3E,IAAkBK,GAEvB,UACQI,EAAiB4J,gBAAgBhK,GAAYhtC,GAAI,CAAE60C,qBAAsBn/E,IAE/E,MAAMm6E,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACH6H,qBAAsBn/E,GAExB0zE,EAASyG,EACX,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,gCAC1B,GA0vCU8gE,kBAtvCkBoH,MAAOxpC,IACnC,GAAKipC,IAAkBK,GAEvB,UACQI,EAAiB4J,gBAAgBhK,GAAYhtC,GAAI,CAAE40C,mBAAoBlxC,IAE7E,MAAMmsC,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACH4H,mBAAoBlxC,GAEtB0lC,EAASyG,EACX,OAASx4E,GACP6yE,EAAS7yE,EAAI2N,SAAW,8BAC1B,GAyuCU+gE,QAAS4G,IAA0B,WAAT3kC,EAC1Bk4B,gBAAiBsJ,EACjB3H,cAAe4H,EACf3H,iBAAkByQ,GAClBvM,iBAA2B,WAATh+B,GAA8B,YAATA,EACvCq4B,aAAcqJ,EACdzD,eAAgB2F,GAAqBl2E,MACrCwwE,gBAAiB0F,GAAqBj2E,OAKpC4lB,eAGA,MAAMwrD,EAAe+E,GAAiBp2E,MAChCsxE,EAAgB8E,GAAiBn2E,OAOvC,cAJmBq3E,aAAa/M,OAAO6U,QAAQxU,UAC7C,OAAA,OAAAhtC,EAAAgtC,EAAM2S,qBAAN,EAAA3/C,EAAsBhzB,IAAIoS,IAAA,IAAgBA,EAAQ2xD,QAAS/D,EAAMtgC,QAAU,OACxE,IAEa1/B,IAAKoS,IAErB,MAAMukE,EAAWvkE,EAAOk+D,UAAY,IAAO7J,EACrCmQ,EAAWxkE,EAAOo+D,UAAY,IAAO9J,EACrCmQ,EAAWzkE,EAAOs+D,cAAgB,IAAOjK,EACzCqQ,EAAW1kE,EAAOw+D,eAAiB,IAAOlK,EAQhD,OACEzkB,EAAAA,IAAC+V,GAAA,CAEChoC,SAAU,CAAE16B,EAAGqhF,EAASphF,EAAGqhF,GAC3Bt9E,KAAM,CAAElE,MAAOyhF,EAASxhF,OAAQyhF,GAChCzoB,WAAY,CAAClyC,EAAIlnB,KAEf,MAAM8hF,EAAe9hF,EAAEK,EAAImxE,EAAgB,IACrCuQ,EAAe/hF,EAAEM,EAAImxE,EAAiB,IAC5CwM,GAAiB9gE,EAAOstB,GAAIttB,EAAO2xD,QAASgT,EAAaC,IAE3DngB,aAAc,CAAC16C,EAAIq2B,EAAYr3B,EAAK87D,EAAQjnD,KAC1C,MAAMmkC,EAAWr2B,SAAS3iB,EAAI8jB,MAAM7pC,MAAO,IACrCg/D,EAAYt2B,SAAS3iB,EAAI8jB,MAAM5pC,OAAQ,IACvC0hF,EAAe/mD,EAAS16B,EAAImxE,EAAgB,IAC5CuQ,EAAehnD,EAASz6B,EAAImxE,EAAiB,IAC7CwQ,EAAmB/iB,EAAWsS,EAAgB,IAC9C0Q,EAAoB/iB,EAAYsS,EAAiB,IACvD2M,GAAmBjhE,EAAOstB,GAAIttB,EAAO2xD,QAASgT,EAAaC,EAAaE,EAAiBC,IAE3Fx1D,OAAO,SACPu5C,eAAyB,SAATxzB,GAAmB8kC,IAAelD,IAAqBl3D,EAAOstB,GAC9Ek7B,gBAA0B,SAATlzB,IAAoB8kC,GACrCvtC,MAAO,CACL+D,WAAY5wB,EAAOsiE,kBAAoB,OACvC5yB,OAAQ,GAAG1vC,EAAOyiE,cAAgB,aAAaziE,EAAOuiE,cAAgB,SACtE5yB,aAAqC,cAAvB3vC,EAAOqiE,aAAsD,YAAvBriE,EAAOqiE,YAA4B,EAAI,MAC3Fv1C,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChB9iB,QAAS,EACT1zB,OAAiB,SAAToZ,GAAmB8kC,GAAc,OAAS,UAClDrE,UAAoB,SAATzgC,GAAmB4hC,IAAqBl3D,EAAOstB,GAAK,oBAAsB,OACrFivB,OAAQ,IACRsZ,SAAU,SACV1I,cAAwB,SAAT73B,EAAkB,OAAS,QAE5Cw2B,QAAS,IAAe,SAATx2B,GAAmB6hC,EAAoBn3D,EAAOstB,IAE5DzkB,SAAS,SAATysB,GAAmB8kC,IAAelD,IAAqBl3D,EAAOstB,GAC7DuiB,EAAAA,IAAC,WAAA,CACCppD,MAAOuZ,EAAOoB,MAAQ,GACtBotC,SAAWlkD,GAAMk2E,GAAuBxgE,EAAOstB,GAAIhjC,EAAE8a,OAAO3e,OAC5DomC,MAAO,CACL7pC,MAAO,OACPC,OAAQ,OACRysD,OAAQ,OACR9e,WAAY,cACZo0C,OAAQ,OACR/0B,UAAWjwC,EAAOilE,YAAqB,SACvCn1B,SAAUzsC,KAAKoQ,IAAI,GAAIpQ,KAAKC,IAAc,IAAVohE,EAAgB,KAChD7V,WAAY7uD,EAAOklE,aAAe,yBAClCl0C,MAAO,OACPywC,QAAS,QAEX3V,QAAUxhE,GAAMA,EAAEs5D,oBAGpB/T,EAAAA,IAAC,OAAA,CACChjB,MAAO,CACLijB,SAAUzsC,KAAKoQ,IAAI,GAAIpQ,KAAKC,IAAc,IAAVohE,EAAgB,KAChD7V,WAAY7uD,EAAOklE,aAAe,yBAClCl0C,MAAO,OACPif,UAAWjwC,EAAOilE,YAAqB,SACvCE,UAAW,cAGZt8D,WAAOzH,MAAQ,mBAjEfpB,EAAOstB,KAuEpB,OAIFmiB,EAAAA,KAAC,MAAA,CACC1mC,IAAK0vD,GACL5rC,MAAO,CACL7pC,MAAO,OACP+9D,SAAU,IACVqT,YAAa,WACbxjC,WAAY,OACZ+e,aAAc,EACd/xB,SAAU,WACVi4C,SAAU,UACVE,UAAW,wDACXzQ,WAAY,EACZmc,QAAS,qCACT2D,cAAe,QAGhBv8D,SAAA,CAAA,MAAAyxD,QAAA,EAAAA,GAAa/M,OAAO3/D,IAAKggE,GACxB/d,EAAAA,IAACw1B,GAAA,CAECzX,QACA7C,WAAYyC,IAAoBI,EAAMtgC,GACtCg4C,WAAY5L,KAAoB9L,EAAMtgC,GACtC+lC,QAAS4G,GACTG,eACA9kC,OACA4hC,mBACApN,YAAakP,GAAiBh2E,MAC9B+mE,aAAciP,GAAiB/1E,OAC/BsiF,SAAU,KACR1O,EAAmBjJ,EAAMtgC,IACzB6pC,EAAoB,OAEtBqO,iBAAkB,CAACtiF,EAAGC,EAAGgzE,EAAGC,IAC1B0I,GAA0BlR,EAAMtgC,GAAIpqC,EAAGC,EAAGgzE,EAAGC,GAE/Cpa,YAAa,IAAM2d,GAAmB/L,EAAMtgC,IAC5CksB,OAAQ,CAACt2D,EAAGC,EAAGgzE,EAAGC,IAAMsH,GAAgB9P,EAAMtgC,GAAIpqC,EAAGC,EAAGgzE,EAAGC,GAC3DqP,UAAW5G,GACX6G,SAAU,IAAMzI,GAAkBrP,EAAMtgC,IACxCq4C,gBAAkBr7E,GAAM80E,GAAoB90E,EAAGsjE,EAAMtgC,IACrDs4C,eAAgBzO,EAChB0O,mBAAoBrF,GACpBsF,uBAAwBnF,GACxBoF,eAAgBhJ,IAzBXnP,EAAMtgC,KA8BdgsC,GAAOE,SAAS5rE,IAAI,CAAC1K,EAAGmY,IACvBw0C,EAAAA,IAAC,MAAA,CAEChjB,MAAO,CACLjP,SAAU,WACV/N,KAAM3sB,EAAI,EACV0sB,IAAK,EACL5sB,MAAO,EACPC,OAAQ,OACR2tC,WAAY,2DACZo1C,eAAgB,UAChB7Y,cAAe,OACf5Q,OAAQ,KACRwZ,UAAW,oCAXR,WAAW16D,MAenBi+D,GAAOG,WAAW7rE,IAAI,CAACzK,EAAGkY,IACzBw0C,EAAAA,IAAC,MAAA,CAEChjB,MAAO,CACLjP,SAAU,WACV/N,KAAM,EACND,IAAKzsB,EAAI,EACTH,MAAO,OACPC,OAAQ,EACR2tC,WAAY,0DACZo1C,eAAgB,UAChB7Y,cAAe,OACf5Q,OAAQ,KACRwZ,UAAW,oCAXR,WAAW16D,MAiBY,KAA/B,MAAAi/D,QAAA,EAAAA,GAAa/M,OAAO1mE,SACnB4oD,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLjP,SAAU,WACVhO,IAAK,MACLC,KAAM,MACNnZ,UAAW,wBACXu5C,UAAW,SACXjf,MAAO,WAGTnoB,SAAA,CAAAgnC,EAAAA,IAACmzB,EAAA,CAAO97E,KAAM,GAAI2lC,MAAO,CAAEgW,aAAc,EAAG8c,QAAS,MACrD9P,EAAAA,IAAC,IAAA,CAAEhjB,MAAO,CAAEijB,SAAU,GAAII,OAAQ,GAC/BrnC,SAAAoxD,GACG,kDACA,gEAUlBxqB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACL7pC,MAAO,IACPu9D,SAAU,IACV+E,WAAY,EACZ10B,WAAY,UACZ+e,aAAc,GACdC,QAAS,GACT9iB,QAAS,OACT22B,cAAe,SACfvF,IAAK,IAGPr1C,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CAAKhjB,MAAO,CAAEmE,MAAO,UAAW6P,WAAY,IAAKiP,SAAU,IAAMjnC,SAAA,eAGjE20D,IAAsB1G,QAEnB,MAAMmI,GAAa,MAAA/O,OAAA,EAAAA,EAAgBgP,aAAeljE,EAAEsxB,KAAOwpC,MAA4B,EACjFmP,EAAgBhH,GAAc,EAAI/O,EAAe+O,GAAc,KAC/DiH,GAAa,MAAAlP,OAAA,EAAAA,EAAiBluE,IAAIguE,MAA4B,EAC9DqP,EAAelH,GAAc,EAAIA,EAAa,EAAI,IAExD,OACExvB,EAAAA,KAAAif,WAAA,CACE7lD,SAAA,CAAA4mC,OAAC,OAAI5iB,MAAO,CACV+D,WAAY,UACZ+e,aAAc,EACdC,QAAS,GACTF,OAAQ,qBAER7mC,SAAA,CAAA4mC,OAAC,OAAI5iB,MAAO,CACVC,QAAS,OACT2lC,WAAY,SACZvU,IAAK,EACLrb,aAAc,GAEdh6B,SAAA,CAAAgnC,MAAC,OAAIhjB,MAAO,CACV7pC,MAAO,GACPC,OAAQ,GACR0sD,aAAc,MACd/e,WAAY,UACZ9D,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChB5iB,SAAU,GACVjP,WAAY,IACZ7P,MAAO,QAENnoB,SAAAs9D,IAEH12B,EAAAA,KAAC,OAAA,CAAK5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIjP,WAAY,KAAOh4B,SAAA,CAAA,SACzDs9D,QAIVF,UACE,MAAA,CAAIp5C,MAAO,CAAEijB,SAAU,GAAI9e,MAAO,WAAanoB,SAAA,CAAA,SACvCxF,KAAKo0C,MAAMwuB,EAAc12D,OAAOvsB,OAAO,OAAKqgB,KAAKo0C,MAAMwuB,EAAc12D,OAAOtsB,QAAQ,OAI9FijF,GACCz2B,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CACV+V,UAAW,EACXkN,SAAU,GACV9e,MAAO,UACPlE,QAAS,OACT2lC,WAAY,SACZvU,IAAK,GAELr1C,SAAA,GAAAgnC,IAAC/H,EAAA,CAAM5gD,KAAM,KAAM,0BAMxB+yE,IAA0B,YAAT3kC,GAChBua,EAAAA,IAAC,MAAA,CAAIhjB,MAAO,CAAEC,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,GAC3Dr1C,SAAA4mC,EAAAA,KAAC,QAAA,CACC5iB,MAAO,CACLC,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChBxU,IAAK,EACLttB,WAAYs1C,EAAa,UAAY,UACrCl1C,MAAO,OACP4e,QAAS,YACTD,aAAc,EACdG,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,UACRsyC,WAAY,kBAGd3lD,SAAA,GAAAgnC,IAACjsD,EAAA,CAAOsD,KAAM,KAAM,IAAEg/E,EAAa,kBAAoB,iBACvDr2B,EAAAA,IAAC,QAAA,CACC9mC,IAAK2vD,GACL9tE,KAAK,OACLw7E,OAAO,4CACP53B,SAAWlkD,IACLwsE,GAn2Ca0D,OACvClwE,EACA+7E,WAEA,IAAKpM,KAAkBK,GAAa,OACpC,MAAM+E,EAAO,OAAAz+C,EAAAt2B,EAAE8a,OAAOwvB,cAAThU,EAAiB,GAC9B,IAAKy+C,EAAM,OAIX,IADmB,CAAC,YAAa,aAAc,aAAc,aAC7ChX,SAASgX,EAAKz0E,MAE5B,YADA4sE,EAAS,gDAGX,GAAI6H,EAAKn4E,KAAO,SAEd,YADAswE,EAAS,gCAKX,MAAM2I,EAAgBjQ,EAAehzD,KAAMlB,GAAMA,EAAEsxB,KAAO+4C,GAC1D,GAAKlG,EAAL,CAKA5I,GAAU,GACVC,EAAS,IACT,IAEE,IAAI8O,EAAchM,GAAY/M,OAAOrwD,KAAMlB,IACzC,MAAMikE,EAAc,CAClB/8E,EAAG8Y,EAAEkiE,UACL/6E,EAAG6Y,EAAEoiE,UACLp7E,MAAOgZ,EAAEsiE,cACTr7E,OAAQ+Y,EAAEwiE,gBAGZ,OADgBgB,GAAuBW,EAAc5wD,OAAQ0wD,GAC5C,KAGnB,IAAKqG,EAAa,CAGhBA,QAAoB5L,EAAiB6L,iBAAiB,CACpD9K,KAAMnB,GAAYhtC,GAClB4wC,UAAW76D,KAAKo0C,MAA+B,IAAzB0oB,EAAc5wD,OAAOrsB,GAAW,IACtDk7E,UAAW/6D,KAAKo0C,MAA+B,IAAzB0oB,EAAc5wD,OAAOpsB,GAAW,IACtDm7E,cAAej7D,KAAKo0C,MAAmC,IAA7B0oB,EAAc5wD,OAAOvsB,OAAe,IAC9Dw7E,eAAgBn7D,KAAKo0C,MAAoC,IAA9B0oB,EAAc5wD,OAAOtsB,QAAgB,IAChEujF,aAAc,SAIhB,MAAMrJ,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAmBpJ,OAAOjlE,KAAK,IACvCg+E,EACH/F,eAAgB,KAElB7J,EAASyG,EACX,CAGA,MAAMmC,QAAqB5E,EAAiB6E,mBAAmB+G,EAAYh5C,GAAI+xC,GAGzElC,EAAe,IAAI1G,GACnBwI,EAAa9B,EAAaxG,GAAmBpJ,OAAO2R,UAAWljE,GAAMA,EAAEsxB,KAAOg5C,EAAah5C,IAC7F2xC,GAAc,IAChB9B,EAAaxG,GAAmBpJ,OAAO0R,GAAc,IAChDK,EACHiB,eAAgBpD,EAAaxG,GAAmBpJ,OAAO0R,GAAYsB,iBAGvE7J,EAASyG,GAGT,MAAM4C,EAAgB,IAAIvzE,IAAIwqE,GAC9B+I,EAAcn3E,IAAIy9E,EAAiB/G,EAAaU,SAAW,IAC3D/I,EAAmB8I,EACrB,OAASp7E,GACP6yE,EAAS7yE,EAAI2N,SAAW,2BAC1B,CAAA,QACEilE,GAAU,GACNmB,GAAaxe,UAASwe,GAAaxe,QAAQzzD,MAAQ,GACzD,CA7DA,MAFE+wE,EAAS,2BA80CaiP,CAAiCn8E,EAAGwsE,IAGxCjqC,MAAO,CAAEC,QAAS,eAMhB,WAATwI,GACCma,EAAAA,KAAC,IAAA,CAAE5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAII,OAAQ,GAAKrnC,SAAA,CAAA,mBAC5C,SAAA,CAAOgkB,MAAO,CAAEmE,MAAO,WAAanoB,SAAA,YAAgB,6BAIzD,SAATysB,GAAmB8kC,IAAe6L,GAAA,MAEjC,MAAMS,EAAqB,MAAApM,QAAA,EAAAA,GAAa/M,OAAOrwD,KAAMlB,IACnD,MAAMikE,EAAc,CAClB/8E,EAAG8Y,EAAEkiE,UACL/6E,EAAG6Y,EAAEoiE,UACLp7E,MAAOgZ,EAAEsiE,cACTr7E,OAAQ+Y,EAAEwiE,gBAEZ,OAAOgB,GAAuByG,EAAc12D,OAAQ0wD,GAAe,KAGrE,OACExwB,OAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,GAE3Dr1C,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,GAC3Dr1C,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CAAKhjB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIjP,WAAY,KAAOh4B,SAAA,gBAGlEgnC,MAAC,OAAIhjB,MAAO,CAAEC,QAAS,OAAQoxB,IAAK,EAAGoC,SAAU,QAC7Cz3C,SAAA,CAAC,OAAQ,UAAW,QAAS,UAAW,aAA8Bjb,IAAKhD,GAC3EilD,EAAAA,IAAC,SAAA,CAECic,QAAS,IAAM4L,EAAiB9sE,GAChCiiC,MAAO,CACL+iB,QAAS,UACTD,aAAc,EACdG,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,UACRwzB,OAAQ+nB,IAAkB7sE,EAAO,oBAAsB,oBACvDgmC,WAAY6mC,IAAkB7sE,EAAO,0BAA4B,UACjEomC,MAAOymC,IAAkB7sE,EAAO,UAAY,UAC5CmlD,cAAe,cAGhBlnC,SAAAje,GAdIA,SAoBb6kD,EAAAA,KAAC,SAAA,CACCqc,QAAS0O,UACP,GAAKyL,GAAkB3L,GAAvB,CACA/C,GAAU,GACV,IACE,IAAI+O,EAAcI,EAClB,IAAKJ,EAAa,CAEhBA,QAAoB5L,EAAiB6L,iBAAiB,CACpD9K,KAAMnB,GAAYhtC,GAClB4wC,UAAW76D,KAAKo0C,MAA+B,IAAzBwuB,EAAc12D,OAAOrsB,GAAW,IACtDk7E,UAAW/6D,KAAKo0C,MAA+B,IAAzBwuB,EAAc12D,OAAOpsB,GAAW,IACtDm7E,cAAej7D,KAAKo0C,MAAmC,IAA7BwuB,EAAc12D,OAAOvsB,OAAe,IAC9Dw7E,eAAgBn7D,KAAKo0C,MAAoC,IAA9BwuB,EAAc12D,OAAOtsB,QAAgB,IAChEujF,aAAc,SAGhB,MAAMrJ,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAmBpJ,OAAOjlE,KAAK,IACvCg+E,EACH/F,eAAgB,KAElB7J,EAASyG,EACX,CAGA,MAAMoG,QAAkB7I,EAAiB8I,mBAAmB,CAC1D5V,MAAO0Y,EAAYh5C,GACnB+0C,YAAa5K,EACbyG,UAAW,GACXE,UAAW,GACXE,cAAe,GACfE,eAAgB,GAChBp9D,KAAM,kBAGF+7D,EAAe,IAAI1G,GACnBsK,EAAW5D,EAAaxG,GAAmBpJ,OAAO2R,UACrDljE,GAAMA,EAAEsxB,KAAOg5C,EAAah5C,IAE3ByzC,GAAY,IACd5D,EAAaxG,GAAmBpJ,OAAOwT,GAAUR,eAAiB,IAC7DpD,EAAaxG,GAAmBpJ,OAAOwT,GAAUR,eACpDgD,GAEF7M,EAASyG,IAEXhG,EAAoBoM,EAAUj2C,GAChC,OAAS3oC,GACP6yE,EAAS7yE,EAAI2N,SAAW,8BAC1B,CAAA,QACEilE,GAAU,EACZ,CAlDoC,GAoDtCxe,SAAUue,EACVzqC,MAAO,CACLC,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChBxU,IAAK,EACLttB,WAAY,UACZI,MAAO,OACP4e,QAAS,YACTD,aAAc,EACdG,SAAU,GACVjP,WAAY,IACZ3kB,OAAQo7C,EAAS,OAAS,UAC1B5nB,OAAQ,QAGV7mC,SAAA,GAAAgnC,IAAC6zB,EAAA,CAAcx8E,KAAM,KAAM,+BAI5Bw/E,WAAoBnG,iBAAkBmG,EAAmBnG,eAAe15E,OAAS,KAChF4oD,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,GAC3Dr1C,SAAA,CAAA4mC,EAAAA,KAAC,OAAA,CAAK5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIjP,WAAY,KAAOh4B,SAAA,CAAA,YACtD69D,EAAmBnG,eAAe15E,OAAO,OAEpD6/E,EAAmBnG,eAAe3yE,IAAI,CAACoS,EAAQ3E,IAC9Co0C,EAAAA,KAAC,MAAA,CAECqc,QAAS,IAAMqL,EAAoBn3D,EAAOstB,IAC1CT,MAAO,CACL+D,WAAYsmC,IAAqBl3D,EAAOstB,GAAK,0BAA4B,UACzEoiB,OAAQ,cAAawnB,IAAqBl3D,EAAOstB,GAAK,UAAY,WAClEqiB,aAAc,EACdC,QAAS,EACTE,SAAU,GACV9e,MAAO,UACP9U,OAAQ,UACR4Q,QAAS,OACT4lC,eAAgB,gBAChBD,WAAY,UAGd5pD,SAAA,CAAA4mC,OAAC,OAAA,CAAK5mC,SAAA,CAAA,UAAQxN,EAAI,KAClBw0C,EAAAA,IAAC,SAAA,CACCic,QAAUxhE,IACRA,EAAEs5D,kBACFmZ,GAAmB/8D,EAAOstB,KAE5BT,MAAO,CACL+D,WAAY,cACZ8e,OAAQ,OACR1e,MAAO,UACP9U,OAAQ,UACR0zB,QAAS,GAGX/mC,SAAAgnC,EAAAA,IAACslB,EAAA,CAAOjuE,KAAM,SA7BX8Y,EAAOstB,QAoCpBuiB,EAAAA,IAAC,IAAA,CAAEhjB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAII,OAAQ,GAAKrnC,SAAA,gFAK/D,EApKmC,KAuKzC,KACE2kD,EACF/d,EAAAA,KAAAif,EAAAA,SAAA,CACE7lD,SAAA,CAAA4mC,OAAC,OAAI5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,IAAMjnC,SAAA,CAAA,iBACtCyxD,aAAa/M,OAAO2R,UAAWljE,GAAMA,EAAEsxB,KAAOkgC,IAAoB,KAI3EyM,IAA0B,YAAT3kC,GAChBua,EAAAA,IAAC,MAAA,CACChnC,SAAA4mC,EAAAA,KAAC,QAAA,CACC5iB,MAAO,CACLC,QAAS,OACT2lC,WAAY,SACZvU,IAAK,EACLttB,WAAY,UACZI,MAAO,OACP4e,QAAS,WACTD,aAAc,EACdG,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,WAGVrT,SAAA,GAAAgnC,IAACjsD,EAAA,CAAOsD,KAAM,KAAM,kBACpB2oD,EAAAA,IAAC,QAAA,CACC9mC,IAAK2vD,GACL9tE,KAAK,OACLw7E,OAAO,4CACP53B,SAAWlkD,GAAM80E,GAAoB90E,EAAGkjE,GACxC3gC,MAAO,CAAEC,QAAS,eAOzBmtC,IACCxqB,EAAAA,KAAC,SAAA,CACCqc,QAAS,IAAMmR,GAAkBzP,GACjC3gC,MAAO,CACL+D,WAAY,yBACZ8e,OAAQ,oBACR1e,MAAO,UACP4e,QAAS,WACTD,aAAc,EACdG,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,UACR4Q,QAAS,OACT2lC,WAAY,SACZvU,IAAK,GAGPr1C,SAAA,GAAAgnC,IAACslB,EAAA,CAAOjuE,KAAM,KAAM,mBAKvB+yE,IAA0B,WAAT3kC,GAAS,MACzB,MAAM2wC,EAAgB,MAAA3L,QAAA,EAAAA,GAAa/M,OAAOrwD,KAAMlB,GAAMA,EAAEsxB,KAAOkgC,GAC/D,IAAKyY,EAAe,OAAO,KAE3B,MAAMU,EAAmBnM,MAAOuJ,IAC9B,MAAM5G,EAAe,IAAI1G,GACnBwI,EAAa,MAAA3E,QAAA,EAAAA,GAAa/M,OAAO2R,UAAWljE,GAAMA,EAAEsxB,KAAOkgC,GACjE,QAAmB,IAAfyR,GAA4BA,GAAc,EAAG,CAC/C9B,EAAaxG,GAAmBpJ,OAAO0R,GAAc,IAChDgH,KACAlC,GAELrN,EAASyG,GACT,UACQzC,EAAiByE,iBAAiB3R,EAAiBuW,EAC3D,OAASp/E,GAET,CACF,GAGF,OACE8qD,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAEC,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,GAAItb,UAAW,GAC1E/5B,SAAA,GAAAgnC,IAAC,OAAA,CAAKhjB,MAAO,CAAEmE,MAAO,UAAW6P,WAAY,IAAKiP,SAAU,GAAIkmB,UAAW,oBAAqBpjB,WAAY,IAAM/pC,SAAA,yBAKjH,MAAA,CACCA,SAAA,CAAA4mC,EAAAA,KAAC,QAAA,CAAM5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIhjB,QAAS,QAAS+V,aAAc,GAAKh6B,SAAA,CAAA,iBACpEo9D,EAAcxD,aAAa,QAE5C5yB,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACL0Y,IAAK,EACLmQ,IAAK,GACLhtB,MAAOw/E,EAAcxD,aACrBj0B,SAAWlkD,GAAMq8E,EAAiB,CAAElE,aAAc/2C,SAASphC,EAAE8a,OAAO3e,SACpEomC,MAAO,CAAE7pC,MAAO,OAAQwyE,YAAa,uBAKxC,MAAA,CACC3sD,SAAA,GAAAgnC,IAAC,QAAA,CAAMhjB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIhjB,QAAS,QAAS+V,aAAc,GAAKh6B,SAAA,iBAGrFgnC,EAAAA,IAAC,OAAIhjB,MAAO,CAAEC,QAAS,OAAQoxB,IAAK,EAAGoC,SAAU,QAC9Cz3C,UAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAWjb,IAAKojC,GAC7F6e,EAAAA,IAAC,SAAA,CAECic,QAAS,IAAM6a,EAAiB,CAAEpE,aAAcvxC,IAChDnE,MAAO,CACL7pC,MAAO,GACPC,OAAQ,GACR0sD,aAAc,EACd/e,WAAYI,EACZ0e,QAASu2B,EAAc1D,cAAgB,aAAevxC,EAClD,oBACA,oBACJ9U,OAAQ,WAEV84C,MAAOhkC,GAZFA,gBAmBZ,MAAA,CACCnoB,SAAA,CAAA4mC,EAAAA,KAAC,QAAA,CAAM5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIhjB,QAAS,QAAS+V,aAAc,GAAKh6B,SAAA,CAAA,WAC1Eo9D,EAAcrD,QAAU,EAAE,OAErC/yB,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACL0Y,KAAK,GACLmQ,IAAK,GACLhtB,MAAOw/E,EAAcrD,QAAU,EAC/Bp0B,SAAWlkD,GAAMq8E,EAAiB,CAAE/D,OAAQl3C,SAASphC,EAAE8a,OAAO3e,SAC9DomC,MAAO,CAAE7pC,MAAO,OAAQwyE,YAAa,uBAKxC,MAAA,CACC3sD,SAAA,CAAA4mC,EAAAA,KAAC,QAAA,CAAM5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIhjB,QAAS,QAAS+V,aAAc,GAAKh6B,SAAA,CAAA,WAC1Eo9D,EAAcpD,QAAU,EAAE,OAErChzB,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACL0Y,KAAK,GACLmQ,IAAK,GACLhtB,MAAOw/E,EAAcpD,QAAU,EAC/Br0B,SAAWlkD,GAAMq8E,EAAiB,CAAE9D,OAAQn3C,SAASphC,EAAE8a,OAAO3e,SAC9DomC,MAAO,CAAE7pC,MAAO,OAAQwyE,YAAa,uBAKxC,MAAA,CACC3sD,SAAA,CAAA4mC,EAAAA,KAAC,QAAA,CAAM5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,GAAIhjB,QAAS,QAAS+V,aAAc,GAAKh6B,SAAA,CAAA,aACxEo9D,EAActD,UAAY,EAAE,OAEzC9yB,EAAAA,IAAC,QAAA,CACCjlD,KAAK,QACL0Y,KAAK,GACLmQ,IAAK,GACLhtB,MAAOw/E,EAActD,UAAY,EACjCn0B,SAAWlkD,GAAMq8E,EAAiB,CAAEhE,SAAUj3C,SAASphC,EAAE8a,OAAO3e,SAChEomC,MAAO,CAAE7pC,MAAO,OAAQwyE,YAAa,kBAK/C,EAlH2B,GAqHjB,SAATlgC,GACCma,EAAAA,KAAC,MAAA,CAAI5iB,MAAO,CAAE+V,UAAW,IACvB/5B,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CAAKhjB,MAAO,CAAEmE,MAAO,UAAW6P,WAAY,IAAKiP,SAAU,IAAMjnC,SAAA,mBAGlEgnC,EAAAA,IAAC,MAAA,CAAIhjB,MAAO,CAAE+V,UAAW,EAAG9V,QAAS,OAAQ22B,cAAe,SAAUvF,IAAK,GACxEr1C,qCAAa0kD,OACXrwD,KAAMlB,GAAMA,EAAEsxB,KAAOkgC,aACpB+S,eAAe3yE,IAAI,CAACoS,EAAQ3E,IAC5Bo0C,EAAAA,KAAC,MAAA,CAECqc,QAAS,IAAMqL,EAAoBn3D,EAAOstB,IAC1CT,MAAO,CACL+D,WACEsmC,IAAqBl3D,EAAOstB,GACxB,0BACA,UACNoiB,OAAQ,cACNwnB,IAAqBl3D,EAAOstB,GAAK,UAAY,WAE/CqiB,aAAc,EACdC,QAAS,EACT1zB,OAAQ,UACR4Q,QAAS,OACT4lC,eAAgB,gBAChBD,WAAY,UAGd5pD,SAAA,CAAA4mC,OAAC,QAAK5iB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,IACxCjnC,SAAA,CAAA7I,EAAOqiE,YAAY,KAAGhnE,EAAI,KAE5B++D,IACCvqB,EAAAA,IAAC,SAAA,CACCic,QAAUxhE,IACRA,EAAEs5D,kBACFmZ,GAAmB/8D,EAAOstB,KAE5BT,MAAO,CACL+D,WAAY,OACZ8e,OAAQ,OACR1e,MAAO,UACP9U,OAAQ,UACR0zB,QAAS,GAGX/mC,SAAAgnC,EAAAA,IAACslB,EAAA,CAAOjuE,KAAM,SAnCb8Y,EAAOstB,aA6C1BuiB,EAAAA,IAAC,MAAA,CAAIhjB,MAAO,CAAEmE,MAAO,UAAW8e,SAAU,IAAMjnC,SAAA,sCAMjDoxD,IAAiBxD,EAAM5vE,OAAS,GAC/BgpD,EAAAA,IAAC,SAAA,CACCic,QAh6Ee0O,UACvB,GAAKP,IAAkBK,MAAe7D,EAAM5vE,QAAU,IACjDguE,QAAQ,4CAAb,CAEA0C,GAAU,GACV,UACQmD,EAAiBkM,gBAAgBtM,GAAYhtC,IACnD,MAAM20C,EAAWxL,EAAM90D,OAAO,CAACohB,EAAG1nB,IAAMA,IAAMs7D,GAC9CD,EAASuL,GACTrL,EAAqBvzD,KAAKoQ,IAAI,EAAGkjD,EAAoB,IAEjDoB,IACF2D,GAAqB3D,GAAiBkK,EAASp7E,OAEnD,OAASlC,GACP6yE,EAAS7yE,EAAI2N,SAAW,wBAC1B,CAAA,QACEilE,GAAU,EACZ,CAhB0D,GA+5ElD1qC,MAAO,CACL+V,UAAW,OACXhS,WAAY,yBACZ8e,OAAQ,oBACR1e,MAAO,UACP4e,QAAS,WACTD,aAAc,EACdG,SAAU,GACVjP,WAAY,IACZ3kB,OAAQ,WAEXrT,SAAA,mBAOLgnC,EAAAA,IAAC,QAAA,CACC9mC,IAAK2vD,GACL9tE,KAAK,OACLw7E,OAAO,4CACPv5C,MAAO,CAAEC,QAAS,UAInB6mC,GACC9jB,EAAAA,IAAC,MAAA,CACChjB,MAAO,CACLjP,SAAU,QACVhO,IAAK,EACLC,KAAM,EACNC,MAAO,EACPH,OAAQ,EACRihB,WAAY,qBACZ9D,QAAS,OACT2lC,WAAY,SACZC,eAAgB,SAChBnW,OAAQ,KAEVuP,QAAS,IAAM8H,GAAiB,GAEhC/qD,SAAA4mC,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACL+D,WAAY,UACZ+e,aAAc,GACdC,QAAS,GACTmR,SAAU,IACV/9D,MAAO,MACPg+D,UAAW,OACX6U,SAAU,QAEZ/J,QAAUxhE,GAAMA,EAAEs5D,kBAElB/6C,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLC,QAAS,OACT4lC,eAAgB,gBAChBD,WAAY,SACZ5vB,aAAc,IAGhBh6B,SAAA,GAAAgnC,IAAC,KAAA,CAAGhjB,MAAO,CAAEmE,MAAO,UAAWkf,OAAQ,EAAGJ,SAAU,GAAIjP,WAAY,KAAOh4B,SAAA,6BAG3EgnC,EAAAA,IAAC,SAAA,CACCic,QAAS,IAAM8H,GAAiB,GAChC/mC,MAAO,CACL+D,WAAY,cACZ8e,OAAQ,OACR1e,MAAO,UACP9U,OAAQ,UACR0zB,QAAS,GAGX/mC,SAAAgnC,EAAAA,IAACulB,EAAA,CAAEluE,KAAM,UAIb2oD,EAAAA,IAAC,MAAA,CACChjB,MAAO,CACLC,QAAS,OACTuoC,oBAAqB,iBACrBnX,IAAK,IAGNr1C,SAAAqtD,GAAgBtoE,IAAKgnE,GACpBnlB,EAAAA,KAAC,SAAA,CAECqc,QAAS,IAp2EH0O,OAAO5F,IAC3B,GAAKqF,IAAkBK,GAAvB,CAGA,GAAIA,GAAY/M,OAAO1mE,OAAS,EAAG,CACjC,IAAKguE,QAAQ,0CAA2C,OAGxD0C,GAAU,GACV,IACE,IAAA,MAAW3J,KAAS0M,GAAY/M,aACxBmN,EAAiBwC,iBAAiBtP,EAAMtgC,GAElD,OAAS3oC,GAGP,OAFA6yE,EAAS7yE,EAAI2N,SAAW,wCACxBilE,GAAU,EAEZ,CACF,CAGAA,GAAU,GACV,IACE,MAAMsP,EAA0B,GAChC,IAAA,MAAW7qE,KAAK44D,EAASrH,OAAQ,CAC/B,MAAMuZ,QAAiBpM,EAAiB6L,iBAAiB,CACvD9K,KAAMnB,GAAYhtC,GAClB4wC,UAAWliE,EAAE9Y,EACbk7E,UAAWpiE,EAAE7Y,EACbm7E,cAAetiE,EAAEm6D,EACjBqI,eAAgBxiE,EAAEo6D,EAClBwM,OAAQ5mE,EAAE+qE,OAAS,EACnBlE,OAAQ7mE,EAAEgrE,OAAS,IAErBH,EAAUv+E,KAAKw+E,EACjB,CAEA,MAAM3J,EAAe,IAAI1G,GACzB0G,EAAaxG,GAAqB,IAC7B2D,GACH/M,OAAQsZ,GAEVnQ,EAASyG,GACTvJ,GAAiB,GACjBiD,EAAmB,MACnBE,EAA2B,KAC7B,OAASpyE,GACP6yE,EAAS7yE,EAAI2N,SAAW,2BAC1B,CAAA,QACEilE,GAAU,EACZ,CAjDoC,GAm2EP0P,CAAcrS,GAC7B7b,SAAUue,EACVzqC,MAAO,CACL+D,WAAY,UACZ8e,OAAQ,oBACRC,aAAc,EACdC,QAAS,GACT1zB,OAAQ,UACRsyC,WAAY,qCAEdkH,YAAcprE,IACZA,EAAEoiE,cAAc7/B,MAAM8oC,YAAc,UACpCrrE,EAAEoiE,cAAc7/B,MAAMn2B,UAAY,eAEpCk/D,WAAatrE,IACXA,EAAEoiE,cAAc7/B,MAAM8oC,YAAc,UACpCrrE,EAAEoiE,cAAc7/B,MAAMn2B,UAAY,YAIpCmS,SAAA,CAAAgnC,EAAAA,IAAC,MAAA,CACChjB,MAAO,CACL7pC,MAAO,OACPoxE,YAAa,SACbxjC,WAAY,OACZ+e,aAAc,EACd9M,aAAc,EACdjlB,SAAU,WACVi4C,SAAU,UAGXhtD,SAAA+rD,EAASrH,OAAO3/D,IAAI,CAACoO,EAAGX,IACvBw0C,EAAAA,IAAC,MAAA,CAEChjB,MAAO,CACLjP,SAAU,WACV/N,KAAM,GAAG7T,EAAE9Y,KACX0sB,IAAK,GAAG5T,EAAE7Y,KACVH,MAAO,GAAGgZ,EAAEm6D,KACZlzE,OAAQ,GAAG+Y,EAAEo6D,KACb1mB,OAAQ,iBACR9e,WAAY,UACZl6B,UAAW,SAASsF,EAAE+qE,OAAS,eAAe/qE,EAAEgrE,OAAS,QACzDlE,gBAAiB,kBAVdznE,MAeXw0C,EAAAA,IAAC,OAAA,CACChjB,MAAO,CACLmE,MAAO,UACP8e,SAAU,GACVjP,WAAY,KAGbh4B,SAAA+rD,EAAS/vE,SAxDP+vE,EAAStnC,cAkEhC,CA0BA,SAAS+3C,IAAezX,MACtBA,EAAA7C,WACAA,EAAAua,WACAA,EAAAjS,QACAA,EAAA+G,YACAA,EAAA9kC,KACAA,EAAA4hC,iBACAA,EAAApN,YACAA,EAAAC,aACAA,EAAAwb,SACAA,EAAAC,iBACAA,EAAAxpB,YACAA,EAAAxC,OACAA,EAAAisB,UACAA,EAAAC,SACAA,EAAAC,gBACAA,EAAAC,eACAA,EAAAC,mBACAA,EAAAC,uBACAA,EAAAC,eACAA,IAEA,MAAMmB,EAAYzX,EAAAA,OAA8B,OAGzC0X,EAAiBC,GAAsB/a,EAAAA,SAAS,CAAErpE,MAAO,EAAGC,OAAQ,KAGpEokF,EAAwBC,GAA6Bjb,EAAAA,SAAS,CAAErpE,MAAO,EAAGC,OAAQ,IACnFskF,EAAsB9X,EAAAA,OAAO4X,GACnCE,EAAoBrtB,QAAUmtB,EAI9B/W,EAAAA,UAAU,KACR,GAAIxG,EAAc,GAAKC,EAAe,EAAG,CACvC,MAAM7P,EAAUqtB,EAAoBrtB,QAC9BiiB,EAAY94D,KAAK46C,IAAI6L,EAAc5P,EAAQl3D,OAC3Co5E,EAAa/4D,KAAK46C,IAAI8L,EAAe7P,EAAQj3D,SAE7B,IAAlBi3D,EAAQl3D,OAAem5E,EAAY,GAAKC,EAAa,IACvDkL,EAA0B,CAAEtkF,MAAO8mE,EAAa7mE,OAAQ8mE,GAE5D,GACC,CAACD,EAAaC,IAGjB,MAAMyd,EAAuBH,EAAuBrkF,OAAS8mE,GAAe,IACtE2d,EAAwBJ,EAAuBpkF,QAAU8mE,GAAgB,IAEzE2d,EAAU9Z,EAAMsQ,UAAY,IAAOsJ,EACnCG,EAAU/Z,EAAMwQ,UAAY,IAAOqJ,EACnCG,EAAcha,EAAM0Q,cAAgB,IAAOkJ,EAC3CK,EAAeja,EAAM4Q,eAAiB,IAAOiJ,EAGnDnX,EAAAA,UAAU,KACR,GAAI4W,EAAUhtB,QAAS,CACrB,MAAM57B,EAAO4oD,EAAUhtB,QAAQxqC,wBAC/B03D,EAAmB,CAAEpkF,MAAOs7B,EAAKt7B,MAAOC,OAAQq7B,EAAKr7B,QACvD,GACC,CAAC2kF,EAAYC,IAGhB,MAAMC,EAA+B,IAAvBN,EACRO,EAAgC,IAAxBN,EAEd,OACE53B,EAAAA,IAAC+V,GAAA,CACChoC,SAAU,CACR16B,EAAGwkF,EACHvkF,EAAGwkF,GAELzgF,KAAM,CACJlE,MAAO4kF,EACP3kF,OAAQ4kF,GAEVh7C,MAAO,CACLjP,SAAU,WACV2+B,OAAQqR,EAAMoa,SAAWjd,EAAa,IAAM,GAC5CyD,WAAY8W,EAAa,OAAS,4BAGpC5c,SAAU,CAACof,EAAOC,GAClBhf,WAAY,CAAC+e,EAAOC,GACpBxnB,SAAiC,GAAvBinB,EACVhnB,UAAmC,GAAxBinB,EACXjf,iBAAkB6K,GAAoB,WAAT/9B,EAC7BwzB,eAAgBuK,GAAoB,WAAT/9B,EAC3B0mB,YAAa,KACXA,KAEFxC,OAAQ,CAAClvD,EAAGzH,KAEV22D,EAAO32D,EAAEK,EAAGL,EAAEM,EAAGykF,EAAYC,IAE/B5rB,WAAY,CAAC3xD,EAAGzH,KACd4iF,IACAD,EAAiB3iF,EAAEK,EAAGL,EAAEM,EAAGykF,EAAYC,IAEzCpjB,aAAc,CAACn6D,EAAG2mC,EAAWloB,EAAK3F,EAAOwa,KACvC6nD,IACAD,EAAiB5nD,EAAS16B,EAAG06B,EAASz6B,EAAG4lB,EAAI67B,YAAa77B,EAAI45B,eAEhEmpB,QAAUxhE,IACRA,EAAEs5D,kBACF2hB,KAGF18D,SAAA4mC,EAAAA,KAAC,MAAA,CACC1mC,IAAKm+D,EACLr6C,MAAO,CACL7pC,MAAO,OACPC,OAAQ,OACRysD,OAAQ,GAAGke,EAAM6U,cAAgB,OAA8B,SAAvB7U,EAAM4Y,aAA0B,OAAU5Y,EAAM4Y,cAAgB,WAAY5Y,EAAM2U,cAAgB,YAC1I5yB,aAAcie,EAAM8U,eAAiB,EACrC9xC,WAAYg9B,EAAM0U,kBAAoB,UACtC1kD,SAAU,WACVi4C,SAAU,SAEVE,UAAWuP,EACP,uHACAva,EACE,iDACA,wDACN7uC,OAAiB,WAAToZ,GAAqB+9B,EAAU,OAAS,UAChD38D,UAAW,UAAUk3D,EAAM+U,UAAY,eAAe/U,EAAMgV,QAAU,eAAehV,EAAMiV,QAAU,QAAQyC,EAAa,eAAiB,KAC3IxC,gBAAiB,gBACjBtU,WAAY8W,EAAa,OAAS,+FAInCz8D,SAAA,CAAA+kD,EAAMoS,SACLnwB,EAAAA,IAAC,MAAA,CACCpqC,IAAKmoD,EAAMoS,QACXiI,IAAI,GACJp7C,MAAO,CACL7pC,MAAO,OACPC,OAAQ,OACRilF,UAAWta,EAAMua,YACjBhb,cAAe,WAMnBS,EAAMoS,SAAoB,YAAT1qC,GAAsB+9B,GACvC5jB,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACLjP,SAAU,WACVhO,IAAK,MACLC,KAAM,MACNnZ,UAAW,wBACXu5C,UAAW,SACXjf,MAAO,UACPm8B,cAAe,QAGjBtkD,SAAA,CAAAgnC,MAACjsD,GAAOsD,KAAM,GAAI2lC,MAAO,CAAE8yB,QAAS,MACpC9P,EAAAA,IAAC,KAAEhjB,MAAO,CAAEijB,SAAU,GAAII,OAAQ,WAAarnC,SAAA,sBAKlD+kD,EAAM2S,eAAe3yE,IAAKoS,GACzB6vC,EAAAA,IAACu4B,GAAA,CAECpoE,SACA+qD,WAAYmM,IAAqBl3D,EAAOstB,GACxC+lC,QAAS+G,GAAwB,SAAT9kC,EACxBsrC,WAAYuG,EAAgBnkF,MAC5B69E,YAAasG,EAAgBlkF,OAC7BsiF,SAAU,IAAMK,EAAe5lE,EAAOstB,IACtC+6C,aAAejnE,GAASykE,EAAmB7lE,EAAOstB,GAAIlsB,GACtDokE,iBAAkB,CAACtiF,EAAGC,EAAGgzE,EAAGC,IAC1B0P,EAAuB9lE,EAAOstB,GAAIpqC,EAAGC,EAAGgzE,EAAGC,EAAG+Q,EAAgBnkF,MAAOmkF,EAAgBlkF,SATlF+c,EAAOstB,SAgBxB,CAcA,SAAS86C,IAAgBpoE,OACvBA,EAAA+qD,WACAA,EAAAsI,QACAA,EAAAuN,WACAA,EAAAC,YACAA,EAAA0E,SACAA,EAAA8C,aACAA,EAAA7C,iBACAA,IAGA,MA2CM8C,EAAqB1H,EAAa,GAAKC,EAAc,EACrD0H,EAAsBD,EAAqB1H,EAAa,IACxD4H,EAAuBF,EAAqBzH,EAAc,IAE1D6G,EAAU1nE,EAAOk+D,UAAY,IAAOqK,EACpCZ,EAAU3nE,EAAOo+D,UAAY,IAAOoK,EACpCZ,EAAc5nE,EAAOs+D,cAAgB,IAAOiK,EAC5CV,EAAe7nE,EAAOw+D,eAAiB,IAAOgK,EAEpD,OACE34B,EAAAA,IAAC+V,GAAA,CACChoC,SAAU,CAAE16B,EAAGwkF,EAAQvkF,EAAGwkF,GAC1BzgF,KAAM,CAAElE,MAAO4kF,EAAY3kF,OAAQ4kF,GACnCt4D,OAAO,SACPi5C,iBAAkB6K,EAClBvK,eAAgBuK,EAChB9S,SAAU,GACVC,UAAW,GACX3zB,MAAO,CACL0vB,OAAQv8C,EAAOgoE,SAAWjd,EAAa,GAAK,IAE9C9O,WAAY,CAAC3xD,EAAGzH,KACd2iF,EAAiB3iF,EAAEK,EAAGL,EAAEM,EAAGykF,EAAYC,IAEzCpjB,aAAc,CAACn6D,EAAG2mC,EAAWloB,EAAK3F,EAAOwa,KACvC4nD,EAAiB5nD,EAAS16B,EAAG06B,EAASz6B,EAAG4lB,EAAI67B,YAAa77B,EAAI45B,eAEhEmpB,QAAUxhE,IACRA,EAAEs5D,kBACF2hB,KAGF18D,SAAA4mC,EAAAA,KAAC,MAAA,CACC5iB,MAAO,CACL7pC,MAAO,OACPC,OAAQ,OACRi5B,OAAQm3C,EAAU,OAAS,UAC3BoO,QAAS1W,EAAa,oBAAsB,OAC5Cpb,aAAc,GAGlB9mC,SAAA,CAAA4mC,EAAAA,KAAC,MAAA,CACCzsD,MAAM,OACNC,OAAO,OACP6yE,QAAS,aACTxH,oBAAoB,OACpBzhC,MAAO,CAAEjP,SAAU,WAAYhO,IAAK,EAAGC,KAAM,GAE7ChH,SAAA,CAAAgnC,EAAAA,IAAC,OAAA,CACChtD,EA5Fc,EAACszE,EAAWC,KAChC,MAAM3yE,EAAK0yE,EAAI,EACTzyE,EAAK0yE,EAAI,EACThzE,EAAK+yE,EAAI,EAAI,EACbqM,EAAKpM,EAAI,EAAI,GAEnB,OAAQp2D,EAAOqiE,aACb,IAAK,UAEH,MAAO,KAAK5+E,KAAU,IAAJ2yE,kBACR,GAAJD,KAAe,GAAJC,MAAgB,IAAJD,KAAgB,IAAJC,kBAC/B,IAAJD,KAAgB,GAAJC,MAAgB,IAAJD,KAAgB,IAAJC,kBAChC,GAAJD,KAAe,GAAJC,MAAY3yE,KAAU,IAAJ2yE,kBACzB,GAAJD,KAAe,GAAJC,MAAgB,IAAJD,KAAgB,IAAJC,kBAC/B,IAAJD,KAAgB,GAAJC,MAAgB,IAAJD,KAAgB,IAAJC,kBAChC,GAAJD,KAAe,GAAJC,MAAY3yE,KAAU,IAAJ2yE,iBAErC,IAAK,QAEH,MAAMvI,EAAS,GACf,IAAItgD,EAAO,GACX,IAAA,IAASlS,EAAI,EAAGA,EAAIwyD,EAAQxyD,IAAK,CAC/B,MAAMotE,EAASptE,EAAIwyD,EAAUxqD,KAAKqlE,GAAK,EACjC/kF,EAAI0X,EAAI,GAAM,EAAuB,GAAnBgI,KAAKC,IAAIlgB,EAAIo/E,GAA+B,EAAnBn/D,KAAKC,IAAIlgB,EAAIo/E,GAG9Dj1D,IAAe,IAANlS,EAAU,IAAM,KAAO,IAFtB5X,EAAK4f,KAAKslE,IAAIF,GAAS9kF,KACvBD,EAAK2f,KAAKulE,IAAIH,GAAS9kF,IAEnC,CACA,OAAO4pB,EAAO,IAChB,IAAK,YACL,IAAK,UAEH,MAAO,WAAW4oD,EAAI,SAASA,EAAI,KAAKC,EAAI,SAASA,EAAI,MAE3D,QAEE,MAAO,KAAK3yE,KAAMC,EAAK8+E,kBACjBp/E,KAAMo/E,WAAY/+E,KAAMC,EAAK8+E,kBAC7Bp/E,KAAMo/E,WAAY/+E,KAAMC,EAAK8+E,MAsD9BqG,CAAc,IAAK,IACtBvkC,KAAMtkC,EAAOsiE,iBACbj+B,OAAQrkC,EAAOuiE,aACfrX,YAAalrD,EAAOyiE,aACpBvV,gBAAwC,YAAvBltD,EAAOqiE,YAA4B,MAAQ,SAGhC,SAA7BriE,EAAO8oE,mBAAuD,cAAvB9oE,EAAOqiE,aAC7CxyB,EAAAA,IAAC,UAAA,CACCge,OAC+B,WAA7B7tD,EAAO8oE,kBACH,GAAG,GAA+B,GAA1B9oE,EAAO+oE,6BAAmC,GAA+B,GAA1B/oE,EAAO+oE,sBACjC,SAA7B/oE,EAAO8oE,kBACP,mBAC6B,UAA7B9oE,EAAO8oE,kBACP,qBACA,GAAG,GAA+B,GAA1B9oE,EAAO+oE,6BAAmC,GAA+B,GAA1B/oE,EAAO+oE,qBAEpEzkC,KAAMtkC,EAAOsiE,iBACbj+B,OAAQrkC,EAAOuiE,aACfrX,YAAalrD,EAAOyiE,kBAM1B5yB,EAAAA,IAAC,MAAA,CACChjB,MAAO,CACLjP,SAAU,WACVhO,IAAK,MACLC,KAAM,MACN7sB,MAAO,MACPC,OAAQ,MACR6pC,QAAS,OACT2lC,WAAY,SACZC,eAAgB,UAGjB7pD,YAAWkiD,EACVlb,EAAAA,IAAC,WAAA,CACCppD,MAAOuZ,EAAOoB,KACdotC,SAAWlkD,GAAM+9E,EAAa/9E,EAAE8a,OAAO3e,OACvComC,MAAO,CACL7pC,MAAO,OACPC,OAAQ,OACR4rE,WAAY7uD,EAAOklE,YACnBp1B,SAAUzsC,KAAKC,IAAItD,EAAOgpE,UAAW,IACrCh4C,MAAOhxB,EAAOipE,WACdpoC,WAAY7gC,EAAOkpE,YACnBvoC,UAAW3gC,EAAOmpE,WAClBl5B,UAAWjwC,EAAOilE,WAClBr0C,WAAY,cACZ8e,OAAQ,OACRs1B,OAAQ,OACRvD,QAAS,OACT5L,SAAU,YAIdhmB,EAAAA,IAAC,OAAA,CACChjB,MAAO,CACLgiC,WAAY7uD,EAAOklE,YACnBp1B,SAAUzsC,KAAKC,IAAItD,EAAOgpE,UAAW,IACrCh4C,MAAOhxB,EAAOipE,WACdpoC,WAAY7gC,EAAOkpE,YACnBvoC,UAAW3gC,EAAOmpE,WAClBl5B,UAAWjwC,EAAOilE,WAClBE,UAAW,aACXtP,SAAU,UAGXhtD,SAAA7I,EAAOoB,aAOpB","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113]}