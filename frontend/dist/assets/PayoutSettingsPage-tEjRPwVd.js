import{j as e,P as t,a as n,L as i,T as r,b as o,c as s,d as a,f as l,C as d,S as c,W as p,g as u}from"./web3auth-C90gi1IA.js";import{r as x,L as g}from"./router-zDWjfnwa.js";import{c as f,o as h,a as y,s as b,d as m,l as j,W as S,B as k,g as v,b as w,e as z,f as C}from"./bridgeApi-DlZu7ktT.js";import{C as I,T as A}from"./trash-2-_g6gj0do.js";import{C as B,T}from"./triangle-alert-B0u3pFIo.js";import{c as R,C as W,b as M,A as E}from"./index-DKWUiJig.js";import{E as $}from"./external-link-DO6dXWqg.js";import{S as D}from"./star-BGo1XIyo.js";import{L as _,I as P}from"./loader-Df51iWkj.js";import{S as L}from"./send-BljADQkd.js";import{A as U}from"./arrow-left-BFgSnPUd.js";import{S as F}from"./shield-CXjaDAKD.js";import{C as N}from"./circle-check-szhDDApk.js";import{P as H}from"./plus-DWHTeuR5.js";import{C as V}from"./credit-card-8M3W0KYb.js";import"./vendor-Cfs_Iq82.js";
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=R("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),q=R("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),O=R("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),G=R("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),X=R("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),J=R("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),K=R("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Q="#334155",Z="#334155",ee="#cbd5e1",te="#94a3b8",ne="#f59e0b",ie="#10b981",re="rgba(16,185,129,0.15)",oe="#ef4444",se="rgba(239,68,68,0.15)",ae="#f59e0b",le="rgba(245,158,11,0.15)",de="#3b82f6",ce=({status:t,hasCustomer:n,onStatusChange:i})=>{const[r,o]=x.useState(!1),[s,a]=x.useState(null),l=t||"not_started",d={not_started:{icon:I,label:"Not Started",description:"Complete identity verification to enable bank payouts.",color:te,bgColor:Q},pending:{icon:M,label:"Pending Review",description:"Your verification is being reviewed. This usually takes a few minutes.",color:ae,bgColor:le},approved:{icon:W,label:"Verified",description:"Your identity has been verified. You can now link bank accounts.",color:ie,bgColor:re},rejected:{icon:B,label:"Verification Failed",description:"Your verification was not approved. Please try again with valid documents.",color:oe,bgColor:se},incomplete:{icon:I,label:"Incomplete",description:"Your verification is incomplete. Please complete all required steps.",color:ae,bgColor:le}}[l],c=d.icon;return e.jsxs("div",{children:[e.jsxs("div",{style:{background:d.bgColor,borderRadius:12,padding:16,display:"flex",alignItems:"flex-start",gap:12},children:[e.jsx(c,{size:24,style:{color:d.color,flexShrink:0,marginTop:2}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:d.color,fontWeight:600,fontSize:15},children:d.label}),e.jsx("p",{style:{color:ee,fontSize:13,margin:"4px 0 0",lineHeight:1.5},children:d.description})]})]}),s&&e.jsx("div",{style:{marginTop:16,padding:12,background:se,border:`1px solid ${oe}40`,borderRadius:8,color:oe,fontSize:13},children:s}),e.jsxs("div",{style:{marginTop:16,display:"flex",gap:12},children:[("not_started"===l||"rejected"===l||"incomplete"===l)&&e.jsxs("button",{onClick:async()=>{o(!0),a(null);try{n||await f(),await h(),null==i||i()}catch(e){a(e instanceof Error?e.message:"Failed to start KYC")}finally{o(!1)}},disabled:r,style:{display:"inline-flex",alignItems:"center",gap:8,padding:"10px 20px",background:ne,color:"#000",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:r?"not-allowed":"pointer",opacity:r?.6:1},children:[e.jsx($,{size:16}),n?"Continue Verification":"Start Verification"]}),"pending"===l&&e.jsxs("button",{onClick:async()=>{o(!0);try{await y(),null==i||i()}catch(e){}finally{o(!1)}},disabled:r,style:{display:"inline-flex",alignItems:"center",gap:8,padding:"10px 20px",background:Q,color:ee,border:`1px solid ${Z}`,borderRadius:8,fontSize:14,fontWeight:500,cursor:r?"not-allowed":"pointer",opacity:r?.6:1},children:[e.jsx(J,{size:16,style:r?{animation:"spin 1s linear infinite"}:{}}),"Refresh Status"]})]}),e.jsxs("p",{style:{marginTop:16,fontSize:12,color:te,lineHeight:1.5},children:["Verification is powered by Bridge.xyz. Your data is securely handled according to their"," ",e.jsx("a",{href:"https://www.bridge.xyz/privacy",target:"_blank",rel:"noopener noreferrer",style:{color:de,textDecoration:"none"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:"privacy policy"}),"."]}),e.jsx("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})},pe="#0f172a",ue="#1e293b",xe="#334155",ge="#334155",fe="#f8fafc",he="#cbd5e1",ye="#94a3b8",be="#ef4444",me="rgba(239,68,68,0.15)",je="#3b82f6",Se="rgba(59,130,246,0.15)",ke=({account:t,onUpdate:n})=>{const[i,r]=x.useState(!1),[o,s]=x.useState(!1),[a,l]=x.useState(null);return e.jsxs("div",{style:{background:pe,border:`1px solid ${ge}`,borderRadius:12,padding:16,position:"relative"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[e.jsx("div",{style:{padding:10,background:xe,borderRadius:10},children:e.jsx(O,{size:20,style:{color:ye}})}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontWeight:600,color:fe,fontSize:15},children:t.account_name}),t.is_default&&e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4,padding:"2px 8px",background:Se,color:je,fontSize:11,fontWeight:600,borderRadius:20},children:[e.jsx(D,{size:10}),"Default"]})]}),e.jsxs("p",{style:{fontSize:13,color:ye,marginTop:4},children:[t.bank_name||"Bank Account"," • ",t.account_type]}),t.last_four&&e.jsxs("p",{style:{fontSize:12,color:ye,marginTop:4},children:["****",t.last_four]})]})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:()=>s(!o),disabled:i,style:{padding:6,background:"transparent",border:"none",borderRadius:6,cursor:i?"not-allowed":"pointer",color:ye},onMouseEnter:e=>e.currentTarget.style.background=xe,onMouseLeave:e=>e.currentTarget.style.background="transparent",children:e.jsx(G,{size:18})}),o&&e.jsxs("div",{style:{position:"absolute",right:0,top:"100%",marginTop:4,width:180,background:ue,border:`1px solid ${ge}`,borderRadius:10,boxShadow:"0 10px 25px rgba(0,0,0,0.3)",zIndex:10,overflow:"hidden"},children:[!t.is_default&&e.jsxs("button",{onClick:async()=>{r(!0),l(null);try{await b(t.id),null==n||n()}catch(e){l(e instanceof Error?e.message:"Failed to set default")}finally{r(!1),s(!1)}},disabled:i,style:{width:"100%",textAlign:"left",padding:"10px 14px",background:"transparent",border:"none",color:he,fontSize:13,cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:10},onMouseEnter:e=>e.currentTarget.style.background=xe,onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[e.jsx(D,{size:14}),"Set as Default"]}),e.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to remove this bank account?")){r(!0),l(null);try{await m(t.id),null==n||n()}catch(e){l(e instanceof Error?e.message:"Failed to delete account")}finally{r(!1),s(!1)}}},disabled:i,style:{width:"100%",textAlign:"left",padding:"10px 14px",background:"transparent",border:"none",color:be,fontSize:13,cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:10},onMouseEnter:e=>e.currentTarget.style.background=me,onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[e.jsx(A,{size:14}),"Remove Account"]})]})]})]}),a&&e.jsx("div",{style:{marginTop:12,padding:10,background:me,border:`1px solid ${be}40`,borderRadius:8,color:be,fontSize:13},children:a}),o&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:5},onClick:()=>s(!1)})]})},ve="#0f172a",we="#1e293b",ze="#334155",Ce="#334155",Ie="#f8fafc",Ae="#cbd5e1",Be="#94a3b8",Te="#10b981",Re="rgba(16,185,129,0.15)",We="#ef4444",Me="rgba(239,68,68,0.15)",Ee="#f59e0b",$e="rgba(245,158,11,0.15)",De="#3b82f6",_e="rgba(59,130,246,0.15)",Pe=({className:t=""})=>{const[n,i]=x.useState([]),[r,o]=x.useState(!0),[s,a]=x.useState(null),l=async()=>{o(!0),a(null);try{const e=await j();i(e.payouts)}catch(e){a(e instanceof Error?e.message:"Failed to load payouts")}finally{o(!1)}};x.useEffect(()=>{l()},[]);const d={pending:{icon:M,color:Ee,bgColor:$e,label:"Pending"},processing:{icon:M,color:De,bgColor:_e,label:"Processing"},completed:{icon:W,color:Te,bgColor:Re,label:"Completed"},failed:{icon:B,color:We,bgColor:Me,label:"Failed"}};return r?e.jsxs("div",{style:{background:ve,border:`1px solid ${Ce}`,borderRadius:12,padding:24},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"32px 0"},children:e.jsx(J,{size:24,style:{color:Be,animation:"spin 1s linear infinite"}})}),e.jsx("style",{children:"\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        "})]}):e.jsxs("div",{style:{background:ve,border:`1px solid ${Ce}`,borderRadius:12,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:16,borderBottom:`1px solid ${Ce}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,color:Ie,margin:0},children:"Payout History"}),e.jsx("button",{onClick:l,title:"Refresh",style:{padding:8,background:"transparent",border:"none",borderRadius:6,cursor:"pointer",color:Be},onMouseEnter:e=>e.currentTarget.style.background=ze,onMouseLeave:e=>e.currentTarget.style.background="transparent",children:e.jsx(J,{size:16})})]}),s&&e.jsx("div",{style:{padding:16,background:Me,color:We,fontSize:13},children:s}),0===n.length?e.jsxs("div",{style:{padding:32,textAlign:"center",color:Be},children:[e.jsx("p",{style:{margin:0,fontSize:14},children:"No payouts yet"}),e.jsx("p",{style:{margin:"8px 0 0",fontSize:13},children:"Payouts appear here when USDC is converted to USD"})]}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:we},children:[e.jsx("th",{style:{textAlign:"left",fontSize:11,fontWeight:600,color:Be,textTransform:"uppercase",padding:"12px 16px",letterSpacing:"0.5px"},children:"Date"}),e.jsx("th",{style:{textAlign:"left",fontSize:11,fontWeight:600,color:Be,textTransform:"uppercase",padding:"12px 16px",letterSpacing:"0.5px"},children:"USDC Amount"}),e.jsx("th",{style:{textAlign:"left",fontSize:11,fontWeight:600,color:Be,textTransform:"uppercase",padding:"12px 16px",letterSpacing:"0.5px"},children:"USD Deposited"}),e.jsx("th",{style:{textAlign:"left",fontSize:11,fontWeight:600,color:Be,textTransform:"uppercase",padding:"12px 16px",letterSpacing:"0.5px"},children:"Fee"}),e.jsx("th",{style:{textAlign:"left",fontSize:11,fontWeight:600,color:Be,textTransform:"uppercase",padding:"12px 16px",letterSpacing:"0.5px"},children:"Status"}),e.jsx("th",{style:{textAlign:"left",fontSize:11,fontWeight:600,color:Be,textTransform:"uppercase",padding:"12px 16px",letterSpacing:"0.5px"},children:"Transaction"})]})}),e.jsx("tbody",{children:n.map((t,n)=>{const i=d[t.status],r=i.icon;return e.jsxs("tr",{style:{borderTop:n>0?`1px solid ${Ce}`:void 0},onMouseEnter:e=>e.currentTarget.style.background=we,onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[e.jsx("td",{style:{padding:"12px 16px",fontSize:13,color:Ae},children:(o=t.initiated_at,new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.jsxs("td",{style:{padding:"12px 16px",fontSize:13,fontWeight:500,color:Ie},children:["$",Number(t.usdc_amount).toFixed(2)]}),e.jsxs("td",{style:{padding:"12px 16px",fontSize:13,fontWeight:600,color:Te},children:["$",Number(t.usd_amount).toFixed(2)]}),e.jsxs("td",{style:{padding:"12px 16px",fontSize:13,color:Be},children:["$",Number(t.fee_amount).toFixed(2)]}),e.jsx("td",{style:{padding:"12px 16px"},children:e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"4px 10px",background:i.bgColor,borderRadius:20},children:[e.jsx(r,{size:14,style:{color:i.color}}),e.jsx("span",{style:{fontSize:12,fontWeight:500,color:i.color},children:i.label})]})}),e.jsx("td",{style:{padding:"12px 16px"},children:t.source_tx_signature&&e.jsxs("a",{href:`https://solscan.io/tx/${t.source_tx_signature}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:4,fontSize:13,color:De,textDecoration:"none"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:["View",e.jsx($,{size:12})]})})]},t.id);var o})})]})})]})},Le=new t("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new t("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Ue=new t("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new t("So11111111111111111111111111111111111111112"),new t("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Fe=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var Ne,He={};var Ve=(Ne||(Ne=1,Object.defineProperty(He,"__esModule",{value:!0}),He.toBigIntLE=function(e){{const t=n.from(e);t.reverse();const i=t.toString("hex");return 0===i.length?BigInt(0):BigInt(`0x${i}`)}},He.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},He.toBufferLE=function(e,t){{const i=e.toString(16),r=n.from(i.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}},He.toBufferBE=function(e,t){{const i=e.toString(16);return n.from(i.padStart(2*t,"0").slice(0,2*t),"hex")}}),He);const Ye=(qe=8,e=>{const t=i.blob(qe,e),{encode:r,decode:o}=Fe(t),s=t;return s.decode=(e,t)=>{const i=o(e,t);return Ve.toBigIntLE(n.from(i))},s.encode=(e,t,n)=>{const i=Ve.toBufferLE(e,qe);return r(i,t,n)},s});var qe;const Oe=e=>{const n=i.blob(32,e),{encode:r,decode:o}=Fe(n),s=n;return s.decode=(e,n)=>{const i=o(e,n);return new t(i)},s.encode=(e,t,n)=>{const i=e.toBuffer();return r(i,t,n)},s};class Ge extends Error{constructor(e){super(e)}}class Xe extends Ge{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var Je,Ke;(Ke=Je||(Je={}))[Ke.InitializeMint=0]="InitializeMint",Ke[Ke.InitializeAccount=1]="InitializeAccount",Ke[Ke.InitializeMultisig=2]="InitializeMultisig",Ke[Ke.Transfer=3]="Transfer",Ke[Ke.Approve=4]="Approve",Ke[Ke.Revoke=5]="Revoke",Ke[Ke.SetAuthority=6]="SetAuthority",Ke[Ke.MintTo=7]="MintTo",Ke[Ke.Burn=8]="Burn",Ke[Ke.CloseAccount=9]="CloseAccount",Ke[Ke.FreezeAccount=10]="FreezeAccount",Ke[Ke.ThawAccount=11]="ThawAccount",Ke[Ke.TransferChecked=12]="TransferChecked",Ke[Ke.ApproveChecked=13]="ApproveChecked",Ke[Ke.MintToChecked=14]="MintToChecked",Ke[Ke.BurnChecked=15]="BurnChecked",Ke[Ke.InitializeAccount2=16]="InitializeAccount2",Ke[Ke.SyncNative=17]="SyncNative",Ke[Ke.InitializeAccount3=18]="InitializeAccount3",Ke[Ke.InitializeMultisig2=19]="InitializeMultisig2",Ke[Ke.InitializeMint2=20]="InitializeMint2",Ke[Ke.GetAccountDataSize=21]="GetAccountDataSize",Ke[Ke.InitializeImmutableOwner=22]="InitializeImmutableOwner",Ke[Ke.AmountToUiAmount=23]="AmountToUiAmount",Ke[Ke.UiAmountToAmount=24]="UiAmountToAmount",Ke[Ke.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",Ke[Ke.TransferFeeExtension=26]="TransferFeeExtension",Ke[Ke.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",Ke[Ke.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",Ke[Ke.Reallocate=29]="Reallocate",Ke[Ke.MemoTransferExtension=30]="MemoTransferExtension",Ke[Ke.CreateNativeMint=31]="CreateNativeMint",Ke[Ke.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",Ke[Ke.InterestBearingMintExtension=33]="InterestBearingMintExtension",Ke[Ke.CpiGuardExtension=34]="CpiGuardExtension",Ke[Ke.InitializePermanentDelegate=35]="InitializePermanentDelegate",Ke[Ke.TransferHookExtension=36]="TransferHookExtension",Ke[Ke.MetadataPointerExtension=39]="MetadataPointerExtension",Ke[Ke.GroupPointerExtension=40]="GroupPointerExtension",Ke[Ke.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",Ke[Ke.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",Ke[Ke.PausableExtension=44]="PausableExtension";async function Qe(e,n,i=!1,r=Le,o=Ue){if(!i&&!t.isOnCurve(n.toBuffer()))throw new Xe;const[s]=await t.findProgramAddress([n.toBuffer(),r.toBuffer(),e.toBuffer()],o);return s}function Ze(e,t,i,s,a=Le,l=Ue){return function(e,t,n,i,s,a=Le,l=Ue){const d=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new r({keys:d,programId:l,data:s})}(e,t,i,s,n.alloc(0),a,l)}i.struct([i.u32("mintAuthorityOption"),Oe("mintAuthority"),Ye("supply"),i.u8("decimals"),(e=>{const t=i.u8(e),{encode:n,decode:r}=Fe(t),o=t;return o.decode=(e,t)=>!!r(e,t),o.encode=(e,t,i)=>{const r=Number(e);return n(r,t,i)},o})("isInitialized"),i.u32("freezeAuthorityOption"),Oe("freezeAuthority")]).span;const et=i.struct([i.u8("instruction"),Ye("amount")]);function tt(e,i,o,s,a=[],l=Le){const d=function(e,n,i){if(i.length){e.push({pubkey:n,isSigner:!1,isWritable:!1});for(const n of i)e.push({pubkey:n instanceof t?n:n.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:n,isSigner:!0,isWritable:!1});return e}([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0}],o,a),c=n.alloc(et.span);return et.encode({instruction:Je.Transfer,amount:BigInt(s)},c),new r({keys:d,programId:l,data:c})}const nt="https://api.devnet.solana.com",it="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU";let rt=null,ot=null;function st(){return ot||(ot=new a(nt,"confirmed")),ot}async function at(){const e=await async function(){if(rt)return rt;const e={chainNamespace:d.SOLANA,chainId:"0x3",rpcTarget:nt,displayName:"Solana Devnet",blockExplorerUrl:"https://solscan.io/?cluster=devnet",ticker:"SOL",tickerName:"Solana"},t=new c({config:{chainConfig:e}});return rt=new p({clientId:"BKECVnfm_tGc5XfDSuwBycgrP0N1sPen30bFwzRxdZFvXSDYzSzJ7tCdYYS3xJ0t_6xU-Qy8Slcr5oBCtK3kNKs",chainConfig:e,privateKeyProvider:t,web3AuthNetwork:u.SAPPHIRE_DEVNET,uiConfig:{appName:"RenaissBlock",mode:"dark",loginMethodsOrder:["google","discord"],defaultLanguage:"en"}}),await rt.initModal(),rt}();if(e.connected&&e.provider)return e.provider;const t=await e.connect();if(!t)throw new Error("Failed to connect to Web3Auth");return t}async function lt(){const e=await at(),n=await e.request({method:"getAccounts"});if(!n||0===n.length)throw new Error("No accounts found");return new t(n[0])}async function dt(e){const i=await at(),r=st(),o=await i.request({method:"getAccounts"});if(!o||0===o.length)throw new Error("No accounts found");const s=new t(o[0]);if(e instanceof l){const{blockhash:t}=await r.getLatestBlockhash();e.recentBlockhash=t,e.feePayer=s}const a=e instanceof l?e.serialize({requireAllSignatures:!1}):e.serialize(),d=await i.request({method:"signTransaction",params:{message:n.from(a).toString("base64")}});if(!d)throw new Error("Failed to sign transaction");const c=await r.sendRawTransaction(new Uint8Array(d),{skipPreflight:!1,preflightCommitment:"confirmed"}),{blockhash:p,lastValidBlockHeight:u}=await r.getLatestBlockhash();return await r.confirmTransaction({signature:c,blockhash:p,lastValidBlockHeight:u}),c}async function ct(e){const n=st(),i=new t(e);return await n.getBalance(i)/s}async function pt(e){var n;const i=st(),r=new t(e),o=new t(it);try{const e=await Qe(o,r,!1,Le),t=await i.getTokenAccountBalance(e);return parseFloat(t.value.uiAmountString||"0")}catch(s){if(null==(n=s.message)?void 0:n.includes("could not find account"))return 0;throw s}}function ut(e){return`https://solscan.io/tx/${e}?cluster=devnet`}function xt(e){try{return new t(e),!0}catch{return!1}}async function gt(){try{const e=await fetch(`${E}/api/bridge/liquidation-addresses/`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch liquidation addresses");const t=await e.json(),n=t.results||t||[];return n.find(e=>e.is_primary)||n[0]||null}catch(e){return null}}async function ft(e,n,i){const r=st(),o=new t(it),s=new t(n),a=await Qe(o,e,!1,Le),d=await Qe(o,s,!0,Le),c=new l;await r.getAccountInfo(d)||c.add(Ze(e,d,s,o,Le,Ue));const p=BigInt(Math.floor(i*Math.pow(10,6)));return c.add(tt(a,d,e,p,[],Le)),c}const ht="#0f172a",yt="#1e293b",bt="#334155",mt="#0f172a",jt="#334155",St="#f8fafc",kt="#cbd5e1",vt="#94a3b8",wt="#f59e0b",zt="#10b981",Ct="rgba(16,185,129,0.15)",It="#ef4444",At="rgba(239,68,68,0.15)",Bt="rgba(245,158,11,0.15)",Tt=({walletAddress:t,onWithdrawComplete:n,className:i=""})=>{const[r,o]=x.useState(""),[s,a]=x.useState(null),[l,d]=x.useState(null),[c,p]=x.useState(!1),[u,g]=x.useState(!1),[f,h]=x.useState(null),[y,b]=x.useState(null);x.useEffect(()=>{m(),j()},[t]);const m=async()=>{if(t){g(!0);try{const e=await pt(t);a(e)}catch(e){}finally{g(!1)}}},j=async()=>{const e=await gt();d(e)};return e.jsxs("div",{className:i,style:{backgroundColor:yt,borderRadius:"12px",padding:"24px",border:`1px solid ${jt}`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:Bt,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Y,{size:20,color:wt})}),e.jsxs("div",{children:[e.jsx("h3",{style:{color:St,fontSize:"18px",fontWeight:600,margin:0},children:"Withdraw to Bank"}),e.jsx("p",{style:{color:vt,fontSize:"14px",margin:0},children:"Convert USDC to USD and deposit to your bank"})]})]}),e.jsxs("div",{style:{backgroundColor:ht,borderRadius:"8px",padding:"16px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(S,{size:18,color:vt}),e.jsx("span",{style:{color:kt,fontSize:"14px"},children:"Available Balance"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[u?e.jsx(_,{size:16,color:vt,className:"animate-spin"}):e.jsx("span",{style:{color:St,fontSize:"18px",fontWeight:600},children:null!==s?`${s.toFixed(2)} USDC`:"-- USDC"}),e.jsx("button",{onClick:m,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex"},title:"Refresh balance",children:e.jsx(J,{size:14,color:vt})})]})]}),(null==l?void 0:l.external_account)&&e.jsxs("div",{style:{backgroundColor:ht,borderRadius:"8px",padding:"12px 16px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(q,{size:18,color:vt}),e.jsxs("div",{children:[e.jsx("span",{style:{color:kt,fontSize:"14px"},children:l.external_account.bank_name}),e.jsxs("span",{style:{color:vt,fontSize:"14px",marginLeft:"8px"},children:["****",l.external_account.account_last_four]})]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",color:kt,fontSize:"14px",marginBottom:"8px"},children:"Amount (USDC)"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"text",value:r,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&(o(t),h(null),b(null))},placeholder:"0.00",disabled:c,style:{width:"100%",padding:"12px 70px 12px 16px",backgroundColor:mt,border:`1px solid ${f?It:jt}`,borderRadius:"8px",color:St,fontSize:"18px",outline:"none",boxSizing:"border-box"}}),e.jsx("button",{onClick:()=>{null!==s&&o(s.toString())},disabled:c||null===s,style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",backgroundColor:bt,color:wt,border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"MAX"})]}),e.jsx("p",{style:{color:vt,fontSize:"12px",marginTop:"4px"},children:"Minimum withdrawal: $10 USDC"})]}),f&&e.jsxs("div",{style:{backgroundColor:At,border:`1px solid ${It}`,borderRadius:"8px",padding:"12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(I,{size:18,color:It}),e.jsx("span",{style:{color:It,fontSize:"14px"},children:f})]}),y&&e.jsxs("div",{style:{backgroundColor:Ct,border:`1px solid ${zt}`,borderRadius:"8px",padding:"12px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(W,{size:18,color:zt}),e.jsx("span",{style:{color:zt,fontSize:"14px",fontWeight:600},children:"Withdrawal submitted!"})]}),e.jsx("p",{style:{color:kt,fontSize:"13px",margin:"0 0 8px 0"},children:"Your USDC has been sent to Bridge. It will be converted to USD and deposited to your bank within 1-2 business days."}),e.jsxs("a",{href:y.explorerLink,target:"_blank",rel:"noopener noreferrer",style:{color:wt,fontSize:"13px",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"4px"},children:["View transaction ",e.jsx($,{size:12})]})]}),e.jsx("button",{onClick:async()=>{const e=parseFloat(r);if(!r||isNaN(e)||e<=0)h("Please enter a valid amount");else if(e<10)h("Minimum withdrawal is $10 USDC");else if(null!==s&&e>s)h("Insufficient balance");else if(l){p(!0),h(null),b(null);try{const t=await async function(e){try{if(e<=0)return{success:!1,error:"Amount must be greater than 0"};const t=await gt();if(!t)return{success:!1,error:"No liquidation address found. Please complete Bridge setup first."};const n=await lt(),i=await pt(n.toString());if(i<e)return{success:!1,error:`Insufficient USDC balance. Available: ${i.toFixed(2)} USDC`};const r=await ft(n,t.address,e),o=await dt(r);return{success:!0,signature:o,explorerLink:ut(o)}}catch(f){return{success:!1,error:f.message||"Failed to send transaction"}}}(e);t.success&&t.signature?(b({signature:t.signature,explorerLink:t.explorerLink||ut(t.signature)}),o(""),m(),null==n||n()):h(t.error||"Withdrawal failed")}catch(t){h(t.message||"Failed to process withdrawal")}finally{p(!1)}}else h("No bank account linked. Please complete Bridge setup first.")},disabled:c||!r||!l,style:{width:"100%",padding:"14px",backgroundColor:c||!r?bt:wt,color:c||!r?vt:ht,border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:c||!r?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:c?e.jsxs(e.Fragment,{children:[e.jsx(_,{size:18,className:"animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{size:18}),"Withdraw to Bank"]})}),e.jsx("p",{style:{color:vt,fontSize:"12px",marginTop:"12px",textAlign:"center"},children:"Powered by Bridge.xyz. You'll be asked to authenticate with Web3Auth to sign the transaction."})]})},Rt="#0f172a",Wt="#1e293b",Mt="#334155",Et="#0f172a",$t="#334155",Dt="#f8fafc",_t="#cbd5e1",Pt="#94a3b8",Lt="#f59e0b",Ut="#10b981",Ft="rgba(16,185,129,0.15)",Nt="#ef4444",Ht="rgba(239,68,68,0.15)",Vt="#f59e0b",Yt="rgba(245,158,11,0.15)",qt="#3b82f6",Ot="rgba(59,130,246,0.15)",Gt=({walletAddress:n,onSendComplete:i,className:r=""})=>{const[o,s]=x.useState(""),[a,l]=x.useState(""),[d,c]=x.useState(null),[p,u]=x.useState(null),[g,f]=x.useState(!1),[h,y]=x.useState(!1),[b,m]=x.useState(null),[j,k]=x.useState(null),[v,w]=x.useState(null),[z,C]=x.useState(!1),[A,B]=x.useState(null);x.useEffect(()=>{R()},[n]),x.useEffect(()=>{o.length>=32?M(o):(w(null),C(!1),B(null))},[o]);const R=async()=>{if(n){y(!0);try{const[e,t]=await Promise.all([pt(n),ct(n)]);c(e),u(t)}catch(e){}finally{y(!1)}}},M=async e=>{const i=xt(e);if(w(i),i&&e!==n)try{const n=await async function(e){if(!xt(e))return!1;const n=st(),i=new t(it),r=new t(e),o=await Qe(i,r,!0,Le);return null===await n.getAccountInfo(o)}(e);C(n);const i=await async function(e,t=!1){const n=st();let i=0;t&&(i=await n.getMinimumBalanceForRentExemption(165));return(5e3+i)/1e9}(0,n);B(i)}catch(r){}};return e.jsxs("div",{className:r,style:{backgroundColor:Wt,borderRadius:"12px",padding:"24px",border:`1px solid ${$t}`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:Ot,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(L,{size:20,color:qt})}),e.jsxs("div",{children:[e.jsx("h3",{style:{color:Dt,fontSize:"18px",fontWeight:600,margin:0},children:"Send USDC"}),e.jsx("p",{style:{color:Pt,fontSize:"14px",margin:0},children:"Transfer USDC to any Solana wallet"})]})]}),e.jsxs("div",{style:{backgroundColor:Rt,borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(S,{size:16,color:Pt}),e.jsx("span",{style:{color:_t,fontSize:"14px"},children:"USDC Balance"})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:h?e.jsx(_,{size:14,color:Pt,className:"animate-spin"}):e.jsx("span",{style:{color:Dt,fontSize:"16px",fontWeight:600},children:null!==d?`${d.toFixed(2)} USDC`:"-- USDC"})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:Pt,fontSize:"12px"},children:"SOL (for fees)"}),e.jsx("span",{style:{color:Pt,fontSize:"12px"},children:null!==p?`${p.toFixed(4)} SOL`:"-- SOL"})]}),e.jsxs("button",{onClick:R,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",marginTop:"8px",display:"flex",alignItems:"center",gap:"4px",color:Pt,fontSize:"12px"},children:[e.jsx(J,{size:12})," Refresh"]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",color:_t,fontSize:"14px",marginBottom:"8px"},children:"Recipient Address"}),e.jsx("input",{type:"text",value:o,onChange:e=>{s(e.target.value.trim()),m(null),k(null)},placeholder:"Enter Solana wallet address",disabled:g,style:{width:"100%",padding:"12px 16px",backgroundColor:Et,border:`1px solid ${!1===v?Nt:!0===v?Ut:$t}`,borderRadius:"8px",color:Dt,fontSize:"14px",outline:"none",boxSizing:"border-box",fontFamily:"monospace"}}),!1===v&&e.jsx("p",{style:{color:Nt,fontSize:"12px",marginTop:"4px"},children:"Invalid Solana address"}),!0===v&&o&&e.jsxs("a",{href:(E=o,`https://solscan.io/account/${E}?cluster=devnet`),target:"_blank",rel:"noopener noreferrer",style:{color:Pt,fontSize:"12px",marginTop:"4px",display:"inline-flex",alignItems:"center",gap:"4px",textDecoration:"none"},children:["View on Solscan ",e.jsx($,{size:10})]})]}),z&&e.jsxs("div",{style:{backgroundColor:Yt,border:`1px solid ${Vt}`,borderRadius:"8px",padding:"12px",marginBottom:"16px",display:"flex",alignItems:"flex-start",gap:"8px"},children:[e.jsx(T,{size:16,color:Vt,style:{marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("span",{style:{color:Vt,fontSize:"13px"},children:"Recipient doesn't have a USDC account. One will be created automatically."}),null!==A&&e.jsxs("p",{style:{color:Pt,fontSize:"12px",margin:"4px 0 0 0"},children:["Estimated fee: ~",A.toFixed(5)," SOL"]})]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",color:_t,fontSize:"14px",marginBottom:"8px"},children:"Amount (USDC)"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"text",value:a,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&(l(t),m(null),k(null))},placeholder:"0.00",disabled:g,style:{width:"100%",padding:"12px 70px 12px 16px",backgroundColor:Et,border:`1px solid ${b?Nt:$t}`,borderRadius:"8px",color:Dt,fontSize:"18px",outline:"none",boxSizing:"border-box"}}),e.jsx("button",{onClick:()=>{null!==d&&l(d.toString())},disabled:g||null===d,style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",backgroundColor:Mt,color:Lt,border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"MAX"})]})]}),b&&e.jsxs("div",{style:{backgroundColor:Ht,border:`1px solid ${Nt}`,borderRadius:"8px",padding:"12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(I,{size:18,color:Nt}),e.jsx("span",{style:{color:Nt,fontSize:"14px"},children:b})]}),j&&e.jsxs("div",{style:{backgroundColor:Ft,border:`1px solid ${Ut}`,borderRadius:"8px",padding:"12px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(W,{size:18,color:Ut}),e.jsx("span",{style:{color:Ut,fontSize:"14px",fontWeight:600},children:"Transfer successful!"})]}),e.jsxs("a",{href:j.explorerLink,target:"_blank",rel:"noopener noreferrer",style:{color:Lt,fontSize:"13px",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"4px"},children:["View transaction ",e.jsx($,{size:12})]})]}),e.jsx("button",{onClick:async()=>{const e=parseFloat(a);if(o)if(xt(o))if(o!==n)if(!a||isNaN(e)||e<=0)m("Please enter a valid amount");else if(null!==d&&e>d)m("Insufficient USDC balance");else if(null!==p&&p<.01)m("Insufficient SOL for transaction fees. Need at least 0.01 SOL.");else{f(!0),m(null),k(null);try{const t=await async function(e,t){try{if(!xt(e))return{success:!1,error:"Invalid Solana address"};if(t<=0)return{success:!1,error:"Amount must be greater than 0"};const n=await lt();if(n.toString()===e)return{success:!1,error:"Cannot send to your own wallet"};const i=await pt(n.toString());if(i<t)return{success:!1,error:`Insufficient USDC balance. Available: ${i.toFixed(2)} USDC`};const r=await ft(n,e,t),o=await dt(r);return{success:!0,signature:o,explorerLink:ut(o)}}catch(b){return{success:!1,error:b.message||"Failed to send transaction"}}}(o,e);t.success&&t.signature?(k({signature:t.signature,explorerLink:t.explorerLink||ut(t.signature)}),l(""),s(""),R(),null==i||i()):m(t.error||"Transfer failed")}catch(t){m(t.message||"Failed to send transaction")}finally{f(!1)}}else m("Cannot send to your own wallet");else m("Invalid Solana address");else m("Please enter a recipient address")},disabled:g||!a||!o||!1===v,style:{width:"100%",padding:"14px",backgroundColor:!g&&a&&o?qt:Mt,color:!g&&a&&o?Dt:Pt,border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:!g&&a&&o?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:g?e.jsxs(e.Fragment,{children:[e.jsx(_,{size:18,className:"animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:18}),"Send USDC"]})}),e.jsx("p",{style:{color:Pt,fontSize:"12px",marginTop:"12px",textAlign:"center"},children:"You'll be asked to authenticate with Web3Auth to sign the transaction."})]});var E},Xt="#0f172a",Jt="#1e293b",Kt="#334155",Qt="#334155",Zt="#475569",en="#f8fafc",tn="#cbd5e1",nn="#94a3b8",rn="#f59e0b",on="#fbbf24",sn="#10b981",an="rgba(16,185,129,0.1)",ln="#ef4444",dn="rgba(239,68,68,0.1)",cn="rgba(245,158,11,0.1)",pn="#3b82f6",un="rgba(59,130,246,0.1)",xn=()=>{const[t,n]=x.useState(null),[i,r]=x.useState([]),[o,s]=x.useState(null),[a,l]=x.useState(!0),[d,c]=x.useState(null),[p,u]=x.useState(!1),[f,h]=x.useState(!1),[y,b]=x.useState("withdraw"),m=async()=>{l(!0),c(null);try{const[e,t,i]=await Promise.all([v(),w().catch(()=>({accounts:[]})),fetch(`${E}/api/profile/`,{credentials:"include"}).then(e=>e.ok?e.json():null).catch(()=>null)]);n(e),r(t.accounts||[]),(null==i?void 0:i.wallet_address)&&s(i.wallet_address)}catch(e){c(e instanceof Error?e.message:"Failed to load payout settings")}finally{l(!1)}};x.useEffect(()=>{m()},[]);const j=async()=>{u(!0);try{await z(),await m()}catch(e){c(e instanceof Error?e.message:"Failed to link bank account")}finally{u(!1)}},A=(()=>{let e=0;return"approved"===(null==t?void 0:t.kyc_status)&&e++,i.length>0&&e++,(null==t?void 0:t.has_liquidation_address)&&e++,{completed:e,total:3,percentage:Math.round(e/3*100)}})();return a?e.jsxs("div",{style:{minHeight:"100vh",background:Xt,display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(J,{size:40,style:{color:rn,animation:"spin 1s linear infinite",marginBottom:16}}),e.jsx("div",{style:{color:nn,fontSize:14},children:"Loading payout settings..."})]}),e.jsx("style",{children:"\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        "})]}):e.jsx("div",{style:{minHeight:"100vh",background:Xt,padding:"24px 16px 48px"},children:e.jsxs("div",{style:{maxWidth:900,margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:32},children:[e.jsxs(g,{to:"/profile",style:{display:"inline-flex",alignItems:"center",gap:8,color:nn,textDecoration:"none",fontSize:14,marginBottom:16,transition:"color 0.2s"},onMouseEnter:e=>e.currentTarget.style.color=en,onMouseLeave:e=>e.currentTarget.style.color=nn,children:[e.jsx(U,{size:16}),"Back to Profile"]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:16},children:[e.jsxs("div",{children:[e.jsxs("h1",{style:{color:en,fontSize:28,fontWeight:700,margin:0,display:"flex",alignItems:"center",gap:12},children:[e.jsx(q,{size:32,style:{color:rn}}),"Payout Settings"]}),e.jsx("p",{style:{color:nn,marginTop:8,fontSize:15},children:"Configure how you receive your earnings from sales"})]}),e.jsxs("div",{style:{background:Jt,border:`1px solid ${Qt}`,borderRadius:12,padding:"16px 20px",minWidth:200},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{style:{color:tn,fontSize:13},children:"Setup Progress"}),e.jsxs("span",{style:{color:100===A.percentage?sn:rn,fontSize:14,fontWeight:600},children:[A.completed,"/",A.total]})]}),e.jsx("div",{style:{height:6,background:Kt,borderRadius:3,overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${A.percentage}%`,background:100===A.percentage?`linear-gradient(90deg, ${sn}, #34d399)`:`linear-gradient(90deg, ${rn}, ${on})`,borderRadius:3,transition:"width 0.3s ease"}})})]})]})]}),d&&e.jsxs("div",{style:{background:dn,border:`1px solid ${ln}`,borderRadius:12,padding:16,marginBottom:24,display:"flex",alignItems:"center",gap:12},children:[e.jsx(I,{size:20,style:{color:ln,flexShrink:0}}),e.jsx("span",{style:{color:ln,flex:1,fontSize:14},children:d}),e.jsx("button",{onClick:()=>c(null),style:{background:"transparent",border:"none",color:ln,cursor:"pointer",padding:4,fontSize:18,lineHeight:1},children:"×"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[e.jsxs("section",{style:{background:Jt,border:`1px solid ${Qt}`,borderRadius:16,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"20px 24px",borderBottom:`1px solid ${Qt}`,display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"approved"===(null==t?void 0:t.kyc_status)?an:`${rn}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(F,{size:20,style:{color:"approved"===(null==t?void 0:t.kyc_status)?sn:rn}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h2",{style:{color:en,fontSize:16,fontWeight:600,margin:0},children:"Step 1: Identity Verification"}),e.jsx("p",{style:{color:nn,fontSize:13,margin:"4px 0 0"},children:"Verify your identity to enable payouts"})]}),"approved"===(null==t?void 0:t.kyc_status)&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:sn,fontSize:13,fontWeight:600},children:[e.jsx(N,{size:16}),"Verified"]})]}),e.jsx("div",{style:{padding:24},children:e.jsx(ce,{status:(null==t?void 0:t.kyc_status)||null,hasCustomer:(null==t?void 0:t.has_bridge_customer)||!1,onStatusChange:m})})]}),e.jsxs("section",{style:{background:Jt,border:`1px solid ${Qt}`,borderRadius:16,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"20px 24px",borderBottom:`1px solid ${Qt}`,display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:i.length>0?an:`${rn}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(k,{size:20,style:{color:i.length>0?sn:rn}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h2",{style:{color:en,fontSize:16,fontWeight:600,margin:0},children:"Step 2: Bank Accounts"}),e.jsx("p",{style:{color:nn,fontSize:13,margin:"4px 0 0"},children:"Link your bank account for direct deposits"})]}),"approved"===(null==t?void 0:t.kyc_status)&&e.jsxs("button",{onClick:j,disabled:p,style:{display:"flex",alignItems:"center",gap:6,padding:"8px 16px",background:rn,color:"#000",border:"none",borderRadius:8,fontSize:13,fontWeight:600,cursor:p?"not-allowed":"pointer",opacity:p?.6:1,transition:"all 0.2s"},children:[e.jsx(H,{size:16}),p?"Linking...":"Link Account"]})]}),e.jsx("div",{style:{padding:24},children:"approved"!==(null==t?void 0:t.kyc_status)?e.jsxs("div",{style:{background:Kt,borderRadius:12,padding:32,textAlign:"center"},children:[e.jsx(M,{size:32,style:{color:nn,marginBottom:12}}),e.jsx("p",{style:{color:nn,margin:0,fontSize:14},children:"Complete identity verification first to link bank accounts"})]}):0===i.length?e.jsxs("div",{style:{background:`linear-gradient(135deg, ${Xt} 0%, ${Kt} 100%)`,border:`1px dashed ${Zt}`,borderRadius:12,padding:32,textAlign:"center"},children:[e.jsx(V,{size:40,style:{color:nn,marginBottom:16}}),e.jsx("p",{style:{color:tn,margin:"0 0 16px",fontSize:15},children:"No bank accounts linked yet"}),e.jsx("p",{style:{color:nn,margin:"0 0 20px",fontSize:13},children:"Link a bank account to receive direct deposits from your sales"}),e.jsxs("button",{onClick:j,disabled:p,style:{display:"inline-flex",alignItems:"center",gap:8,padding:"12px 24px",background:rn,color:"#000",border:"none",borderRadius:10,fontSize:14,fontWeight:600,cursor:p?"not-allowed":"pointer",opacity:p?.6:1},children:[e.jsx(H,{size:18}),p?"Linking...":"Link Your First Bank Account"]})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:i.map(t=>e.jsx(ke,{account:t,onUpdate:m},t.id))})})]}),"approved"===(null==t?void 0:t.kyc_status)&&i.length>0&&e.jsxs("section",{style:{background:Jt,border:`1px solid ${Qt}`,borderRadius:16,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"20px 24px",borderBottom:`1px solid ${Qt}`,display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:(null==t?void 0:t.has_liquidation_address)?an:`${rn}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(S,{size:20,style:{color:(null==t?void 0:t.has_liquidation_address)?sn:rn}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h2",{style:{color:en,fontSize:16,fontWeight:600,margin:0},children:"Step 3: Payout Address"}),e.jsx("p",{style:{color:nn,fontSize:13,margin:"4px 0 0"},children:"Enable automatic USDC to USD conversion"})]}),(null==t?void 0:t.has_liquidation_address)&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,color:sn,fontSize:13,fontWeight:600},children:[e.jsx(N,{size:16}),"Active"]})]}),e.jsx("div",{style:{padding:24},children:(null==t?void 0:t.has_liquidation_address)?e.jsxs("div",{style:{background:an,border:`1px solid ${sn}40`,borderRadius:12,padding:20,display:"flex",alignItems:"flex-start",gap:16},children:[e.jsx(N,{size:24,style:{color:sn,flexShrink:0,marginTop:2}}),e.jsxs("div",{children:[e.jsx("div",{style:{color:sn,fontWeight:600,fontSize:15,marginBottom:4},children:"Payout Address Active"}),e.jsx("p",{style:{color:tn,margin:0,fontSize:13,lineHeight:1.5},children:"Your payout address is set up and ready to receive USDC. Funds will automatically convert to USD and deposit to your bank account."})]})]}):e.jsxs("div",{style:{background:`linear-gradient(135deg, ${Xt} 0%, ${Kt} 100%)`,border:`1px dashed ${Zt}`,borderRadius:12,padding:32,textAlign:"center"},children:[e.jsx(K,{size:40,style:{color:rn,marginBottom:16}}),e.jsx("p",{style:{color:tn,margin:"0 0 12px",fontSize:15},children:"Create a payout address for automatic conversions"}),e.jsx("p",{style:{color:nn,margin:"0 0 20px",fontSize:13,maxWidth:400,marginLeft:"auto",marginRight:"auto"},children:"Once created, earnings sent to this address will automatically convert to USD and deposit to your bank account"}),e.jsx("button",{onClick:async()=>{const e=i.find(e=>e.is_default)||i[0];if(e){h(!0);try{await C(e.id),await m()}catch(t){c(t instanceof Error?t.message:"Failed to create payout address")}finally{h(!1)}}else c("Please link a bank account first")},disabled:f,style:{display:"inline-flex",alignItems:"center",gap:8,padding:"12px 24px",background:sn,color:"#fff",border:"none",borderRadius:10,fontSize:14,fontWeight:600,cursor:f?"not-allowed":"pointer",opacity:f?.6:1},children:f?e.jsxs(e.Fragment,{children:[e.jsx(J,{size:16,style:{animation:"spin 1s linear infinite"}}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{size:18}),"Create Payout Address"]})})]})})]}),o&&e.jsxs("section",{style:{background:Jt,border:`1px solid ${Qt}`,borderRadius:16,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"20px 24px",borderBottom:`1px solid ${Qt}`,display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:`${rn}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(L,{size:20,style:{color:rn}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h2",{style:{color:en,fontSize:16,fontWeight:600,margin:0},children:"Transfer USDC"}),e.jsx("p",{style:{color:nn,fontSize:13,margin:"4px 0 0"},children:"Withdraw to bank or send to external wallet"})]})]}),e.jsxs("div",{style:{display:"flex",borderBottom:`1px solid ${Qt}`,padding:"0 24px"},children:[e.jsxs("button",{onClick:()=>b("withdraw"),style:{padding:"12px 20px",background:"none",border:"none",color:"withdraw"===y?rn:nn,fontSize:14,fontWeight:600,cursor:"pointer",borderBottom:"withdraw"===y?`2px solid ${rn}`:"2px solid transparent",marginBottom:-1,display:"flex",alignItems:"center",gap:8},children:[e.jsx(Y,{size:16}),"Withdraw to Bank"]}),e.jsxs("button",{onClick:()=>b("send"),style:{padding:"12px 20px",background:"none",border:"none",color:"send"===y?pn:nn,fontSize:14,fontWeight:600,cursor:"pointer",borderBottom:"send"===y?`2px solid ${pn}`:"2px solid transparent",marginBottom:-1,display:"flex",alignItems:"center",gap:8},children:[e.jsx(L,{size:16}),"Send to Wallet"]})]}),e.jsx("div",{style:{padding:24},children:"withdraw"===y?(null==t?void 0:t.is_fully_setup)?e.jsx(Tt,{walletAddress:o,onWithdrawComplete:m}):e.jsxs("div",{style:{background:Kt,borderRadius:12,padding:32,textAlign:"center"},children:[e.jsx(q,{size:40,style:{color:nn,marginBottom:16}}),e.jsx("p",{style:{color:tn,margin:"0 0 8px",fontSize:15},children:"Complete Bridge Setup First"}),e.jsx("p",{style:{color:nn,margin:0,fontSize:13},children:"Finish identity verification, link a bank account, and create a payout address to enable withdrawals."})]}):e.jsx(Gt,{walletAddress:o,onSendComplete:m})})]}),!o&&e.jsxs("section",{style:{background:cn,border:`1px solid ${rn}40`,borderRadius:16,padding:24,display:"flex",alignItems:"flex-start",gap:16},children:[e.jsx(S,{size:24,style:{color:rn,flexShrink:0}}),e.jsxs("div",{children:[e.jsx("h3",{style:{color:en,fontSize:16,fontWeight:600,margin:"0 0 8px"},children:"Wallet Not Connected"}),e.jsxs("p",{style:{color:tn,margin:0,fontSize:14},children:["You need to connect a Web3Auth wallet to transfer USDC. Go to your"," ",e.jsx(g,{to:"/profile",style:{color:rn},children:"Profile"})," to set up your wallet."]})]})]}),(null==t?void 0:t.is_fully_setup)&&e.jsxs("section",{style:{background:Jt,border:`1px solid ${Qt}`,borderRadius:16,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"20px 24px",borderBottom:`1px solid ${Qt}`,display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:`${rn}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(X,{size:20,style:{color:rn}})}),e.jsxs("div",{children:[e.jsx("h2",{style:{color:en,fontSize:16,fontWeight:600,margin:0},children:"Payout History"}),e.jsx("p",{style:{color:nn,fontSize:13,margin:"4px 0 0"},children:"View your past payouts and transactions"})]})]}),e.jsx("div",{style:{padding:24},children:e.jsx(Pe,{})})]}),e.jsx("section",{style:{background:`linear-gradient(135deg, ${un} 0%, rgba(59,130,246,0.05) 100%)`,border:`1px solid ${pn}30`,borderRadius:16,padding:24},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:16},children:[e.jsx("div",{style:{width:44,height:44,borderRadius:12,background:un,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(P,{size:22,style:{color:pn}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{color:en,fontSize:16,fontWeight:600,margin:"0 0 12px"},children:"How Direct Bank Deposits Work"}),e.jsx("div",{style:{display:"grid",gap:10},children:[{num:1,text:"Complete identity verification (KYC) - usually takes a few minutes"},{num:2,text:"Link your bank account securely via Plaid or manual entry"},{num:3,text:"Create a payout address to enable USDC to USD conversion"},{num:4,text:"Transfer USDC from your wallet to withdraw to bank or send externally"},{num:5,text:"Withdrawals convert to USD and deposit within 1-2 business days"}].map(({num:t,text:n})=>e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[e.jsx("div",{style:{width:24,height:24,borderRadius:6,background:pn,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,flexShrink:0},children:t}),e.jsx("span",{style:{color:tn,fontSize:14,lineHeight:1.5},children:n})]},t))}),e.jsx("p",{style:{color:nn,fontSize:12,margin:"16px 0 0",paddingTop:12,borderTop:`1px solid ${pn}20`},children:"Powered by Bridge.xyz. Funds typically arrive within 1-2 business days."})]})]})})]})]})})};export{xn as PayoutSettingsPage,xn as default};
//# sourceMappingURL=PayoutSettingsPage-tEjRPwVd.js.map
