# Railway configuration for Django backend

[build]
builder = "nixpacks"
buildCommand = "pip install -r requirements.txt && cd /app && python -c \"import sys; print('Python path:', sys.path); import django.contrib.admin; print('Admin module:', django.contrib.admin.__file__)\" && DJANGO_SETTINGS_MODULE=renaissBlock.settings python manage.py collectstatic --noinput --verbosity 3 && ls -la /app/staticfiles/ || echo 'No staticfiles dir'"

[deploy]
startCommand = "bash start.sh"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10
