# Railway configuration for Django backend

[build]
builder = "nixpacks"
buildCommand = "pip install -r requirements.txt && cd /app && mkdir -p staticfiles && cp -r /opt/venv/lib/python3.13/site-packages/django/contrib/admin/static/admin staticfiles/ && cp -r /opt/venv/lib/python3.13/site-packages/rest_framework/static/rest_framework staticfiles/ 2>/dev/null || true && ls -la staticfiles/"

[deploy]
startCommand = "bash start.sh"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10
